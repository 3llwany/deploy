"use strict";(self.webpackChunkmozakretyNew=self.webpackChunkmozakretyNew||[]).push([[276],{4276:function(Jr,Le,x){x.r(Le),x.d(Le,{ExamsModule:function(){return Yr}});var z=x(3144),$=x(5671),S=x(9808),h=x(3075),W=x(4330),Ie=x(1069),e=x(1891),H=x(8555),ge=x(2290),G=x(6405),de=x(6256),ee=x(2340),ke=x(520),De=function(){var n=function(){function l(i){(0,$.Z)(this,l),this.http=i}return(0,z.Z)(l,[{key:"getTemplates",value:function(t,a,o){return this.http.post("".concat(ee.N.apiURL,"Admin/getTemplates/").concat(t,"/").concat(a),o)}},{key:"getTemplateById",value:function(t){return this.http.get("".concat(ee.N.apiURL,"template/returnTemplateById/").concat(t))}},{key:"deleteTemplate",value:function(t){return this.http.get("".concat(ee.N.apiURL,"template/deleteTemplateById/").concat(t))}},{key:"PublishDepublishTemplate",value:function(t){return this.http.post("".concat(ee.N.apiURL,"template/PublishDepublishTemplate/").concat(t),null)}},{key:"getPresets",value:function(t){return this.http.get("".concat(ee.N.apiURL,"template/returnPresetsByEduCompId/").concat(t))}},{key:"addUpdateTemplate",value:function(t){return this.http.post(ee.N.apiURL+"template/addtemplate",t)}},{key:"addTemplateDetails",value:function(t){return this.http.post(ee.N.apiURL+"AJAX/addTemplateDetail",t)}},{key:"getQuestionDetails",value:function(t){return this.http.get("".concat(ee.N.apiURL,"AJAX/returnTemplateDetails/").concat(t))}},{key:"DeleteDetails",value:function(t){return this.http.get("".concat(ee.N.apiURL,"template/deleteTemplateDetailById/").concat(t))}},{key:"getTemplatePoints",value:function(t,a){return this.http.get("".concat(ee.N.apiURL,"template/returnCustomPointTemplateByTemplateId/").concat(t,"/").concat(a))}},{key:"addTemplatePoint",value:function(t){return this.http.post(ee.N.apiURL+"template/CustomTemplatePoint",t)}},{key:"deleteTemplatePoint",value:function(t){return this.http.delete("".concat(ee.N.apiURL,"template/DeleteCustomTemplatePoint/").concat(t))}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.LFG(ke.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),fe=x(3938),J=x(8966),Ze=x(5086),ye=x(6471),Q=x(9224),X=x(7423),F=x(7322),Ce=x(4107),Te=x(508),se=x(7531),Ae=x(6856),me=x(9814),Qe=x(9772),Ee=x(5245),Ne=x(9966),Oe=x(226),ae=x(1195);function Me(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.AddTemplate")," "))}function Ge(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.AsE(" ",e.lcZ(2,2,"labels.UpdateTemplate")," - ",i.templateName," ")}}function Re(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Id),e.xp6(1),e.hij(" ",i.Name," ")}}function Pe(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.teacherUserId),e.xp6(1),e.hij(" ",i.teacher_ar_name," ")}}function He(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function Be(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,He,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.teacherUserIdCtrl||null==i.FormCtrl.teacherUserIdCtrl.errors?null:i.FormCtrl.teacherUserIdCtrl.errors.required)}}function ze(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function $e(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function We(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,$e,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.stageId||null==i.FormCtrl.stageId.errors?null:i.FormCtrl.stageId.errors.required)}}function Xe(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text_Ar," ")}}function Ke(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function et(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Ke,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.yearId.errors?null:i.FormCtrl.yearId.errors.required)}}function tt(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function nt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function it(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,nt,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.subjectId||null==i.FormCtrl.subjectId.errors?null:i.FormCtrl.subjectId.errors.required)}}function at(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function lt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ot(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,lt,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.UnitRevisionID||null==i.FormCtrl.UnitRevisionID.errors?null:i.FormCtrl.UnitRevisionID.errors.required)}}function rt(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function st(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ut(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,st,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.LessonID||null==i.FormCtrl.LessonID.errors?null:i.FormCtrl.LessonID.errors.required)}}function dt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function mt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function ct(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,dt,3,3,"span",2),e.YNc(2,mt,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.Name||null==i.FormCtrl.Name.errors?null:i.FormCtrl.Name.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.Name||null==i.FormCtrl.Name.errors?null:i.FormCtrl.Name.errors.whiteSpace)}}function pt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ht(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function _t(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,pt,3,3,"span",2),e.YNc(2,ht,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.exam_hour||null==i.FormCtrl.exam_hour.errors?null:i.FormCtrl.exam_hour.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.exam_hour||null==i.FormCtrl.exam_hour.errors?null:i.FormCtrl.exam_hour.errors.minusNum)}}function gt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ft(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function vt(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,gt,3,3,"span",2),e.YNc(2,ft,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.exam_minute||null==i.FormCtrl.exam_minute.errors?null:i.FormCtrl.exam_minute.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.exam_minute||null==i.FormCtrl.exam_minute.errors?null:i.FormCtrl.exam_minute.errors.minusNum)}}function Zt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Ct(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Tt(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Zt,3,3,"span",2),e.YNc(2,Ct,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.price||null==i.FormCtrl.price.errors?null:i.FormCtrl.price.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.price||null==i.price.errors?null:i.price.errors.minusNum)}}function It(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function At(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function bt(n,l){if(1&n&&(e.TgZ(0,"mat-hint",50),e.YNc(1,It,3,3,"span",2),e.YNc(2,At,3,3,"span",2),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.repeatableExam_Count||null==i.FormCtrl.repeatableExam_Count.errors?null:i.FormCtrl.repeatableExam_Count.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.repeatableExam_Count||null==i.FormCtrl.repeatableExam_Count.errors?null:i.FormCtrl.repeatableExam_Count.errors.bigZero)}}function xt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function qt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function yt(n,l){if(1&n&&(e.TgZ(0,"mat-hint",50),e.YNc(1,xt,3,3,"span",2),e.YNc(2,qt,3,3,"span",2),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.StudentRepeatExamCost||null==i.FormCtrl.StudentRepeatExamCost.errors?null:i.FormCtrl.StudentRepeatExamCost.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.FormCtrl.StudentRepeatExamCost||null==i.FormCtrl.StudentRepeatExamCost.errors?null:i.FormCtrl.StudentRepeatExamCost.errors.minusNum)}}function Qt(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e.TgZ(2,"mat-form-field",7),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",47),e.YNc(7,bt,3,2,"mat-hint",48),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"mat-form-field",7),e.TgZ(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",49),e.YNc(14,yt,3,2,"mat-hint",48),e.qZA(),e.qZA(),e.BQk()),2&n){var i=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,"labels.repeatNumbers")),e.xp6(3),e.Q6J("ngIf",(null==i.FormCtrl.repeatableExam_Count?null:i.FormCtrl.repeatableExam_Count.invalid)&&((null==i.FormCtrl.repeatableExam_Count?null:i.FormCtrl.repeatableExam_Count.touched)||i.submitted)),e.xp6(4),e.Oqu(e.lcZ(12,6,"labels.repeatingPrice")),e.xp6(3),e.Q6J("ngIf",(null==i.FormCtrl.StudentRepeatExamCost?null:i.FormCtrl.StudentRepeatExamCost.invalid)&&((null==i.FormCtrl.StudentRepeatExamCost?null:i.FormCtrl.StudentRepeatExamCost.touched)||i.submitted))}}function Ut(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){return e.CHM(i),e.oxw().addUpdateTemplate()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function Et(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){return e.CHM(i),e.oxw().addUpdateTemplate()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Update")," "))}function Nt(n,l){1&n&&(e.TgZ(0,"span",50),e._uU(1," You must enter a value. "),e.qZA())}function wt(n,l){1&n&&(e.TgZ(0,"span",50),e._uU(1," You must enter a correct value. "),e.qZA())}function Ft(n,l){if(1&n&&(e.TgZ(0,"mat-hint",60),e.YNc(1,Nt,2,0,"span",48),e.YNc(2,wt,2,0,"span",48),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.DetailsCtrl.questionsCount.errors?null:i.DetailsCtrl.questionsCount.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.DetailsCtrl.questionsCount.errors?null:i.DetailsCtrl.questionsCount.errors.bigZero)}}function Lt(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Id),e.xp6(1),e.hij(" ",i.level_ar_name," ")}}function kt(n,l){1&n&&(e.TgZ(0,"span",50),e._uU(1," You must enter a value. "),e.qZA())}function Dt(n,l){1&n&&(e.TgZ(0,"span",50),e._uU(1," You must enter a correct value. "),e.qZA())}function jt(n,l){if(1&n&&(e.TgZ(0,"mat-hint",60),e.YNc(1,kt,2,0,"span",48),e.YNc(2,Dt,2,0,"span",48),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.DetailsCtrl.mark.errors?null:i.DetailsCtrl.mark.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.DetailsCtrl.mark.errors?null:i.DetailsCtrl.mark.errors.minusNum)}}function St(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function Vt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Yt(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Vt,3,3,"span",2),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.DetailsCtrl.unitRevisionID||null==i.DetailsCtrl.unitRevisionID.errors?null:i.DetailsCtrl.unitRevisionID.errors.required)}}function Jt(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function Ot(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Mt(n,l){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Ot,3,3,"span",2),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.DetailsCtrl.LessonID||null==i.DetailsCtrl.LessonID.errors?null:i.DetailsCtrl.LessonID.errors.required)}}function Gt(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function Rt(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).addTemplateDetails()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function Pt(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-card"),e.TgZ(3,"mat-card-title"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"mat-card-content",4),e.TgZ(8,"div",0),e.TgZ(9,"div",1),e.TgZ(10,"form",5),e.TgZ(11,"div",0),e.TgZ(12,"div",52),e.TgZ(13,"mat-form-field",7),e.TgZ(14,"mat-label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",53),e.YNc(18,Ft,3,2,"mat-hint",54),e.qZA(),e.qZA(),e.TgZ(19,"div",52),e.TgZ(20,"mat-form-field",7),e.TgZ(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"mat-select",55),e.TgZ(25,"mat-option"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,Lt,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",6),e.TgZ(30,"mat-form-field",7),e.TgZ(31,"mat-label"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",56),e.YNc(35,jt,3,2,"mat-hint",54),e.qZA(),e.qZA(),e.TgZ(36,"div",52),e.TgZ(37,"mat-form-field",7),e.TgZ(38,"mat-label"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"mat-select",57),e.NdJ("selectionChange",function(){e.CHM(i);var o=e.oxw();return o.GetLessonsForDetails(null==o.DetailsCtrl.unitRevisionID?null:o.DetailsCtrl.unitRevisionID.value)}),e.TgZ(42,"mat-option",9),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.YNc(45,St,2,2,"mat-option",10),e.qZA(),e.YNc(46,Yt,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(47,"div",52),e.TgZ(48,"mat-form-field",7),e.TgZ(49,"mat-label"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"mat-select",58),e.NdJ("selectionChange",function(){e.CHM(i);var o=e.oxw();return o.GetTopicsForDetails(null==o.DetailsCtrl.lessonID?null:o.DetailsCtrl.lessonID.value)}),e.TgZ(53,"mat-option",9),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.YNc(56,Jt,2,2,"mat-option",10),e.qZA(),e.YNc(57,Mt,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(58,"div",52),e.TgZ(59,"mat-form-field",7),e.TgZ(60,"mat-label"),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"mat-select",59),e.TgZ(64,"mat-option",9),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.YNc(67,Gt,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"mat-card-actions",43),e.YNc(69,Rt,3,3,"button",44),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,21,"labels.QuestionData")," "),e.xp6(5),e.Q6J("formGroup",t.DetailForm),e.xp6(5),e.hij(" ",e.lcZ(16,23,"labels.questionsCount")," "),e.xp6(3),e.Q6J("ngIf",t.DetailsCtrl.questionsCount.invalid&&(t.DetailsCtrl.questionsCount.touched||t.DetailSubmitted)),e.xp6(4),e.Oqu(e.lcZ(23,25,"labels.Level")),e.xp6(4),e.hij(" ",e.lcZ(27,27,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.DifficultyLevel),e.xp6(4),e.hij(" ",e.lcZ(33,29,"labels.QuestionMark")," "),e.xp6(3),e.Q6J("ngIf",t.DetailsCtrl.mark.invalid&&(t.DetailsCtrl.mark.touched||t.DetailSubmitted)),e.xp6(4),e.Oqu(e.lcZ(40,31,"labels.Unit")),e.xp6(4),e.hij(" ",e.lcZ(44,33,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.unitsForDetails),e.xp6(1),e.Q6J("ngIf",(null==t.DetailsCtrl.unitRevisionID?null:t.DetailsCtrl.unitRevisionID.invalid)&&((null==t.DetailsCtrl.unitRevisionID?null:t.DetailsCtrl.unitRevisionID.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(51,35,"labels.Lesson")),e.xp6(4),e.hij(" ",e.lcZ(55,37,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.lessonsForDetails),e.xp6(1),e.Q6J("ngIf",(null==t.DetailsCtrl.LessonID?null:t.DetailsCtrl.LessonID.invalid)&&((null==t.DetailsCtrl.LessonID?null:t.DetailsCtrl.LessonID.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(62,39,"labels.Topic")),e.xp6(4),e.hij(" ",e.lcZ(66,41,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.topicsForDetails),e.xp6(2),e.Q6J("ngIf",null!=t.FormCtrl.Id.value)}}function Ht(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0635\u0639\u0628"),e.qZA())}function Bt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0645\u062a\u0648\u0633\u0637"),e.qZA())}function zt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0643\u0644\u0645\u0627\u062a"),e.qZA())}function $t(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0642\u0637\u0639"),e.qZA())}function Wt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1," \u0643\u0644\u0645\u0627\u062a \u0634\u062f\u0627\u062f\u064a\u0629 "),e.qZA())}function Xt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0634\u062f\u0627\u062f\u064a\u0629 \u0635\u0639\u0628 2024 "),e.qZA())}function Kt(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u062a\u0631\u0642\u064a\u0629 \u0633\u0647\u0644 1 "),e.qZA())}function en(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u062a\u0631\u0642\u064a\u0629 \u0633\u0647\u0644 2 "),e.qZA())}function tn(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u062a\u0631\u0642\u064a\u0629 \u0633\u0647\u0644 3"),e.qZA())}function nn(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u062a\u0631\u0642\u064a\u0629 \u0643\u0644\u0645\u0627\u062a"),e.qZA())}function an(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.YNc(8,Ht,2,0,"span",2),e.YNc(9,Bt,2,0,"span",2),e.YNc(10,zt,2,0,"span",2),e.YNc(11,$t,2,0,"span",2),e.YNc(12,Wt,2,0,"span",2),e.YNc(13,Xt,2,0,"span",2),e.YNc(14,Kt,2,0,"span",2),e.YNc(15,en,2,0,"span",2),e.YNc(16,tn,2,0,"span",2),e.YNc(17,nn,2,0,"span",2),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e.TgZ(26,"td",64),e.TgZ(27,"button",65),e.NdJ("click",function(){var s=e.CHM(i).$implicit;return e.oxw(2).openDeleateDialog(s)}),e.TgZ(28,"mat-icon"),e._uU(29,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=l.$implicit,a=l.index;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.Oqu(null==t?null:t.questionsCount),e.xp6(2),e.Oqu(null==t?null:t.mark),e.xp6(2),e.Q6J("ngIf",1==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",2==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",3==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",4==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",6==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",15==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",20==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",21==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",22==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",23==(null==t?null:t.questionsLevel)),e.xp6(2),e.Oqu(null==t?null:t.SubjectName),e.xp6(2),e.Oqu(null==t?null:t.UnitName),e.xp6(2),e.Oqu(null==t?null:t.LessonName),e.xp6(2),e.Oqu(null==t?null:t.TopicName)}}function ln(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"div",66),e.TgZ(1,"pagination-controls",67),e.NdJ("pageChange",function(o){return e.CHM(i),e.oxw(2).p=o}),e.qZA(),e.qZA()}if(2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("maxSize",t.maxSize)}}var on=function(l,i){return{itemsPerPage:5,currentPage:l,totalItems:i}};function rn(n,l){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-card"),e.TgZ(3,"mat-card-title"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"mat-card-content",4),e.TgZ(8,"div",0),e.TgZ(9,"div",1),e.TgZ(10,"table",61),e.TgZ(11,"thead"),e.TgZ(12,"tr"),e.TgZ(13,"th"),e._uU(14,"#"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"\xad"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"tbody"),e.YNc(39,an,30,17,"tr",62),e.ALo(40,"paginate"),e.qZA(),e.qZA(),e.YNc(41,ln,2,1,"div",63),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){var i=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,11,"labels.Questions")," "),e.xp6(11),e.Oqu(e.lcZ(17,13,"labels.questionsCount")),e.xp6(3),e.Oqu(e.lcZ(20,15,"labels.QuestionMark")),e.xp6(3),e.Oqu(e.lcZ(23,17,"labels.Level")),e.xp6(3),e.Oqu(e.lcZ(26,19,"labels.Subject")),e.xp6(3),e.Oqu(e.lcZ(29,21,"labels.Unit")),e.xp6(3),e.Oqu(e.lcZ(32,23,"labels.Lesson")),e.xp6(3),e.Oqu(e.lcZ(35,25,"labels.Topic")),e.xp6(5),e.Q6J("ngForOf",e.xi3(40,27,i.QuestionDetails,e.WLB(30,on,i.p,i.QuestionDetails.length)))("ngForTrackBy",i.track),e.xp6(2),e.Q6J("ngIf",i.QuestionDetails.length>5)}}var sn=function(l){return{functionId:l}},un=function(){var n=function(){function l(i,t,a,o,r,s,u,d,m,p){var c=this;(0,$.Z)(this,l),this.fb=i,this.route=t,this.toastr=a,this.spinner=o,this.authserv=r,this.TemplatesService=s,this.examsService=u,this.dialog=d,this.GeneralService=m,this.EducationalService=p,this.p=1,this.maxSize=9,this.Teachers=[],this.QuestionDetails=[],this.Presets=[],this.stages=[],this.years=[],this.subjects=[],this.units=[],this.lessons=[],this.topics=[],this.submitted=!1,this.DetailSubmitted=!1,this.templateId=null,t.queryParamMap.subscribe(function(_){c.templateId=_.get("templateId"),c.functionId=Number(_.get("functionId")),c.templateId&&(c.getTemplateById(),c.getQuestionDetails(c.templateId)),c.functionId&&c.authserv.getUserRowFunctions(c.functionId).subscribe(function(C){C&&(c.rowFunctions=C)})})}return(0,z.Z)(l,[{key:"ngOnInit",value:function(){this.getDifficultyLevel(),this.myForm=this.fb.group({EduCompId:[this.EduCompId],Id:[this.templateId],presetTemplateId:[""],teacherUserId:["",h.kI.required],yearId:["",h.kI.required],stageId:["",h.kI.required],subjectId:["",h.kI.required],UnitRevisionID:[""],LessonID:[""],topicId:[""],Name:["",[h.kI.required,W.D.whiteSpace]],price:["",[h.kI.required,W.D.minusNum]],exam_minute:["",[h.kI.required,W.D.minusNum]],exam_hour:["",[h.kI.required,W.D.minusNum]],priceDiscount:[""],Avilable_Date_From:[""],priceDiscountType:[0],Avilable_Date_To:[""],fromHour:[""],toHour:[""],ResultDate:[""],ResultTime:[""],Individually_Purchased:[!1],repeatableExam:[!1],repeatableExam_Count:[!1],SendWhatsApp:[!1],CustomDiscountApplied:[!1],StudentRepeatExamCost:[""],Publish:[!1]}),this.DetailForm=this.fb.group({templateId:[this.templateId,h.kI.required],questionsLevel:["",h.kI.required],mark:["",[h.kI.required,W.D.minusNum]],questionsCount:["",[h.kI.required,W.D.bigZero]],unitRevisionID:[""],lessonID:[""],TopicID:[""]}),null!=this.templateId||(this.FormCtrl.stageId.disable(),this.FormCtrl.yearId.disable(),this.FormCtrl.subjectId.disable(),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable(),this.DetailsCtrl.questionsCount.disable(),this.DetailsCtrl.unitRevisionID.disable(),this.DetailsCtrl.lessonID.disable(),this.DetailsCtrl.TopicID.disable(),this.DetailsCtrl.mark.disable()),this.EduCompId=this.authserv.getEduCompId(),this.branchId=this.authserv.getBranchId(),this.getTeachersByEducompId(this.EduCompId),this.getPresets(),this.FormCtrl.EduCompId.setValue(this.EduCompId),this.repeatableExamValidators()}},{key:"FormCtrl",get:function(){return this.myForm.controls}},{key:"DetailsCtrl",get:function(){return this.DetailForm.controls}},{key:"ngAfterViewInit",value:function(){var t=this;this.authserv.EduCompId.subscribe(function(a){t.EduCompId=a.EduCompId}),this.authserv.branchId.subscribe(function(a){t.branchId=a.branchId})}},{key:"addUpdateTemplate",value:function(){var t=this;this.submitted=!0;var a=this.myForm.valid;console.log(this.myForm.value),a&&(this.spinner.show(),this.TemplatesService.addUpdateTemplate({presetTemplateId:this.FormCtrl.presetTemplateId.value,template:this.myForm.value}).subscribe(function(o){console.log("createTemplate",o),o.returnValue&&(t.DetailsCtrl.templateId.setValue(o.returnValue),t.FormCtrl.Id.setValue(o.returnValue),t.getQuestionDetails(o.returnValue),t.submitted=!1,t.DetailsCtrl.questionsCount.enable(),t.DetailsCtrl.unitRevisionID.enable(),t.DetailsCtrl.lessonID.enable(),t.DetailsCtrl.TopicID.enable(),t.DetailsCtrl.mark.enable(),t.toastr.success("Done")),t.spinner.hide()}))}},{key:"getTemplateById",value:function(){var t=this;this.spinner.show(),this.TemplatesService.getTemplateById(this.templateId).subscribe(function(a){t.getStageByTeacherId(a.teacherUserId),t.FormCtrl.teacherUserId.setValue(a.teacherUserId),t.returnYears(a.stage_id),t.returnTeacherSubjects(a.educational_year_id),t.GetUnits(a.subjectId),t.GetLessons(a.UnitRevisionID),t.GetTopics(a.LessonID),t.myForm.patchValue(a),t.myForm.patchValue(a),t.FormCtrl.stageId.setValue(String(a.stage_id)),t.FormCtrl.yearId.setValue(String(a.educational_year_id)),t.FormCtrl.subjectId.setValue(String(a.subjectId)),t.FormCtrl.UnitRevisionID.setValue(String(a.UnitRevisionID)),t.FormCtrl.LessonID.setValue(String(a.LessonID)),t.templateName=a.Name;var o=a.exam_period_minute%60,r=(a.exam_period_minute-o)/60;t.FormCtrl.exam_minute.setValue(o),t.FormCtrl.exam_hour.setValue(r),t.FormCtrl.fromHour.setValue(a.fromHour),t.FormCtrl.toHour.setValue(a.toHour),t.GetUnitsForDetails(),t.spinner.hide()})}},{key:"addTemplateDetails",value:function(){var t=this;this.DetailSubmitted=!0,this.DetailForm.valid&&(this.spinner.show(),this.TemplatesService.addTemplateDetails(this.DetailForm.value).subscribe(function(o){1==o.returnValue?(t.DetailSubmitted=!1,t.getQuestionDetails(t.DetailsCtrl.templateId.value),t.DetailsCtrl.questionsCount.reset(),t.DetailsCtrl.unitRevisionID.setValue(""),t.DetailsCtrl.lessonID.setValue(""),t.DetailsCtrl.TopicID.setValue(""),t.DetailsCtrl.mark.reset(),t.toastr.success("Questiopn added")):t.toastr.error(o.returnString),t.spinner.hide()}))}},{key:"getQuestionDetails",value:function(t){var a=this;this.spinner.show(),this.TemplatesService.getQuestionDetails(t).subscribe(function(o){a.QuestionDetails=o,a.spinner.hide()})}},{key:"getPresets",value:function(){var t=this;this.spinner.show(),this.TemplatesService.getPresets(this.EduCompId).subscribe(function(a){t.Presets=a,t.spinner.hide()})}},{key:"getDifficultyLevel",value:function(){var t=this;this.examsService.getDifficultyLevel().subscribe(function(a){t.DifficultyLevel=a})}},{key:"DeleteDetails",value:function(t){var a=this;this.spinner.show(),this.TemplatesService.DeleteDetails(t.Id).subscribe(function(o){if(o.Id==t.Id){var r=a.QuestionDetails.findIndex(function(s){return s==t});a.QuestionDetails.splice(r,1),a.toastr.success(" Deleted")}a.spinner.hide()})}},{key:"openDeleateDialog",value:function(t){var a=this;this.dialog.open(Ie.F,{data:{msg:""}}).afterClosed().subscribe(function(o){o&&a.DeleteDetails(t)})}},{key:"getTeachersByEducompId",value:function(t){var a=this;this.GeneralService.getTeachersByEducompId(t).subscribe(function(o){a.Teachers=o.lstTeachers})}},{key:"getStageByTeacherId",value:function(t){var a=this;this.FormCtrl.stageId.setValue(""),this.FormCtrl.yearId.setValue(""),this.FormCtrl.subjectId.setValue(""),this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.getStageByTeacherId(t).subscribe(function(o){a.stages=o,a.FormCtrl.stageId.enable()}):(this.FormCtrl.stageId.setValue(""),this.FormCtrl.stageId.disable(),this.FormCtrl.yearId.disable(),this.FormCtrl.subjectId.disable(),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"returnYears",value:function(t){var a=this;this.FormCtrl.yearId.setValue(""),this.FormCtrl.subjectId.setValue(""),this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.returnYears(t).subscribe(function(o){a.years=o,a.FormCtrl.yearId.enable()}):(this.FormCtrl.yearId.setValue(""),this.FormCtrl.yearId.disable(),this.FormCtrl.subjectId.disable(),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"returnTeacherSubjects",value:function(t){var a=this;this.FormCtrl.subjectId.setValue(""),this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.returnTeacherSubjects({yearId:t,teacherUserId:this.FormCtrl.teacherUserId.value}).subscribe(function(r){a.subjects=r,a.FormCtrl.subjectId.enable()}):(this.FormCtrl.subjectId.setValue(""),this.FormCtrl.subjectId.disable(),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"GetUnits",value:function(t){var a=this;this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetUnits(t).subscribe(function(o){a.units=o,a.FormCtrl.UnitRevisionID.enable()}):(this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"GetLessons",value:function(t){var a=this;this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetLessons(t).subscribe(function(o){a.lessons=o,a.FormCtrl.LessonID.enable()}):(this.FormCtrl.LessonID.setValue(""),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"GetTopics",value:function(t){var a=this;this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetTopics(t).subscribe(function(o){a.topics=o,a.FormCtrl.topicId.enable()}):(this.FormCtrl.topicId.setValue(""),this.FormCtrl.topicId.disable())}},{key:"GetUnitsForDetails",value:function(){var a,o,t=this;this.DetailsCtrl.unitRevisionID.setValue(""),this.DetailsCtrl.lessonID.setValue(""),this.DetailsCtrl.TopicID.setValue(""),(null===(a=this.FormCtrl.subjectId)||void 0===a?void 0:a.value)?this.EducationalService.GetUnits(null===(o=this.FormCtrl.subjectId)||void 0===o?void 0:o.value).subscribe(function(r){t.unitsForDetails=r,t.DetailsCtrl.unitRevisionID.enable()}):(this.DetailsCtrl.unitRevisionID.setValue(""),this.DetailsCtrl.UnitRevisionID.disable(),this.DetailsCtrl.lessonID.disable(),this.DetailsCtrl.TopicID.disable())}},{key:"GetLessonsForDetails",value:function(t){var a=this;this.DetailsCtrl.lessonID.setValue(""),this.DetailsCtrl.TopicID.setValue(""),""!=t?this.EducationalService.GetLessons(t).subscribe(function(o){a.lessonsForDetails=o,a.DetailsCtrl.lessonID.enable()}):(this.DetailsCtrl.lessonID.setValue(""),this.DetailsCtrl.lessonID.disable(),this.DetailsCtrl.TopicID.disable())}},{key:"GetTopicsForDetails",value:function(t){var a=this;this.DetailsCtrl.TopicID.setValue(""),""!=t?this.EducationalService.GetTopics(t).subscribe(function(o){a.topicsForDetails=o,a.DetailsCtrl.TopicID.enable()}):(this.DetailsCtrl.TopicID.setValue(""),this.DetailsCtrl.TopicID.disable())}},{key:"resetManual",value:function(){this.myForm.controls.teacherUserId.setValue(""),this.myForm.controls.yearId.setValue(""),this.myForm.controls.stageId.setValue(""),this.myForm.controls.subjectId.setValue(""),this.myForm.controls.UnitRevisionID.setValue(""),this.myForm.controls.lessonId.setValue(""),this.myForm.controls.topicId.setValue("")}},{key:"track",value:function(t,a){return a.Id}},{key:"repeatableExamValidators",value:function(){1==this.FormCtrl.repeatableExam.value?(this.FormCtrl.repeatableExam_Count.setValidators([h.kI.required,W.D.minusNum]),this.FormCtrl.StudentRepeatExamCost.setValidators([h.kI.required,W.D.minusNum])):(this.FormCtrl.repeatableExam_Count.clearValidators(),this.FormCtrl.repeatableExam_Count.reset(),this.FormCtrl.StudentRepeatExamCost.clearValidators(),this.FormCtrl.StudentRepeatExamCost.reset()),this.FormCtrl.repeatableExam_Count.updateValueAndValidity(),this.FormCtrl.StudentRepeatExamCost.updateValueAndValidity()}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(h.qu),e.Y36(H.gz),e.Y36(ge._W),e.Y36(G.t2),e.Y36(de.e),e.Y36(De),e.Y36(fe.R),e.Y36(J.uw),e.Y36(Ze.m),e.Y36(ye.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-template"]],decls:240,vars:159,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],["mat-raised-button","","routerLink","../",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-3","col-12"],["appearance","legacy"],["formControlName","presetTemplateId"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","teacherUserId",3,"selectionChange"],["class","danger",4,"ngIf"],["formControlName","stageId",3,"selectionChange"],["formControlName","yearId",3,"selectionChange"],["formControlName","subjectId",3,"selectionChange"],["formControlName","UnitRevisionID",3,"selectionChange"],["formControlName","LessonID"],["matInput","","formControlName","Name"],[1,"col-md-2","col-12"],["matInput","","type","number","formControlName","exam_hour"],["matInput","","type","number","formControlName","exam_minute"],["matInput","","type","number","formControlName","price"],["matInput","","type","number","formControlName","priceDiscount"],["formControlName","priceDiscountType"],["value","1"],["value","2"],["matInput","","formControlName","Avilable_Date_From",3,"matDatepicker"],["matSuffix","",3,"for"],["fromDate",""],["matInput","","formControlName","Avilable_Date_To",3,"matDatepicker"],["toDate",""],["matInput","","type","time","formControlName","fromHour"],["matInput","","type","time","formControlName","toHour"],["matInput","","formControlName","ResultDate",3,"matDatepicker"],["resualtDate",""],["matInput","","type","time","formControlName","ResultTime"],["formControlName","Individually_Purchased",1,"row"],[3,"value"],["formControlName","repeatableExam",1,"row"],[3,"value","change"],["formControlName","SendWhatsApp",1,"row"],["formControlName","CustomDiscountApplied",1,"row"],["align","end"],["mat-raised-button","","class","btn btn-primary",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"danger"],["matInput","","type","number","formControlName","repeatableExam_Count"],["class","text-danger",4,"ngIf"],["matInput","","type","number","formControlName","StudentRepeatExamCost"],[1,"text-danger"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],[1,"col-md-4","col-12"],["matInput","","type","number","formControlName","questionsCount"],["class","rtl has-error pull-right",4,"ngIf"],["formControlName","questionsLevel"],["matInput","","type","number","formControlName","mark"],["formControlName","unitRevisionID",3,"selectionChange"],["formControlName","lessonID",3,"selectionChange"],["formControlName","TopicID"],[1,"rtl","has-error","pull-right"],[1,"table","table-striped","table-hover","table-full-width","rtl"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","paginator-box",4,"ngIf"],[1,"text-center"],["mat-mini-fab","","color","warn","matTooltip","delete questions",3,"click"],[1,"paginator-box"],["dir","ltr","previousLabel","","nextLabel","",3,"maxSize","pageChange"]],template:function(i,t){if(1&i&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e.YNc(5,Me,3,3,"span",2),e.YNc(6,Ge,3,4,"span",2),e.TgZ(7,"a",3),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.TgZ(10,"mat-card-content",4),e.TgZ(11,"div",0),e.TgZ(12,"div",1),e.TgZ(13,"form",5),e.TgZ(14,"div",0),e.TgZ(15,"div",6),e.TgZ(16,"mat-form-field",7),e.TgZ(17,"mat-label"),e._uU(18,"Preset"),e.qZA(),e.TgZ(19,"mat-select",8),e.TgZ(20,"mat-option",9),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.YNc(23,Re,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",6),e.TgZ(25,"mat-form-field",7),e.TgZ(26,"mat-label"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"mat-select",11),e.NdJ("selectionChange",function(){return t.getStageByTeacherId(t.FormCtrl.teacherUserId.value)}),e.TgZ(30,"mat-option"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.YNc(33,Pe,2,2,"mat-option",10),e.qZA(),e.YNc(34,Be,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(35,"div",6),e.TgZ(36,"mat-form-field",7),e.TgZ(37,"mat-label"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"mat-select",13),e.NdJ("selectionChange",function(){return t.returnYears(null==t.FormCtrl.stageId?null:t.FormCtrl.stageId.value)}),e.TgZ(41,"mat-option",9),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.YNc(44,ze,2,2,"mat-option",10),e.qZA(),e.YNc(45,We,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(46,"div",6),e.TgZ(47,"mat-form-field",7),e.TgZ(48,"mat-label"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"mat-select",14),e.NdJ("selectionChange",function(){return t.returnTeacherSubjects(null==t.FormCtrl.yearId?null:t.FormCtrl.yearId.value)}),e.TgZ(52,"mat-option",9),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.YNc(55,Xe,2,2,"mat-option",10),e.qZA(),e.YNc(56,et,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(57,"div",6),e.TgZ(58,"mat-form-field",7),e.TgZ(59,"mat-label"),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"mat-select",15),e.NdJ("selectionChange",function(){return t.GetUnits(null==t.FormCtrl.subjectId?null:t.FormCtrl.subjectId.value),t.GetUnitsForDetails()}),e.TgZ(63,"mat-option",9),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.YNc(66,tt,2,2,"mat-option",10),e.qZA(),e.YNc(67,it,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(68,"div",6),e.TgZ(69,"mat-form-field",7),e.TgZ(70,"mat-label"),e._uU(71),e.ALo(72,"translate"),e.qZA(),e.TgZ(73,"mat-select",16),e.NdJ("selectionChange",function(){return t.GetLessons(null==t.FormCtrl.UnitRevisionID?null:t.FormCtrl.UnitRevisionID.value)}),e.TgZ(74,"mat-option",9),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.YNc(77,at,2,2,"mat-option",10),e.qZA(),e.YNc(78,ot,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(79,"div",6),e.TgZ(80,"mat-form-field",7),e.TgZ(81,"mat-label"),e._uU(82),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"mat-select",17),e.TgZ(85,"mat-option",9),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.YNc(88,rt,2,2,"mat-option",10),e.qZA(),e.YNc(89,ut,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(90,"div",6),e.TgZ(91,"mat-form-field",7),e.TgZ(92,"mat-label"),e._uU(93),e.ALo(94,"translate"),e.qZA(),e._UZ(95,"input",18),e.YNc(96,ct,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(97,"div",19),e.TgZ(98,"mat-form-field",7),e.TgZ(99,"mat-label"),e._uU(100),e.ALo(101,"translate"),e.qZA(),e._UZ(102,"input",20),e.YNc(103,_t,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(104,"div",19),e.TgZ(105,"mat-form-field",7),e.TgZ(106,"mat-label"),e._uU(107),e.ALo(108,"translate"),e.qZA(),e._UZ(109,"input",21),e.YNc(110,vt,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(111,"div",19),e.TgZ(112,"mat-form-field",7),e.TgZ(113,"mat-label"),e._uU(114),e.ALo(115,"translate"),e.qZA(),e._UZ(116,"input",22),e.YNc(117,Tt,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(118,"div",6),e.TgZ(119,"mat-form-field",7),e.TgZ(120,"mat-label"),e._uU(121),e.ALo(122,"translate"),e.qZA(),e._UZ(123,"input",23),e.qZA(),e.qZA(),e.TgZ(124,"div",6),e.TgZ(125,"mat-form-field",7),e.TgZ(126,"mat-label"),e._uU(127),e.ALo(128,"translate"),e.qZA(),e.TgZ(129,"mat-select",24),e.TgZ(130,"mat-option",9),e._uU(131),e.ALo(132,"translate"),e.qZA(),e.TgZ(133,"mat-option",25),e._uU(134,"\u0639\u0627\u0645"),e.qZA(),e.TgZ(135,"mat-option",26),e._uU(136,"\u062e\u0627\u0635"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(137,"div",6),e.TgZ(138,"mat-form-field",7),e.TgZ(139,"mat-label"),e._uU(140),e.ALo(141,"translate"),e.qZA(),e._UZ(142,"input",27),e._UZ(143,"mat-datepicker-toggle",28),e._UZ(144,"mat-datepicker",null,29),e.qZA(),e.qZA(),e.TgZ(146,"div",6),e.TgZ(147,"mat-form-field",7),e.TgZ(148,"mat-label"),e._uU(149),e.ALo(150,"translate"),e.qZA(),e._UZ(151,"input",30),e._UZ(152,"mat-datepicker-toggle",28),e._UZ(153,"mat-datepicker",null,31),e.qZA(),e.qZA(),e.TgZ(155,"div",6),e.TgZ(156,"mat-form-field",7),e.TgZ(157,"mat-label"),e._uU(158),e.ALo(159,"translate"),e.qZA(),e._UZ(160,"input",32),e.qZA(),e.qZA(),e.TgZ(161,"div",6),e.TgZ(162,"mat-form-field",7),e.TgZ(163,"mat-label"),e._uU(164),e.ALo(165,"translate"),e.qZA(),e._UZ(166,"input",33),e.qZA(),e.qZA(),e.TgZ(167,"div",6),e.TgZ(168,"mat-form-field",7),e.TgZ(169,"mat-label"),e._uU(170),e.ALo(171,"translate"),e.qZA(),e._UZ(172,"input",34),e._UZ(173,"mat-datepicker-toggle",28),e._UZ(174,"mat-datepicker",null,35),e.qZA(),e.qZA(),e.TgZ(176,"div",6),e.TgZ(177,"mat-form-field",7),e.TgZ(178,"mat-label"),e._uU(179),e.ALo(180,"translate"),e.qZA(),e._UZ(181,"input",36),e.qZA(),e.qZA(),e.TgZ(182,"div",6),e.TgZ(183,"mat-label"),e._uU(184),e.ALo(185,"translate"),e.qZA(),e.TgZ(186,"mat-radio-group",37),e.TgZ(187,"div",6),e.TgZ(188,"mat-radio-button",38),e._uU(189),e.ALo(190,"translate"),e.qZA(),e.qZA(),e.TgZ(191,"div",6),e.TgZ(192,"mat-radio-button",38),e._uU(193),e.ALo(194,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(195,"div",6),e.TgZ(196,"mat-label"),e._uU(197),e.ALo(198,"translate"),e.qZA(),e.TgZ(199,"mat-radio-group",39),e.TgZ(200,"div",6),e.TgZ(201,"mat-radio-button",40),e.NdJ("change",function(){return t.repeatableExamValidators()}),e._uU(202),e.ALo(203,"translate"),e.qZA(),e.qZA(),e.TgZ(204,"div",6),e.TgZ(205,"mat-radio-button",40),e.NdJ("change",function(){return t.repeatableExamValidators()}),e._uU(206),e.ALo(207,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(208,"div",6),e.TgZ(209,"mat-label"),e._uU(210),e.ALo(211,"translate"),e.qZA(),e.TgZ(212,"mat-radio-group",41),e.TgZ(213,"div",6),e.TgZ(214,"mat-radio-button",38),e._uU(215),e.ALo(216,"translate"),e.qZA(),e.qZA(),e.TgZ(217,"div",6),e.TgZ(218,"mat-radio-button",38),e._uU(219),e.ALo(220,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(221,"div",6),e.TgZ(222,"mat-label"),e._uU(223),e.ALo(224,"translate"),e.qZA(),e.TgZ(225,"mat-radio-group",42),e.TgZ(226,"div",6),e.TgZ(227,"mat-radio-button",38),e._uU(228),e.ALo(229,"translate"),e.qZA(),e.qZA(),e.TgZ(230,"div",6),e.TgZ(231,"mat-radio-button",38),e._uU(232),e.ALo(233,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(234,Qt,15,8,"ng-container",2),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(235,"mat-card-actions",43),e.YNc(236,Ut,3,3,"button",44),e.YNc(237,Et,3,3,"button",44),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(238,Pt,70,43,"div",45),e.YNc(239,rn,42,33,"div",45)),2&i){var a=e.MAs(145),o=e.MAs(154),r=e.MAs(175);e.xp6(5),e.Q6J("ngIf",null==t.FormCtrl.Id.value),e.xp6(1),e.Q6J("ngIf",null!=t.FormCtrl.Id.value),e.xp6(1),e.Q6J("queryParams",e.VKq(157,sn,t.functionId)),e.xp6(1),e.hij(" ",e.lcZ(9,79,"General.Back")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(8),e.hij(" ",e.lcZ(22,81,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.Presets),e.xp6(4),e.Oqu(e.lcZ(28,83,"Material.Teacher")),e.xp6(4),e.hij(" ",e.lcZ(32,85,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.Teachers),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.teacherUserIdCtrl?null:t.FormCtrl.teacherUserIdCtrl.invalid)&&((null==t.FormCtrl.teacherUserIdCtrl?null:t.FormCtrl.teacherUserIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(39,87,"Navbar.EducationalStage")),e.xp6(4),e.hij(" ",e.lcZ(43,89,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.stages),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.stageId?null:t.FormCtrl.stageId.invalid)&&((null==t.FormCtrl.stageId?null:t.FormCtrl.stageId.touched)||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(50,91,"labels.EducationalYear")," "),e.xp6(4),e.hij(" ",e.lcZ(54,93,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.years),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.yearId?null:t.FormCtrl.yearId.invalid)&&((null==t.FormCtrl.yearId?null:t.FormCtrl.yearId.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(61,95,"Material.Subjects")),e.xp6(4),e.hij(" ",e.lcZ(65,97,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.subjectId?null:t.FormCtrl.subjectId.invalid)&&((null==t.FormCtrl.subjectId?null:t.FormCtrl.subjectId.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(72,99,"labels.Unit")),e.xp6(4),e.hij(" ",e.lcZ(76,101,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.UnitRevisionID?null:t.FormCtrl.UnitRevisionID.invalid)&&((null==t.FormCtrl.UnitRevisionID?null:t.FormCtrl.UnitRevisionID.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(83,103,"labels.Lesson")),e.xp6(4),e.hij(" ",e.lcZ(87,105,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.lessons),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.LessonID?null:t.FormCtrl.LessonID.invalid)&&((null==t.FormCtrl.LessonID?null:t.FormCtrl.LessonID.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(94,107,"labels.TemplateName")),e.xp6(3),e.Q6J("ngIf",(null==t.FormCtrl.Name?null:t.FormCtrl.Name.invalid)&&((null==t.FormCtrl.Name?null:t.FormCtrl.Name.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(101,109,"labels.ExamHours")),e.xp6(3),e.Q6J("ngIf",(null==t.FormCtrl.exam_hour?null:t.FormCtrl.exam_hour.invalid)&&((null==t.FormCtrl.exam_hour?null:t.FormCtrl.exam_hour.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(108,111,"labels.ExamMinute")),e.xp6(3),e.Q6J("ngIf",(null==t.FormCtrl.exam_minute?null:t.FormCtrl.exam_minute.invalid)&&((null==t.FormCtrl.exam_minute?null:t.FormCtrl.exam_minute.touched)||t.submitted)),e.xp6(4),e.hij("",e.lcZ(115,113,"labels.ExamPrice")," "),e.xp6(3),e.Q6J("ngIf",(null==t.FormCtrl.price?null:t.FormCtrl.price.invalid)&&((null==t.FormCtrl.price?null:t.FormCtrl.price.touched)||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(122,115,"labels.Discount")," "),e.xp6(6),e.hij(" ",e.lcZ(128,117,"labels.DiscountType")," "),e.xp6(4),e.hij("",e.lcZ(132,119,"General.Choose")," "),e.xp6(9),e.hij(" ",e.lcZ(141,121,"labels.FromDate"),""),e.xp6(2),e.Q6J("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(6),e.hij(" ",e.lcZ(150,123,"labels.ToDate"),""),e.xp6(2),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Oqu(e.lcZ(159,125,"labels.FromTime")),e.xp6(6),e.Oqu(e.lcZ(165,127,"labels.ToTime")),e.xp6(6),e.hij(" ",e.lcZ(171,129,"labels.ExamResultDate"),""),e.xp6(2),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(6),e.hij(" ",e.lcZ(180,131,"labels.examResultTime")," "),e.xp6(5),e.hij(" ",e.lcZ(185,133,"labels.SellExamOnly")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(190,135,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(194,137,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(198,139,"labels.RepeatedExam")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(203,141,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(207,143,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(211,145,"Navbar.SendWhatsappMsg")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(216,147,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(220,149,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(224,151,"labels.CustomDiscount")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(229,153,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(233,155,"labels.Yes")," "),e.xp6(2),e.Q6J("ngIf",1==(null==t.FormCtrl.repeatableExam?null:t.FormCtrl.repeatableExam.value)),e.xp6(2),e.Q6J("ngIf",null==t.FormCtrl.Id.value),e.xp6(1),e.Q6J("ngIf",null!=t.FormCtrl.Id.value),e.xp6(1),e.Q6J("ngIf",null!=t.FormCtrl.Id.value),e.xp6(1),e.Q6J("ngIf",null!=t.FormCtrl.Id.value)}},directives:[G.Ro,Q.a8,Q.n5,S.O5,X.zs,H.yS,Q.dn,h._Y,h.JL,h.sg,F.KE,F.hX,Ce.gD,h.JJ,h.u,Te.ey,S.sg,se.Nt,h.Fj,h.wV,Ae.hl,Ae.nW,F.R9,Ae.Mq,me.VQ,me.U0,Q.hq,F.bx,X.lW,Qe.gM,Ee.Hw,Ne.LS,Oe.Lv],pipes:[ae.X$,Ne._s],styles:[""]}),n}(),Ue=x(7762);function dn(n,l){if(1&n&&(e.TgZ(0,"p",2),e.TgZ(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.qZA()),2&n){var i=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"labels.Unit"),": "),e.xp6(3),e.hij(" ",i.data.unitName," ")}}function mn(n,l){if(1&n&&(e.TgZ(0,"p",2),e.TgZ(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.qZA()),2&n){var i=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"labels.Lesson"),": "),e.xp6(3),e.hij(" ",i.data.lessonName," ")}}function cn(n,l){if(1&n&&(e.TgZ(0,"p",2),e.TgZ(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.qZA()),2&n){var i=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"labels.Topic"),": "),e.xp6(3),e.hij(" ",i.data.topicName," ")}}function pn(n,l){if(1&n&&(e.ynx(0),e._UZ(1,"img",10),e.BQk()),2&n){var i=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("src",t.fileService.previewPicture(i.choice_img),e.LSH)}}function hn(n,l){if(1&n&&(e.TgZ(0,"p",4),e._uU(1),e.YNc(2,pn,2,1,"ng-container",9),e.qZA()),2&n){var i=l.$implicit,t=l.index;e.ekj("success",i.is_correct),e.xp6(1),e.AsE(" ",t+1,". ",i.choice_text," "),e.xp6(1),e.Q6J("ngIf",i.choice_img)}}function _n(n,l){if(1&n&&(e.TgZ(0,"div",2),e.TgZ(1,"p",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,hn,3,5,"p",8),e.qZA()),2&n){var i=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,2,"labels.withChoices"),":"),e.xp6(2),e.Q6J("ngForOf",i.data.choicesList)}}var we=function(){var n=function(){function l(i){(0,$.Z)(this,l),this.data=i}return(0,z.Z)(l,[{key:"ngOnInit",value:function(){}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(J.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-repeated-question-dialog"]],decls:18,vars:15,consts:[["mat-dialog-title","",2,"color","#33a7d5"],["mat-dialog-content",""],[1,"item-line"],[1,"title"],[1,"value"],["class","item-line",4,"ngIf"],["mat-dialog-actions",""],["mat-raised-button","",1,"btn","btn-secondary","w-100",3,"mat-dialog-close"],["class","value",3,"success",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"src"]],template:function(i,t){1&i&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"p",2),e.TgZ(5,"span",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",4),e._uU(9),e.qZA(),e.qZA(),e.YNc(10,dn,6,4,"p",5),e.YNc(11,mn,6,4,"p",5),e.YNc(12,cn,6,4,"p",5),e.YNc(13,_n,5,4,"div",5),e.qZA(),e.TgZ(14,"div",6),e.TgZ(15,"button",7),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,9,"labels.theQuestionTextIsFoundIn"),"\n"),e.xp6(5),e.hij(" ",e.lcZ(7,11,"Material.Subject"),": "),e.xp6(3),e.hij(" ",t.data.subjectName," "),e.xp6(1),e.Q6J("ngIf",t.data.unitName),e.xp6(1),e.Q6J("ngIf",t.data.lessonName),e.xp6(1),e.Q6J("ngIf",t.data.topicName),e.xp6(1),e.Q6J("ngIf",(null==t.data.choicesList?null:t.data.choicesList.length)>0),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(1),e.hij(" ",e.lcZ(17,13,"General.Close")," "))},directives:[J.uh,J.xY,S.O5,J.H8,X.lW,J.ZT,S.sg],pipes:[ae.X$],styles:[".item-line[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#656262}.item-line[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;border-radius:10px}"]}),n}(),je=x(7446);function gn(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function fn(n,l){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,gn,3,3,"span",29),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.question_type_id||null==i.question_type_id.errors?null:i.question_type_id.errors.required)}}function vn(n,l){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.teacherUserId),e.xp6(1),e.hij(" ",i.teacher_ar_name," ")}}function Zn(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function Cn(n,l){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,Zn,3,3,"span",29),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.teacherUserId||null==i.teacherUserId.errors?null:i.teacherUserId.errors.required)}}function Tn(n,l){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function In(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function An(n,l){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,In,3,3,"span",29),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.main_subject_id||null==i.main_subject_id.errors?null:i.main_subject_id.errors.required)}}function bn(n,l){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function xn(n,l){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function qn(n,l){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function yn(n,l){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Id),e.xp6(1),e.hij(" ",i.level_ar_name," ")}}function Qn(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Un(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function En(n,l){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,Qn,3,3,"span",29),e.YNc(2,Un,3,3,"span",29),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.mark||null==i.mark.errors?null:i.mark.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.mark||null==i.mark.errors?null:i.mark.errors.minusNum)}}function Nn(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function wn(n,l){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,Nn,3,3,"span",29),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==i.question_ar_text||null==i.question_ar_text.errors?null:i.question_ar_text.errors.required)||(null==i.question_ar_text||null==i.question_ar_text.errors?null:i.question_ar_text.errors.whiteSpace))}}function Fn(n,l){1&n&&(e.TgZ(0,"mat-checkbox",33),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function Ln(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function kn(n,l){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,Ln,3,3,"span",29),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==i.perfect_answer||null==i.perfect_answer.errors?null:i.perfect_answer.errors.required)||(null==i.perfect_answer||null==i.perfect_answer.errors?null:i.perfect_answer.errors.whiteSpace))}}function Dn(n,l){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-form-field",9),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",34),e.YNc(6,kn,2,1,"mat-hint",12),e.qZA(),e.qZA()),2&n){var i=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,2,"labels.perfect_answer")," "),e.xp6(3),e.Q6J("ngIf",i.perfect_answer.invalid&&(i.perfect_answer.touched||i.submitted))}}function jn(n,l){1&n&&(e.TgZ(0,"mat-checkbox",33),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function Sn(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"mat-card",39),e.TgZ(1,"mat-card-subtitle"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-card-content",40),e.TgZ(5,"div",2),e.TgZ(6,"div",0),e.TgZ(7,"mat-form-field",9),e.TgZ(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",41),e.qZA(),e.qZA(),e.TgZ(12,"div",0),e.TgZ(13,"div",2),e.TgZ(14,"div",22),e.TgZ(15,"mat-label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"input",23),e.NdJ("change",function(r){var u=e.CHM(i).index;return e.oxw(2).onChange(r,u)}),e.qZA(),e.qZA(),e.TgZ(19,"div",24),e.TgZ(20,"div",25),e.YNc(21,jn,2,1,"mat-checkbox",26),e._UZ(22,"img",27),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=l.$implicit,a=l.index;e.xp6(2),e.AsE(" ",e.lcZ(3,9,"labels.AnswerNumber"),"(",a+1,") "),e.xp6(2),e.Q6J("formGroupName",a),e.xp6(5),e.AsE(" ",e.lcZ(10,11,"labels.AnswerText"),"(",a+1,") "),e.xp6(7),e.AsE(" ",e.lcZ(17,13,"labels.AnswerPic")," (",a+1,") "),e.xp6(5),e.Q6J("ngIf",null!==(null==t.value?null:t.value.ChoiceAttachPath)),e.xp6(1),e.Q6J("src",null==t.value?null:t.value.ChoiceAttachPath,e.LSH)}}function Vn(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Sn,23,15,"mat-card",35),e.TgZ(2,"mat-card",36),e.TgZ(3,"mat-card-title"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"mat-card-content"),e.TgZ(7,"mat-radio-group",37),e.TgZ(8,"div",38),e.TgZ(9,"mat-radio-button",11),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.qZA(),e.TgZ(12,"div",38),e.TgZ(13,"mat-radio-button",11),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.TgZ(16,"div",38),e.TgZ(17,"mat-radio-button",11),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.TgZ(20,"div",38),e.TgZ(21,"mat-radio-button",11),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.choices.controls),e.xp6(3),e.hij(" ",e.lcZ(5,10,"labels.ChooseCorrectAnswer")," "),e.xp6(5),e.Q6J("value",0),e.xp6(1),e.hij(" ",e.lcZ(11,12,"labels.AnswerOne")," "),e.xp6(3),e.Q6J("value",1),e.xp6(1),e.hij(" ",e.lcZ(15,14,"labels.AnswerTwo")," "),e.xp6(3),e.Q6J("value",2),e.xp6(1),e.hij(" ",e.lcZ(19,16,"labels.AnswerThree")," "),e.xp6(3),e.Q6J("value",3),e.xp6(1),e.hij(" ",e.lcZ(23,18,"labels.AnswerFour")," ")}}function Yn(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){return e.CHM(i),e.oxw().addUpdateQuestion()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function Jn(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){return e.CHM(i),e.oxw().addUpdateQuestion()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Update")," "))}var On=function(l){return{functionId:l}},Mn=function(){var n=function(){function l(i,t,a,o,r,s,u,d,m,p){var c=this;(0,$.Z)(this,l),this.router=i,this.route=t,this.fb=a,this.toastr=o,this.spinner=r,this.authService=s,this.examsService=u,this.GeneralService=d,this.EducationalService=m,this.dialog=p,this.questionID=null,this.submitted=!1,this.QuestionAttachPath=null,this.questionsInputs=[{choice_id:0,choice_text:"",thumbnailPic:"",ChoiceAttachPath:"",remove_image:!1},{choice_id:1,choice_text:"",thumbnailPic:"",ChoiceAttachPath:"",remove_image:!1},{choice_id:2,choice_text:"",thumbnailPic:"",ChoiceAttachPath:"",remove_image:!1},{choice_id:3,choice_text:"",thumbnailPic:"",ChoiceAttachPath:"",remove_image:!1}],this.route.queryParamMap.subscribe(function(_){c.questionID=_.get("questionId"),c.functionId=Number(_.get("functionId")),c.functionId&&c.authService.getUserRowFunctions(c.functionId).subscribe(function(C){C&&(c.rowFunctions=C)}),c.questionID&&c.getQuestionByID(c.questionID)})}return(0,z.Z)(l,[{key:"choices",get:function(){return this.myForm.get("choices")}},{key:"QuestionId",get:function(){return this.myForm.get("questionBank.question.id")}},{key:"Id",get:function(){return this.myForm.get("questionBank.Id")}},{key:"question_type_id",get:function(){return this.myForm.get("questionBank.question.question_type_id")}},{key:"teacherUserId",get:function(){return this.myForm.get("questionBank.question.teacherUserId")}},{key:"picked_choice_index",get:function(){return this.myForm.get("picked_choice_index")}},{key:"QuestionBankId",get:function(){return this.myForm.get("questionBank.Id")}},{key:"main_subject_id",get:function(){return this.myForm.get("questionBank.main_subject_id")}},{key:"question_id",get:function(){return this.myForm.get("questionBank.question_id")}},{key:"unitId",get:function(){return this.myForm.get("questionBank.unitId")}},{key:"lessonId",get:function(){return this.myForm.get("questionBank.lessonId")}},{key:"topicId",get:function(){return this.myForm.get("questionBank.topicId")}},{key:"difficulty_level",get:function(){return this.myForm.get("questionBank.difficulty_level")}},{key:"question_ar_text",get:function(){return this.myForm.get("questionBank.question.question_ar_text")}},{key:"perfect_answer",get:function(){return this.myForm.get("questionBank.question.perfect_answer")}},{key:"mark",get:function(){return this.myForm.get("questionBank.mark")}},{key:"remove_image",get:function(){return this.myForm.get("questionBank.question.remove_image")}},{key:"thumbnailPic",get:function(){return this.myForm.get("questionBank.question.thumbnailPic")}},{key:"FormCtrl",get:function(){return this.myForm.controls}},{key:"ngOnInit",value:function(){this.EduCompId=this.authService.getEduCompId(),this.branchId=this.authService.getBranchId(),this.getTeachersByEducompId(this.EduCompId),this.getDifficultyLevel(),this.myForm=this.fb.group({questionBank:this.fb.group({Id:[0],main_subject_id:["",h.kI.required],unitId:[""],lessonId:[""],topicId:[""],mark:[,[h.kI.required,W.D.minusNum]],difficulty_level:["1",[h.kI.required]],question_id:[0],question:this.fb.group({id:[0,[h.kI.required]],question_type_id:["",h.kI.required],teacherUserId:[""],question_ar_text:[""],perfect_answer:[],remove_image:[!1],thumbnailPic:[null]})}),picked_choice_index:[null],choices:this.fb.array([])}),this.changeQuestionType(),this.setDefaultChoises()}},{key:"ngAfterViewInit",value:function(){var t=this;this.authService.EduCompId.subscribe(function(a){t.EduCompId=a.EduCompId,t.getTeachersByEducompId(a.EduCompId)}),this.authService.branchId.subscribe(function(a){t.branchId=a.branchId})}},{key:"setDefaultChoises",value:function(){var t=this;this.questionsInputs.map(function(a){return t.choices.push(t.fb.group({choice_id:a.choice_id,choice_text:a.choice_text,thumbnailPic:a.thumbnailPic,remove_image:a.remove_image}))})}},{key:"getQuestionByID",value:function(t){var a=this;this.spinner.show(),this.examsService.getQuestionByID(t).subscribe(function(o){var r,s,u,d,m,p,c,_,C,A,q,y,N,E,k,V,D;if(null!=o.QuestionId)if(null===(r=a.teacherUserId)||void 0===r||r.enable(),null===(s=a.main_subject_id)||void 0===s||s.enable(),a.getSubjectByTeacherId(o.TeacherUserId),a.GetUnits(o.SubjectId),a.GetLessons(o.UnitId),a.GetTopics(o.LessonId),null===(u=a.QuestionBankId)||void 0===u||u.setValue(o.QuestionBankId),null===(d=a.QuestionId)||void 0===d||d.setValue(o.QuestionId),null===(m=a.question_id)||void 0===m||m.setValue(o.QuestionId),null===(p=a.main_subject_id)||void 0===p||p.setValue(String(o.SubjectId)),null===(c=a.question_type_id)||void 0===c||c.setValue(o.QuestionTypeId),null===(_=a.teacherUserId)||void 0===_||_.setValue(o.TeacherUserId),null===(C=a.unitId)||void 0===C||C.setValue(String(o.UnitId)),null===(A=a.lessonId)||void 0===A||A.setValue(String(o.LessonId)),null===(q=a.topicId)||void 0===q||q.setValue(String(o.TopicId)),null===(y=a.difficulty_level)||void 0===y||y.setValue(o.DifficultyLevel),null===(N=a.question_ar_text)||void 0===N||N.setValue(o.QuestionTextAr),null===(E=a.perfect_answer)||void 0===E||E.setValue(o.PerfectAnswer),null===(k=a.mark)||void 0===k||k.setValue(o.Mark),null===(V=a.thumbnailPic)||void 0===V||V.setValue(o.QuestionAttachId),a.QuestionAttachPath=null!=o.QuestionAttachPath?"mozakretyapi"+o.QuestionAttachPath:null,0!=o.Choices.length){a.choices.clear(),a.questionsInputs=o.Choices,a.questionsInputs.map(function(v){return a.choices.push(a.fb.group({choice_id:v.ChoiceId,choice_text:v.ChoiceText,thumbnailPic:v.thumbnailPic,ChoiceAttachPath:null!=v.ChoiceAttachPath?"mozakretyapi"+v.ChoiceAttachPath:null,remove_image:v.remove_image||!1}))});var P,j=(0,Ue.Z)(o.Choices);try{for(j.s();!(P=j.n()).done;)if(1==P.value.IsCorrect){var g=o.Choices.findIndex(function(v){return!0===v.IsCorrect});null===(D=a.picked_choice_index)||void 0===D||D.setValue(g)}}catch(v){j.e(v)}finally{j.f()}}else a.setDefaultChoises();a.spinner.hide()})}},{key:"addUpdateQuestion",value:function(){var a,o,t=this;if(this.submitted=!0,2==(null===(a=this.question_type_id)||void 0===a?void 0:a.value)||3==(null===(o=this.question_type_id)||void 0===o?void 0:o.value)){if(!this.choices.value[0].thumbnailPic&&!this.choices.value[0].choice_text)return void this.toastr.warning("Must Enter answer 1 text or picture");if(!this.choices.value[1].thumbnailPic&&!this.choices.value[1].choice_text)return void this.toastr.warning("Must Enter answer 2 text or picture");if(this.FormCtrl.picked_choice_index.value<0)return void this.toastr.warning("Must Choose Correct answer ")}this.myForm.valid&&(this.spinner.show(),this.examsService.addEditQuestion(this.EduCompId,this.myForm.value).subscribe(function(r){var s;null!=r.questionId?(t.question_id.setValue(r.questionId),t.questionID=r.questionId,0==t.Id.value&&(t.FormCtrl.picked_choice_index.setValue(""),t.question_ar_text.setValue(""),null===(s=t.thumbnailPic)||void 0===s||s.setValue(null),t.QuestionAttachPath=null,t.choices.clear(),t.setDefaultChoises()),t.toastr.success("Question Added Successful")):0==r.returnValue&&t.dialog.open(we,{data:r,autoFocus:!1,width:"30vw",minWidth:"250px"}),t.spinner.hide()}))}},{key:"getDifficultyLevel",value:function(){var t=this;this.examsService.getDifficultyLevel().subscribe(function(a){t.DifficultyLevel=a})}},{key:"getTeachersByEducompId",value:function(t){var o,r,s,u,d,m,a=this;null!=t?this.GeneralService.getTeachersByEducompId(t).subscribe(function(p){var c;a.Teachers=p.lstTeachers,null===(c=a.teacherUserId)||void 0===c||c.enable()}):(null===(o=this.teacherUserId)||void 0===o||o.setValue(""),null===(r=this.teacherUserId)||void 0===r||r.disable(),null===(s=this.main_subject_id)||void 0===s||s.disable(),null===(u=this.unitId)||void 0===u||u.disable(),null===(d=this.lessonId)||void 0===d||d.disable(),null===(m=this.topicId)||void 0===m||m.disable())}},{key:"getSubjectByTeacherId",value:function(t){var a=this;null!=t&&this.GeneralService.getSubjectByTeacherId(t).subscribe(function(o){a.subjects=o.lsts})}},{key:"GetUnits",value:function(t){var o,r,s,u,a=this;""!=t?this.EducationalService.GetUnits(t).subscribe(function(d){var m;a.units=d,null===(m=a.unitId)||void 0===m||m.enable()}):(null===(o=this.unitId)||void 0===o||o.setValue(""),null===(r=this.unitId)||void 0===r||r.disable(),null===(s=this.lessonId)||void 0===s||s.disable(),null===(u=this.topicId)||void 0===u||u.disable())}},{key:"GetLessons",value:function(t){var o,r,s,a=this;""!=t?this.EducationalService.GetLessons(t).subscribe(function(u){var d;a.lessons=u,null===(d=a.lessonId)||void 0===d||d.enable()}):(null===(o=this.lessonId)||void 0===o||o.setValue(""),null===(r=this.lessonId)||void 0===r||r.disable(),null===(s=this.topicId)||void 0===s||s.disable())}},{key:"GetTopics",value:function(t){var o,r,a=this;""!=t?this.EducationalService.GetTopics(t).subscribe(function(s){var u;a.topics=s,null===(u=a.topicId)||void 0===u||u.enable()}):(null===(o=this.topicId)||void 0===o||o.setValue(""),null===(r=this.topicId)||void 0===r||r.disable())}},{key:"setMainSubjectToForm",value:function(t){var a;null===(a=this.main_subject_id)||void 0===a||a.setValue(t)}},{key:"changeQuestionType",value:function(){var a,t=this;null===(a=this.question_type_id)||void 0===a||a.valueChanges.subscribe(function(o){t.changeValidators()})}},{key:"changeValidators",value:function(){var t,a=null===(t=this.question_type_id)||void 0===t?void 0:t.value;1==a&&this.perfect_answer.setValidators([h.kI.required,W.D.whiteSpace]),(2==a||3==a)&&(this.perfect_answer.clearValidators(),this.perfect_answer.reset()),this.perfect_answer.updateValueAndValidity()}},{key:"resetManual",value:function(){this.myForm.reset(),this.submitted=!1}},{key:"onChange",value:function(t,a){var o=this,r=t.target.files[0].name,s=t.target.files[0].size,u=t.target.files[0].type,d=t.target.files[0].lastModified,m=t.target.files[0].lastModifiedDate;if(t.target.files){var p=new FileReader;p.readAsDataURL(t.target.files[0]),p.onload=function(c){var _,C=c.target.result,A={FileAsBase64:C,name:r,size:s,type:u,LastModified:d,LastModifiedDate:m};if(-1==a)null===(_=o.thumbnailPic)||void 0===_||_.setValue(A),o.QuestionAttachPath=C;else{var y,q=(0,Ue.Z)(o.choices.value);try{for(q.s();!(y=q.n()).done;){var N=y.value;if(o.choices.value.indexOf(N)===a){N.thumbnailPic=A,N.ChoiceAttachPath=C;break}}}catch(k){q.e(k)}finally{q.f()}}}}}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(H.F0),e.Y36(H.gz),e.Y36(h.qu),e.Y36(ge._W),e.Y36(G.t2),e.Y36(de.e),e.Y36(fe.R),e.Y36(Ze.m),e.Y36(ye.i),e.Y36(J.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-question"]],decls:130,vars:89,consts:[[1,"col-12"],[1,"content-header"],[1,"row"],["mat-raised-button","","routerLink","../index",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"container-fluid"],[1,"form-container",3,"formGroup"],["formGroupName","questionBank"],["formGroupName","question"],[1,"col-md-3","col-12"],["appearance","legacy"],["formControlName","question_type_id",3,"selectionChange"],[3,"value"],["class","text-danger",4,"ngIf"],["formControlName","teacherUserId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","main_subject_id",3,"selectionChange"],["formControlName","unitId",3,"selectionChange"],["formControlName","lessonId",3,"selectionChange"],["formControlName","topicId"],["formControlName","difficulty_level"],["matInput","","type","number","formControlName","mark"],["matInput","","type","text","formControlName","question_ar_text"],[1,"col-md-4","col-12"],["type","file","accept","image/*",1,"form-control","font-dro","clearInputs",3,"change"],[1,"col-md-8","col-12"],[1,"question-img"],["formControlName","remove_image","class","remove_image",3,"value",4,"ngIf"],[1,"img-fluid",3,"src"],["class","col-12",4,"ngIf"],[4,"ngIf"],["align","end"],["mat-raised-button","","class","btn btn-primary",3,"click",4,"ngIf"],[1,"text-danger"],["formControlName","remove_image",1,"remove_image",3,"value"],["matInput","","type","text","formControlName","perfect_answer"],["formArrayName","choices","class","card bg-light",4,"ngFor","ngForOf"],[1,"bg-light-info"],["formControlName","picked_choice_index",1,"row"],[1,"col-3"],["formArrayName","choices",1,"card","bg-light"],[3,"formGroupName"],["matInput","","type","text","formControlName","choice_text"],["mat-raised-button","",1,"btn","btn-primary",3,"click"]],template:function(i,t){1&i&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",0),e.TgZ(7,"mat-card"),e.TgZ(8,"mat-card-title"),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"a",3),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.TgZ(14,"mat-card-content",4),e.TgZ(15,"div",2),e.TgZ(16,"div",0),e.TgZ(17,"form",5),e.ynx(18,6),e.TgZ(19,"div",2),e.ynx(20,7),e.TgZ(21,"div",8),e.TgZ(22,"mat-form-field",9),e.TgZ(23,"mat-label"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"mat-select",10),e.NdJ("selectionChange",function(){return t.changeQuestionType()}),e.TgZ(27,"mat-option"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-option",11),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"mat-option",11),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.qZA(),e.YNc(36,fn,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(37,"div",8),e.TgZ(38,"mat-form-field",9),e.TgZ(39,"mat-label"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"mat-select",13),e.NdJ("selectionChange",function(){return t.getSubjectByTeacherId(null==t.teacherUserId?null:t.teacherUserId.value)}),e.TgZ(43,"mat-option"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.YNc(46,vn,2,2,"mat-option",14),e.qZA(),e.YNc(47,Cn,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.BQk(),e.TgZ(48,"div",8),e.TgZ(49,"mat-form-field",9),e.TgZ(50,"mat-label"),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"mat-select",15),e.NdJ("selectionChange",function(){return t.GetUnits(null==t.main_subject_id?null:t.main_subject_id.value)}),e.TgZ(54,"mat-option"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.YNc(57,Tn,2,2,"mat-option",14),e.qZA(),e.YNc(58,An,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(59,"div",8),e.TgZ(60,"mat-form-field",9),e.TgZ(61,"mat-label"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"mat-select",16),e.NdJ("selectionChange",function(){return t.GetLessons(null==t.unitId?null:t.unitId.value)}),e.TgZ(65,"mat-option"),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.YNc(68,bn,2,2,"mat-option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",8),e.TgZ(70,"mat-form-field",9),e.TgZ(71,"mat-label"),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"mat-select",17),e.NdJ("selectionChange",function(){return t.GetTopics(null==t.lessonId?null:t.lessonId.value)}),e.TgZ(75,"mat-option"),e._uU(76),e.ALo(77,"translate"),e.qZA(),e.YNc(78,xn,2,2,"mat-option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"div",8),e.TgZ(80,"mat-form-field",9),e.TgZ(81,"mat-label"),e._uU(82),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"mat-select",18),e.TgZ(85,"mat-option"),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.YNc(88,qn,2,2,"mat-option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(89,"div",8),e.TgZ(90,"mat-form-field",9),e.TgZ(91,"mat-label"),e._uU(92),e.ALo(93,"translate"),e.qZA(),e.TgZ(94,"mat-select",19),e.TgZ(95,"mat-option"),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.YNc(98,yn,2,2,"mat-option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(99,"div",8),e.TgZ(100,"mat-form-field",9),e.TgZ(101,"mat-label"),e._uU(102),e.ALo(103,"translate"),e.qZA(),e._UZ(104,"input",20),e.YNc(105,En,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.ynx(106,7),e.TgZ(107,"div",0),e.TgZ(108,"mat-form-field",9),e.TgZ(109,"mat-label"),e._uU(110),e.ALo(111,"translate"),e.qZA(),e._UZ(112,"input",21),e.YNc(113,wn,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.ynx(114),e.TgZ(115,"div",22),e.TgZ(116,"mat-label"),e._uU(117),e.ALo(118,"translate"),e.qZA(),e.TgZ(119,"input",23),e.NdJ("change",function(o){return t.onChange(o,-1)}),e.qZA(),e.qZA(),e.TgZ(120,"div",24),e.TgZ(121,"div",25),e.YNc(122,Fn,2,1,"mat-checkbox",26),e._UZ(123,"img",27),e.qZA(),e.qZA(),e.BQk(),e.YNc(124,Dn,7,4,"div",28),e.BQk(),e.qZA(),e.BQk(),e._UZ(125,"hr"),e.YNc(126,Vn,24,20,"ng-container",29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(127,"mat-card-actions",30),e.YNc(128,Yn,3,3,"button",31),e.YNc(129,Jn,3,3,"button",31),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,43,"Navbar.QuestionsBank")," "),e.xp6(6),e.hij(" ",e.lcZ(10,45,"labels.AddQuestion")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(87,On,t.functionId)),e.xp6(1),e.hij(" ",e.lcZ(13,47,"General.Back")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(7),e.hij(" ",e.lcZ(25,49,"labels.QuestionType")," "),e.xp6(4),e.hij(" ",e.lcZ(29,51,"General.Choose")," "),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.hij(" ",e.lcZ(32,53,"labels.Article")," "),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.hij(" ",e.lcZ(35,55,"labels.Mcq")," "),e.xp6(2),e.Q6J("ngIf",(null==t.question_type_id?null:t.question_type_id.invalid)&&((null==t.question_type_id?null:t.question_type_id.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(41,57,"labels.Teacher")),e.xp6(4),e.Oqu(e.lcZ(45,59,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.Teachers),e.xp6(1),e.Q6J("ngIf",(null==t.teacherUserId?null:t.teacherUserId.invalid)&&((null==t.teacherUserId?null:t.teacherUserId.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(52,61,"labels.Subject")),e.xp6(4),e.Oqu(e.lcZ(56,63,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(1),e.Q6J("ngIf",(null==t.main_subject_id?null:t.main_subject_id.invalid)&&((null==t.main_subject_id?null:t.main_subject_id.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(63,65,"labels.Unit")),e.xp6(4),e.Oqu(e.lcZ(67,67,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(4),e.Oqu(e.lcZ(73,69,"labels.Lesson")),e.xp6(4),e.hij(" ",e.lcZ(77,71,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.lessons),e.xp6(4),e.Oqu(e.lcZ(83,73,"labels.Topic")),e.xp6(4),e.hij(" ",e.lcZ(87,75,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.topics),e.xp6(4),e.Oqu(e.lcZ(93,77,"labels.Level")),e.xp6(4),e.hij(" ",e.lcZ(97,79,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.DifficultyLevel),e.xp6(4),e.hij(" ",e.lcZ(103,81,"labels.QuestionMark")," "),e.xp6(3),e.Q6J("ngIf",t.mark.invalid&&(t.mark.touched||t.submitted)),e.xp6(5),e.hij(" ",e.lcZ(111,83,"labels.question_ar_text")," "),e.xp6(3),e.Q6J("ngIf",t.question_ar_text.invalid&&(t.question_ar_text.touched||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(118,85,"labels.QuestionImage")," "),e.xp6(5),e.Q6J("ngIf",t.QuestionAttachPath),e.xp6(1),e.Q6J("src",t.QuestionAttachPath,e.LSH),e.xp6(1),e.Q6J("ngIf",1==t.question_type_id.value),e.xp6(2),e.Q6J("ngIf",2==t.question_type_id.value||3==t.question_type_id.value),e.xp6(2),e.Q6J("ngIf",0==t.QuestionId.value),e.xp6(1),e.Q6J("ngIf",t.QuestionId.value>0))},directives:[G.Ro,Q.a8,Q.n5,X.zs,H.yS,Q.dn,h._Y,h.JL,h.sg,h.x0,F.KE,F.hX,Ce.gD,h.JJ,h.u,Te.ey,S.O5,S.sg,se.Nt,h.wV,h.Fj,Q.hq,F.bx,je.oG,me.VQ,me.U0,h.CE,Q.$j,X.lW],pipes:[ae.X$],styles:[".question-img[_ngcontent-%COMP%]{overflow:hidden!important;max-width:100%!important;max-height:156px!important}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:15px;color:#33a7d5}.remove_image[_ngcontent-%COMP%]{display:block}"]}),n}(),oe=x(6087),B=x(4847),Z=x(2075);function Gn(n,l){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.teacherUserId),e.xp6(1),e.hij(" ",i.teacher_ar_name," ")}}function Rn(n,l){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function Pn(n,l){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text_Ar," ")}}function Hn(n,l){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function Bn(n,l){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function zn(n,l){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function $n(n,l){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function Wn(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1,"#"),e.qZA())}function Xn(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){var i=l.index;e.xp6(1),e.Oqu(i+1)}}function Kn(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1,"ID"),e.qZA())}function ei(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.questionID)}}function ti(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.question_ar_text")," "))}function ni(n,l){if(1&n&&(e.TgZ(0,"td",43),e._UZ(1,"span",44),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Q6J("innerHtml",i.questionName,e.oJD)}}function ii(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.QuestionType")," "))}function ai(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.hij(" ",i.questionTypeArabicName," ")}}function li(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Subject")," "))}function oi(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.subjectName)}}function ri(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Unit")," "))}function si(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.unitName)}}function ui(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Lesson")," "))}function di(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.lessonName)}}function mi(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Topic")," "))}function ci(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.topicName)}}function pi(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.QuestionMark")," "))}function hi(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.mark)}}function _i(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Level")," "))}function gi(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.levelName)}}function fi(n,l){1&n&&e._UZ(0,"th",42)}var vi=function(l,i){return{questionId:l,functionId:i}};function Zi(n,l){if(1&n&&(e.TgZ(0,"a",48),e._UZ(1,"i",49),e.qZA()),2&n){var i=e.oxw(2).$implicit,t=e.oxw();e.Q6J("queryParams",e.WLB(1,vi,i.questionID,t.functionId))}}function Ci(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",50),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(2).$implicit;return e.oxw().openDeleateDialog(a)}),e._UZ(1,"i",51),e.qZA()}}function Ti(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Zi,2,4,"a",46),e.YNc(2,Ci,2,0,"a",47),e.BQk()),2&n){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf","Edit"===i.functionName),e.xp6(1),e.Q6J("ngIf","Delete"===i.functionName)}}function Ii(n,l){if(1&n&&(e.TgZ(0,"td",43),e.YNc(1,Ti,3,2,"ng-container",45),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.rowFunctions)}}function Ai(n,l){1&n&&e._UZ(0,"tr",52)}function bi(n,l){1&n&&e._UZ(0,"tr",53)}function xi(n,l){if(1&n&&(e.TgZ(0,"tr",54),e.TgZ(1,"td",55),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var i=e.MAs(110);e.xp6(2),e.hij(' No data matching the filter "',i.value,'" ')}}var qi=function(l){return{functionId:l}},yi=function(){return[10]},Qi=function(){var n=function(){function l(i,t,a,o,r,s,u,d,m){var p=this;(0,$.Z)(this,l),this.fb=i,this.toastr=t,this.authService=a,this.examServ=o,this.GeneralService=r,this.EducationalService=s,this.spinner=u,this.dialog=d,this.route=m,this.displayedColumns=["#","questionID","questionText","questionType","subjectName","unitName","lessonName","topicName","mark","levelName","actions"],m.queryParamMap.subscribe(function(c){p.functionId=Number(c.get("functionId")),p.functionId&&p.authService.getUserRowFunctions(p.functionId).subscribe(function(_){_&&(p.rowFunctions=_)})})}return(0,z.Z)(l,[{key:"ngOnInit",value:function(){this.myForm=this.fb.group({teacherUserId:[null],stageId:[null],yearId:[null],subjectId:[null],unitId:[null],lessonId:[null],topicId:[null],questionString:[null]}),this.EduCompId=this.authService.getEduCompId(),this.branchId=this.authService.getBranchId(),this.getTeachersByEducompId(this.EduCompId),this.getQuestions(1)}},{key:"FormCtrl",get:function(){return this.myForm.controls}},{key:"ngAfterViewInit",value:function(){var t=this;this.authService.EduCompId.subscribe(function(a){t.EduCompId=a.EduCompId,t.getTeachersByEducompId(a.EduCompId),t.getQuestions(1)}),this.authService.branchId.subscribe(function(a){t.branchId=a.branchId}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getQuestions",value:function(t){var a=this,o={};o.teacherUserId=this.myForm.value.teacherUserId||null,o.lessonId=this.myForm.value.lessonId||null,o.questionString=this.myForm.value.questionString||null,o.stageId=this.myForm.value.stageId||null,o.subjectId=this.myForm.value.subjectId||null,o.topicId=this.myForm.value.unitId||null,o.unitId=this.myForm.value.questionString||null,o.yearId=this.myForm.value.yearId||null,this.spinner.show(),this.examServ.getQuestions(t,this.EduCompId,o).subscribe(function(r){a.dataSource=new Z.by(r.returnModel),a.itemsCount=r.itemsCount,a.spinner.hide()})}},{key:"deleteQuestion",value:function(t){var a=this;this.spinner.show(),this.examServ.deleteQuestion(this.EduCompId,t.questionID).subscribe(function(o){if(1==o.returnValue){var r=a.dataSource.data.findIndex(function(s){return s===t});a.dataSource.data.splice(r,1),a.dataSource.paginator=a.paginator,a.toastr.success("Done")}a.spinner.hide()})}},{key:"openDeleateDialog",value:function(t){var a=this;this.dialog.open(Ie.F,{data:{msg:"".concat(t.questionID," - ").concat(t.questionTypeEnglishName)}}).afterClosed().subscribe(function(o){o&&a.deleteQuestion(t)})}},{key:"getTeachersByEducompId",value:function(t){var a=this;this.GeneralService.getTeachersByEducompId(t).subscribe(function(o){a.Teachers=o.lstTeachers})}},{key:"getStageByTeacherId",value:function(t){var a=this;this.FormCtrl.stageId.setValue(""),this.FormCtrl.yearId.setValue(""),this.FormCtrl.subjectId.setValue(""),this.FormCtrl.unitId.setValue(""),this.FormCtrl.lessonId.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.getStageByTeacherId(t).subscribe(function(o){a.stages=o,a.FormCtrl.stageId.enable()}):(this.FormCtrl.stageId.setValue(""),this.FormCtrl.stageId.disable(),this.FormCtrl.yearId.disable(),this.FormCtrl.subjectId.disable(),this.FormCtrl.unitId.disable(),this.FormCtrl.lessonId.disable(),this.FormCtrl.topicId.disable())}},{key:"getYearsByStageId",value:function(t){var a=this;this.FormCtrl.yearId.setValue(""),this.FormCtrl.subjectId.setValue(""),this.FormCtrl.unitId.setValue(""),this.FormCtrl.lessonId.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.returnYears(t).subscribe(function(o){a.years=o,a.FormCtrl.yearId.enable()}):(this.FormCtrl.yearId.setValue(""),this.FormCtrl.yearId.disable(),this.FormCtrl.subjectId.disable(),this.FormCtrl.unitId.disable(),this.FormCtrl.lessonId.disable(),this.FormCtrl.topicId.disable())}},{key:"getSubjectsByYearId",value:function(t){var o,a=this;if(this.FormCtrl.subjectId.setValue(""),this.FormCtrl.unitId.setValue(""),this.FormCtrl.lessonId.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t){var r={yearId:t,teacherUserId:null===(o=this.FormCtrl.teacherUserId)||void 0===o?void 0:o.value};this.EducationalService.returnTeacherSubjects(r).subscribe(function(s){a.subjects=s,a.FormCtrl.subjectId.enable()})}else this.FormCtrl.subjectId.setValue(""),this.FormCtrl.subjectId.disable(),this.FormCtrl.unitId.disable(),this.FormCtrl.lessonId.disable(),this.FormCtrl.topicId.disable()}},{key:"getUnitsBySubjectId",value:function(t){var a=this;this.FormCtrl.unitId.setValue(""),this.FormCtrl.lessonId.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetUnits(t).subscribe(function(o){a.units=o,a.FormCtrl.unitId.enable()}):(this.FormCtrl.unitId.setValue(""),this.FormCtrl.unitId.disable(),this.FormCtrl.lessonId.disable(),this.FormCtrl.topicId.disable())}},{key:"getLessonsByUnitId",value:function(t){var a=this;this.FormCtrl.lessonId.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetLessons(t).subscribe(function(o){a.lessons=o,a.FormCtrl.lessonId.enable()}):(this.FormCtrl.lessonId.setValue(""),this.FormCtrl.lessonId.disable(),this.FormCtrl.topicId.disable())}},{key:"GetTopicsByLessonId",value:function(t){var a=this;this.FormCtrl.topicId.setValue(""),this.FormCtrl.lessonId.value?this.EducationalService.GetTopics(t).subscribe(function(o){a.topics=o,a.FormCtrl.topicId.enable()}):(this.FormCtrl.topicId.setValue(""),this.FormCtrl.topicId.disable())}},{key:"resetManual",value:function(){this.myForm.controls.teacherUserId.setValue(""),this.myForm.controls.yearId.setValue(""),this.myForm.controls.stageId.setValue(""),this.myForm.controls.subjectId.setValue(""),this.myForm.controls.unitId.setValue(""),this.myForm.controls.lessonId.setValue(""),this.myForm.controls.topicId.setValue("")}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(h.qu),e.Y36(ge._W),e.Y36(de.e),e.Y36(fe.R),e.Y36(Ze.m),e.Y36(ye.i),e.Y36(G.t2),e.Y36(J.uw),e.Y36(H.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-questions-index"]],viewQuery:function(i,t){var a;1&i&&(e.Gf(oe.NW,5),e.Gf(B.YE,5)),2&i&&(e.iGM(a=e.CRH())&&(t.paginator=a.first),e.iGM(a=e.CRH())&&(t.sort=a.first))},decls:150,vars:78,consts:[[1,"col-12"],[1,"content-header"],[1,"row"],["mat-raised-button","","routerLink","../add-question",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"container-fluid"],[1,"form-container",3,"formGroup"],[1,"col-md-3","col-12"],["appearance","legacy"],["formControlName","teacherUserId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","stageId",3,"selectionChange"],["formControlName","yearId",3,"selectionChange"],["formControlName","subjectId",3,"selectionChange"],["formControlName","unitId",3,"selectionChange"],["formControlName","lessonId",3,"selectionChange"],["formControlName","topicId"],["matInput","","type","text","formControlName","questionString"],["align","end"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","questionID"],["matColumnDef","questionText"],["matColumnDef","questionType"],["matColumnDef","subjectName"],["matColumnDef","unitName"],["matColumnDef","lessonName"],["matColumnDef","topicName"],["matColumnDef","mark"],["matColumnDef","levelName"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","length","pageSize","page"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"innerHtml"],[4,"ngFor","ngForOf"],["class","success p-0","matTooltip","Edit","routerLink","../add-question",3,"queryParams",4,"ngIf"],["class","danger p-0","matTooltip","Delete",3,"click",4,"ngIf"],["matTooltip","Edit","routerLink","../add-question",1,"success","p-0",3,"queryParams"],[1,"ft-edit-2","font-medium-3","mr-2"],["matTooltip","Delete",1,"danger","p-0",3,"click"],[1,"ft-trash","font-medium-3","mr-2"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,t){1&i&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",0),e.TgZ(7,"mat-card"),e.TgZ(8,"mat-card-title"),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"a",3),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.TgZ(14,"mat-card-content",4),e.TgZ(15,"div",2),e.TgZ(16,"div",0),e.TgZ(17,"form",5),e.TgZ(18,"div",2),e.TgZ(19,"div",6),e.TgZ(20,"mat-form-field",7),e.TgZ(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"mat-select",8),e.NdJ("selectionChange",function(){return t.getStageByTeacherId(t.FormCtrl.teacherUserId.value)}),e.TgZ(25,"mat-option"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,Gn,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",6),e.TgZ(30,"mat-form-field",7),e.TgZ(31,"mat-label"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-select",10),e.NdJ("selectionChange",function(){return t.getYearsByStageId(t.FormCtrl.stageId.value)}),e.TgZ(35,"mat-option"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.YNc(38,Rn,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",6),e.TgZ(40,"mat-form-field",7),e.TgZ(41,"mat-label"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"mat-select",11),e.NdJ("selectionChange",function(){return t.getSubjectsByYearId(t.FormCtrl.yearId.value)}),e.TgZ(45,"mat-option"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.YNc(48,Pn,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",6),e.TgZ(50,"mat-form-field",7),e.TgZ(51,"mat-label"),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"mat-select",12),e.NdJ("selectionChange",function(){return t.getUnitsBySubjectId(t.FormCtrl.subjectId.value)}),e.TgZ(55,"mat-option"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.YNc(58,Hn,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",6),e.TgZ(60,"mat-form-field",7),e.TgZ(61,"mat-label"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"mat-select",13),e.NdJ("selectionChange",function(){return t.getLessonsByUnitId(t.FormCtrl.unitId.value)}),e.TgZ(65,"mat-option"),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.YNc(68,Bn,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",6),e.TgZ(70,"mat-form-field",7),e.TgZ(71,"mat-label"),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"mat-select",14),e.NdJ("selectionChange",function(){return t.GetTopicsByLessonId(t.FormCtrl.lessonId.value)}),e.TgZ(75,"mat-option"),e._uU(76),e.ALo(77,"translate"),e.qZA(),e.YNc(78,zn,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"div",6),e.TgZ(80,"mat-form-field",7),e.TgZ(81,"mat-label"),e._uU(82),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"mat-select",15),e.TgZ(85,"mat-option"),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.YNc(88,$n,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(89,"div",0),e.TgZ(90,"mat-form-field",7),e.TgZ(91,"mat-label"),e._uU(92),e.ALo(93,"translate"),e.qZA(),e._UZ(94,"input",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(95,"mat-card-actions",17),e.TgZ(96,"button",18),e.NdJ("click",function(){return t.getQuestions(1)}),e._uU(97),e.ALo(98,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(99,"div",2),e.TgZ(100,"div",0),e.TgZ(101,"mat-card"),e.TgZ(102,"mat-card-title"),e._uU(103),e.ALo(104,"translate"),e.qZA(),e.TgZ(105,"mat-card-content"),e.TgZ(106,"mat-form-field",19),e.TgZ(107,"mat-label"),e._uU(108,"Filter"),e.qZA(),e.TgZ(109,"input",20,21),e.NdJ("keyup",function(o){return t.applyFilter(o)}),e.qZA(),e.qZA(),e.TgZ(111,"div",22),e.TgZ(112,"table",23),e.ynx(113,24),e.YNc(114,Wn,2,0,"th",25),e.YNc(115,Xn,2,1,"td",26),e.BQk(),e.ynx(116,27),e.YNc(117,Kn,2,0,"th",25),e.YNc(118,ei,2,1,"td",26),e.BQk(),e.ynx(119,28),e.YNc(120,ti,3,3,"th",25),e.YNc(121,ni,2,1,"td",26),e.BQk(),e.ynx(122,29),e.YNc(123,ii,3,3,"th",25),e.YNc(124,ai,2,1,"td",26),e.BQk(),e.ynx(125,30),e.YNc(126,li,3,3,"th",25),e.YNc(127,oi,2,1,"td",26),e.BQk(),e.ynx(128,31),e.YNc(129,ri,3,3,"th",25),e.YNc(130,si,2,1,"td",26),e.BQk(),e.ynx(131,32),e.YNc(132,ui,3,3,"th",25),e.YNc(133,di,2,1,"td",26),e.BQk(),e.ynx(134,33),e.YNc(135,mi,3,3,"th",25),e.YNc(136,ci,2,1,"td",26),e.BQk(),e.ynx(137,34),e.YNc(138,pi,3,3,"th",25),e.YNc(139,hi,2,1,"td",26),e.BQk(),e.ynx(140,35),e.YNc(141,_i,3,3,"th",25),e.YNc(142,gi,2,1,"td",26),e.BQk(),e.ynx(143,36),e.YNc(144,fi,1,0,"th",25),e.YNc(145,Ii,2,1,"td",26),e.BQk(),e.YNc(146,Ai,1,0,"tr",37),e.YNc(147,bi,1,0,"tr",38),e.YNc(148,xi,3,1,"tr",39),e.qZA(),e.TgZ(149,"mat-paginator",40),e.NdJ("page",function(o){return t.getQuestions(o.pageIndex+1)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,35,"Navbar.QuestionsBank")," "),e.xp6(6),e.hij(" ",e.lcZ(10,37,"labels.QuestionsSearch")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(75,qi,t.functionId)),e.xp6(1),e.hij(" ",e.lcZ(13,39,"labels.AddQuestion")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.Oqu(e.lcZ(23,41,"labels.Teacher")),e.xp6(4),e.Oqu(e.lcZ(27,43,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.Teachers),e.xp6(4),e.Oqu(e.lcZ(33,45,"labels.Stage")),e.xp6(4),e.Oqu(e.lcZ(37,47,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.stages),e.xp6(4),e.Oqu(e.lcZ(43,49,"labels.Year")),e.xp6(4),e.Oqu(e.lcZ(47,51,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.years),e.xp6(4),e.Oqu(e.lcZ(53,53,"labels.Subject")),e.xp6(4),e.Oqu(e.lcZ(57,55,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(4),e.Oqu(e.lcZ(63,57,"labels.Unit")),e.xp6(4),e.Oqu(e.lcZ(67,59,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(4),e.Oqu(e.lcZ(73,61,"labels.Lesson")),e.xp6(4),e.hij(" ",e.lcZ(77,63,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.lessons),e.xp6(4),e.Oqu(e.lcZ(83,65,"labels.Topic")),e.xp6(4),e.hij(" ",e.lcZ(87,67,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.topics),e.xp6(4),e.hij(" ",e.lcZ(93,69,"labels.question_ar_text")," "),e.xp6(5),e.hij(" ",e.lcZ(98,71,"General.Search")," "),e.xp6(6),e.hij(" ",e.lcZ(104,73,"labels.Questions"),""),e.xp6(9),e.Q6J("dataSource",t.dataSource),e.xp6(34),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(77,yi))("length",t.itemsCount)("pageSize",10))},directives:[G.Ro,Q.a8,Q.n5,X.zs,H.yS,Q.dn,h._Y,h.JL,h.sg,F.KE,F.hX,Ce.gD,h.JJ,h.u,Te.ey,S.sg,se.Nt,h.Fj,Q.hq,X.lW,Z.BZ,B.YE,Z.w1,Z.fO,Z.Dz,Z.as,Z.nj,Z.Ee,oe.NW,Z.ge,B.nU,Z.ev,S.O5,Qe.gM,Z.XQ,Z.Gk],pipes:[ae.X$],styles:[""]}),n}(),Ui=x(567);function Ei(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Ni(n,l){if(1&n&&(e.TgZ(0,"mat-hint",29),e.YNc(1,Ei,3,3,"span",30),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==i.mainQuestionCtrl||null==i.mainQuestionCtrl.errors?null:i.mainQuestionCtrl.errors.required)||(null==i.mainQuestionCtrl||null==i.mainQuestionCtrl.errors?null:i.mainQuestionCtrl.errors.whiteSpace))}}function wi(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function Fi(n,l){if(1&n&&(e.TgZ(0,"mat-hint",29),e.YNc(1,wi,3,3,"span",30),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.questionTypeIdCtrl||null==i.questionTypeIdCtrl.errors?null:i.questionTypeIdCtrl.errors.required)}}function Li(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ki(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Di(n,l){if(1&n&&(e.TgZ(0,"mat-hint",29),e.YNc(1,Li,3,3,"span",30),e.YNc(2,ki,3,3,"span",30),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.questionMarkCtrl.errors?null:i.questionMarkCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.questionMarkCtrl.errors?null:i.questionMarkCtrl.errors.bigZero)}}function ji(n,l){1&n&&(e.TgZ(0,"mat-checkbox",31),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function Si(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Vi(n,l){if(1&n&&(e.TgZ(0,"mat-hint",29),e.YNc(1,Si,3,3,"span",30),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==i.questionPerfectAnswerCtrl||null==i.questionPerfectAnswerCtrl.errors?null:i.questionPerfectAnswerCtrl.errors.required)||(null==i.questionPerfectAnswerCtrl||null==i.questionPerfectAnswerCtrl.errors?null:i.questionPerfectAnswerCtrl.errors.whiteSpace))}}function Yi(n,l){if(1&n&&(e.TgZ(0,"div",13),e.TgZ(1,"mat-form-field",5),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",32),e.YNc(6,Vi,2,1,"mat-hint",7),e.qZA(),e.qZA()),2&n){var i=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,2,"labels.perfect_answer")," "),e.xp6(3),e.Q6J("ngIf",i.questionPerfectAnswerCtrl.invalid&&(i.questionPerfectAnswerCtrl.touched||i.submitted))}}function Ji(n,l){1&n&&(e.TgZ(0,"mat-checkbox",52),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function Oi(n,l){1&n&&(e.TgZ(0,"mat-checkbox",53),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function Mi(n,l){1&n&&(e.TgZ(0,"mat-checkbox",54),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function Gi(n,l){1&n&&(e.TgZ(0,"mat-checkbox",55),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function Ri(n,l){if(1&n){var i=e.EpF();e.ynx(0,3),e.TgZ(1,"mat-card"),e.TgZ(2,"mat-radio-group",33),e.TgZ(3,"mat-radio-button",34),e.NdJ("click",function(){return e.CHM(i),e.oxw().onSelectCorrect(0)}),e.qZA(),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"mat-card-content"),e.TgZ(8,"div",3),e.TgZ(9,"div",13),e.TgZ(10,"mat-form-field",5),e.TgZ(11,"mat-label"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",35),e.qZA(),e.qZA(),e.TgZ(15,"div",13),e.TgZ(16,"div",3),e.TgZ(17,"div",4),e.TgZ(18,"mat-label"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"label",36),e._UZ(22,"i",37),e.qZA(),e.TgZ(23,"input",38),e.NdJ("change",function(o){return e.CHM(i),e.oxw().importOneFile(o)}),e.qZA(),e.qZA(),e.TgZ(24,"div",11),e.YNc(25,Ji,2,1,"mat-checkbox",39),e.TgZ(26,"div",15),e._UZ(27,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"mat-card"),e.TgZ(29,"mat-radio-group",40),e.TgZ(30,"mat-radio-button",34),e.NdJ("click",function(){return e.CHM(i),e.oxw().onSelectCorrect(1)}),e.qZA(),e.qZA(),e.TgZ(31,"mat-card-subtitle"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-card-content"),e.TgZ(35,"div",3),e.TgZ(36,"div",13),e.TgZ(37,"mat-form-field",5),e.TgZ(38,"mat-label"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"input",41),e.qZA(),e.qZA(),e.TgZ(42,"div",13),e.TgZ(43,"div",3),e.TgZ(44,"div",4),e.TgZ(45,"mat-label"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"label",36),e._UZ(49,"i",37),e.qZA(),e.TgZ(50,"input",42),e.NdJ("change",function(o){return e.CHM(i),e.oxw().importTwoFile(o)}),e.qZA(),e.qZA(),e.TgZ(51,"div",11),e.TgZ(52,"div",15),e.YNc(53,Oi,2,1,"mat-checkbox",43),e._UZ(54,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"mat-card"),e.TgZ(56,"mat-radio-group",44),e.TgZ(57,"mat-radio-button",34),e.NdJ("click",function(){return e.CHM(i),e.oxw().onSelectCorrect(2)}),e.qZA(),e.qZA(),e.TgZ(58,"mat-card-subtitle"),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"mat-card-content"),e.TgZ(62,"div",3),e.TgZ(63,"div",13),e.TgZ(64,"mat-form-field",5),e.TgZ(65,"mat-label"),e._uU(66),e.ALo(67,"translate"),e.qZA(),e._UZ(68,"input",45),e.qZA(),e.qZA(),e.TgZ(69,"div",13),e.TgZ(70,"div",3),e.TgZ(71,"div",4),e.TgZ(72,"mat-label"),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"label",36),e._UZ(76,"i",37),e.qZA(),e.TgZ(77,"input",46),e.NdJ("change",function(o){return e.CHM(i),e.oxw().importThreeFile(o)}),e.qZA(),e.qZA(),e.TgZ(78,"div",11),e.TgZ(79,"div",15),e.YNc(80,Mi,2,1,"mat-checkbox",47),e._UZ(81,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(82,"mat-card"),e.TgZ(83,"mat-radio-group",48),e.TgZ(84,"mat-radio-button",34),e.NdJ("click",function(){return e.CHM(i),e.oxw().onSelectCorrect(3)}),e.qZA(),e.qZA(),e.TgZ(85,"mat-card-subtitle"),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.TgZ(88,"mat-card-content"),e.TgZ(89,"div",3),e.TgZ(90,"div",13),e.TgZ(91,"mat-form-field",5),e.TgZ(92,"mat-label"),e._uU(93),e.ALo(94,"translate"),e.qZA(),e._UZ(95,"input",49),e.qZA(),e.qZA(),e.TgZ(96,"div",13),e.TgZ(97,"div",3),e.TgZ(98,"div",4),e.TgZ(99,"mat-label"),e._uU(100),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"label",36),e._UZ(103,"i",37),e.qZA(),e.TgZ(104,"input",50),e.NdJ("change",function(o){return e.CHM(i),e.oxw().importFourFile(o)}),e.qZA(),e.qZA(),e.TgZ(105,"div",11),e.TgZ(106,"div",15),e.YNc(107,Gi,2,1,"mat-checkbox",51),e._UZ(108,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){var t=e.oxw();e.xp6(3),e.Q6J("value",0)("checked",t.oneIsCorrect),e.xp6(2),e.hij(" ",e.lcZ(6,28,"labels.AnswerNumber")," (1) "),e.xp6(7),e.hij(" ",e.lcZ(13,30,"labels.AnswerText")," (1) "),e.xp6(7),e.hij(" ",e.lcZ(20,32,"labels.AnswerPic")," (1) "),e.xp6(6),e.Q6J("ngIf",t.answerOneImageCtrl.value),e.xp6(2),e.Q6J("src",t.answerOneImageCtrl.value,e.LSH),e.xp6(3),e.Q6J("value",1)("checked",t.twoIsCorrect),e.xp6(2),e.hij(" ",e.lcZ(33,34,"labels.AnswerNumber")," (2) "),e.xp6(7),e.hij(" ",e.lcZ(40,36,"labels.AnswerText")," (2) "),e.xp6(7),e.hij(" ",e.lcZ(47,38,"labels.AnswerPic")," (2) "),e.xp6(7),e.Q6J("ngIf",t.answerTwoImageCtrl.value),e.xp6(1),e.Q6J("src",t.answerTwoImageCtrl.value,e.LSH),e.xp6(3),e.Q6J("value",2)("checked",t.threeIsCorrect),e.xp6(2),e.hij(" ",e.lcZ(60,40,"labels.AnswerNumber")," (3) "),e.xp6(7),e.hij(" ",e.lcZ(67,42,"labels.AnswerText")," (3) "),e.xp6(7),e.hij(" ",e.lcZ(74,44,"labels.AnswerPic")," (3) "),e.xp6(7),e.Q6J("ngIf",t.answerThreeImageCtrl.value),e.xp6(1),e.Q6J("src",t.answerThreeImageCtrl.value,e.LSH),e.xp6(3),e.Q6J("value",3)("checked",t.fourIsCorrect),e.xp6(2),e.hij(" ",e.lcZ(87,46,"labels.AnswerNumber")," (4) "),e.xp6(7),e.hij(" ",e.lcZ(94,48,"labels.AnswerText")," (4) "),e.xp6(7),e.hij(" ",e.lcZ(101,50,"labels.AnswerPic")," (4) "),e.xp6(7),e.Q6J("ngIf",t.answerFourImageCtrl.value),e.xp6(1),e.Q6J("src",t.answerFourImageCtrl.value,e.LSH)}}function Pi(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){return e.CHM(i),e.oxw().onSubmit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function Hi(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){return e.CHM(i),e.oxw().onSubmit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Update")," "))}function Bi(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"tr",58),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"button",59),e.NdJ("click",function(){var r=e.CHM(i).$implicit;return e.oxw().getQuestionForEditByID(r.Id)}),e.TgZ(9,"mat-icon"),e._uU(10,"edit"),e.qZA(),e.qZA(),e.TgZ(11,"button",60),e.NdJ("click",function(){var r=e.CHM(i).$implicit;return e.oxw().removeExamQuestion(r.Id)}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=l.$implicit;e.xp6(2),e.Oqu(t.Id),e.xp6(2),e.Oqu(t.Text),e.xp6(2),e.Oqu(t.QuestionTypeAr)}}var zi=function(){var n=function(){function l(i,t,a,o,r,s,u){(0,$.Z)(this,l),this.fb=i,this.examService=t,this.authserv=a,this.toastr=o,this.spinner=r,this.data=s,this.dialog=u,this.unitId=0,this.lessonId=0,this.units=[],this.lessions=[],this.questionsInGrid=[],this.questionId=0,this.submitted=!1,this.oneIsCorrect=!1,this.twoIsCorrect=!1,this.threeIsCorrect=!1,this.fourIsCorrect=!1,this.questionFile=null,this.answerOneFile=null,this.answerTwoFile=null,this.answerThreeFile=null,this.answerFourFile=null,this.examId=s.examId,this.examGroupHeaderId=s.examGroupHeaderId,this.subjectId=s.subjectId,0!=this.examGroupHeaderId&&this.getAllQuestionsByHeadId(),0!=this.subjectId&&this.getAllUnitsBySublectId(),console.log("this.examId",this.examId),console.log("this.examGroupHeaderId",this.examGroupHeaderId),console.log("this.subjectId",this.subjectId)}return(0,z.Z)(l,[{key:"mainQuestionCtrl",get:function(){return this.myForm.get("mainQuestion")}},{key:"questionTypeIdCtrl",get:function(){return this.myForm.get("questionTypeId")}},{key:"questionImageCtrl",get:function(){return this.myForm.get("questionImage")}},{key:"unitIdCtrl",get:function(){return this.myForm.get("unitId")}},{key:"lessonIdCtrl",get:function(){return this.myForm.get("lessonId")}},{key:"questionTextCtrl",get:function(){return this.myForm.get("exam_question_text")}},{key:"questionPerfectAnswerCtrl",get:function(){return this.myForm.get("questionPerfectAnswer")}},{key:"questionMarkCtrl",get:function(){return this.myForm.get("questionMark")}},{key:"answerOneIdCtrl",get:function(){return this.myForm.get("answerOneId")}},{key:"answerOneCtrl",get:function(){return this.myForm.get("answerOne")}},{key:"answerOneIsCorrectCtrl",get:function(){return this.myForm.get("answerOneIsCorrect")}},{key:"answerOneImageCtrl",get:function(){return this.myForm.get("answerOneImage")}},{key:"answerTwoIdCtrl",get:function(){return this.myForm.get("answerTwoId")}},{key:"answerTwoCtrl",get:function(){return this.myForm.get("answerTwo")}},{key:"answerTwoIsCorrectCtrl",get:function(){return this.myForm.get("answerTwoIsCorrect")}},{key:"answerTwoImageCtrl",get:function(){return this.myForm.get("answerTwoImage")}},{key:"answerThreeIdCtrl",get:function(){return this.myForm.get("answerThreeId")}},{key:"answerThreeCtrl",get:function(){return this.myForm.get("answerThree")}},{key:"answerThreeIsCorrectCtrl",get:function(){return this.myForm.get("answerThreeIsCorrect")}},{key:"answerThreeImageCtrl",get:function(){return this.myForm.get("answerThreeImage")}},{key:"answerFourIdCtrl",get:function(){return this.myForm.get("answerFourId")}},{key:"answerFourCtrl",get:function(){return this.myForm.get("answerFour")}},{key:"answerFourIsCorrectCtrl",get:function(){return this.myForm.get("answerFourIsCorrect")}},{key:"answerFourImageCtrl",get:function(){return this.myForm.get("answerFourImage")}},{key:"answerOneRemove_imageCtrl",get:function(){return this.myForm.get("answerOneRemove_image")}},{key:"answerTwoRemove_imageCtrl",get:function(){return this.myForm.get("answerTwoRemove_image")}},{key:"answerThreeRemove_imageCtrl",get:function(){return this.myForm.get("answerThreeRemove_image")}},{key:"answerFourRemove_imageCtrl",get:function(){return this.myForm.get("answerFourRemove_image")}},{key:"questionImageRemove_imageCtrl",get:function(){return this.myForm.get("remove_image")}},{key:"ngOnInit",value:function(){this.myForm=this.fb.group({mainQuestion:[""],questionTypeId:["",h.kI.required],questionImage:[""],remove_image:[!1],unitId:[""],lessionId:[""],exam_question_text:[""],questionPerfectAnswer:[""],questionMark:["",[h.kI.required,W.D.bigZero]],answerOneId:[""],answerOne:[""],answerOneIsCorrect:[],answerOneImage:[""],answerTwoId:[""],answerTwo:[""],answerTwoIsCorrect:[],answerTwoImage:[""],answerThreeId:[""],answerThree:[""],answerThreeIsCorrect:[],answerThreeImage:[""],answerFourId:[""],answerFour:[""],answerFourIsCorrect:[],answerFourImage:[""],answerOneRemove_image:[!1],answerTwoRemove_image:[!1],answerThreeRemove_image:[!1],answerFourRemove_image:[!1]}),this.educationCompanyId=this.authserv.getEduCompId(),this.questionTypeValidation()}},{key:"getAllQuestionsByHeadId",value:function(){var t=this;this.spinner.show(),this.examService.getAllQuestionsByHeadId(this.examGroupHeaderId).subscribe(function(a){a&&(console.log("getAllQuestionsByHeadId",a),t.questionsInGrid=[],t.questionsInGrid=a,t.spinner.hide())})}},{key:"questionTypeValidation",value:function(){var t,a,o,r,s;1===(null===(t=this.questionTypeIdCtrl)||void 0===t?void 0:t.value)?(console.log("PerfectAnswer is required"),null===(a=this.questionPerfectAnswerCtrl)||void 0===a||a.setValidators(h.kI.required)):(console.log("PerfectAnswer is not required"),null===(o=this.questionPerfectAnswerCtrl)||void 0===o||o.clearAsyncValidators(),null===(r=this.questionPerfectAnswerCtrl)||void 0===r||r.reset()),null===(s=this.questionPerfectAnswerCtrl)||void 0===s||s.updateValueAndValidity()}},{key:"onSubmit",value:function(){var t,a,o,r,s,u,d,m,p,c,_,C,A,q,y,N,E,k,V,D,R,j,P,f,g,v,T,I,b,w,Y,O,U,L,M,ne,ie,te;if(this.submitted=!0,1==(null===(t=this.questionTypeIdCtrl)||void 0===t?void 0:t.value)){var K=this.questionFile||null,re={exam_question_main_question:null===(a=this.mainQuestionCtrl)||void 0===a?void 0:a.value,exam_question_mark:null===(o=this.questionMarkCtrl)||void 0===o?void 0:o.value,exam_question_perfect_answer:null===(r=this.questionPerfectAnswerCtrl)||void 0===r?void 0:r.value,exam_question_text:null===(s=this.questionTextCtrl)||void 0===s?void 0:s.value,exam_question_type_id:null===(u=this.questionTypeIdCtrl)||void 0===u?void 0:u.value,exam_selected_question_head_id:this.examGroupHeaderId,exam_selected_subject_id:this.subjectId,exam_question_image:K,remove_image:null===(d=this.questionImageRemove_imageCtrl)||void 0===d?void 0:d.value,exam_question_id:this.questionId};""==re.exam_question_perfect_answer||""==re.exam_question_text&&""==K.FileAsBase64?this.toastr.error("Please Check Your Inputs"):this.questionId>0?this.editTextQuestion(re):this.addTextQuestion(re)}if(2==(null===(m=this.questionTypeIdCtrl)||void 0===m?void 0:m.value)){var ce=this.questionFile||null,he=this.questionImageCtrl,le={choice_id:null!==(c=null===(p=this.answerOneIdCtrl)||void 0===p?void 0:p.value)&&void 0!==c?c:0,choice_text:null===(_=this.answerOneCtrl)||void 0===_?void 0:_.value,is_correct:0===this.answerOneIsCorrectCtrl.value,choice_image:this.answerOneFile||null,remove_image:null===(C=this.answerOneRemove_imageCtrl)||void 0===C?void 0:C.value,path:null===(A=this.answerOneImageCtrl)||void 0===A?void 0:A.value},ue={choice_id:null!==(y=null===(q=this.answerTwoIdCtrl)||void 0===q?void 0:q.value)&&void 0!==y?y:0,choice_text:null===(N=this.answerTwoCtrl)||void 0===N?void 0:N.value,is_correct:!!(null===(E=this.answerTwoIsCorrectCtrl)||void 0===E?void 0:E.value),choice_image:this.answerTwoFile||null,remove_image:null===(k=this.answerTwoRemove_imageCtrl)||void 0===k?void 0:k.value,path:null===(V=this.answerTwoImageCtrl)||void 0===V?void 0:V.value},be={choice_id:null!==(R=null===(D=this.answerThreeIdCtrl)||void 0===D?void 0:D.value)&&void 0!==R?R:0,choice_text:null===(j=this.answerThreeCtrl)||void 0===j?void 0:j.value,is_correct:!!(null===(P=this.answerThreeIsCorrectCtrl)||void 0===P?void 0:P.value),choice_image:this.answerThreeFile||null,remove_image:null===(f=this.answerThreeRemove_imageCtrl)||void 0===f?void 0:f.value,path:null===(g=this.answerThreeImageCtrl)||void 0===g?void 0:g.value},Je={choice_id:null!==(T=null===(v=this.answerFourIdCtrl)||void 0===v?void 0:v.value)&&void 0!==T?T:0,choice_text:null===(I=this.answerFourCtrl)||void 0===I?void 0:I.value,is_correct:!!(null===(b=this.answerFourIsCorrectCtrl)||void 0===b?void 0:b.value),choice_image:this.answerFourFile||null,remove_image:null===(w=this.answerFourRemove_imageCtrl)||void 0===w?void 0:w.value,path:null===(Y=this.answerFourImageCtrl)||void 0===Y?void 0:Y.value},Fe={exam_question_main_question:null===(O=this.mainQuestionCtrl)||void 0===O?void 0:O.value,exam_question_mark:null===(U=this.questionMarkCtrl)||void 0===U?void 0:U.value,exam_question_perfect_answer:null===(L=this.questionPerfectAnswerCtrl)||void 0===L?void 0:L.value,exam_question_text:null===(M=this.questionTextCtrl)||void 0===M?void 0:M.value,exam_question_type_id:null===(ne=this.questionTypeIdCtrl)||void 0===ne?void 0:ne.value,exam_selected_question_head_id:this.examGroupHeaderId,exam_selected_subject_id:this.subjectId,exam_question_image:ce,remove_image:null===(ie=this.questionImageRemove_imageCtrl)||void 0===ie?void 0:ie.value,exam_question_id:this.questionId,mcq_choices:[le,ue,be,Je]};if(console.log("FormValue",Fe),!(null===(te=this.questionTextCtrl)||void 0===te?void 0:te.value)&&null==ce&&null==he)return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 \u0627\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0647 \u0627\u0644\u0633\u0624\u0627\u0644");if(!(le.is_correct||ue.is_correct||be.is_correct||Je.is_correct))return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0627\u0644\u0635\u062d\u064a\u062d\u0629");if(""===le.choice_text&&null===le.choice_image&&null==le.path)return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 \u0627\u0644\u0623\u0648\u0644 \u0627\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0629 ");if(""===ue.choice_text&&null===ue.choice_image&&null==ue.path)return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 \u0627\u0644\u062b\u0627\u0646\u064a \u0627\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0629 ");this.questionId>0?this.editMcqQuestion(Fe):this.addMcqQuestion(Fe)}}},{key:"addTextQuestion",value:function(t){var a=this;this.spinner.show(),this.examService.addQuestion(t).subscribe(function(o){var r,s,u,d,m,p,c,_;200==o.returnValue?(a.getAllQuestionsByHeadId(),null===(r=a.mainQuestionCtrl)||void 0===r||r.setValue(null),null===(s=a.questionMarkCtrl)||void 0===s||s.setValue(null),null===(u=a.questionTypeIdCtrl)||void 0===u||u.setValue(null),null===(d=a.questionImageCtrl)||void 0===d||d.setValue(null),null===(m=a.questionTextCtrl)||void 0===m||m.setValue(null),null===(p=a.questionPerfectAnswerCtrl)||void 0===p||p.setValue(null),null===(c=a.unitIdCtrl)||void 0===c||c.setValue(null),null===(_=a.lessonIdCtrl)||void 0===_||_.setValue(null),a.myForm.reset()):0==o.returnValue&&a.dialog.open(we,{data:o,autoFocus:!1,width:"30vw",minWidth:"250px"}),a.spinner.hide()})}},{key:"editTextQuestion",value:function(t){var a=this;this.spinner.show(),this.examService.editQuestion(t).subscribe(function(o){var r,s,u,d,m,p,c,_,C,A;if(o){var q=a.questionsInGrid.find(function(y){return y.Id==a.questionId});q&&(q.Text=null===(r=a.questionTextCtrl)||void 0===r?void 0:r.value,q.QuestionTypeAr="\u0645\u0642\u0627\u0644",q.Image=null===(s=a.questionImageCtrl)||void 0===s?void 0:s.value),null===(u=a.mainQuestionCtrl)||void 0===u||u.setValue(null),null===(d=a.questionMarkCtrl)||void 0===d||d.setValue(null),null===(m=a.questionTypeIdCtrl)||void 0===m||m.setValue(null),null===(p=a.questionImageCtrl)||void 0===p||p.setValue(null),null===(c=a.questionTextCtrl)||void 0===c||c.setValue(null),null===(_=a.questionPerfectAnswerCtrl)||void 0===_||_.setValue(null),null===(C=a.unitIdCtrl)||void 0===C||C.setValue(null),null===(A=a.lessonIdCtrl)||void 0===A||A.setValue(null),a.myForm.reset(),a.questionId=0}a.spinner.hide()})}},{key:"addMcqQuestion",value:function(t){var a=this;this.myForm.valid&&(this.spinner.show(),this.examService.addQuestion(t).subscribe(function(o){var r,s,u,d,m,p,c,_;200==o.returnValue?(a.getAllQuestionsByHeadId(),null===(r=a.mainQuestionCtrl)||void 0===r||r.setValue(null),null===(s=a.questionMarkCtrl)||void 0===s||s.setValue(null),null===(u=a.questionTypeIdCtrl)||void 0===u||u.setValue(null),null===(d=a.questionImageCtrl)||void 0===d||d.setValue(null),null===(m=a.questionTextCtrl)||void 0===m||m.setValue(null),null===(p=a.questionPerfectAnswerCtrl)||void 0===p||p.setValue(null),null===(c=a.unitIdCtrl)||void 0===c||c.setValue(null),null===(_=a.lessonIdCtrl)||void 0===_||_.setValue(null),a.myForm.reset(),a.submitted=!1):0==o.returnValue&&a.dialog.open(we,{data:o,autoFocus:!1,width:"30vw",minWidth:"250px"}),a.spinner.hide()}))}},{key:"editMcqQuestion",value:function(t){var a=this;console.log("editMcqQuestion",t),this.myForm.valid&&(this.spinner.show(),this.examService.editQuestion(t).subscribe(function(o){var r,s,u,d,m,p,c,_;console.log("editMcqQuestion",o),o&&(a.getAllQuestionsByHeadId(),null===(r=a.mainQuestionCtrl)||void 0===r||r.setValue(null),null===(s=a.questionMarkCtrl)||void 0===s||s.setValue(null),null===(u=a.questionTypeIdCtrl)||void 0===u||u.setValue(null),null===(d=a.questionImageCtrl)||void 0===d||d.setValue(null),null===(m=a.questionTextCtrl)||void 0===m||m.setValue(null),null===(p=a.questionPerfectAnswerCtrl)||void 0===p||p.setValue(null),null===(c=a.unitIdCtrl)||void 0===c||c.setValue(null),null===(_=a.lessonIdCtrl)||void 0===_||_.setValue(null),a.myForm.reset(),a.submitted=!1,a.questionId=0),a.spinner.hide()}))}},{key:"getQuestionForEditByID",value:function(t){var a=this;this.spinner.show(),this.examService.getQuestionForEditByID(t).subscribe(function(o){var r,s,u,d,m,p,c,_,C,A,q,y,N,E,k,V,D,R,j,P,f,g,v,T,I,b,w,Y,O,U,L,M,ne,ie,te,K,re,ce,he,_e,le,ve,ue,xe,be,qe;console.log("getQuestionForEditByID",o),o&&(null===(r=a.mainQuestionCtrl)||void 0===r||r.setValue(o.main_question),null===(s=a.questionMarkCtrl)||void 0===s||s.setValue(o.mark),null===(u=a.questionTextCtrl)||void 0===u||u.setValue(o.question_text),null===(d=a.questionImageCtrl)||void 0===d||d.setValue(null!=(null==o?void 0:o.attach_path)?"mozakretyapi"+(null==o?void 0:o.attach_path):null),null===(m=a.questionTypeIdCtrl)||void 0===m||m.setValue(o.question_type_id),a.questionId=t,1==o.question_type_id&&(null===(p=a.questionPerfectAnswerCtrl)||void 0===p||p.setValue(o.perfect_answer)),2==o.question_type_id&&(null===(c=a.answerOneIdCtrl)||void 0===c||c.setValue(null===(_=o.MCQ_Choices[0])||void 0===_?void 0:_.Id),null===(C=a.answerOneCtrl)||void 0===C||C.setValue(null===(A=o.MCQ_Choices[0])||void 0===A?void 0:A.Text),null===(q=a.answerOneImageCtrl)||void 0===q||q.setValue(null!=(null===(y=null==o?void 0:o.MCQ_Choices[0])||void 0===y?void 0:y.Image)?"mozakretyapi"+(null===(N=null==o?void 0:o.MCQ_Choices[0])||void 0===N?void 0:N.Image):null),null===(E=a.answerOneIsCorrectCtrl)||void 0===E||E.setValue(null===(k=o.MCQ_Choices[0])||void 0===k?void 0:k.Is_Correct),a.oneIsCorrect=null===(V=o.MCQ_Choices[0])||void 0===V?void 0:V.Is_Correct,null===(D=a.answerTwoIdCtrl)||void 0===D||D.setValue(null===(R=o.MCQ_Choices[1])||void 0===R?void 0:R.Id),null===(j=a.answerTwoCtrl)||void 0===j||j.setValue(null===(P=o.MCQ_Choices[1])||void 0===P?void 0:P.Text),null===(f=a.answerTwoImageCtrl)||void 0===f||f.setValue(null!=(null===(g=null==o?void 0:o.MCQ_Choices[1])||void 0===g?void 0:g.Image)?"mozakretyapi"+(null===(v=null==o?void 0:o.MCQ_Choices[1])||void 0===v?void 0:v.Image):null),null===(T=a.answerTwoIsCorrectCtrl)||void 0===T||T.setValue(null===(I=o.MCQ_Choices[1])||void 0===I?void 0:I.Is_Correct),a.twoIsCorrect=null===(b=o.MCQ_Choices[1])||void 0===b?void 0:b.Is_Correct,null===(w=a.answerThreeIdCtrl)||void 0===w||w.setValue(null===(Y=o.MCQ_Choices[2])||void 0===Y?void 0:Y.Id),null===(O=a.answerThreeCtrl)||void 0===O||O.setValue(null===(U=o.MCQ_Choices[2])||void 0===U?void 0:U.Text),null===(L=a.answerThreeImageCtrl)||void 0===L||L.setValue(null!=(null===(M=null==o?void 0:o.MCQ_Choices[2])||void 0===M?void 0:M.Image)?"mozakretyapi"+(null===(ne=null==o?void 0:o.MCQ_Choices[2])||void 0===ne?void 0:ne.Image):null),null===(ie=a.answerThreeIsCorrectCtrl)||void 0===ie||ie.setValue(null===(te=o.MCQ_Choices[2])||void 0===te?void 0:te.Is_Correct),a.threeIsCorrect=null===(K=o.MCQ_Choices[2])||void 0===K?void 0:K.Is_Correct,null===(re=a.answerFourIdCtrl)||void 0===re||re.setValue(null===(ce=o.MCQ_Choices[3])||void 0===ce?void 0:ce.Id),null===(he=a.answerFourCtrl)||void 0===he||he.setValue(null===(_e=o.MCQ_Choices[3])||void 0===_e?void 0:_e.Text),null===(le=a.answerFourImageCtrl)||void 0===le||le.setValue(null!=(null===(ve=null==o?void 0:o.MCQ_Choices[3])||void 0===ve?void 0:ve.Image)?"mozakretyapi"+(null===(ue=null==o?void 0:o.MCQ_Choices[3])||void 0===ue?void 0:ue.Image):null),null===(xe=a.answerFourIsCorrectCtrl)||void 0===xe||xe.setValue(null===(be=o.MCQ_Choices[3])||void 0===be?void 0:be.Is_Correct),a.fourIsCorrect=null===(qe=o.MCQ_Choices[3])||void 0===qe?void 0:qe.Is_Correct)),a.spinner.hide()})}},{key:"removeExamQuestion",value:function(t){var a=this;confirm("\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u062d\u0630\u0641")&&(this.spinner.show(),this.examService.deleteExamQuestion(t).subscribe(function(r){if("Done"===r.returnString){var s=a.questionsInGrid.findIndex(function(u){return u.Id==t});a.questionsInGrid.splice(s,1)}else a.toastr.info(r.returnString);a.spinner.hide()}))}},{key:"importFile",value:function(t){var a=this,o=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,d=t.target.files[0].lastModifiedDate;if(t.target.files){var m=new FileReader;m.readAsDataURL(t.target.files[0]),m.onload=function(p){var c=p.target.result,_={FileAsBase64:c,name:o,size:r,type:s,LastModified:u,LastModifiedDate:d};a.questionImageCtrl.setValue(c),a.questionFile=_}}}},{key:"importOneFile",value:function(t){var a=this,o=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,d=t.target.files[0].lastModifiedDate;if(t.target.files){var m=new FileReader;m.readAsDataURL(t.target.files[0]),m.onload=function(p){var c=p.target.result;a.answerOneFile={FileAsBase64:c,name:o,size:r,type:s,LastModified:u,LastModifiedDate:d},a.answerOneImageCtrl.setValue(c)}}}},{key:"importTwoFile",value:function(t){var a=this,o=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,d=t.target.files[0].lastModifiedDate;if(t.target.files){var m=new FileReader;m.readAsDataURL(t.target.files[0]),m.onload=function(p){var c=p.target.result;a.answerTwoFile={FileAsBase64:c,name:o,size:r,type:s,LastModified:u,LastModifiedDate:d},a.answerTwoImageCtrl.setValue(c)}}}},{key:"importThreeFile",value:function(t){var a=this,o=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,d=t.target.files[0].lastModifiedDate;if(t.target.files){var m=new FileReader;m.readAsDataURL(t.target.files[0]),m.onload=function(p){var c=p.target.result;a.answerThreeFile={FileAsBase64:c,name:o,size:r,type:s,LastModified:u,LastModifiedDate:d},a.answerThreeImageCtrl.setValue(c)}}}},{key:"importFourFile",value:function(t){var a=this,o=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,d=t.target.files[0].lastModifiedDate;if(t.target.files){var m=new FileReader;m.readAsDataURL(t.target.files[0]),m.onload=function(p){var c=p.target.result;a.answerFourFile={FileAsBase64:c,name:o,size:r,type:s,LastModified:u,LastModifiedDate:d},a.answerFourImageCtrl.setValue(c)}}}},{key:"getAllUnitsBySublectId",value:function(){var t=this;this.examService.getAllUnitsBySublectId(this.subjectId).subscribe(function(a){t.units=a})}},{key:"getAllLessonsByUnitId",value:function(){var a,t=this;this.examService.getAllLessonsByUnitId(null===(a=this.unitIdCtrl)||void 0===a?void 0:a.value).subscribe(function(o){o&&(t.lessions=o)})}},{key:"onSelectCorrect",value:function(t){var a,o,r,s,u,d,m,p,c,_,C,A,q,y,N,E;console.log("answer is Correct",t),0===t&&(null===(a=this.answerOneIsCorrectCtrl)||void 0===a||a.setValue(0),null===(o=this.answerTwoIsCorrectCtrl)||void 0===o||o.setValue(null),null===(r=this.answerThreeIsCorrectCtrl)||void 0===r||r.setValue(null),null===(s=this.answerFourIsCorrectCtrl)||void 0===s||s.setValue(null)),1===t&&(null===(u=this.answerOneIsCorrectCtrl)||void 0===u||u.setValue(null),null===(d=this.answerTwoIsCorrectCtrl)||void 0===d||d.setValue(1),null===(m=this.answerThreeIsCorrectCtrl)||void 0===m||m.setValue(null),null===(p=this.answerFourIsCorrectCtrl)||void 0===p||p.setValue(null)),2===t&&(null===(c=this.answerOneIsCorrectCtrl)||void 0===c||c.setValue(null),null===(_=this.answerTwoIsCorrectCtrl)||void 0===_||_.setValue(null),null===(C=this.answerThreeIsCorrectCtrl)||void 0===C||C.setValue(2),null===(A=this.answerFourIsCorrectCtrl)||void 0===A||A.setValue(null)),3===t&&(null===(q=this.answerOneIsCorrectCtrl)||void 0===q||q.setValue(null),null===(y=this.answerTwoIsCorrectCtrl)||void 0===y||y.setValue(null),null===(N=this.answerThreeIsCorrectCtrl)||void 0===N||N.setValue(null),null===(E=this.answerFourIsCorrectCtrl)||void 0===E||E.setValue(3))}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(h.qu),e.Y36(fe.R),e.Y36(de.e),e.Y36(ge._W),e.Y36(G.t2),e.Y36(J.WI),e.Y36(J.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-sub-question"]],decls:80,vars:46,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-12"],["appearance","legacy"],["matInput","","type","text","formControlName","mainQuestion"],["class","text-danger",4,"ngIf"],["formControlName","questionTypeId",3,"selectionChange"],[3,"value"],["matInput","","type","number","formControlName","questionMark"],[1,"col-md-8","col-12"],["matInput","","type","text","formControlName","exam_question_text"],[1,"col-12"],["type","file","name","questionImage","accept","image/*",1,"form-control","font-dro","clearInputs",3,"change"],[1,"question-img"],["formControlName","remove_image","class","remove_image",3,"value",4,"ngIf"],[1,"img-fluid",3,"src"],["class","col-12",4,"ngIf"],["class","row",4,"ngIf"],["mat-raised-button","","id","examQuestionsButton","class","btn btn-primary",3,"click",4,"ngIf"],["mat-raised-button","","id","editQuestionButton","class","btn btn-primary",3,"click",4,"ngIf"],[1,"col-md-12"],[1,"full-wid-table",2,"overflow","hidden !important"],["id","sotbmod",1,"table","table-striped","table-hover","table-full-width","rtl"],["id","addedExamQuestionsHolder"],["id","ExamQuestion-2626853",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",1,"btn-danger"],[1,"text-danger"],[4,"ngIf"],["formControlName","remove_image",1,"remove_image",3,"value"],["matInput","","type","text","formControlName","questionPerfectAnswer"],["formControlName","answerOneIsCorrect"],[3,"value","checked","click"],["matInput","","type","text","formControlName","answerOne"],["for","radio-0"],[1,"icon","icon_radio"],["type","file","accept","image/*","name","answerOneImage",1,"form-control","font-dro","clearInputs",3,"change"],["formControlName","answerOneRemove_image","class","remove_image",3,"value",4,"ngIf"],["formControlName","answerTwoIsCorrect"],["matInput","","type","text","formControlName","answerTwo"],["type","file","accept","image/*","name","answerTwoImage",1,"form-control","font-dro","clearInputs",3,"change"],["formControlName","answerTwoRemove_image","class","remove_image",3,"value",4,"ngIf"],["formControlName","answerThreeIsCorrect"],["matInput","","type","text","formControlName","answerThree"],["type","file","accept","image/*","name","answerThreeImage",1,"form-control","font-dro","clearInputs",3,"change"],["formControlName","answerThreeRemove_image","class","remove_image",3,"value",4,"ngIf"],["formControlName","answerFourIsCorrect"],["matInput","","type","text","formControlName","answerFour"],["type","file","accept","image/*","name","answerFourImage",1,"form-control","font-dro","clearInputs",3,"change"],["formControlName","answerFourRemove_image","class","remove_image",3,"value",4,"ngIf"],["formControlName","answerOneRemove_image",1,"remove_image",3,"value"],["formControlName","answerTwoRemove_image",1,"remove_image",3,"value"],["formControlName","answerThreeRemove_image",1,"remove_image",3,"value"],["formControlName","answerFourRemove_image",1,"remove_image",3,"value"],["mat-raised-button","","id","examQuestionsButton",1,"btn","btn-primary",3,"click"],["mat-raised-button","","id","editQuestionButton",1,"btn","btn-primary",3,"click"],["id","ExamQuestion-2626853"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"form",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"mat-form-field",5),e.TgZ(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",6),e.YNc(12,Ni,2,1,"mat-hint",7),e.qZA(),e.qZA(),e.TgZ(13,"div",4),e.TgZ(14,"mat-form-field",5),e.TgZ(15,"mat-label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"mat-select",8),e.NdJ("selectionChange",function(){return t.questionTypeValidation()}),e.TgZ(19,"mat-option"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"mat-option",9),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"mat-option",9),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.qZA(),e.YNc(28,Fi,2,1,"mat-hint",7),e.qZA(),e.qZA(),e.TgZ(29,"div",4),e.TgZ(30,"mat-form-field",5),e.TgZ(31,"mat-label"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",10),e.YNc(35,Di,3,2,"mat-hint",7),e.qZA(),e.qZA(),e.TgZ(36,"div",11),e.TgZ(37,"mat-form-field",5),e.TgZ(38,"mat-label"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"input",12),e.qZA(),e.qZA(),e.TgZ(42,"div",13),e.TgZ(43,"div",3),e.TgZ(44,"div",4),e.TgZ(45,"mat-label"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"input",14),e.NdJ("change",function(o){return t.importFile(o)}),e.qZA(),e.qZA(),e.TgZ(49,"div",11),e.TgZ(50,"div",15),e.YNc(51,ji,2,1,"mat-checkbox",16),e._UZ(52,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(53,Yi,7,4,"div",18),e.qZA(),e._UZ(54,"hr"),e.YNc(55,Ri,109,52,"ng-container",19),e.TgZ(56,"mat-card-actions",13),e.YNc(57,Pi,3,3,"button",20),e.YNc(58,Hi,3,3,"button",21),e.qZA(),e.TgZ(59,"div",22),e.TgZ(60,"div",23),e.TgZ(61,"table",24),e.TgZ(62,"thead"),e.TgZ(63,"tr"),e.TgZ(64,"th"),e._uU(65,"#"),e.qZA(),e.TgZ(66,"th"),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"th"),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"\xad"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"tbody",25),e.YNc(75,Bi,14,3,"tr",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",27),e.TgZ(77,"button",28),e._uU(78,"Close"),e.qZA(),e.qZA(),e._UZ(79,"ngx-spinner")),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,24,"labels.addSubQuestion")),e.xp6(3),e.Q6J("formGroup",t.myForm),e.xp6(5),e.hij("",e.lcZ(10,26,"labels.mainQuestion")," "),e.xp6(3),e.Q6J("ngIf",t.mainQuestionCtrl.invalid&&(t.mainQuestionCtrl.touched||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(17,28,"labels.QuestionType")," "),e.xp6(4),e.hij(" ",e.lcZ(21,30,"General.Choose")," "),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.hij(" ",e.lcZ(24,32,"labels.Article")," "),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.hij(" ",e.lcZ(27,34,"labels.Mcq")," "),e.xp6(2),e.Q6J("ngIf",(null==t.questionTypeIdCtrl?null:t.questionTypeIdCtrl.invalid)&&((null==t.questionTypeIdCtrl?null:t.questionTypeIdCtrl.touched)||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(33,36,"labels.QuestionMark")," "),e.xp6(3),e.Q6J("ngIf",t.questionMarkCtrl.invalid&&(t.questionMarkCtrl.touched||t.submitted)),e.xp6(4),e.hij("",e.lcZ(40,38,"labels.question_ar_text")," "),e.xp6(7),e.hij(" ",e.lcZ(47,40,"labels.QuestionImage")," "),e.xp6(5),e.Q6J("ngIf",t.questionImageCtrl.value),e.xp6(1),e.Q6J("src",null==t.questionImageCtrl?null:t.questionImageCtrl.value,e.LSH),e.xp6(1),e.Q6J("ngIf",1==(null==t.questionTypeIdCtrl?null:t.questionTypeIdCtrl.value)),e.xp6(2),e.Q6J("ngIf",2==(null==t.questionTypeIdCtrl?null:t.questionTypeIdCtrl.value)),e.xp6(2),e.Q6J("ngIf",0==t.questionId),e.xp6(1),e.Q6J("ngIf",t.questionId>0),e.xp6(9),e.Oqu(e.lcZ(68,42,"labels.question_ar_text")),e.xp6(3),e.Oqu(e.lcZ(71,44,"labels.QuestionType")),e.xp6(5),e.Q6J("ngForOf",t.questionsInGrid))},directives:[J.uh,J.xY,h._Y,h.JL,h.sg,F.KE,F.hX,se.Nt,h.Fj,h.JJ,h.u,S.O5,Ce.gD,Te.ey,h.wV,Q.hq,S.sg,J.H8,X.lW,J.ZT,G.Ro,F.bx,je.oG,Q.a8,me.VQ,me.U0,Q.$j,Q.dn,Ee.Hw],pipes:[ae.X$],styles:[".mat-dialog-content[_ngcontent-%COMP%]{max-height:80vh}.mat-card-subtitle[_ngcontent-%COMP%]{margin-top:5px!important}.question-img[_ngcontent-%COMP%]{overflow:hidden!important;max-width:100%!important;max-height:156px!important}.remove_image[_ngcontent-%COMP%]{display:block}"]}),n}(),Se=x(1059),Ve=x(4850),Ye=x(1079);function $i(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Navbar.newexam")," "))}function Wi(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.AsE(" ",e.lcZ(2,2,"labels.EditExam")," - ",i.exam_ar_name," ")}}function Xi(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.country_id),e.xp6(1),e.hij(" ",i.country_ar_name," ")}}function Ki(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function ea(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Ki,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.myForm.countryIdCtrl||null==i.myForm.countryIdCtrl.errors?null:i.myForm.countryIdCtrl.errors.required)}}function ta(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.stage_ar_name," ")}}function na(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function ia(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,na,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.myForm.stageIdCtrl||null==i.myForm.stageIdCtrl.errors?null:i.myForm.stageIdCtrl.errors.required)}}function aa(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.Educational_year_ar_name," ")}}function la(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function oa(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,la,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.educationYearIdCtrl||null==i.educationYearIdCtrl.errors?null:i.educationYearIdCtrl.errors.required)}}function ra(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.subject_id),e.xp6(1),e.hij(" ",i.subject_ar_name," ")}}function sa(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function ua(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,sa,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.subjectIdCtrl||null==i.subjectIdCtrl.errors?null:i.subjectIdCtrl.errors.required)}}function da(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.teacherUserId),e.xp6(1),e.hij(" ",i.teacher_ar_name," ")}}function ma(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function ca(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,ma,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.teacherUserIdCtrl||null==i.teacherUserIdCtrl.errors?null:i.teacherUserIdCtrl.errors.required)}}function pa(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.exam_type_id),e.xp6(1),e.hij(" ",i.exam_ar_type_name," ")}}function ha(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function _a(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,ha,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.examTypeIdCtrl||null==i.examTypeIdCtrl.errors?null:i.examTypeIdCtrl.errors.required)}}function ga(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.unit_ar_name," ")}}function fa(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function va(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,fa,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.unitIdCtrl||null==i.unitIdCtrl.errors?null:i.unitIdCtrl.errors.required)}}function Za(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.lesson_ar_name," ")}}function Ca(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Ta(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Ca,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.lessionIdCtrl||null==i.lessionIdCtrl.errors?null:i.lessionIdCtrl.errors.required)}}function Ia(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Aa(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function ba(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Ia,3,3,"span",2),e.YNc(2,Aa,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.examNameCtrl||null==i.examNameCtrl.errors?null:i.examNameCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.examNameCtrl||null==i.examNameCtrl.errors?null:i.examNameCtrl.errors.whiteSpace)}}function xa(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function qa(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,xa,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.examHoursCtrl||null==i.examHoursCtrl.errors?null:i.examHoursCtrl.errors.required)}}function ya(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Qa(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,ya,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.examMinutesCtrl||null==i.examMinutesCtrl.errors?null:i.examMinutesCtrl.errors.required)}}function Ua(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Ea(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Ua,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.examPriceCtrl||null==i.examPriceCtrl.errors?null:i.examPriceCtrl.errors.required)}}function Na(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function wa(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Fa(n,l){if(1&n&&(e.TgZ(0,"mat-hint",58),e.YNc(1,Na,3,3,"span",2),e.YNc(2,wa,3,3,"span",2),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.repeatNumbersCtrl||null==i.repeatNumbersCtrl.errors?null:i.repeatNumbersCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.repeatNumbersCtrl||null==i.repeatNumbersCtrl.errors?null:i.repeatNumbersCtrl.errors.bigZero)}}function La(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ka(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Da(n,l){if(1&n&&(e.TgZ(0,"mat-hint",58),e.YNc(1,La,3,3,"span",2),e.YNc(2,ka,3,3,"span",2),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.repeatingPriceCtrl||null==i.repeatingPriceCtrl.errors?null:i.repeatingPriceCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.repeatingPriceCtrl||null==i.repeatingPriceCtrl.errors?null:i.repeatingPriceCtrl.errors.minusNum)}}function ja(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e.TgZ(2,"mat-form-field",7),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",55),e.YNc(7,Fa,3,2,"mat-hint",56),e.qZA(),e.qZA(),e.TgZ(8,"div",45),e.TgZ(9,"mat-form-field",7),e.TgZ(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",57),e.YNc(14,Da,3,2,"mat-hint",56),e.qZA(),e.qZA(),e.BQk()),2&n){var i=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,"labels.repeatNumbers")),e.xp6(3),e.Q6J("ngIf",(null==i.repeatNumbersCtrl?null:i.repeatNumbersCtrl.invalid)&&((null==i.repeatNumbersCtrl?null:i.repeatNumbersCtrl.touched)||i.submitted)),e.xp6(4),e.Oqu(e.lcZ(12,6,"labels.repeatingPrice")),e.xp6(3),e.Q6J("ngIf",(null==i.repeatingPriceCtrl?null:i.repeatingPriceCtrl.invalid)&&((null==i.repeatingPriceCtrl?null:i.repeatingPriceCtrl.touched)||i.submitted))}}function Sa(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).onSubmit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Update")," "))}function Va(n,l){if(1&n&&(e.TgZ(0,"mat-card-actions",51),e.YNc(1,Sa,3,3,"button",52),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.examId>0)}}function Ya(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.question_group_ar_name),e.xp6(1),e.hij(" ",i.question_group_ar_name," ")}}function Ja(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Oa(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Ja,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.examGroupCtrl||null==i.examGroupCtrl.errors?null:i.examGroupCtrl.errors.required)}}function Ma(n,l){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.question_head_ar_name),e.xp6(1),e.hij(" ",i.question_head_ar_name," ")}}function Ga(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Ra(n,l){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Ga,3,3,"span",2),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.examHeaderCtrl||null==i.examHeaderCtrl.errors?null:i.examHeaderCtrl.errors.required)}}function Pa(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(i),e.oxw().onSubmit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function Ha(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(i),e.oxw().onAddExamGroupHeader()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.AddQuestion")," "))}function Ba(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(i),e.oxw().editExamGroupHead()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.UpdateQuestion")," "))}function za(n,l){1&n&&(e.TgZ(0,"th",73),e._uU(1,"#"),e.qZA())}function $a(n,l){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){var i=l.index;e.xp6(1),e.hij(" ",i+1," ")}}function Wa(n,l){1&n&&(e.TgZ(0,"th",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.\u064eQuestionNumber")," "))}function Xa(n,l){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.hij(" ",i.questionNumber," ")}}function Ka(n,l){1&n&&(e.TgZ(0,"th",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.QuestionHeader")," "))}function el(n,l){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.hij(" ",i.questionType," ")}}function tl(n,l){1&n&&(e.TgZ(0,"th",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.\u064eQuestionContent")," "))}function nl(n,l){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.hij(" ",i.question_title," ")}}function il(n,l){1&n&&(e.TgZ(0,"th",73),e._uU(1," actions "),e.qZA())}function al(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",79),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(2).$implicit;return e.oxw(2).getExamHeadById(a)}),e._UZ(1,"i",80),e.qZA()}}function ll(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",81),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(2).$implicit;return e.oxw(2).openDeleateDialog(a)}),e._UZ(1,"i",82),e.qZA()}}function ol(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",83),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(2).$implicit;return e.oxw(2).addSubQuestionDialog(a)}),e._UZ(1,"i",84),e.qZA()}}function rl(n,l){if(1&n&&(e.ynx(0),e.YNc(1,al,2,0,"a",76),e.YNc(2,ll,2,0,"a",77),e.YNc(3,ol,2,0,"a",78),e.BQk()),2&n){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf","EditGroup"===i.functionName),e.xp6(1),e.Q6J("ngIf","DeleteGroup"===i.functionName),e.xp6(1),e.Q6J("ngIf","addSubQuestion"===i.functionName)}}function sl(n,l){if(1&n&&(e.TgZ(0,"td",74),e.YNc(1,rl,4,3,"ng-container",75),e.qZA()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",i.rowFunctions)}}function ul(n,l){1&n&&e._UZ(0,"tr",85)}function dl(n,l){1&n&&e._UZ(0,"tr",86)}function ml(n,l){if(1&n&&(e.TgZ(0,"tr",87),e.TgZ(1,"td",88),e._uU(2),e.qZA(),e.qZA()),2&n){var i=e.oxw(2);e.xp6(2),e.hij(' No data matching the filter "',i.input.value,'" ')}}var cl=function(){return[10]};function pl(n,l){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-card"),e.TgZ(3,"mat-card-title"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"mat-card-content",4),e.TgZ(7,"div",0),e.TgZ(8,"div",1),e.TgZ(9,"div",60),e.TgZ(10,"table",61),e.ynx(11,62),e.YNc(12,za,2,0,"th",63),e.YNc(13,$a,2,1,"td",64),e.BQk(),e.ynx(14,65),e.YNc(15,Wa,3,3,"th",63),e.YNc(16,Xa,2,1,"td",64),e.BQk(),e.ynx(17,66),e.YNc(18,Ka,3,3,"th",63),e.YNc(19,el,2,1,"td",64),e.BQk(),e.ynx(20,67),e.YNc(21,tl,3,3,"th",63),e.YNc(22,nl,2,1,"td",64),e.BQk(),e.ynx(23,68),e.YNc(24,il,2,0,"th",63),e.YNc(25,sl,2,1,"td",64),e.BQk(),e.YNc(26,ul,1,0,"tr",69),e.YNc(27,dl,1,0,"tr",70),e.YNc(28,ml,3,1,"tr",71),e.qZA(),e._UZ(29,"mat-paginator",72),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){var i=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,5,"labels.QuestionsGroup"),""),e.xp6(6),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(7,cl))}}var hl=function(l){return{functionId:l}},_l=function(){var n=function(){function l(i,t,a,o,r,s,u,d,m,p){var c=this;(0,$.Z)(this,l),this.location=i,this.fb=t,this.authserv=a,this.examService=o,this.route=r,this.router=s,this.msg=u,this.generalService=d,this.dialog=m,this.spinner=p,this.countries=[],this.stages=[],this.educationYears=[],this.subjects=[],this.examTypes=[],this.units=[],this.lessions=[],this.discountTypes=[],this.examGroups=[],this.examHeaders=[],this.GroupsHeadersList=[],this.examGroupHeaderIdToEdit=0,this.displayedColumns=["#","questionNumber","questionType","question_title","actions"],this.submitted=!1,this.GroupHeadsubmitted=!1,this.examId=0,this.editGroupHeaderMode=!1,this.isRepeatableExam=!1,this.isSendWhats=!1,this.examGroupHeaderId=0,this.route.queryParamMap.subscribe(function(_){c.examId=Number(_.get("examId")),c.examId>0&&(c.getExamById(),c.getAllGroupHeaderByExamId()),c.functionId=Number(_.get("functionId")),c.functionId&&c.authserv.getUserRowFunctions(c.functionId).subscribe(function(C){C&&(c.rowFunctions=C)})})}return(0,z.Z)(l,[{key:"countryIdCtrl",get:function(){return this.myForm.get("countryId")}},{key:"stageIdCtrl",get:function(){return this.myForm.get("stageId")}},{key:"educationYearIdCtrl",get:function(){return this.myForm.get("educationYearId")}},{key:"subjectIdCtrl",get:function(){return this.myForm.get("subjectId")}},{key:"teacherUserIdCtrl",get:function(){return this.myForm.get("teacherUserId")}},{key:"examTypeIdCtrl",get:function(){return this.myForm.get("examTypeId")}},{key:"unitIdCtrl",get:function(){return this.myForm.get("unitId")}},{key:"lessionIdCtrl",get:function(){return this.myForm.get("lessionId")}},{key:"examNameCtrl",get:function(){return this.myForm.get("examName")}},{key:"examHoursCtrl",get:function(){return this.myForm.get("examHours")}},{key:"examMinutesCtrl",get:function(){return this.myForm.get("examMinutes")}},{key:"examPriceCtrl",get:function(){return this.myForm.get("examPrice")}},{key:"discountCtrl",get:function(){return this.myForm.get("discount")}},{key:"discountTypeCtrl",get:function(){return this.myForm.get("discountType")}},{key:"fromDateCtrl",get:function(){return this.myForm.get("fromDate")}},{key:"toDateCtrl",get:function(){return this.myForm.get("toDate")}},{key:"formHourCtrl",get:function(){return this.myForm.get("formHour")}},{key:"toHoursCtrl",get:function(){return this.myForm.get("toHours")}},{key:"resualtDateCtrl",get:function(){return this.myForm.get("resualtDate")}},{key:"resualtTimeCtrl",get:function(){return this.myForm.get("resualtTime")}},{key:"canSellIndividuallyCtrl",get:function(){return this.myForm.get("canSellIndividually")}},{key:"isRepeatableCtrl",get:function(){return this.myForm.get("isRepeatable")}},{key:"repeatNumbersCtrl",get:function(){return this.myForm.get("repeatNumbers")}},{key:"repeatingPriceCtrl",get:function(){return this.myForm.get("repeatingPrice")}},{key:"hasCustomDiscountCtrl",get:function(){return this.myForm.get("hasCustomDiscount")}},{key:"sendWhatsAppMsgCtrl",get:function(){return this.myForm.get("sendWhatsAppMsg")}},{key:"examGroupCtrl",get:function(){return this.GroupHeadersForm.get("examGroup")}},{key:"examHeaderCtrl",get:function(){return this.GroupHeadersForm.get("examHeader")}},{key:"examContentCtrl",get:function(){return this.GroupHeadersForm.get("examContent")}},{key:"isPublishCtrl",get:function(){return this.myForm.get("isPublish")}},{key:"ngOnInit",value:function(){var t,a,o,r,s,u;this.myForm=this.fb.group({countryId:[""],stageId:[""],educationYearId:[""],subjectId:["",[h.kI.required]],teacherUserId:["",[h.kI.required]],examTypeId:["",[h.kI.required]],unitId:[""],lessionId:[""],examName:["",[h.kI.required,W.D.whiteSpace]],examHours:["",[h.kI.required,W.D.minusNum]],examMinutes:["",[h.kI.required,W.D.minusNum]],examPrice:[0,[h.kI.required,W.D.minusNum]],discount:[""],discountType:[""],fromDate:[""],toDate:[""],formHour:[""],toHours:[""],resualtDate:[""],resualtTime:[""],canSellIndividually:[!0,h.kI.required],isRepeatable:[!1,h.kI.required],repeatNumbers:[""],repeatingPrice:[0],hasCustomDiscount:[!1,h.kI.required],sendWhatsAppMsg:[!1,h.kI.required],isPublish:[0]}),this.GroupHeadersForm=this.fb.group({examGroup:["",h.kI.required],examHeader:["",h.kI.required],examContent:[""]}),this.EduCompId=this.authserv.getEduCompId(),this.branchId=this.authserv.getBranchId(),null===(t=this.stageIdCtrl)||void 0===t||t.disable(),null===(a=this.educationYearIdCtrl)||void 0===a||a.disable(),null===(o=this.subjectIdCtrl)||void 0===o||o.disable(),null===(r=this.teacherUserIdCtrl)||void 0===r||r.disable(),null===(s=this.unitIdCtrl)||void 0===s||s.disable(),null===(u=this.lessionIdCtrl)||void 0===u||u.disable(),this.getAllCountieres(),this.getAllExamTypes(),this.getAllQuestionGroups(),this.getAllQuestionHeaders(),this.examTypeValidator(),this.RepeatableValidator()}},{key:"ngAfterViewInit",value:function(){var t=this;this.authserv.EduCompId.subscribe(function(a){t.EduCompId=a.EduCompId}),this.authserv.branchId.subscribe(function(a){t.branchId=a.branchId}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"filter_question_group",value:function(t){var a=t.toLowerCase();return this.examGroups.filter(function(o){return o.question_group_ar_name.toLowerCase().includes(a)})}},{key:"filter_question_header",value:function(t){var a=t.toLowerCase();return this.examHeaders.filter(function(o){return o.question_head_ar_name.toLowerCase().includes(a)})}},{key:"getExamById",value:function(){var t=this;this.spinner.show(),this.examService.getExamById(this.examId).subscribe(function(a){var o,r,s,u,d,m,p,c,_,C,A,q,y,N,E,k,V,D,R,j,P,f,g,v,T,I,b,w,Y,O,U,L,M,ne,ie,te,K,re,ce,he,_e,le;if(a){null===(o=t.stageIdCtrl)||void 0===o||o.enable(),null===(r=t.educationYearIdCtrl)||void 0===r||r.enable(),null===(s=t.subjectIdCtrl)||void 0===s||s.enable(),null===(u=t.teacherUserIdCtrl)||void 0===u||u.enable(),null===(d=t.unitIdCtrl)||void 0===d||d.enable(),null===(m=t.lessionIdCtrl)||void 0===m||m.enable(),null===(p=t.toHoursCtrl)||void 0===p||p.setValue(null==a?void 0:a.toHour),null===(c=t.isPublishCtrl)||void 0===c||c.setValue(null==a?void 0:a.isPublish),null===(_=t.discountCtrl)||void 0===_||_.setValue(null==a?void 0:a.Discount),null===(C=t.examNameCtrl)||void 0===C||C.setValue(null==a?void 0:a.exam_ar_name),t.exam_ar_name=null==a?void 0:a.exam_ar_name,null===(A=t.formHourCtrl)||void 0===A||A.setValue(null==a?void 0:a.fromHour),null===(q=t.examPriceCtrl)||void 0===q||q.setValue(null==a?void 0:a.price),null===(y=t.resualtTimeCtrl)||void 0===y||y.setValue(null==a?void 0:a.ResultTime),null===(N=t.discountTypeCtrl)||void 0===N||N.setValue(null==a?void 0:a.DiscountType),null===(E=t.isRepeatableCtrl)||void 0===E||E.setValue(null==a?void 0:a.repeatableExam),t.isRepeatableExam=null==a?void 0:a.repeatableExam,null===(k=t.repeatNumbersCtrl)||void 0===k||k.setValue(null==a?void 0:a.repeatableExam_Count),null===(V=t.sendWhatsAppMsgCtrl)||void 0===V||V.setValue(null==a?void 0:a.SendWhatsApp),t.isSendWhats=null==a?void 0:a.SendWhatsApp,null===(D=t.hasCustomDiscountCtrl)||void 0===D||D.setValue((null==a?void 0:a.Discount)>0),null===(R=t.canSellIndividuallyCtrl)||void 0===R||R.setValue(null==a?void 0:a.Individually_Purchased),null===(j=t.countryIdCtrl)||void 0===j||j.setValue(a.countryId),null===(P=t.repeatingPriceCtrl)||void 0===P||P.setValue(a.StudentRepeatExamCost);var ve=a.exam_period_minute%60,ue=(a.exam_period_minute-ve)/60;null===(f=t.examMinutesCtrl)||void 0===f||f.setValue(ve),null===(g=t.examHoursCtrl)||void 0===g||g.setValue(ue),null!=a.Lesson_ID&&(null===(v=t.examTypeIdCtrl)||void 0===v||v.setValue(1)),null!=(null==a?void 0:a.Unit_ID)&&null==a.Lesson_ID&&(null===(T=t.examTypeIdCtrl)||void 0===T||T.setValue(2)),null!=(null==a?void 0:a.Subject_ID)&&null==(null==a?void 0:a.Unit_ID)&&null==a.Lesson_ID&&(null===(I=t.examTypeIdCtrl)||void 0===I||I.setValue(3)),null==(null==a?void 0:a.Subject_ID)&&null==(null==a?void 0:a.Unit_ID)&&null==a.Lesson_ID&&(null===(b=t.examTypeIdCtrl)||void 0===b||b.setValue(4)),null===(w=t.fromDateCtrl)||void 0===w||w.setValue(a.Avilable_Date_From),null===(Y=t.toDateCtrl)||void 0===Y||Y.setValue(a.Avilable_Date_To),null===(O=t.resualtDateCtrl)||void 0===O||O.setValue(a.ResultDate),null===(U=t.countryIdCtrl)||void 0===U||U.setValue(1),t.onSelectCountry(),null===(L=t.stageIdCtrl)||void 0===L||L.setValue(a.stageId),t.onSelectStages(),null===(M=t.educationYearIdCtrl)||void 0===M||M.setValue(a.eduYearId),t.onSelectEducationYears(),null===(ne=t.subjectIdCtrl)||void 0===ne||ne.setValue(null==a?void 0:a.Subject_ID),t.onSelectSubjects(),null===(ie=t.teacherUserIdCtrl)||void 0===ie||ie.setValue(null==a?void 0:a.teacherUserId),null===(te=t.unitIdCtrl)||void 0===te||te.setValue(null==a?void 0:a.Unit_ID),t.onSelectUnit(),null===(K=t.lessionIdCtrl)||void 0===K||K.setValue(null==a?void 0:a.Lesson_ID),null===(re=t.stageIdCtrl)||void 0===re||re.setValue(a.stageId),null===(ce=t.educationYearIdCtrl)||void 0===ce||ce.setValue(a.eduYearId),null===(he=t.subjectIdCtrl)||void 0===he||he.setValue(null==a?void 0:a.Subject_ID),null===(_e=t.teacherUserIdCtrl)||void 0===_e||_e.setValue(null==a?void 0:a.teacherUserId),null===(le=t.unitIdCtrl)||void 0===le||le.setValue(null==a?void 0:a.Unit_ID)}t.spinner.hide()})}},{key:"getAllGroupHeaderByExamId",value:function(){var t=this;this.examService.getAllGroupHeaderByExamId(this.examId).subscribe(function(a){a&&(t.GroupsHeadersList=a,t.dataSource=new Z.by(a),t.itemsCount=a.length)})}},{key:"getAllQuestionGroups",value:function(){var t=this;this.examService.getAllQuestionGroups().subscribe(function(a){a&&(t.examGroups=a,t.filteredExamGroups=t.examGroupCtrl.valueChanges.pipe((0,Se.O)(""),(0,Ve.U)(function(o){return t.filter_question_group(o||"")})))})}},{key:"getAllQuestionHeaders",value:function(){var t=this;this.examService.getAllQuestionHeaders().subscribe(function(a){a&&(t.examHeaders=a,t.filteredExamHeaders=t.examHeaderCtrl.valueChanges.pipe((0,Se.O)(""),(0,Ve.U)(function(o){return t.filter_question_header(o||"")})))})}},{key:"onSubmit",value:function(){var t,a,o,r,s,u,d,m,p,c,_,C,A,q,y,N,E,k,V,D,R,j,P,f,g,v,T,I={id:this.examId,Avilable_Date_From:null===(t=this.fromDateCtrl)||void 0===t?void 0:t.value,Avilable_Date_To:null===(a=this.toDateCtrl)||void 0===a?void 0:a.value,CustomDiscountApplied:null===(o=this.hasCustomDiscountCtrl)||void 0===o?void 0:o.value,Discount:null===(r=this.discountCtrl)||void 0===r?void 0:r.value,DiscountType:null===(s=this.discountTypeCtrl)||void 0===s?void 0:s.value,EduCompId:this.EduCompId,Individually_Purchased:null===(u=this.canSellIndividuallyCtrl)||void 0===u?void 0:u.value,ResultDate:null===(d=this.resualtDateCtrl)||void 0===d?void 0:d.value,ResultTime:null===(m=this.resualtTimeCtrl)||void 0===m?void 0:m.value,SendWhatsApp:null===(p=this.sendWhatsAppMsgCtrl)||void 0===p?void 0:p.value,StudentRepeatExamCost:null===(c=this.repeatingPriceCtrl)||void 0===c?void 0:c.value,exam_ar_name:null===(_=this.examNameCtrl)||void 0===_?void 0:_.value,fromHour:null===(C=this.formHourCtrl)||void 0===C?void 0:C.value,lesson_ID:null===(A=this.lessionIdCtrl)||void 0===A?void 0:A.value,price:null===(q=this.examPriceCtrl)||void 0===q?void 0:q.value,repeatableExam:null===(y=this.isRepeatableCtrl)||void 0===y?void 0:y.value,repeatableExam_Count:null===(N=this.repeatNumbersCtrl)||void 0===N?void 0:N.value,subject_ID:null===(E=this.subjectIdCtrl)||void 0===E?void 0:E.value,teacherUserId:null===(k=this.teacherUserIdCtrl)||void 0===k?void 0:k.value,teacher_subject_id:null===(V=this.subjectIdCtrl)||void 0===V?void 0:V.value,toHour:null===(D=this.toHoursCtrl)||void 0===D?void 0:D.value,unit_ID:null===(R=this.unitIdCtrl)||void 0===R?void 0:R.value,exam_hour:null===(j=this.examHoursCtrl)||void 0===j?void 0:j.value,exam_minute:null===(P=this.examMinutesCtrl)||void 0===P?void 0:P.value,isPublish:null===(f=this.isPublishCtrl)||void 0===f?void 0:f.value},b={exam_hour:null===(g=this.examHoursCtrl)||void 0===g?void 0:g.value,exam_minute:null===(v=this.examMinutesCtrl)||void 0===v?void 0:v.value,exam_type_id:null===(T=this.examTypeIdCtrl)||void 0===T?void 0:T.value,exam:I};this.addExam(b)}},{key:"addExam",value:function(t){var o,r,a=this,s=this.GroupHeadersForm.valid;if(this.submitted=!0,0!=this.examId||s){if(1==(null===(o=this.hasCustomDiscountCtrl)||void 0===o?void 0:o.value)&&this.repeatNumbersCtrl.value<=0)return void this.msg.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0639\u062f\u062f \u0645\u0631\u0627\u062a \u0627\u0644\u062a\u0643\u0631\u0627\u0631");if(1==(null===(r=this.hasCustomDiscountCtrl)||void 0===r?void 0:r.value)&&this.repeatingPriceCtrl.value<0)return void this.msg.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0633\u0639\u0631 \u062a\u062c\u062f\u064a\u062f \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646 ");this.myForm.valid?(this.spinner.show(),this.examService.addExam(t).subscribe(function(u){200==u.returnValue&&u.examId>0&&(a.examId=u.examId,a.router.navigate([],{queryParams:{examId:u.examId},queryParamsHandling:"merge"}),a.onAddExamGroupHeader(),a.msg.success("\u062a\u0645 \u0627\u0636\u0627\u0641\u0629/ \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646 \u0628\u0646\u062c\u0627\u062d"),a.submitted=!1),a.spinner.hide()})):this.msg.error("Check your inputs")}else this.GroupHeadsubmitted=!0}},{key:"onAddExamGroupHeader",value:function(){var a,o,r,s,u,t=this;if(null===(o=null===(a=this.dataSource)||void 0===a?void 0:a.data)||void 0===o?void 0:o.find(function(c){var _,C;return c.group_name==(null===(_=t.examGroupCtrl)||void 0===_?void 0:_.value)&&c.head_name==(null===(C=t.examHeaderCtrl)||void 0===C?void 0:C.value)}))this.msg.info("Cannot add the same header with same group");else{var p={exam_question_group_text:null===(r=this.examGroupCtrl)||void 0===r?void 0:r.value,exam_question_head_title:null===(s=this.examContentCtrl)||void 0===s?void 0:s.value,exam_question_head_text:null===(u=this.examHeaderCtrl)||void 0===u?void 0:u.value,exam:{id:this.examId}};this.GroupHeadersForm.valid?(this.spinner.show(),this.examService.addExamGroupHeader(p).subscribe(function(c){var q;c&&(t.getAllGroupHeaderByExamId(),t.msg.success("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629"),t.examGroupCtrl,t.examHeaderCtrl,t.examContentCtrl,null===(q=t.examContentCtrl)||void 0===q||q.setValue(null),t.spinner.hide())})):0==this.examId&&this.msg.error("Check your inputs")}}},{key:"getExamHeadById",value:function(t){var a,o,r;this.editGroupHeaderMode=!0,this.examGroupHeaderIdToEdit=t.id,null===(a=this.examGroupCtrl)||void 0===a||a.setValue(null==t?void 0:t.questionNumber),null===(o=this.examContentCtrl)||void 0===o||o.setValue(null==t?void 0:t.question_title),null===(r=this.examHeaderCtrl)||void 0===r||r.setValue(null==t?void 0:t.questionType)}},{key:"editExamGroupHead",value:function(){var a,o,r,t=this,s={exam_question_head_id:this.examGroupHeaderIdToEdit,group:null===(a=this.examGroupCtrl)||void 0===a?void 0:a.value,head:null===(o=this.examHeaderCtrl)||void 0===o?void 0:o.value,title:null===(r=this.examContentCtrl)||void 0===r?void 0:r.value};this.spinner.show(),this.examService.editExamGroupHeader(s).subscribe(function(u){var d,m;if(u){var p=t.dataSource.data.find(function(c){return c.id==t.examGroupHeaderIdToEdit});p&&(p.questionNumber=s.group,p.questionType=s.head,p.question_title=null===(d=t.examContentCtrl)||void 0===d?void 0:d.value),t.editGroupHeaderMode=!1,null===(m=t.examContentCtrl)||void 0===m||m.setValue(null),t.msg.success("\u062a\u0645 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d")}t.spinner.hide()})}},{key:"removeExamGroupHead",value:function(t){var a=this;this.spinner.show(),this.examService.deleteExamGroupHeader(t.id).subscribe(function(o){if(200==o.returnValue){var r=a.dataSource.data.findIndex(function(s){return s==t});a.dataSource.data.splice(r,1),a.dataSource.paginator=a.paginator,a.msg.success("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641")}else a.msg.error(o.returnString);a.spinner.hide()})}},{key:"openDeleateDialog",value:function(t){var a=this;this.dialog.open(Ie.F,{data:{msg:t.questionNumber}}).afterClosed().subscribe(function(o){o&&a.removeExamGroupHead(t)})}},{key:"addSubQuestionDialog",value:function(t){this.dialog.open(zi,{data:{examId:this.examId,examGroupHeaderId:t.id,subjectId:this.subjectIdCtrl.value}}).afterClosed().subscribe(function(a){})}},{key:"addSubQuestion",value:function(t){this.examGroupHeaderId=t}},{key:"getAllExamTypes",value:function(){var t=this;this.examService.getAllExamType().subscribe(function(a){a&&(t.examTypes=a)})}},{key:"onSelectExamType",value:function(){var t,a,o,r,s,u,d,m;1==(null===(t=this.examTypeIdCtrl)||void 0===t?void 0:t.value)?(null===(a=this.unitIdCtrl)||void 0===a||a.enable(),null===(o=this.lessionIdCtrl)||void 0===o||o.enable()):2==(null===(r=this.examTypeIdCtrl)||void 0===r?void 0:r.value)?(null===(s=this.unitIdCtrl)||void 0===s||s.enable(),null===(u=this.lessionIdCtrl)||void 0===u||u.disable()):(null===(d=this.unitIdCtrl)||void 0===d||d.disable(),null===(m=this.lessionIdCtrl)||void 0===m||m.disable())}},{key:"getAllCountieres",value:function(){var t=this;this.examService.getAllCountries().subscribe(function(a){a&&(t.countries=a)})}},{key:"onSelectCountry",value:function(){var a,o,r,s,u,d,t=this;(null===(a=this.countryIdCtrl)||void 0===a?void 0:a.value)?this.examService.getAllStages(null===(o=this.countryIdCtrl)||void 0===o?void 0:o.value).subscribe(function(m){var p;m&&(t.stages=m,null===(p=t.stageIdCtrl)||void 0===p||p.enable())}):(null===(r=this.stageIdCtrl)||void 0===r||r.disable(),null===(s=this.educationYearIdCtrl)||void 0===s||s.disable(),null===(u=this.subjectIdCtrl)||void 0===u||u.disable(),null===(d=this.teacherUserIdCtrl)||void 0===d||d.disable())}},{key:"onSelectStages",value:function(){var a,o,r,s,u,d,m,p,t=this;null===(a=this.educationYearIdCtrl)||void 0===a||a.setValue(""),null===(o=this.subjectIdCtrl)||void 0===o||o.setValue(""),null===(r=this.teacherUserIdCtrl)||void 0===r||r.setValue(""),(null===(s=this.stageIdCtrl)||void 0===s?void 0:s.value)?this.examService.getAllEducationYears(null===(u=this.stageIdCtrl)||void 0===u?void 0:u.value).subscribe(function(c){var _;c&&(t.educationYears=c,null===(_=t.educationYearIdCtrl)||void 0===_||_.enable())}):(null===(d=this.educationYearIdCtrl)||void 0===d||d.disable(),null===(m=this.subjectIdCtrl)||void 0===m||m.disable(),null===(p=this.teacherUserIdCtrl)||void 0===p||p.disable())}},{key:"onSelectEducationYears",value:function(){var a,o,r,s,u,d,t=this;null===(a=this.subjectIdCtrl)||void 0===a||a.setValue(""),null===(o=this.teacherUserIdCtrl)||void 0===o||o.setValue(""),(null===(r=this.educationYearIdCtrl)||void 0===r?void 0:r.value)?this.examService.getAllSubjects(null===(s=this.educationYearIdCtrl)||void 0===s?void 0:s.value).subscribe(function(m){var p;m&&(t.subjects=m,null===(p=t.subjectIdCtrl)||void 0===p||p.enable())}):(null===(u=this.subjectIdCtrl)||void 0===u||u.disable(),null===(d=this.teacherUserIdCtrl)||void 0===d||d.disable())}},{key:"onSelectSubjects",value:function(){var a,o,r,s,t=this;(null===(a=this.subjectIdCtrl)||void 0===a?void 0:a.value)?(0,Ui.D)([this.generalService.getTeacherBySubjectAndEduCompId(this.EduCompId,null===(o=this.subjectIdCtrl)||void 0===o?void 0:o.value),this.examService.getAllUnitsBySublectId(null===(r=this.subjectIdCtrl)||void 0===r?void 0:r.value)]).subscribe(function(u){var d;t.teachers=u[0].teachers,t.units=u[1],null===(d=t.teacherUserIdCtrl)||void 0===d||d.enable()}):null===(s=this.teacherUserIdCtrl)||void 0===s||s.disable()}},{key:"onSelectUnit",value:function(){var a,o,t=this;null!=(null===(a=this.unitIdCtrl)||void 0===a?void 0:a.value)&&this.examService.getAllLessonsByUnitId(null===(o=this.unitIdCtrl)||void 0===o?void 0:o.value).subscribe(function(r){r&&(t.lessions=r)})}},{key:"examTypeValidator",value:function(){var t,a,o,r,s,u,d,m,p,c,_,C,A=null===(t=this.examTypeIdCtrl)||void 0===t?void 0:t.value;1==A?(null===(a=this.unitIdCtrl)||void 0===a||a.setValidators([h.kI.required]),null===(o=this.lessionIdCtrl)||void 0===o||o.setValidators([h.kI.required])):2==A?(null===(r=this.unitIdCtrl)||void 0===r||r.setValidators([h.kI.required]),null===(s=this.lessionIdCtrl)||void 0===s||s.clearValidators(),null===(u=this.lessionIdCtrl)||void 0===u||u.reset()):(null===(d=this.unitIdCtrl)||void 0===d||d.clearValidators(),null===(m=this.unitIdCtrl)||void 0===m||m.reset(),null===(p=this.lessionIdCtrl)||void 0===p||p.clearValidators(),null===(c=this.lessionIdCtrl)||void 0===c||c.reset()),null===(_=this.unitIdCtrl)||void 0===_||_.updateValueAndValidity(),null===(C=this.lessionIdCtrl)||void 0===C||C.updateValueAndValidity()}},{key:"RepeatableValidator",value:function(){var t,a,o,r,s,u,d,m,p,c=null===(t=this.hasCustomDiscountCtrl)||void 0===t?void 0:t.value;1==c?(null===(a=this.repeatNumbersCtrl)||void 0===a||a.setValidators([h.kI.required]),null===(o=this.repeatingPriceCtrl)||void 0===o||o.setValidators([h.kI.required])):0==c&&(null===(r=this.repeatNumbersCtrl)||void 0===r||r.clearValidators(),null===(s=this.repeatingPriceCtrl)||void 0===s||s.clearValidators(),null===(u=this.repeatNumbersCtrl)||void 0===u||u.reset(),null===(d=this.repeatingPriceCtrl)||void 0===d||d.reset()),null===(m=this.repeatNumbersCtrl)||void 0===m||m.updateValueAndValidity(),null===(p=this.repeatingPriceCtrl)||void 0===p||p.updateValueAndValidity()}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(S.Ye),e.Y36(h.qu),e.Y36(de.e),e.Y36(fe.R),e.Y36(H.gz),e.Y36(H.F0),e.Y36(ge._W),e.Y36(Ze.m),e.Y36(J.uw),e.Y36(G.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-exam"]],viewQuery:function(i,t){var a;1&i&&(e.Gf(oe.NW,5),e.Gf(B.YE,5)),2&i&&(e.iGM(a=e.CRH())&&(t.paginator=a.first),e.iGM(a=e.CRH())&&(t.sort=a.first))},decls:292,vars:195,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],["mat-raised-button","","routerLink","../",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-3","col-12"],["appearance","legacy"],["formControlName","countryId",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","danger",4,"ngIf"],["formControlName","stageId",3,"selectionChange"],["formControlName","educationYearId",3,"selectionChange"],["formControlName","subjectId",3,"selectionChange"],["formControlName","teacherUserId",3,"selectionChange"],["formControlName","examTypeId",3,"selectionChange"],["formControlName","unitId",3,"selectionChange"],["formControlName","lessionId"],["matInput","","formControlName","examName"],["matInput","","type","number","formControlName","examHours"],["matInput","","type","number","formControlName","examMinutes"],["matInput","","type","number","formControlName","examPrice"],["matInput","","type","number","formControlName","discount"],["formControlName","discountType"],["value","1"],["value","2"],["matInput","","formControlName","fromDate",3,"matDatepicker"],["matSuffix","",3,"for"],["fromDate",""],["matInput","","formControlName","toDate",3,"matDatepicker"],["toDate",""],["matInput","","type","time","formControlName","formHour"],["matInput","","type","time","formControlName","toHours"],["matInput","","formControlName","resualtDate",3,"matDatepicker"],["resualtDate",""],["matInput","","type","time","formControlName","resualtTime"],["formControlName","canSellIndividually",1,"row"],[3,"value"],["formControlName","isRepeatable",1,"row"],[3,"value","change"],["formControlName","sendWhatsAppMsg",1,"row"],["formControlName","hasCustomDiscount",1,"row"],["align","end",4,"ngIf"],[1,"form-horizontal",3,"formGroup"],[1,"col-md-6","col-12"],["type","text","matInput","","formControlName","examGroup",3,"matAutocomplete"],["autoExamGroup","matAutocomplete"],["type","text","matInput","","formControlName","examHeader",3,"matAutocomplete"],["autoExamHeader","matAutocomplete"],["matInput","","formControlName","examContent","cols","20"],["align","end"],["mat-raised-button","","class","btn btn-primary",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"danger"],["matInput","","type","number","formControlName","repeatNumbers"],["class","text-danger",4,"ngIf"],["matInput","","type","number","formControlName","repeatingPrice"],[1,"text-danger"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","questionNumber"],["matColumnDef","questionType"],["matColumnDef","question_title"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngFor","ngForOf"],["class","success p-0","matTooltip","Edit Group",3,"click",4,"ngIf"],["class","danger p-0","matTooltip","Delete Group",3,"click",4,"ngIf"],["class","info p-0","matTooltip","Add sub question",3,"click",4,"ngIf"],["matTooltip","Edit Group",1,"success","p-0",3,"click"],[1,"ft-edit-2","font-medium-3","mr-2"],["matTooltip","Delete Group",1,"danger","p-0",3,"click"],[1,"ft-trash","font-medium-3","mr-2"],["matTooltip","Add sub question",1,"info","p-0",3,"click"],[1,"ft-git-branch","font-medium-3","mr-2"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,t){if(1&i&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e.YNc(5,$i,3,3,"span",2),e.YNc(6,Wi,3,4,"span",2),e.TgZ(7,"a",3),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.TgZ(10,"mat-card-content",4),e.TgZ(11,"div",0),e.TgZ(12,"div",1),e.TgZ(13,"form",5),e.TgZ(14,"div",0),e.TgZ(15,"div",6),e.TgZ(16,"mat-form-field",7),e.TgZ(17,"mat-label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"mat-select",8),e.NdJ("selectionChange",function(){return t.onSelectCountry()}),e.TgZ(21,"mat-option",9),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.YNc(24,Xi,2,2,"mat-option",10),e.qZA(),e.YNc(25,ea,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(26,"div",6),e.TgZ(27,"mat-form-field",7),e.TgZ(28,"mat-label"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"mat-select",12),e.NdJ("selectionChange",function(){return t.onSelectStages()}),e.TgZ(32,"mat-option",9),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.YNc(35,ta,2,2,"mat-option",10),e.qZA(),e.YNc(36,ia,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(37,"div",6),e.TgZ(38,"mat-form-field",7),e.TgZ(39,"mat-label"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"mat-select",13),e.NdJ("selectionChange",function(){return t.onSelectEducationYears()}),e.TgZ(43,"mat-option",9),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.YNc(46,aa,2,2,"mat-option",10),e.qZA(),e.YNc(47,oa,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(48,"div",6),e.TgZ(49,"mat-form-field",7),e.TgZ(50,"mat-label"),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"mat-select",14),e.NdJ("selectionChange",function(){return t.onSelectSubjects()}),e.TgZ(54,"mat-option",9),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.YNc(57,ra,2,2,"mat-option",10),e.qZA(),e.YNc(58,ua,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(59,"div",6),e.TgZ(60,"mat-form-field",7),e.TgZ(61,"mat-label"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"mat-select",15),e.NdJ("selectionChange",function(){return t.onSelectSubjects()}),e.TgZ(65,"mat-option"),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.YNc(68,da,2,2,"mat-option",10),e.qZA(),e.YNc(69,ca,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(70,"div",6),e.TgZ(71,"mat-form-field",7),e.TgZ(72,"mat-label"),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"mat-select",16),e.NdJ("selectionChange",function(){return t.onSelectExamType(),t.examTypeValidator()}),e.TgZ(76,"mat-option",9),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.YNc(79,pa,2,2,"mat-option",10),e.qZA(),e.YNc(80,_a,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(81,"div",6),e.TgZ(82,"mat-form-field",7),e.TgZ(83,"mat-label"),e._uU(84),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"mat-select",17),e.NdJ("selectionChange",function(){return t.onSelectUnit()}),e.TgZ(87,"mat-option",9),e._uU(88),e.ALo(89,"translate"),e.qZA(),e.YNc(90,ga,2,2,"mat-option",10),e.qZA(),e.YNc(91,va,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(92,"div",6),e.TgZ(93,"mat-form-field",7),e.TgZ(94,"mat-label"),e._uU(95),e.ALo(96,"translate"),e.qZA(),e.TgZ(97,"mat-select",18),e.TgZ(98,"mat-option",9),e._uU(99),e.ALo(100,"translate"),e.qZA(),e.YNc(101,Za,2,2,"mat-option",10),e.qZA(),e.YNc(102,Ta,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(103,"div",6),e.TgZ(104,"mat-form-field",7),e.TgZ(105,"mat-label"),e._uU(106),e.ALo(107,"translate"),e.qZA(),e._UZ(108,"input",19),e.YNc(109,ba,3,2,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(110,"div",6),e.TgZ(111,"mat-form-field",7),e.TgZ(112,"mat-label"),e._uU(113),e.ALo(114,"translate"),e.qZA(),e._UZ(115,"input",20),e.YNc(116,qa,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(117,"div",6),e.TgZ(118,"mat-form-field",7),e.TgZ(119,"mat-label"),e._uU(120),e.ALo(121,"translate"),e.qZA(),e._UZ(122,"input",21),e.YNc(123,Qa,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(124,"div",6),e.TgZ(125,"mat-form-field",7),e.TgZ(126,"mat-label"),e._uU(127),e.ALo(128,"translate"),e.qZA(),e._UZ(129,"input",22),e.YNc(130,Ea,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(131,"div",6),e.TgZ(132,"mat-form-field",7),e.TgZ(133,"mat-label"),e._uU(134),e.ALo(135,"translate"),e.qZA(),e._UZ(136,"input",23),e.qZA(),e.qZA(),e.TgZ(137,"div",6),e.TgZ(138,"mat-form-field",7),e.TgZ(139,"mat-label"),e._uU(140),e.ALo(141,"translate"),e.qZA(),e.TgZ(142,"mat-select",24),e.TgZ(143,"mat-option",9),e._uU(144),e.ALo(145,"translate"),e.qZA(),e.TgZ(146,"mat-option",25),e._uU(147,"\u0639\u0627\u0645"),e.qZA(),e.TgZ(148,"mat-option",26),e._uU(149,"\u062e\u0627\u0635"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(150,"div",6),e.TgZ(151,"mat-form-field",7),e.TgZ(152,"mat-label"),e._uU(153),e.ALo(154,"translate"),e.qZA(),e._UZ(155,"input",27),e._UZ(156,"mat-datepicker-toggle",28),e._UZ(157,"mat-datepicker",null,29),e.qZA(),e.qZA(),e.TgZ(159,"div",6),e.TgZ(160,"mat-form-field",7),e.TgZ(161,"mat-label"),e._uU(162),e.ALo(163,"translate"),e.qZA(),e._UZ(164,"input",30),e._UZ(165,"mat-datepicker-toggle",28),e._UZ(166,"mat-datepicker",null,31),e.qZA(),e.qZA(),e.TgZ(168,"div",6),e.TgZ(169,"mat-form-field",7),e.TgZ(170,"mat-label"),e._uU(171),e.ALo(172,"translate"),e.qZA(),e._UZ(173,"input",32),e.qZA(),e.qZA(),e.TgZ(174,"div",6),e.TgZ(175,"mat-form-field",7),e.TgZ(176,"mat-label"),e._uU(177),e.ALo(178,"translate"),e.qZA(),e._UZ(179,"input",33),e.qZA(),e.qZA(),e.TgZ(180,"div",6),e.TgZ(181,"mat-form-field",7),e.TgZ(182,"mat-label"),e._uU(183),e.ALo(184,"translate"),e.qZA(),e._UZ(185,"input",34),e._UZ(186,"mat-datepicker-toggle",28),e._UZ(187,"mat-datepicker",null,35),e.qZA(),e.qZA(),e.TgZ(189,"div",6),e.TgZ(190,"mat-form-field",7),e.TgZ(191,"mat-label"),e._uU(192),e.ALo(193,"translate"),e.qZA(),e._UZ(194,"input",36),e.qZA(),e.qZA(),e.TgZ(195,"div",6),e.TgZ(196,"mat-label"),e._uU(197),e.ALo(198,"translate"),e.qZA(),e.TgZ(199,"mat-radio-group",37),e.TgZ(200,"div",6),e.TgZ(201,"mat-radio-button",38),e._uU(202),e.ALo(203,"translate"),e.qZA(),e.qZA(),e.TgZ(204,"div",6),e.TgZ(205,"mat-radio-button",38),e._uU(206),e.ALo(207,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(208,"div",6),e.TgZ(209,"mat-label"),e._uU(210),e.ALo(211,"translate"),e.qZA(),e.TgZ(212,"mat-radio-group",39),e.TgZ(213,"div",6),e.TgZ(214,"mat-radio-button",40),e.NdJ("change",function(){return t.RepeatableValidator()}),e._uU(215),e.ALo(216,"translate"),e.qZA(),e.qZA(),e.TgZ(217,"div",6),e.TgZ(218,"mat-radio-button",40),e.NdJ("change",function(){return t.RepeatableValidator()}),e._uU(219),e.ALo(220,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(221,"div",6),e.TgZ(222,"mat-label"),e._uU(223),e.ALo(224,"translate"),e.qZA(),e.TgZ(225,"mat-radio-group",41),e.TgZ(226,"div",6),e.TgZ(227,"mat-radio-button",38),e._uU(228),e.ALo(229,"translate"),e.qZA(),e.qZA(),e.TgZ(230,"div",6),e.TgZ(231,"mat-radio-button",38),e._uU(232),e.ALo(233,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(234,"div",6),e.TgZ(235,"mat-label"),e._uU(236),e.ALo(237,"translate"),e.qZA(),e.TgZ(238,"mat-radio-group",42),e.TgZ(239,"div",6),e.TgZ(240,"mat-radio-button",38),e._uU(241),e.ALo(242,"translate"),e.qZA(),e.qZA(),e.TgZ(243,"div",6),e.TgZ(244,"mat-radio-button",38),e._uU(245),e.ALo(246,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(247,ja,15,8,"ng-container",2),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(248,Va,2,1,"mat-card-actions",43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(249,"div",0),e.TgZ(250,"div",1),e.TgZ(251,"mat-card"),e.TgZ(252,"mat-card-title"),e._uU(253),e.ALo(254,"translate"),e.qZA(),e.TgZ(255,"mat-card-content",4),e.TgZ(256,"form",44),e.TgZ(257,"div",0),e.TgZ(258,"div",45),e.TgZ(259,"mat-form-field",7),e.TgZ(260,"mat-label"),e._uU(261),e.ALo(262,"translate"),e.qZA(),e._UZ(263,"input",46),e.TgZ(264,"mat-autocomplete",null,47),e.YNc(266,Ya,2,2,"mat-option",10),e.ALo(267,"async"),e.qZA(),e.YNc(268,Oa,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(269,"div",45),e.TgZ(270,"mat-form-field",7),e.TgZ(271,"mat-label"),e._uU(272),e.ALo(273,"translate"),e.qZA(),e._UZ(274,"input",48),e.TgZ(275,"mat-autocomplete",null,49),e.YNc(277,Ma,2,2,"mat-option",10),e.ALo(278,"async"),e.qZA(),e.YNc(279,Ra,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(280,"div",1),e.TgZ(281,"mat-form-field",7),e.TgZ(282,"mat-label"),e._uU(283),e.ALo(284,"translate"),e.qZA(),e.TgZ(285,"textarea",50),e._uU(286,"                "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(287,"mat-card-actions",51),e.YNc(288,Pa,3,3,"button",52),e.YNc(289,Ha,3,3,"button",52),e.YNc(290,Ba,3,3,"button",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(291,pl,30,8,"div",53)),2&i){var a=e.MAs(158),o=e.MAs(167),r=e.MAs(188),s=e.MAs(265),u=e.MAs(276);e.xp6(5),e.Q6J("ngIf",0==t.examId),e.xp6(1),e.Q6J("ngIf",t.examId>0),e.xp6(1),e.Q6J("queryParams",e.VKq(193,hl,t.functionId)),e.xp6(1),e.hij(" ",e.lcZ(9,97,"General.Back")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.hij("",e.lcZ(19,99,"labels.Country")," "),e.xp6(4),e.hij(" ",e.lcZ(23,101,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.countries),e.xp6(1),e.Q6J("ngIf",(null==t.countryIdCtrl?null:t.countryIdCtrl.invalid)&&((null==t.countryIdCtrl?null:t.countryIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(30,103,"Navbar.EducationalStage")),e.xp6(4),e.Oqu(e.lcZ(34,105,"Navbar.EducationalStage")),e.xp6(2),e.Q6J("ngForOf",t.stages),e.xp6(1),e.Q6J("ngIf",(null==t.stageIdCtrl?null:t.stageIdCtrl.invalid)&&((null==t.stageIdCtrl?null:t.stageIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(41,107,"labels.EducationalYear")),e.xp6(4),e.Oqu(e.lcZ(45,109,"labels.EducationalYear")),e.xp6(2),e.Q6J("ngForOf",t.educationYears),e.xp6(1),e.Q6J("ngIf",(null==t.educationYearIdCtrl?null:t.educationYearIdCtrl.invalid)&&((null==t.educationYearIdCtrl?null:t.educationYearIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(52,111,"Material.Subjects")),e.xp6(4),e.Oqu(e.lcZ(56,113,"Material.Subjects")),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(1),e.Q6J("ngIf",(null==t.subjectIdCtrl?null:t.subjectIdCtrl.invalid)&&((null==t.subjectIdCtrl?null:t.subjectIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(63,115,"Material.Teacher")),e.xp6(4),e.hij(" ",e.lcZ(67,117,"Material.Teacher")," "),e.xp6(2),e.Q6J("ngForOf",t.teachers),e.xp6(1),e.Q6J("ngIf",(null==t.teacherUserIdCtrl?null:t.teacherUserIdCtrl.invalid)&&((null==t.teacherUserIdCtrl?null:t.teacherUserIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(74,119,"Material.ExamType")),e.xp6(4),e.Oqu(e.lcZ(78,121,"Material.ExamType")),e.xp6(2),e.Q6J("ngForOf",t.examTypes),e.xp6(1),e.Q6J("ngIf",(null==t.examTypeIdCtrl?null:t.examTypeIdCtrl.invalid)&&((null==t.examTypeIdCtrl?null:t.examTypeIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(85,123,"labels.Unit")),e.xp6(4),e.Oqu(e.lcZ(89,125,"labels.Unit")),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(1),e.Q6J("ngIf",(null==t.unitIdCtrl?null:t.unitIdCtrl.invalid)&&((null==t.unitIdCtrl?null:t.unitIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(96,127,"labels.Lesson")),e.xp6(4),e.Oqu(e.lcZ(100,129,"labels.Lesson")),e.xp6(2),e.Q6J("ngForOf",t.lessions),e.xp6(1),e.Q6J("ngIf",(null==t.lessionIdCtrl?null:t.lessionIdCtrl.invalid)&&((null==t.lessionIdCtrl?null:t.lessionIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(107,131,"labels.ExamNm")),e.xp6(3),e.Q6J("ngIf",(null==t.lessionIdCtrl?null:t.lessionIdCtrl.invalid)&&((null==t.lessionIdCtrl?null:t.lessionIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(114,133,"labels.ExamHours")),e.xp6(3),e.Q6J("ngIf",(null==t.examHoursCtrl?null:t.examHoursCtrl.invalid)&&((null==t.examHoursCtrl?null:t.examHoursCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(121,135,"labels.ExamMinute")),e.xp6(3),e.Q6J("ngIf",(null==t.examMinutesCtrl?null:t.examMinutesCtrl.invalid)&&((null==t.examMinutesCtrl?null:t.examMinutesCtrl.touched)||t.submitted)),e.xp6(4),e.hij("",e.lcZ(128,137,"labels.ExamPrice")," "),e.xp6(3),e.Q6J("ngIf",(null==t.examPriceCtrl?null:t.examPriceCtrl.invalid)&&((null==t.examPriceCtrl?null:t.examPriceCtrl.touched)||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(135,139,"labels.Discount")," "),e.xp6(6),e.hij(" ",e.lcZ(141,141,"labels.DiscountType")," "),e.xp6(4),e.hij("",e.lcZ(145,143,"General.Choose")," "),e.xp6(9),e.hij(" ",e.lcZ(154,145,"labels.FromDate"),""),e.xp6(2),e.Q6J("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(6),e.hij(" ",e.lcZ(163,147,"labels.ToDate"),""),e.xp6(2),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(6),e.Oqu(e.lcZ(172,149,"labels.FromTime")),e.xp6(6),e.Oqu(e.lcZ(178,151,"labels.ToTime")),e.xp6(6),e.hij(" ",e.lcZ(184,153,"labels.ExamResultDate"),""),e.xp6(2),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(6),e.Oqu(e.lcZ(193,155,"labels.examResultTime")),e.xp6(5),e.hij(" ",e.lcZ(198,157,"labels.SellExamOnly")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(203,159,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(207,161,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(211,163,"labels.RepeatedExam")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(216,165,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(220,167,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(224,169,"Navbar.SendWhatsappMsg")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(229,171,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(233,173,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(237,175,"labels.CustomDiscount")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(242,177,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(246,179,"labels.Yes")," "),e.xp6(2),e.Q6J("ngIf",1==(null==t.isRepeatableCtrl?null:t.isRepeatableCtrl.value)),e.xp6(1),e.Q6J("ngIf",t.examId>0),e.xp6(5),e.hij(" ",e.lcZ(254,181,"labels.addGxamGroups"),""),e.xp6(3),e.Q6J("formGroup",t.GroupHeadersForm),e.xp6(5),e.hij(" ",e.lcZ(262,183,"labels.\u064eQuestionNumber")," "),e.xp6(2),e.Q6J("matAutocomplete",s),e.xp6(3),e.Q6J("ngForOf",e.lcZ(267,185,t.filteredExamGroups)),e.xp6(2),e.Q6J("ngIf",(null==t.examGroupCtrl?null:t.examGroupCtrl.invalid)&&((null==t.examGroupCtrl?null:t.examGroupCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(273,187,"labels.QuestionHeader")),e.xp6(2),e.Q6J("matAutocomplete",u),e.xp6(3),e.Q6J("ngForOf",e.lcZ(278,189,t.filteredExamHeaders)),e.xp6(2),e.Q6J("ngIf",(null==t.examHeaderCtrl?null:t.examHeaderCtrl.invalid)&&((null==t.examHeaderCtrl?null:t.examHeaderCtrl.touched)||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(284,191,"labels.\u064eQuestionContent")," "),e.xp6(5),e.Q6J("ngIf",0==t.examId),e.xp6(1),e.Q6J("ngIf",t.GroupsHeadersList.length>0&&!t.editGroupHeaderMode),e.xp6(1),e.Q6J("ngIf",t.editGroupHeaderMode),e.xp6(1),e.Q6J("ngIf",t.GroupsHeadersList.length>0)}},directives:[G.Ro,Q.a8,Q.n5,S.O5,X.zs,H.yS,Q.dn,h._Y,h.JL,h.sg,F.KE,F.hX,Ce.gD,h.JJ,h.u,Te.ey,S.sg,se.Nt,h.Fj,h.wV,Ae.hl,Ae.nW,F.R9,Ae.Mq,me.VQ,me.U0,Ye.ZL,Ye.XC,Q.hq,F.bx,X.lW,Z.BZ,B.YE,Z.w1,Z.fO,Z.Dz,Z.as,Z.nj,Z.Ee,oe.NW,Z.ge,B.nU,Z.ev,Qe.gM,Z.XQ,Z.Gk],pipes:[ae.X$,S.Ov],styles:[""]}),n}(),pe=x(8198);function gl(n,l){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.country_id),e.xp6(1),e.hij(" ",i.country_ar_name," ")}}function fl(n,l){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.stage_ar_name," ")}}function vl(n,l){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.Educational_year_ar_name," ")}}function Zl(n,l){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.subject_id),e.xp6(1),e.hij(" ",i.subject_ar_name," ")}}function Cl(n,l){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.teacherUserId),e.xp6(1),e.hij(" ",i.teacher_ar_name," ")}}function Tl(n,l){1&n&&(e.TgZ(0,"th",35),e._uU(1,"#"),e.qZA())}function Il(n,l){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var i=l.index;e.xp6(1),e.Oqu(i+1)}}function Al(n,l){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Name")," "))}function bl(n,l){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.Name)}}function xl(n,l){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Subject")," "))}function ql(n,l){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.Subject)}}function yl(n,l){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Year")," "))}function Ql(n,l){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.hij(" ",i.Year," ")}}function Ul(n,l){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Teacher")," "))}function El(n,l){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.Teacher)}}function Nl(n,l){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ThePublish")," "))}function wl(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"i",38),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Published")," "))}function Fl(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.UnPublished")," "))}function Ll(n,l){if(1&n&&(e.TgZ(0,"td",36),e.YNc(1,wl,4,3,"span",37),e.YNc(2,Fl,3,3,"span",37),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf",null==i?null:i.IsPublish),e.xp6(1),e.Q6J("ngIf",!(null!=i&&i.IsPublish))}}function kl(n,l){1&n&&e._UZ(0,"th",35)}function Dl(n,l){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",47),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"labels.Publish")," "))}function jl(n,l){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",48),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"labels.Unpublish")," "))}function Sl(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",46),e.NdJ("click",function(){e.CHM(i);var o=e.oxw(2).$implicit;return e.oxw().onPublishExam(o)}),e.YNc(1,Dl,4,3,"span",37),e.YNc(2,jl,4,3,"span",37),e.qZA()}if(2&n){var t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!t.IsPublish),e.xp6(1),e.Q6J("ngIf",t.IsPublish)}}var Vl=function(l,i){return{examId:l,functionId:i}};function Yl(n,l){if(1&n&&(e.TgZ(0,"a",49),e._UZ(1,"i",50),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var i=e.oxw(2).$implicit,t=e.oxw();e.Q6J("queryParams",e.WLB(4,Vl,i.Id,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"General.Edit")," ")}}function Jl(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",46),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(2).$implicit;return e.oxw().openDeleateDialog(a)}),e._UZ(1,"i",51),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"General.Delete")," "))}function Ol(n,l){if(1&n&&(e.TgZ(0,"a",52),e._UZ(1,"i",53),e._uU(2,"\u0627\u0644\u0646\u0642\u0627\u0637"),e.qZA()),2&n){var i=e.oxw(2).$implicit;e.MGl("routerLink","../exam-points/",i.Id,"")}}function Ml(n,l){if(1&n&&(e.TgZ(0,"a",52),e._UZ(1,"i",54),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var i=e.oxw(2).$implicit;e.MGl("routerLink","/dashboard/educational-setup/subjects/upload-exam-student-grades/",i.Id,""),e.xp6(2),e.hij(" ",e.lcZ(3,2,"Exam.StudentGradesUpload")," ")}}function Gl(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Sl,3,2,"a",43),e.YNc(2,Yl,4,7,"a",44),e.YNc(3,Jl,4,3,"a",43),e.YNc(4,Ol,3,1,"a",45),e.YNc(5,Ml,4,4,"a",45),e.BQk()),2&n){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf","publish"===i.functionName),e.xp6(1),e.Q6J("ngIf","Edit"===i.functionName),e.xp6(1),e.Q6J("ngIf","Delete"===i.functionName),e.xp6(1),e.Q6J("ngIf","Points"===i.functionName),e.xp6(1),e.Q6J("ngIf","Grades"===i.functionName)}}function Rl(n,l){if(1&n&&(e.TgZ(0,"td",36),e.TgZ(1,"div",39),e.TgZ(2,"button",40),e._uU(3," actions "),e.qZA(),e.TgZ(4,"div",41),e.YNc(5,Gl,6,5,"ng-container",42),e.qZA(),e.qZA(),e.qZA()),2&n){var i=e.oxw();e.xp6(5),e.Q6J("ngForOf",i.rowFunctions)}}function Pl(n,l){1&n&&e._UZ(0,"tr",55)}function Hl(n,l){if(1&n&&e._UZ(0,"tr",56),2&n){var i=l.$implicit;e.ekj("bg-light-info",!(null!=i&&i.IsPublish))}}function Bl(n,l){if(1&n&&(e.TgZ(0,"tr",57),e.TgZ(1,"td",58),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var i=e.MAs(81);e.xp6(2),e.hij(' No data matching the filter "',i.value,'" ')}}var zl=function(l){return{functionId:l}},$l=function(){return[10]},Wl=function(){var n=function(){function l(i,t,a,o,r,s,u,d){var m=this;(0,$.Z)(this,l),this.route=i,this.fb=t,this.authserv=a,this.examService=o,this.msg=r,this.spinner=s,this.generalService=u,this.dialog=d,this.countries=[],this.stages=[],this.educationYears=[],this.subjects=[],this.displayedColumns=["#","name","subject","year","teacher","publish","actions"],i.queryParamMap.subscribe(function(p){m.functionId=Number(p.get("functionId")),m.functionId&&m.authserv.getUserRowFunctions(m.functionId).subscribe(function(c){c&&(m.rowFunctions=c)})})}return(0,z.Z)(l,[{key:"ngOnInit",value:function(){this.EduCompId=this.authserv.getEduCompId(),this.branchId=this.authserv.getBranchId(),this.myForm=this.fb.group({countryId:[""],stageId:[""],educationYearId:[""],subjectId:["0"],teacherUserId:["0"],page:[""],EduCompId:[this.EduCompId]}),this.getAllCountieres(),this.getAllExams(1)}},{key:"countryIdCtrl",get:function(){return this.myForm.get("countryId")}},{key:"stageIdCtrl",get:function(){return this.myForm.get("stageId")}},{key:"educationYearIdCtrl",get:function(){return this.myForm.get("educationYearId")}},{key:"subjectIdCtrl",get:function(){return this.myForm.get("subjectId")}},{key:"teacherUserIdCtrl",get:function(){return this.myForm.get("teacherUserId")}},{key:"page",get:function(){return this.myForm.get("page")}},{key:"ngAfterViewInit",value:function(){var t=this;this.authserv.EduCompId.subscribe(function(a){t.EduCompId=a.EduCompId,t.getAllExams(1)}),this.authserv.branchId.subscribe(function(a){t.branchId=a.branchId}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getAllExams",value:function(t){var o,r,s,a=this;null===(o=this.page)||void 0===o||o.setValue(t),this.myForm.controls.EduCompId.setValue(this.EduCompId);var u={subjectId:null===(r=this.subjectIdCtrl)||void 0===r?void 0:r.value,teacherUserId:null===(s=this.teacherUserIdCtrl)||void 0===s?void 0:s.value,page:t,EduCompId:this.EduCompId};this.spinner.show(),this.examService.getAllNormalExams(u).subscribe(function(d){d&&(a.dataSource=new Z.by(d.examList.reverse()),a.totalItems=d.totalCount),a.spinner.hide()})}},{key:"removeExam",value:function(t){var a=this;this.examService.deleteExam(t.Id).subscribe(function(o){if(1==o.data){var r=a.dataSource.data.findIndex(function(s){return s===t});a.dataSource.data.splice(r,1),a.dataSource.paginator=a.paginator,a.msg.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0625\u0645\u062a\u062d\u0627\u0646")}else a.msg.warning(o.returnString)})}},{key:"openDeleateDialog",value:function(t){var a=this;this.dialog.open(Ie.F,{data:{msg:t.Name}}).afterClosed().subscribe(function(o){o&&a.removeExam(t)})}},{key:"onPublishExam",value:function(t){var a=this;this.examService.publishExam(t.Id).subscribe(function(o){if(o){var s,r=(0,Ue.Z)(a.dataSource.data);try{for(r.s();!(s=r.n()).done;){var u=s.value;if(u.Id===t.Id){u.IsPublish=!u.IsPublish;break}}}catch(d){r.e(d)}finally{r.f()}a.msg.success("Done")}})}},{key:"getAllCountieres",value:function(){var t=this;this.examService.getAllCountries().subscribe(function(a){a&&(t.countries=a)})}},{key:"onSelectCountry",value:function(){var a,o,r,s,u,d,m,p,c,_,t=this;null===(a=this.stageIdCtrl)||void 0===a||a.setValue(""),null===(o=this.educationYearIdCtrl)||void 0===o||o.setValue(""),null===(r=this.subjectIdCtrl)||void 0===r||r.setValue(""),null===(s=this.teacherUserIdCtrl)||void 0===s||s.setValue(""),(null===(u=this.countryIdCtrl)||void 0===u?void 0:u.value)?this.examService.getAllStages(null===(d=this.countryIdCtrl)||void 0===d?void 0:d.value).subscribe(function(C){var A;C&&(t.stages=C,null===(A=t.stageIdCtrl)||void 0===A||A.enable())}):(null===(m=this.stageIdCtrl)||void 0===m||m.disable(),null===(p=this.educationYearIdCtrl)||void 0===p||p.disable(),null===(c=this.subjectIdCtrl)||void 0===c||c.disable(),null===(_=this.teacherUserIdCtrl)||void 0===_||_.disable())}},{key:"onSelectStages",value:function(){var a,o,r,s,u,d,m,p,t=this;null===(a=this.educationYearIdCtrl)||void 0===a||a.setValue(""),null===(o=this.subjectIdCtrl)||void 0===o||o.setValue(""),null===(r=this.teacherUserIdCtrl)||void 0===r||r.setValue(""),(null===(s=this.stageIdCtrl)||void 0===s?void 0:s.value)?this.examService.getAllEducationYears(null===(u=this.stageIdCtrl)||void 0===u?void 0:u.value).subscribe(function(c){var _;c&&(t.educationYears=c,null===(_=t.educationYearIdCtrl)||void 0===_||_.enable())}):(null===(d=this.educationYearIdCtrl)||void 0===d||d.disable(),null===(m=this.subjectIdCtrl)||void 0===m||m.disable(),null===(p=this.teacherUserIdCtrl)||void 0===p||p.disable())}},{key:"onSelectEducationYears",value:function(){var a,o,r,s,u,d,t=this;null===(a=this.subjectIdCtrl)||void 0===a||a.setValue(""),null===(o=this.teacherUserIdCtrl)||void 0===o||o.setValue(""),(null===(r=this.educationYearIdCtrl)||void 0===r?void 0:r.value)?this.examService.getAllSubjects(null===(s=this.educationYearIdCtrl)||void 0===s?void 0:s.value).subscribe(function(m){var p;m&&(t.subjects=m,null===(p=t.subjectIdCtrl)||void 0===p||p.enable())}):(null===(u=this.subjectIdCtrl)||void 0===u||u.disable(),null===(d=this.teacherUserIdCtrl)||void 0===d||d.disable())}},{key:"onSelectSubjects",value:function(){var a,o,r,s,t=this;null===(a=this.teacherUserIdCtrl)||void 0===a||a.setValue(""),(null===(o=this.subjectIdCtrl)||void 0===o?void 0:o.value)?this.generalService.getTeacherBySubjectAndEduCompId(this.EduCompId,null===(r=this.subjectIdCtrl)||void 0===r?void 0:r.value).subscribe(function(u){var d;u&&(t.teachers=u.teachers,console.log("teachers:",u),null===(d=t.teacherUserIdCtrl)||void 0===d||d.enable())}):null===(s=this.teacherUserIdCtrl)||void 0===s||s.disable()}},{key:"track",value:function(t,a){return a.Id}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(H.gz),e.Y36(h.qu),e.Y36(de.e),e.Y36(fe.R),e.Y36(ge._W),e.Y36(G.t2),e.Y36(Ze.m),e.Y36(J.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-exams-index"]],viewQuery:function(i,t){var a;1&i&&(e.Gf(oe.NW,5),e.Gf(B.YE,5)),2&i&&(e.iGM(a=e.CRH())&&(t.paginator=a.first),e.iGM(a=e.CRH())&&(t.sort=a.first))},decls:109,vars:58,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","","routerLink","../add-exam",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"fa","fa-plus-square"],["mat-raised-button","",1,"btn","btn-info","float-right",3,"click"],[1,"fa","fa-search"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-4","col-12"],["appearance","legacy"],["formControlName","countryId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","stageId",3,"selectionChange"],["formControlName","educationYearId",3,"selectionChange"],["formControlName","subjectId",3,"selectionChange"],["formControlName","teacherUserId"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","subject"],["matColumnDef","year"],["matColumnDef","teacher"],["matColumnDef","publish"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"bg-light-info",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","length","pageSize","page"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["aria-hidden","true",1,"fa","fa-check-circle","success","ml-1"],["ngbDropdown","",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],[4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","","routerLink","../add-exam",3,"queryParams",4,"ngIf"],["ngbDropdownItem","",3,"routerLink",4,"ngIf"],["ngbDropdownItem","",3,"click"],[1,"ft-upload","font-medium-3","mr-2"],[1,"ft-download","font-medium-3","mr-2"],["ngbDropdownItem","","routerLink","../add-exam",3,"queryParams"],[1,"fa","fa-edit","mr-2"],[1,"fa","fa-times","mr-2"],["ngbDropdownItem","",3,"routerLink"],[1,"fa","fa-gift","mr-2"],[1,"fa","fa-upload","mr-2"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,t){1&i&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"a",2),e._UZ(8,"i",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",4),e.NdJ("click",function(){return t.getAllExams(1)}),e._UZ(12,"i",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.TgZ(15,"mat-card-content",6),e.TgZ(16,"div",0),e.TgZ(17,"div",1),e.TgZ(18,"form",7),e.TgZ(19,"div",0),e.TgZ(20,"div",8),e.TgZ(21,"mat-form-field",9),e.TgZ(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"mat-select",10),e.NdJ("selectionChange",function(){return t.onSelectCountry()}),e.TgZ(26,"mat-option"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,gl,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"mat-form-field",9),e.TgZ(32,"mat-label"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"mat-select",12),e.NdJ("selectionChange",function(){return t.onSelectStages()}),e.TgZ(36,"mat-option"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.YNc(39,fl,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",8),e.TgZ(41,"mat-form-field",9),e.TgZ(42,"mat-label"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"mat-select",13),e.NdJ("selectionChange",function(){return t.onSelectEducationYears()}),e.TgZ(46,"mat-option"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.YNc(49,vl,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",8),e.TgZ(51,"mat-form-field",9),e.TgZ(52,"mat-label"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"mat-select",14),e.NdJ("selectionChange",function(){return t.onSelectSubjects()}),e.TgZ(56,"mat-option"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.YNc(59,Zl,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",8),e.TgZ(61,"mat-form-field",9),e.TgZ(62,"mat-label"),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"mat-select",15),e.TgZ(66,"mat-option"),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.YNc(69,Cl,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",0),e.TgZ(71,"div",1),e.TgZ(72,"mat-card"),e.TgZ(73,"mat-card-title"),e._uU(74),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"mat-card-content"),e.TgZ(77,"mat-form-field",16),e.TgZ(78,"mat-label"),e._uU(79,"Filter"),e.qZA(),e.TgZ(80,"input",17,18),e.NdJ("keyup",function(o){return t.applyFilter(o)}),e.qZA(),e.qZA(),e.TgZ(82,"div",19),e.TgZ(83,"table",20),e.ynx(84,21),e.YNc(85,Tl,2,0,"th",22),e.YNc(86,Il,2,1,"td",23),e.BQk(),e.ynx(87,24),e.YNc(88,Al,3,3,"th",22),e.YNc(89,bl,2,1,"td",23),e.BQk(),e.ynx(90,25),e.YNc(91,xl,3,3,"th",22),e.YNc(92,ql,2,1,"td",23),e.BQk(),e.ynx(93,26),e.YNc(94,yl,3,3,"th",22),e.YNc(95,Ql,2,1,"td",23),e.BQk(),e.ynx(96,27),e.YNc(97,Ul,3,3,"th",22),e.YNc(98,El,2,1,"td",23),e.BQk(),e.ynx(99,28),e.YNc(100,Nl,3,3,"th",22),e.YNc(101,Ll,3,2,"td",23),e.BQk(),e.ynx(102,29),e.YNc(103,kl,1,0,"th",22),e.YNc(104,Rl,6,1,"td",23),e.BQk(),e.YNc(105,Pl,1,0,"tr",30),e.YNc(106,Hl,1,2,"tr",31),e.YNc(107,Bl,3,1,"tr",32),e.qZA(),e.TgZ(108,"mat-paginator",33),e.NdJ("page",function(o){return t.getAllExams(o.pageIndex+1)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(5),e.hij(" ",e.lcZ(6,27,"General.Search")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(55,zl,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(10,29,"General.Add")," "),e.xp6(4),e.hij(" ",e.lcZ(14,31,"General.Search")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.Oqu(e.lcZ(24,33,"labels.Country")),e.xp6(4),e.Oqu(e.lcZ(28,35,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.countries),e.xp6(4),e.Oqu(e.lcZ(34,37,"labels.Stage")),e.xp6(4),e.Oqu(e.lcZ(38,39,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.stages),e.xp6(4),e.Oqu(e.lcZ(44,41,"labels.Year")),e.xp6(4),e.Oqu(e.lcZ(48,43,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.educationYears),e.xp6(4),e.Oqu(e.lcZ(54,45,"labels.Subject")),e.xp6(4),e.Oqu(e.lcZ(58,47,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(4),e.Oqu(e.lcZ(64,49,"labels.Teacher")),e.xp6(4),e.Oqu(e.lcZ(68,51,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.teachers),e.xp6(5),e.hij(" ",e.lcZ(75,53,"Navbar.Exams"),""),e.xp6(9),e.Q6J("dataSource",t.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(57,$l))("length",t.totalItems)("pageSize",10))},directives:[G.Ro,Q.a8,Q.n5,X.zs,H.yS,Q.dn,h._Y,h.JL,h.sg,F.KE,F.hX,Ce.gD,h.JJ,h.u,Te.ey,S.sg,se.Nt,Z.BZ,B.YE,Z.w1,Z.fO,Z.Dz,Z.as,Z.nj,Z.Ee,oe.NW,Z.ge,B.nU,Z.ev,S.O5,pe.jt,pe.iD,pe.Vi,pe.TH,Z.XQ,Z.Gk],pipes:[ae.X$],styles:[""]}),n}();function Xl(n,l){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.teacherUserId),e.xp6(1),e.hij(" ",i.teacher_ar_name," ")}}function Kl(n,l){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function eo(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function to(n,l){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,eo,3,3,"span",39),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.myForm.stageIdCtrl||null==i.myForm.stageIdCtrl.errors?null:i.myForm.stageIdCtrl.errors.required)}}function no(n,l){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text_Ar," ")}}function io(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function ao(n,l){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,io,3,3,"span",39),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.educationYearIdCtrl||null==i.educationYearIdCtrl.errors?null:i.educationYearIdCtrl.errors.required)}}function lo(n,l){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function oo(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function ro(n,l){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,oo,3,3,"span",39),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.subjectIdCtrl||null==i.subjectIdCtrl.errors?null:i.subjectIdCtrl.errors.required)}}function so(n,l){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function uo(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function mo(n,l){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,uo,3,3,"span",39),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.unitIdCtrl||null==i.unitIdCtrl.errors?null:i.unitIdCtrl.errors.required)}}function co(n,l){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function po(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ho(n,l){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,po,3,3,"span",39),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.lessionIdCtrl||null==i.lessionIdCtrl.errors?null:i.lessionIdCtrl.errors.required)}}function _o(n,l){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.Q6J("value",i.Value),e.xp6(1),e.hij(" ",i.Text," ")}}function go(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function fo(n,l){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,go,3,3,"span",39),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.lessionIdCtrl||null==i.lessionIdCtrl.errors?null:i.lessionIdCtrl.errors.required)}}function vo(n,l){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Name")," "))}function Zo(n,l){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.Name)}}function Co(n,l){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Materials")," "))}function To(n,l){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.Subject)}}function Io(n,l){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.EducationalYear")," "))}function Ao(n,l){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.Year)}}function bo(n,l){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Teacher")," "))}function xo(n,l){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.Teacher)}}function qo(n,l){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ThePublish")," "))}function yo(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"i",42),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Published")," "))}function Qo(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.UnPublished")," "))}function Uo(n,l){if(1&n&&(e.TgZ(0,"td",41),e.YNc(1,yo,4,3,"span",39),e.YNc(2,Qo,3,3,"span",39),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf",null==i?null:i.isPublish),e.xp6(1),e.Q6J("ngIf",!(null!=i&&i.isPublish))}}function Eo(n,l){1&n&&e._UZ(0,"th",40)}function No(n,l){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",50),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"labels.Publish")," "))}function wo(n,l){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",51),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"labels.Unpublish")," "))}function Fo(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(i);var o=e.oxw(2).$implicit;return e.oxw().PublishDepublishTemplate(o.Id)}),e.YNc(1,No,4,3,"span",39),e.YNc(2,wo,4,3,"span",39),e.qZA()}if(2&n){var t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!t.isPublish),e.xp6(1),e.Q6J("ngIf",t.isPublish)}}var Lo=function(l,i){return{templateId:l,functionId:i}};function ko(n,l){if(1&n&&(e.TgZ(0,"a",52),e._UZ(1,"i",53),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var i=e.oxw(2).$implicit,t=e.oxw();e.Q6J("queryParams",e.WLB(4,Lo,i.Id,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"General.Edit")," ")}}function Do(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(2).$implicit;return e.oxw().openDeleateDialog(a)}),e._UZ(1,"i",54),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"General.Delete")," "))}function jo(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Fo,3,2,"a",47),e.YNc(2,ko,4,7,"a",48),e.YNc(3,Do,4,3,"a",47),e.BQk()),2&n){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf","Publish"===i.functionName),e.xp6(1),e.Q6J("ngIf","Edit"===i.functionName),e.xp6(1),e.Q6J("ngIf","Delete"===i.functionName)}}function So(n,l){if(1&n&&(e.TgZ(0,"td",41),e.TgZ(1,"div",43),e.TgZ(2,"button",44),e._uU(3," actions "),e.qZA(),e.TgZ(4,"div",45),e.YNc(5,jo,4,3,"ng-container",46),e.qZA(),e.qZA(),e.qZA()),2&n){var i=e.oxw();e.xp6(5),e.Q6J("ngForOf",i.rowFunctions)}}function Vo(n,l){1&n&&e._UZ(0,"tr",55)}function Yo(n,l){if(1&n&&e._UZ(0,"tr",56),2&n){var i=l.$implicit;e.ekj("bg-light-info",!(null!=i&&i.isPublish))}}function Jo(n,l){if(1&n&&(e.TgZ(0,"tr",57),e.TgZ(1,"td",58),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var i=e.MAs(107);e.xp6(2),e.hij(' No data matching the filter "',i.value,'" ')}}var Oo=function(l){return{functionId:l}},Mo=function(){return[10]},Go=function(){var n=function(){function l(i,t,a,o,r,s,u,d,m){var p=this;(0,$.Z)(this,l),this.toastr=i,this.dialog=t,this.route=a,this.GeneralService=o,this.authserv=r,this.fb=s,this.EducationalService=u,this.TemplatesService=d,this.spinner=m,this.Templates=[],this.Teachers=[],this.stages=[],this.years=[],this.educationYears=[],this.subjects=[],this.units=[],this.lessons=[],this.topics=[],this.submitted=!1,this.displayedColumns=["Name","Teacher","Subject","Year","publish","actions"],a.queryParamMap.subscribe(function(c){p.functionId=Number(c.get("functionId")),p.functionId&&p.authserv.getUserRowFunctions(p.functionId).subscribe(function(_){_&&(p.rowFunctions=_)})})}return(0,z.Z)(l,[{key:"stageIdCtrl",get:function(){return this.myForm.get("stageId")}},{key:"teacherUserIdCtrl",get:function(){return this.myForm.get("teacherUserId")}},{key:"educationYearIdCtrl",get:function(){return this.myForm.get("yearId")}},{key:"subjectIdCtrl",get:function(){return this.myForm.get("subjectId")}},{key:"unitIdCtrl",get:function(){return this.myForm.get("unitId")}},{key:"lessonIdCtrl",get:function(){return this.myForm.get("lessonId")}},{key:"topicIdCtrl",get:function(){return this.myForm.get("topicId")}},{key:"page",get:function(){return this.myForm.get("page")}},{key:"ngOnInit",value:function(){this.EduCompId=this.authserv.getEduCompId(),this.myForm=this.fb.group({teacherUserId:[""],yearId:[""],stageId:[""],subjectId:[""],unitId:[""],lessonId:[""],topicId:[""],page:[""]}),this.getTeachersByEducompId(),this.getTemplates(1),this.getTeachersByEducompId(),this.stageIdCtrl.disable(),this.educationYearIdCtrl.disable(),this.subjectIdCtrl.disable(),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable()}},{key:"ngAfterViewInit",value:function(){var t=this;this.authserv.EduCompId.subscribe(function(a){t.EduCompId=a.EduCompId,t.getTemplates(1)}),this.authserv.branchId.subscribe(function(a){}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getTemplates",value:function(t){var o,a=this;this.spinner.show(),null===(o=this.page)||void 0===o||o.setValue(t),this.TemplatesService.getTemplates(this.EduCompId,t,this.myForm.value).subscribe(function(r){a.Templates=r.result,a.dataSource=new Z.by(r.result),a.itemsCount=r.TotalItemCount,a.spinner.hide(),a.spinner.hide()})}},{key:"PublishDepublishTemplate",value:function(t){var a=this;this.spinner.show(),this.TemplatesService.PublishDepublishTemplate(t).subscribe(function(o){if("Done"==o.returnString){var s,r=(0,Ue.Z)(a.Templates);try{for(r.s();!(s=r.n()).done;){var u=s.value;if(u.Id===t){u.isPublish=!u.isPublish;break}}}catch(d){r.e(d)}finally{r.f()}}else a.toastr.error(o.returnString);a.spinner.hide()})}},{key:"openDeleateDialog",value:function(t){var a=this;this.dialog.open(Ie.F,{data:{msg:t.Name}}).afterClosed().subscribe(function(o){o&&a.deleteTemplate(t)})}},{key:"deleteTemplate",value:function(t){var a=this;this.TemplatesService.deleteTemplate(t.Id).subscribe(function(o){var r=a.Templates.findIndex(function(s){return s.Id==t.Id});a.Templates.splice(r,1),a.toastr.success(" Deleted"),a.getTemplates(1)})}},{key:"getTeachersByEducompId",value:function(){var t=this;this.GeneralService.getTeachersByEducompId(this.EduCompId).subscribe(function(a){t.Teachers=a.lstTeachers}),this.getStageByTeacherId()}},{key:"getStageByTeacherId",value:function(){var t=this;this.stageIdCtrl.setValue(""),this.educationYearIdCtrl.setValue(""),this.subjectIdCtrl.setValue(""),this.unitIdCtrl.setValue(""),this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.teacherUserIdCtrl.value?(console.log("teacher",this.teacherUserIdCtrl.value),this.EducationalService.getStageByTeacherId(this.teacherUserIdCtrl.value).subscribe(function(a){console.log(a),t.stages=a,t.stageIdCtrl.enable()})):(this.stageIdCtrl.setValue(""),this.stageIdCtrl.disable(),this.educationYearIdCtrl.disable(),this.subjectIdCtrl.disable(),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable())}},{key:"returnYears",value:function(){var t=this;this.educationYearIdCtrl.setValue(""),this.subjectIdCtrl.setValue(""),this.unitIdCtrl.setValue(""),this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.stageIdCtrl.value?this.EducationalService.returnYears(this.stageIdCtrl.value).subscribe(function(a){console.log(a),t.years=a,t.educationYearIdCtrl.enable()}):(this.educationYearIdCtrl.setValue(""),this.educationYearIdCtrl.disable(),this.subjectIdCtrl.disable(),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable())}},{key:"returnTeacherSubjects",value:function(){var t=this;if(this.subjectIdCtrl.setValue(""),this.unitIdCtrl.setValue(""),this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.educationYearIdCtrl.value){var a={yearId:this.educationYearIdCtrl.value,teacherUserId:this.myForm.controls.teacherUserId.value};console.log(a),this.EducationalService.returnTeacherSubjects(a).subscribe(function(o){console.log("subjects",o),t.subjects=o,t.subjectIdCtrl.enable()})}else this.subjectIdCtrl.setValue(""),this.subjectIdCtrl.disable(),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable()}},{key:"GetUnits",value:function(){var t=this;this.unitIdCtrl.setValue(""),this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.subjectIdCtrl.value?this.EducationalService.GetUnits(this.subjectIdCtrl.value).subscribe(function(a){console.log("unit",a),t.units=a,t.unitIdCtrl.enable()}):(this.unitIdCtrl.setValue(""),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable())}},{key:"GetLessons",value:function(){var t=this;this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.unitIdCtrl.value?this.EducationalService.GetLessons(this.unitIdCtrl.value).subscribe(function(a){console.log("lesson",a),t.lessons=a,t.lessonIdCtrl.enable()}):(this.lessonIdCtrl.setValue(""),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable())}},{key:"GetTopics",value:function(){var t=this;this.topicIdCtrl.setValue(""),""!=this.lessonIdCtrl.value?this.EducationalService.GetTopics(this.lessonIdCtrl.value).subscribe(function(a){console.log(a),t.topics=a,t.topicIdCtrl.enable()}):(this.topicIdCtrl.setValue(""),this.topicIdCtrl.disable())}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(ge._W),e.Y36(J.uw),e.Y36(H.gz),e.Y36(Ze.m),e.Y36(de.e),e.Y36(h.qu),e.Y36(ye.i),e.Y36(De),e.Y36(G.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-templates-index"]],viewQuery:function(i,t){var a;1&i&&(e.Gf(oe.NW,5),e.Gf(B.YE,5)),2&i&&(e.iGM(a=e.CRH())&&(t.paginator=a.first),e.iGM(a=e.CRH())&&(t.sort=a.first))},decls:132,vars:78,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","","routerLink","../add-template",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"fa","fa-plus-square"],["mat-raised-button","",1,"btn","btn-info","float-right",3,"click"],[1,"fa","fa-search"],[1,"container-fluid"],[1,"form-container",3,"formGroup"],[1,"col-md-4","col-12"],["appearance","legacy"],["formControlName","teacherUserId",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","stageId",3,"selectionChange"],["class","danger",4,"ngIf"],["formControlName","yearId",3,"selectionChange"],["formControlName","subjectId",3,"selectionChange"],["formControlName","unitId",3,"selectionChange"],["formControlName","lessonId",3,"selectionChange"],["formControlName","topicId"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Subject"],["matColumnDef","Year"],["matColumnDef","Teacher"],["matColumnDef","publish"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"bg-light-info",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","length","pageSize","page"],[3,"value"],[1,"danger"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["aria-hidden","true",1,"fa","fa-check-circle","success","ml-1"],["ngbDropdown","",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],[4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","","routerLink","../add-template",3,"queryParams",4,"ngIf"],["ngbDropdownItem","",3,"click"],[1,"ft-upload","font-medium-3","mr-2"],[1,"ft-download","font-medium-3","mr-2"],["ngbDropdownItem","","routerLink","../add-template",3,"queryParams"],[1,"fa","fa-edit","mr-2"],[1,"fa","fa-times","mr-2"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,t){1&i&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"a",2),e._UZ(8,"i",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",4),e.NdJ("click",function(){return t.getTemplates(1)}),e._UZ(12,"i",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.TgZ(15,"mat-card-content",6),e.TgZ(16,"div",0),e.TgZ(17,"div",1),e.TgZ(18,"form",7),e.TgZ(19,"div",0),e.TgZ(20,"div",8),e.TgZ(21,"mat-form-field",9),e.TgZ(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"mat-select",10),e.NdJ("selectionChange",function(){return t.getStageByTeacherId()}),e.TgZ(26,"mat-option",11),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,Xl,2,2,"mat-option",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"mat-form-field",9),e.TgZ(32,"mat-label"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"mat-select",13),e.NdJ("selectionChange",function(){return t.returnYears()}),e.TgZ(36,"mat-option",11),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.YNc(39,Kl,2,2,"mat-option",12),e.qZA(),e.YNc(40,to,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(41,"div",8),e.TgZ(42,"mat-form-field",9),e.TgZ(43,"mat-label"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"mat-select",15),e.NdJ("selectionChange",function(){return t.returnTeacherSubjects()}),e.TgZ(47,"mat-option",11),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.YNc(50,no,2,2,"mat-option",12),e.qZA(),e.YNc(51,ao,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(52,"div",8),e.TgZ(53,"mat-form-field",9),e.TgZ(54,"mat-label"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"mat-select",16),e.NdJ("selectionChange",function(){return t.GetUnits()}),e.TgZ(58,"mat-option",11),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.YNc(61,lo,2,2,"mat-option",12),e.qZA(),e.YNc(62,ro,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(63,"div",8),e.TgZ(64,"mat-form-field",9),e.TgZ(65,"mat-label"),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"mat-select",17),e.NdJ("selectionChange",function(){return t.GetLessons()}),e.TgZ(69,"mat-option",11),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.YNc(72,so,2,2,"mat-option",12),e.qZA(),e.YNc(73,mo,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(74,"div",8),e.TgZ(75,"mat-form-field",9),e.TgZ(76,"mat-label"),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"mat-select",18),e.NdJ("selectionChange",function(){return t.GetTopics()}),e.TgZ(80,"mat-option",11),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.YNc(83,co,2,2,"mat-option",12),e.qZA(),e.YNc(84,ho,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(85,"div",8),e.TgZ(86,"mat-form-field",9),e.TgZ(87,"mat-label"),e._uU(88),e.ALo(89,"translate"),e.qZA(),e.TgZ(90,"mat-select",19),e.TgZ(91,"mat-option",11),e._uU(92),e.ALo(93,"translate"),e.qZA(),e.YNc(94,_o,2,2,"mat-option",12),e.qZA(),e.YNc(95,fo,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(96,"div",0),e.TgZ(97,"div",1),e.TgZ(98,"mat-card"),e.TgZ(99,"mat-card-title"),e._uU(100),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"mat-card-content"),e.TgZ(103,"mat-form-field",20),e.TgZ(104,"mat-label"),e._uU(105,"Filter"),e.qZA(),e.TgZ(106,"input",21,22),e.NdJ("keyup",function(o){return t.applyFilter(o)}),e.qZA(),e.qZA(),e.TgZ(108,"div",23),e.TgZ(109,"table",24),e.ynx(110,25),e.YNc(111,vo,3,3,"th",26),e.YNc(112,Zo,2,1,"td",27),e.BQk(),e.ynx(113,28),e.YNc(114,Co,3,3,"th",26),e.YNc(115,To,2,1,"td",27),e.BQk(),e.ynx(116,29),e.YNc(117,Io,3,3,"th",26),e.YNc(118,Ao,2,1,"td",27),e.BQk(),e.ynx(119,30),e.YNc(120,bo,3,3,"th",26),e.YNc(121,xo,2,1,"td",27),e.BQk(),e.ynx(122,31),e.YNc(123,qo,3,3,"th",26),e.YNc(124,Uo,3,2,"td",27),e.BQk(),e.ynx(125,32),e.YNc(126,Eo,1,0,"th",26),e.YNc(127,So,6,1,"td",27),e.BQk(),e.YNc(128,Vo,1,0,"tr",33),e.YNc(129,Yo,1,2,"tr",34),e.YNc(130,Jo,3,1,"tr",35),e.qZA(),e.TgZ(131,"mat-paginator",36),e.NdJ("page",function(o){return t.getTemplates(o.pageIndex+1)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(5),e.hij(" ",e.lcZ(6,39,"General.Search")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(75,Oo,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(10,41,"General.Add")," "),e.xp6(4),e.hij(" ",e.lcZ(14,43,"General.Search")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.hij(" ",e.lcZ(24,45,"Material.Teacher")," "),e.xp6(4),e.hij(" ",e.lcZ(28,47,"Material.Teacher"),""),e.xp6(2),e.Q6J("ngForOf",t.Teachers),e.xp6(4),e.Oqu(e.lcZ(34,49,"Navbar.EducationalStage")),e.xp6(4),e.Oqu(e.lcZ(38,51,"Navbar.EducationalStage")),e.xp6(2),e.Q6J("ngForOf",t.stages),e.xp6(1),e.Q6J("ngIf",(null==t.stageIdCtrl?null:t.stageIdCtrl.invalid)&&((null==t.stageIdCtrl?null:t.stageIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(45,53,"labels.EducationalYear")),e.xp6(4),e.Oqu(e.lcZ(49,55,"labels.EducationalYear")),e.xp6(2),e.Q6J("ngForOf",t.years),e.xp6(1),e.Q6J("ngIf",(null==t.educationYearIdCtrl?null:t.educationYearIdCtrl.invalid)&&((null==t.educationYearIdCtrl?null:t.educationYearIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(56,57,"Material.Subjects")),e.xp6(4),e.Oqu(e.lcZ(60,59,"Material.Subjects")),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(1),e.Q6J("ngIf",(null==t.subjectIdCtrl?null:t.subjectIdCtrl.invalid)&&((null==t.subjectIdCtrl?null:t.subjectIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(67,61,"labels.Unit")),e.xp6(4),e.Oqu(e.lcZ(71,63,"labels.Unit")),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(1),e.Q6J("ngIf",(null==t.unitIdCtrl?null:t.unitIdCtrl.invalid)&&((null==t.unitIdCtrl?null:t.unitIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(78,65,"labels.Lesson")),e.xp6(4),e.Oqu(e.lcZ(82,67,"labels.Lesson")),e.xp6(2),e.Q6J("ngForOf",t.lessons),e.xp6(1),e.Q6J("ngIf",(null==t.lessonIdCtrl?null:t.lessonIdCtrl.invalid)&&((null==t.lessonIdCtrl?null:t.lessonIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(89,69,"labels.Topic")),e.xp6(4),e.Oqu(e.lcZ(93,71,"labels.Topic")),e.xp6(2),e.Q6J("ngForOf",t.topics),e.xp6(1),e.Q6J("ngIf",(null==t.lessonIdCtrl?null:t.lessonIdCtrl.invalid)&&((null==t.lessonIdCtrl?null:t.lessonIdCtrl.touched)||t.submitted)),e.xp6(5),e.hij(" ",e.lcZ(101,73,"Navbar.Templates")," "),e.xp6(9),e.Q6J("dataSource",t.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(77,Mo))("length",t.itemsCount)("pageSize",10))},directives:[G.Ro,Q.a8,Q.n5,X.zs,H.yS,Q.dn,h._Y,h.JL,h.sg,F.KE,F.hX,Ce.gD,h.JJ,h.u,Te.ey,S.sg,S.O5,se.Nt,Z.BZ,B.YE,Z.w1,Z.fO,Z.Dz,Z.as,Z.nj,Z.Ee,oe.NW,F.bx,Z.ge,B.nU,Z.ev,pe.jt,pe.iD,pe.Vi,pe.TH,Z.XQ,Z.Gk],pipes:[ae.X$],styles:[""]}),n}();function Ro(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Po(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Ho(n,l){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,Ro,3,3,"span",18),e.YNc(2,Po,3,3,"span",18),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.teacherCommentCtrl||null==i.teacherCommentCtrl.errors?null:i.teacherCommentCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.teacherCommentCtrl||null==i.teacherCommentCtrl.errors?null:i.teacherCommentCtrl.errors.whiteSpace)}}function Bo(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function zo(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function $o(n,l){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,Bo,3,3,"span",18),e.YNc(2,zo,3,3,"span",18),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.markCtrl||null==i.markCtrl.errors?null:i.markCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.markCtrl||null==i.markCtrl.errors?null:i.markCtrl.errors.whiteSpace)}}var Wo=function(){var n=function(){function l(i,t,a,o,r,s,u,d,m,p){(0,$.Z)(this,l),this.data=i,this.fb=t,this.route=a,this.authserv=o,this.router=r,this.msg=s,this.GeneralService=u,this.examService=d,this.spinner=m,this.dialog=p}return(0,z.Z)(l,[{key:"questionNameCtrl",get:function(){return this.myForm.get("questionName")}},{key:"questionAnswerCtrl",get:function(){return this.myForm.get("studentAnswer")}},{key:"markCtrl",get:function(){return this.myForm.get("mark")}},{key:"teacherCommentCtrl",get:function(){return this.myForm.get("teacherComment")}},{key:"questionIdCtrl",get:function(){return this.myForm.get("questionId")}},{key:"examStudentIdCtrl",get:function(){return this.myForm.get("examStudentId")}},{key:"teacherUserIdCtrl",get:function(){return this.myForm.get("teacherUserId")}},{key:"questionMarkCtrl",get:function(){return this.myForm.get("questionMark")}},{key:"FormCtrl",get:function(){return this.myForm.controls}},{key:"ngOnInit",value:function(){console.log("data",this.data),this.EduCompId=this.authserv.getEduCompId(),this.myForm=this.fb.group({questionName:[""],studentAnswer:[""],questionId:[],examStudentId:[],teacherComment:["",h.kI.required],teacherUserId:[],questionMark:[],mark:[,h.kI.required]}),this.questionNameCtrl.setValue(this.data.msg.questionName),this.questionNameCtrl.disable(),this.questionIdCtrl.setValue(this.data.msg.questionId),this.examStudentIdCtrl.setValue(this.data.msg.examStudentId),this.teacherUserIdCtrl.setValue(this.data.msg.teacherUserId),this.questionMarkCtrl.setValue(this.data.msg.questionMark),this.FormCtrl.studentAnswer.setValue(this.data.msg.studentAnswer)}},{key:"CorrectQuestion",value:function(){var t=this;if(this.myForm.valid){if(console.log("my form",this.myForm.value),this.markCtrl.value>this.questionMarkCtrl.value)return void this.msg.error("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0642\u064a\u0645\u0629 \u0627\u0644\u0646\u062a\u064a\u062c\u0629 \u0623\u0642\u0644 \u0645\u0646 \u0627\u0644\u0642\u064a\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629");this.spinner.show(),this.examService.submitCorrection(this.myForm.value).subscribe(function(o){1==o.returnValue?(t.msg.success("\u062a\u0645 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0633\u0624\u0627\u0644"),t.dialog.closeAll()):t.msg.error(o.returnString),t.spinner.hide()})}}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(J.WI),e.Y36(h.qu),e.Y36(H.gz),e.Y36(de.e),e.Y36(H.F0),e.Y36(ge._W),e.Y36(Ze.m),e.Y36(fe.R),e.Y36(G.t2),e.Y36(J.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-correction-dialog"]],decls:49,vars:26,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","",1,"btn","btn-danger","float-right",3,"mat-dialog-close"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-12","col-12"],["appearance","legacy"],["matInput","","cols","20","formControlName","questionName","readonly",""],["matInput","","cols","20","formControlName","studentAnswer","readonly",""],[1,"question-img"],["alt","Question Image",1,"img-fluid",3,"src"],[1,"col-md-6","col-12"],["matInput","","formControlName","teacherComment"],["class","danger",4,"ngIf"],["matInput","","type","number","formControlName","mark"],["align","end"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],[1,"danger"],[4,"ngIf"]],template:function(i,t){1&i&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"a",2),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.TgZ(11,"mat-card-content",3),e.TgZ(12,"div",0),e.TgZ(13,"div",1),e.TgZ(14,"form",4),e.TgZ(15,"div",0),e.TgZ(16,"div",5),e.TgZ(17,"mat-form-field",6),e.TgZ(18,"mat-label"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"textarea",7),e.qZA(),e.qZA(),e.TgZ(22,"div",5),e.TgZ(23,"mat-form-field",6),e.TgZ(24,"mat-label"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"textarea",8),e.qZA(),e.qZA(),e.TgZ(28,"div",5),e.TgZ(29,"div",9),e._UZ(30,"img",10),e.qZA(),e.qZA(),e.TgZ(31,"div",11),e.TgZ(32,"mat-form-field",6),e.TgZ(33,"mat-label"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"input",12),e.YNc(37,Ho,3,2,"mat-hint",13),e.qZA(),e.qZA(),e.TgZ(38,"div",11),e.TgZ(39,"mat-form-field",6),e.TgZ(40,"mat-label"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e._UZ(43,"input",14),e.YNc(44,$o,3,2,"mat-hint",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"mat-card-actions",15),e.TgZ(46,"button",16),e.NdJ("click",function(){return t.CorrectQuestion()}),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(6),e.hij(" ",e.lcZ(7,12,"labels.Correct")," "),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(1),e.hij(" ",e.lcZ(10,14,"General.Close")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.Oqu(e.lcZ(20,16,"labels.\u064eQuestionContent")),e.xp6(6),e.Oqu(e.lcZ(26,18,"labels.\u064eQuestionContent")),e.xp6(5),e.Q6J("src",t.data.imageAttatch,e.LSH),e.xp6(4),e.Oqu(e.lcZ(35,20,"labels.TeacherComment")),e.xp6(3),e.Q6J("ngIf",(null==t.teacherCommentCtrl?null:t.teacherCommentCtrl.invalid)&&((null==t.teacherCommentCtrl?null:t.teacherCommentCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(42,22,"labels.Mark")),e.xp6(3),e.Q6J("ngIf",(null==t.markCtrl?null:t.markCtrl.invalid)&&((null==t.markCtrl?null:t.markCtrl.touched)||t.submitted)),e.xp6(3),e.hij(" ",e.lcZ(48,24,"General.Add")," "))},directives:[G.Ro,Q.a8,Q.n5,X.zs,J.ZT,Q.dn,h._Y,h.JL,h.sg,F.KE,F.hX,se.Nt,h.Fj,h.JJ,h.u,S.O5,h.wV,Q.hq,X.lW,F.bx],pipes:[ae.X$],styles:[".question-img[_ngcontent-%COMP%]{overflow:hidden!important;max-width:100%!important;max-height:156px!important}"]}),n}();function Xo(n,l){1&n&&(e.TgZ(0,"th",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ExamNm")," "))}function Ko(n,l){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.examName)}}function er(n,l){1&n&&(e.TgZ(0,"th",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.\u064eQuestionContent")," "))}function tr(n,l){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.questionName)}}function nr(n,l){1&n&&(e.TgZ(0,"th",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Teacher")," "))}function ir(n,l){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.teacherName)}}function ar(n,l){1&n&&(e.TgZ(0,"th",25),e._uU(1,"actions"),e.qZA())}function lr(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"td",26),e.TgZ(1,"button",27),e.NdJ("click",function(){var o=e.CHM(i).$implicit;return e.oxw().openCorrectDialog(o)}),e.TgZ(2,"mat-icon"),e._uU(3,"done"),e.qZA(),e.qZA(),e.qZA()}}function or(n,l){1&n&&e._UZ(0,"tr",28)}function rr(n,l){1&n&&e._UZ(0,"tr",29)}function sr(n,l){if(1&n&&(e.TgZ(0,"tr",30),e.TgZ(1,"td",31),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var i=e.MAs(37);e.xp6(2),e.hij(' No data matching the filter "',i.value,'" ')}}var ur=function(){return[10]},dr=function(){var n=function(){function l(i,t,a,o,r,s){var u=this;(0,$.Z)(this,l),this.examService=i,this.route=t,this.authserv=a,this.fb=o,this.spinner=r,this.dialog=s,this.correction=[],this.displayedColumns=["examName","questionName","teacherName","actions"],t.queryParamMap.subscribe(function(d){u.functionId=Number(d.get("functionId")),u.functionId&&u.authserv.getUserRowFunctions(u.functionId).subscribe(function(m){m&&(u.rowFunctions=m)})})}return(0,z.Z)(l,[{key:"page",get:function(){return this.myForm.get("page")}},{key:"CorrectedQuestionsIdCtrl",get:function(){return this.myForm.get("CorrectedQuestions")}},{key:"ngOnInit",value:function(){this.EduCompId=this.authserv.getEduCompId(),this.myForm=this.fb.group({page:[""],EduCompId:[this.EduCompId],CorrectedQuestions:[1]}),this.getAllQuestions(1,1)}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getAllQuestions",value:function(t,a){var r,o=this;null===(r=this.myForm.controls.page)||void 0===r||r.setValue(t),this.spinner.show(),this.examService.getQuestionByCorrectionType(t,a).subscribe(function(s){s&&(console.log("quesions not corrected: ",s.examsList),o.correction=s.examsList.examQuestions,console.log("correct list",o.correction),o.dataSource=new Z.by(s.examsList),o.itemsCount=s.itemsCount,o.spinner.hide())})}},{key:"openCorrectDialog",value:function(t){this.dialog.open(Wo,{data:{msg:t}}).afterClosed().subscribe(function(a){a&&console.log("dialog")})}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(fe.R),e.Y36(H.gz),e.Y36(de.e),e.Y36(h.qu),e.Y36(G.t2),e.Y36(J.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-correction-index"]],viewQuery:function(i,t){var a;1&i&&(e.Gf(oe.NW,5),e.Gf(B.YE,5)),2&i&&(e.iGM(a=e.CRH())&&(t.paginator=a.first),e.iGM(a=e.CRH())&&(t.sort=a.first))},decls:56,vars:25,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","",1,"btn","btn-info","float-right"],[1,"fa","fa-search"],[1,"container-fluid"],[1,"form-container",3,"formGroup"],[1,"col-md-12","col-12"],["formControlName","CorrectedQuestions",1,"row"],[1,"col-md-4","col-12"],[3,"value","change"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","examName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","questionName"],["matColumnDef","teacherName"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","length","pageSize","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,t){1&i&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"a",2),e._UZ(8,"i",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.TgZ(11,"mat-card-content",4),e.TgZ(12,"div",0),e.TgZ(13,"div",1),e.TgZ(14,"form",5),e.TgZ(15,"div",0),e.TgZ(16,"div",6),e.TgZ(17,"mat-radio-group",7),e.TgZ(18,"div",8),e.TgZ(19,"mat-radio-button",9),e.NdJ("change",function(){return t.getAllQuestions(1,0)}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.qZA(),e.TgZ(22,"div",8),e.TgZ(23,"mat-radio-button",9),e.NdJ("change",function(){return t.getAllQuestions(1,1)}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",0),e.TgZ(27,"div",1),e.TgZ(28,"mat-card"),e.TgZ(29,"mat-card-title"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"mat-card-content"),e.TgZ(33,"mat-form-field",10),e.TgZ(34,"mat-label"),e._uU(35,"Filter"),e.qZA(),e.TgZ(36,"input",11,12),e.NdJ("keyup",function(o){return t.applyFilter(o)}),e.qZA(),e.qZA(),e.TgZ(38,"div",13),e.TgZ(39,"table",14),e.ynx(40,15),e.YNc(41,Xo,3,3,"th",16),e.YNc(42,Ko,2,1,"td",17),e.BQk(),e.ynx(43,18),e.YNc(44,er,3,3,"th",16),e.YNc(45,tr,2,1,"td",17),e.BQk(),e.ynx(46,19),e.YNc(47,nr,3,3,"th",16),e.YNc(48,ir,2,1,"td",17),e.BQk(),e.ynx(49,20),e.YNc(50,ar,2,0,"th",16),e.YNc(51,lr,4,0,"td",17),e.BQk(),e.YNc(52,or,1,0,"tr",21),e.YNc(53,rr,1,0,"tr",22),e.YNc(54,sr,3,1,"tr",23),e.qZA(),e.TgZ(55,"mat-paginator",24),e.NdJ("page",function(o){return t.getAllQuestions(o.pageIndex+1,t.CorrectedQuestionsIdCtrl.value)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(5),e.hij(" ",e.lcZ(6,14,"labels.ExamsCorrection")," "),e.xp6(4),e.hij(" ",e.lcZ(10,16,"General.Search")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.Q6J("value",0),e.xp6(1),e.hij(" ",e.lcZ(21,18,"labels.CorrectedQuestions")," "),e.xp6(3),e.Q6J("value",1),e.xp6(1),e.hij(" ",e.lcZ(25,20,"labels.UnCorrectedQuestions")," "),e.xp6(6),e.hij(" ",e.lcZ(31,22,"labels.ExamsCorrection")," "),e.xp6(9),e.Q6J("dataSource",t.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(24,ur))("length",0)("pageSize",10))},directives:[G.Ro,Q.a8,Q.n5,X.zs,Q.dn,h._Y,h.JL,h.sg,me.VQ,h.JJ,h.u,me.U0,F.KE,F.hX,se.Nt,Z.BZ,B.YE,Z.w1,Z.fO,Z.Dz,Z.as,Z.nj,Z.Ee,oe.NW,Z.ge,B.nU,Z.ev,X.lW,Ee.Hw,Z.XQ,Z.Gk],pipes:[ae.X$],styles:[""]}),n}(),mr=x(9430),cr=function(){var n=function(){function l(i){(0,$.Z)(this,l),this.http=i}return(0,z.Z)(l,[{key:"addEditExamLevel",value:function(t){return this.http.post("".concat(ee.N.apiURL,"ExamLevel/AddEditExamLevel"),t)}},{key:"getAllExamLevels",value:function(t){return this.http.get("".concat(ee.N.apiURL,"ExamLevel/getAllExamLevels/").concat(t))}},{key:"deleteExamLevel",value:function(t){return this.http.delete("".concat(ee.N.apiURL,"ExamLevel/deleteExamLevel/").concat(t))}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.LFG(ke.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),pr=x(530),hr=function(){var n=(0,z.Z)(function l(){(0,$.Z)(this,l),this.type="text",this.submitted=!1,this.appearance="legacy"});return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-input"]],inputs:{control:"control",label:"label",type:"type",placeholder:"placeholder",submitted:"submitted",appearance:"appearance",class:"class",autocomplete:"autocomplete"},decls:8,vars:14,consts:[[3,"appearance"],["matInput","",3,"type","formControl","autocomplete","placeholder"],[3,"control","submitted"]],template:function(i,t){1&i&&(e.TgZ(0,"mat-form-field",0),e.TgZ(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"input",1),e.ALo(5,"translate"),e.TgZ(6,"mat-hint"),e._UZ(7,"input-validation-msg",2),e.qZA(),e.qZA()),2&i&&(e.Tol(t.class),e.Q6J("appearance",t.appearance),e.xp6(2),e.hij(" ",e.lcZ(3,10,t.label)," "),e.xp6(2),e.Q6J("type",t.type)("formControl",t.control)("autocomplete",t.autocomplete)("placeholder",e.lcZ(5,12,t.placeholder)),e.xp6(3),e.Q6J("control",t.control)("submitted",t.submitted))},directives:[F.KE,F.hX,se.Nt,h.Fj,h.JJ,h.oH,F.bx,pr.p],pipes:[ae.X$],styles:[""]}),n}();function _r(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(i),e.oxw().clearForm()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Reset")," "))}function gr(n,l){1&n&&(e.TgZ(0,"th",27),e._uU(1,"#"),e.qZA())}function fr(n,l){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){var i=l.index;e.xp6(1),e.Oqu(i+1)}}function vr(n,l){1&n&&(e.TgZ(0,"th",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.enName")," "))}function Zr(n,l){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.level_en_name)}}function Cr(n,l){1&n&&(e.TgZ(0,"th",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.arName")," "))}function Tr(n,l){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){var i=l.$implicit;e.xp6(1),e.Oqu(i.level_ar_name)}}function Ir(n,l){1&n&&e._UZ(0,"th",29)}function Ar(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",33),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(2).$implicit;return e.oxw().toEditExamLevel(a)}),e._UZ(1,"i",34),e.qZA()}}function br(n,l){if(1&n){var i=e.EpF();e.TgZ(0,"a",35),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(2).$implicit;return e.oxw().openDeleteDialog(a)}),e._UZ(1,"i",36),e.qZA()}}function xr(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Ar,2,0,"a",31),e.YNc(2,br,2,0,"a",32),e.BQk()),2&n){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf","Edit"===i.functionName),e.xp6(1),e.Q6J("ngIf","Delete"===i.functionName)}}function qr(n,l){if(1&n&&(e.TgZ(0,"td",28),e.YNc(1,xr,3,2,"ng-container",30),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.rowFunctions)}}function yr(n,l){1&n&&e._UZ(0,"tr",37)}function Qr(n,l){1&n&&e._UZ(0,"tr",38)}function Ur(n,l){if(1&n&&(e.TgZ(0,"tr",39),e.TgZ(1,"td",40),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var i=e.MAs(33);e.xp6(2),e.hij(' No data matching the filter "',i.value,'" ')}}var Er=function(){return[10]},wr=[{path:"",redirectTo:"exams-index",pathMatch:"full"},{path:"exams-index",component:Wl},{path:"add-exam",component:_l},{path:"exam-level",component:function(){var n=function(){function l(i,t,a,o,r,s,u,d){var m=this;(0,$.Z)(this,l),this.route=i,this.fb=t,this.authserv=a,this.msg=o,this.spinner=r,this.dialog=s,this.translate=u,this.examLevelsService=d,this.displayedColumns=["#","level_en_name","level_ar_name","actions"],this.submitted=!1,this.curPage=1,i.queryParamMap.subscribe(function(p){m.functionId=Number(p.get("functionId")),m.functionId&&m.authserv.getUserRowFunctions(m.functionId).subscribe(function(c){c&&(m.rowFunctions=c)})}),this.translate.onLangChange.subscribe(function(p){m.currentLang=p.lang})}return(0,z.Z)(l,[{key:"ngOnInit",value:function(){this.EduCompId=Number(this.authserv.getEduCompId()),this.myForm=this.fb.group({Id:[0],level_ar_name:["",[h.kI.required,W.D.whiteSpace]],level_en_name:["",[h.kI.required,W.D.whiteSpace]]}),this.getAllExamLevels(1)}},{key:"FormCtrls",get:function(){return this.myForm.controls}},{key:"ngAfterViewInit",value:function(){var t=this;this.authserv.EduCompId.subscribe(function(a){t.EduCompId=a.EduCompId,t.getAllExamLevels(1)})}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getAllExamLevels",value:function(t){var a=this;this.curPage=t,this.spinner.show(),this.examLevelsService.getAllExamLevels(t).subscribe(function(o){o&&(a.dataSource=new Z.by(o.examLevelList),a.itemCounts=o.itemCounts,a.dataSource.sort=a.sort),a.spinner.hide()})}},{key:"addEditExamLevel",value:function(){var t=this;if(this.submitted=!0,this.myForm.valid){this.spinner.show();var a={};a.Id=this.FormCtrls.Id.value,a.level_ar_name=this.FormCtrls.level_ar_name.value,a.level_en_name=this.FormCtrls.level_en_name.value,this.examLevelsService.addEditExamLevel(a).subscribe(function(o){1==o.returnValue&&(0==a.Id?(t.getAllExamLevels(1),t.dataSource.paginator=t.paginator,t.msg.success("General.AddSuccessfully")):(t.getAllExamLevels(t.curPage),t.msg.success("General.UpdateSuccessfully")),t.clearForm()),t.spinner.hide()})}}},{key:"toEditExamLevel",value:function(t){this.myForm.patchValue(t)}},{key:"clearForm",value:function(){this.submitted=!1,this.myForm.reset(),this.FormCtrls.Id.setValue(0)}},{key:"openDeleteDialog",value:function(t){var a=this;this.dialog.open(Ie.F,{data:{msg:this.currentLang=t.level_ar_name}}).afterClosed().subscribe(function(o){o&&a.daleteExamLevel(t.Id)})}},{key:"daleteExamLevel",value:function(t){var a=this;this.spinner.show(),this.examLevelsService.deleteExamLevel(t).subscribe(function(o){1==(null==o?void 0:o.returnValue)?(a.msg.success("General.DeleteSuccessfully"),1==a.dataSource.data.length&&a.curPage>1?(a.getAllExamLevels(a.curPage-1),a.paginator.pageIndex=a.curPage-1):a.getAllExamLevels(a.curPage),t==a.FormCtrls.Id.value&&a.clearForm()):a.msg.error(null==o?void 0:o.returnString),a.spinner.hide()})}}]),l}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(H.gz),e.Y36(h.qu),e.Y36(de.e),e.Y36(mr.K),e.Y36(G.t2),e.Y36(J.uw),e.Y36(ae.sK),e.Y36(cr))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-exam-level"]],viewQuery:function(i,t){var a;1&i&&(e.Gf(oe.NW,5),e.Gf(B.YE,5)),2&i&&(e.iGM(a=e.CRH())&&(t.paginator=a.first),e.iGM(a=e.CRH())&&(t.sort=a.first))},decls:52,vars:25,consts:[[1,"row"],[1,"col-12"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","labels.enName",3,"control","submitted"],["label","labels.arName",3,"control","submitted"],["align","end"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],["mat-raised-button","","class","btn btn-warning",3,"click",4,"ngIf"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","level_en_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","level_ar_name"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","length","pageSize","page"],["mat-raised-button","",1,"btn","btn-warning",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],[4,"ngFor","ngForOf"],["class","success p-0","matTooltip","Edit Exam\n                    level",3,"click",4,"ngIf"],["class","danger p-0","matTooltip","Delete Exam level",3,"click",4,"ngIf"],["matTooltip","Edit Exam\n                    level",1,"success","p-0",3,"click"],[1,"ft-edit-2","font-medium-3","mr-2"],["matTooltip","Delete Exam level",1,"danger","p-0",3,"click"],[1,"ft-trash","font-medium-3","mr-2"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,t){1&i&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"mat-card-content",2),e.TgZ(8,"div",0),e.TgZ(9,"div",1),e.TgZ(10,"form",3),e.TgZ(11,"div",0),e.TgZ(12,"div",4),e._UZ(13,"app-input",5),e.qZA(),e.TgZ(14,"div",4),e._UZ(15,"app-input",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"mat-card-actions",7),e.TgZ(17,"button",8),e.NdJ("click",function(){return t.addEditExamLevel()}),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,_r,3,3,"button",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",0),e.TgZ(22,"div",1),e.TgZ(23,"mat-card"),e.TgZ(24,"mat-card-title"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"mat-card-content"),e.TgZ(28,"mat-form-field",10),e.TgZ(29,"mat-label"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"input",11,12),e.NdJ("keyup",function(o){return t.applyFilter(o)}),e.qZA(),e.qZA(),e.TgZ(34,"div",13),e.TgZ(35,"table",14),e.ynx(36,15),e.YNc(37,gr,2,0,"th",16),e.YNc(38,fr,2,1,"td",17),e.BQk(),e.ynx(39,18),e.YNc(40,vr,3,3,"th",19),e.YNc(41,Zr,2,1,"td",17),e.BQk(),e.ynx(42,20),e.YNc(43,Cr,3,3,"th",19),e.YNc(44,Tr,2,1,"td",17),e.BQk(),e.ynx(45,21),e.YNc(46,Ir,1,0,"th",19),e.YNc(47,qr,2,1,"td",17),e.BQk(),e.YNc(48,yr,1,0,"tr",22),e.YNc(49,Qr,1,0,"tr",23),e.YNc(50,Ur,3,1,"tr",24),e.qZA(),e.TgZ(51,"mat-paginator",25),e.NdJ("page",function(o){return t.getAllExamLevels(o.pageIndex+1)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(5),e.hij(" ",e.lcZ(6,16,0==t.FormCtrls.Id.value?"labels.AddExamLevel":"labels.EditExamLevel")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(3),e.Q6J("control",t.FormCtrls.level_en_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.FormCtrls.level_ar_name)("submitted",t.submitted),e.xp6(3),e.hij(" ",e.lcZ(19,18,0==t.FormCtrls.Id.value?"General.Add":"General.Update")," "),e.xp6(2),e.Q6J("ngIf",null==t.FormCtrls?null:t.FormCtrls.Id.value),e.xp6(5),e.hij(" ",e.lcZ(26,20,"Navbar.ExamLevel"),""),e.xp6(5),e.Oqu(e.lcZ(31,22,"General.Search")),e.xp6(5),e.Q6J("dataSource",t.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(24,Er))("length",t.itemCounts)("pageSize",10))},directives:[G.Ro,Q.a8,Q.n5,Q.dn,h._Y,h.JL,h.sg,hr,Q.hq,X.lW,S.O5,F.KE,F.hX,se.Nt,Z.BZ,B.YE,Z.w1,Z.fO,Z.Dz,Z.as,Z.nj,Z.Ee,oe.NW,Z.ge,Z.ev,B.nU,S.sg,Qe.gM,Z.XQ,Z.Gk],pipes:[ae.X$],styles:[""]}),n}()},{path:"question-bank",children:[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:Qi},{path:"add-question",component:Mn}]},{path:"templates",children:[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:Go},{path:"add-template",component:un}]},{path:"exam-correction",children:[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:dr}]}],Fr=function(){var n=(0,z.Z)(function l(){(0,$.Z)(this,l)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[H.Bz.forChild(wr)],H.Bz]}),n}(),Lr=x(8109),kr=x(2003),jr={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},Sr=new e.OlP("config",{providedIn:"root",factory:function(){return{modules:jr}}}),Vr=function(){var n=function(){function l(){(0,$.Z)(this,l)}return(0,z.Z)(l,null,[{key:"forRoot",value:function(t){return{ngModule:l,providers:[{provide:Sr,useValue:t}]}}}]),l}();return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[S.ez]]}),n}(),Yr=function(){var n=(0,z.Z)(function l(){(0,$.Z)(this,l)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Fr,S.ez,h.UX,Lr.m,kr.q,pe.IJ,G.ef,Ne.JX,Vr.forRoot()]]}),n}()}}]);