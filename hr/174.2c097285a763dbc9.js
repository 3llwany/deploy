"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[174],{3710:(M,A,o)=>{o.d(A,{r:()=>I});var f=o(94650),l=o(67579),m=o(24280),h=o(80458);let I=(()=>{class e{constructor(C,_){this.viewsService=C,this.router=_,this.loadingService=(0,f.f3M)(l.b),this.UserModules=this.viewsService.UserModules$.getValue(),this.loading=document.getElementById("page-loading")}canActivate(C,_){let b=C.data?.view;if(this.showLoading(),this.UserModules?.length>0){if(this.viewsService.isViewAllowed(b))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}else this.viewsService.UserModules$.subscribe(r=>{if(r?.length>0){if(this.viewsService.isViewAllowed(b))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}})}showLoading(){this.loading.style.display="block",this.loading.style.opacity="1",this.loading.style.zIndex="998"}hideLoading(){this.loading.style.display="none",this.loading.style.opacity="0",this.loading.style.zIndex="0"}}return e.\u0275fac=function(C){return new(C||e)(f.LFG(m.Z),f.LFG(h.F0))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},29341:(M,A,o)=>{o.d(A,{Z:()=>f});let f=(()=>{class l{}return l.upload_kpi="UploadKPI/Upload",l.download_kpi="UploadKPI/Download",l.upload_Org="UploadOrg/Upload",l.download_Org="UploadOrg/Download",l.upload_job_profile="OrgManagement/UploadJobTitle/Upload",l.download_job_profile="OrgManagement/UploadJobTitle/Download",l.upload_org_structure="OrgManagement/UploadOrgStructure/Upload",l.download_org_structure="OrgManagement/UploadOrgStructure/Download",l.upload_org_kpi="OrgManagement/UploadOrgKpi/Upload",l.download_org_kpi="OrgManagement/UploadOrgKpi/Download",l.upload_mission="TimeAttendance/UploadMissionTrans/Upload",l.download_mission="TimeAttendance/UploadMissionTrans/Download",l.upload_register_fingerprint="TimeAttendance/UploadRegisterFinger/Upload",l.download_register_fingerprint="TimeAttendance/UploadRegisterFinger/Download",l.upload_Overtime_transaction="TimeAttendance/UploadOvertime/Upload",l.download_Overtime_transaction="TimeAttendance/UploadOvertime/Download",l.upload_penalty_transaction="TimeAttendance/UploadPenalityTrans/Upload",l.download_penalty_transaction="TimeAttendance/UploadPenalityTrans/Download",l.upload_permission_transaction="TimeAttendance/UploadPermission/Upload",l.download_permission_transaction="TimeAttendance/UploadPermission/Download",l.upload_vacation_transaction="TimeAttendance/UploadVacation/Upload",l.download_vacation_transaction="TimeAttendance/UploadVacation/Download",l.upload_plan_adjustment_transaction="TimeAttendance/UploadExceptionPlan/Upload",l.download_plan_adjustment_transaction="TimeAttendance/UploadExceptionPlan/Download",l.upload_employees="personnel/UploadEmployee/Upload",l.download_employees="personnel/UploadEmployee/Download",l})()},12574:(M,A,o)=>{o.d(A,{$:()=>k});var f=o(24006),l=o(65938),m=o(15602),h=o(95751),I=o(78937),e=o(94650),Z=o(77304),C=o(25273),_=o(857),b=o(57566),r=o(46896),F=o(26873),O=o(73546);let k=(()=>{class D extends h.U{constructor(p,c,T){super(),this.organizationsService=p,this.data=c,this.dialogRef=T,this.submitted=!1,this.removeFiles=!1,this.hasUpdate=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[f.kI.required,I.w.whiteSpace]],en_name:[null,[f.kI.required,I.w.whiteSpace]],code:[null,[f.kI.required,I.w.whiteSpace]],logo:[null]}),this.data.value?(this.formCtrls.ar_name.setValue(this.data.value),this.formCtrls.en_name.setValue(this.data.value)):this.data.data&&this.organizationToEdit(this.data.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.removeFiles=!1,this.form.valid){const p={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name,code:this.form.value.code,logo:this.form.value.logo};0==p.ID?this.create(p):this.update(p)}}create(p){this.showLoading(),this.organizationsService.create(p).subscribe(c=>{c?.message?.messageType==m.u.Success?(this.hasUpdate=!0,this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newOrganizationAdded"),this.onCloseDialog(c.data.id)):this.errorList(c?.message?.messages),this.hideLoading()})}update(p){this.showLoading(),this.organizationsService.update(p).subscribe(c=>{c.message.messageType==m.u.Success?(this.hasUpdate=!0,this.updateSuccessfullyMsg("organizationUpdated","successfulEdit"),this.onCloseDialog()):this.errorList(c?.message?.messages),this.hideLoading()})}organizationToEdit(p){(this.formCtrls.id.value>0||this.formCtrls.id.value!=p.id)&&this.formCtrls.id.reset(),setTimeout(()=>{this.form.patchValue(p),this.formCtrls.ar_name.setValue(p.ar_Name),this.formCtrls.en_name.setValue(p.en_Name)},50)}clearForm(){this.form.reset({id:0}),this.submitted=!1,this.removeFiles=!0}onCloseDialog(p){this.dialogRef.close({hasUpdate:this.hasUpdate,newId:p})}}return D.\u0275fac=function(p){return new(p||D)(e.Y36(Z.z),e.Y36(l.WI),e.Y36(l.so))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-add-organization"]],features:[e.qOj],decls:18,vars:15,consts:[["parentTitle","organization","addTitle","add","editTitle","update",3,"id"],[1,"row"],[1,"col-12"],[3,"formGroup"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","code",3,"control","submitted"],["label","logo","accept","image/*",3,"control","multiple","isHexImg","removeFiles","isEdit","displayVertical"],["align","end"],[3,"click"],["addLabel","add",3,"id","onClick"]],template:function(p,c){1&p&&(e.TgZ(0,"mat-card-title"),e._UZ(1,"page-title",0),e.qZA(),e.TgZ(2,"mat-card-content")(3,"div",1)(4,"div",2)(5,"form",3)(6,"div",1)(7,"div",2),e._UZ(8,"app-input",4),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-input",5),e.qZA(),e.TgZ(11,"div",2),e._UZ(12,"app-input",6),e.qZA(),e.TgZ(13,"div",2),e._UZ(14,"primeng-file-upload",7),e.qZA()()()()()(),e.TgZ(15,"mat-card-actions",8)(16,"discard-dialog-btn",9),e.NdJ("click",function(){return c.onCloseDialog()}),e.qZA(),e.TgZ(17,"submit-btn",10),e.NdJ("onClick",function(){return c.submit()}),e.qZA()()),2&p&&(e.xp6(1),e.Q6J("id",c.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",c.form),e.xp6(3),e.Q6J("control",c.formCtrls.en_name)("submitted",c.submitted),e.xp6(2),e.Q6J("control",c.formCtrls.ar_name)("submitted",c.submitted),e.xp6(2),e.Q6J("control",c.formCtrls.code)("submitted",c.submitted),e.xp6(2),e.Q6J("control",c.formCtrls.logo)("multiple",!1)("isHexImg",!0)("removeFiles",c.removeFiles)("isEdit",c.formCtrls.id.value>0)("displayVertical",!0),e.xp6(3),e.Q6J("id",c.formCtrls.id.value))},dependencies:[C.a,_.J,b.p,r.T,F.E,O.dn,O.n5,O.hq,f._Y,f.JL,f.sg]}),D})()},27174:(M,A,o)=>{o.r(A),o.d(A,{OrgManagementSetupModule:()=>De});var f=o(36895),l=o(30671),m=o(15602),h=o(95751),I=o(8061),e=o(94650),Z=o(3787),C=o(93410),_=o(46896),b=o(29721),r=o(73546);let F=(()=>{class n extends h.U{constructor(a){super(),this.jobFamiliesService=a,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new l.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.dataSource=new l.by(null),this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.jobFamiliesService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(this.dataSource=new l.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.jobFamiliesService.Delete(a.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg("jobFamilyRemoved","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(t?.message?.messages),this.hideLoading()})}openAddEditDialog(a,t){this.dialogsService.addEditDialog(I.Y,{data:a},{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(s=>{s&&this.getList(t?this.lastPage:this.currentPage)})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(Z.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-job-families-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","jobFamilies","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return t.openAddEditDialog(null,!0)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.openAddEditDialog(i,!1)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.jobFamiliesService)("actions",t.rowFunctions))},dependencies:[C.I,_.T,b.X,r.a8,r.n5]}),n})();var O=o(80458),k=o(4159),D=o.n(k),U=o(53583),p=o(65938),c=o(72189),T=o(25273),G=o(4859),g=o(24006),B=o(49274);let V=(()=>{class n extends h.U{constructor(a,t){super(),this.dialogRef=a,this.data=t,this.submitted=!1,this.employee=new e.vpe}ngOnInit(){console.log("data",this.data.data),this.form=this.fb.group({label:[""],type:[""],data:this.fb.group({id:[""],name:[""],img:[null]}),children:[null]}),null!=this.data&&this.form.patchValue(this.data)}get formCtrls(){return this.form.controls}get nestedformCtrls(){return this.form.get("data").controls}submit(){let a={};a.label=this.formCtrls.label.value,a.type=this.formCtrls.type.value,a.styleClass="p-person",a.expanded=!0,a.data={id:this.nestedformCtrls.id.value,name:this.nestedformCtrls.name.value,img:this.nestedformCtrls.img.value},a.children=this.formCtrls.children.value,this.dialogRef.close(a),this.employee.emit(a),console.log("data model",a)}openDeleteDialog(){this.deleteDialog("item").subscribe(t=>{})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p.so),e.Y36(p.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-edit-organization-chart"]],outputs:{employee:"employee"},features:[e.qOj],decls:24,vars:13,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","label",3,"control","submitted"],["label","type",3,"control","submitted"],["label","name",3,"control","submitted"],["accept","image/*","htmlId","cover-photo",3,"control","submitted","showIcon"],[1,"ft-users",3,"click"],["align","end"],["mat-raised-button","",1,"btn","btn-info","bg-light-info",3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._uU(4," add edit employee "),e.qZA(),e.TgZ(5,"mat-card-content",3)(6,"div",0)(7,"div",1)(8,"form",4)(9,"div",0)(10,"div",5),e._UZ(11,"app-input",6),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"app-input",7),e.qZA()(),e.TgZ(14,"div",0)(15,"div",5),e._UZ(16,"app-input",8),e.qZA(),e.TgZ(17,"div",5),e._UZ(18,"app-button-file-input",9),e.qZA()()()()(),e.TgZ(19,"i",10),e.NdJ("click",function(){return t.openDeleteDialog()}),e.qZA()(),e.TgZ(20,"mat-card-actions",11)(21,"button",12),e.NdJ("click",function(){return t.submit()}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()()),2&a&&(e.xp6(8),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.label)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.type)("submitted",t.submitted),e.xp6(3),e.Q6J("control",t.nestedformCtrls.name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.nestedformCtrls.img)("submitted",t.submitted)("showIcon",!0),e.xp6(4),e.hij(" ",e.lcZ(23,11,"save")," "))},dependencies:[c.m,T.a,G.lW,r.a8,r.dn,r.n5,r.hq,g._Y,g.JL,g.sg,B.X$]}),n})();var x=o(4309),X=o(44850),H=o(10805),K=o(12453),$=o(86467);const ee=["chart"],te=function(n,d){return{"dashed-line":n,"solid-line":d}};function ae(n,d){if(1&n){const a=e.EpF();e.TgZ(0,"div",7)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"div",8),e._UZ(4,"i",9),e.TgZ(5,"div",10)(6,"a",11),e.NdJ("click",function(){const i=e.CHM(a).$implicit,u=e.oxw();return e.KtG(u.openAddEditDialog(i,!0))}),e.TgZ(7,"span"),e._UZ(8,"i",12),e._uU(9," Add "),e.qZA()(),e.TgZ(10,"a",11),e.NdJ("click",function(){const i=e.CHM(a).$implicit,u=e.oxw();return e.KtG(u.openAddEditDialog(i,!1))}),e.TgZ(11,"span"),e._UZ(12,"i",13),e._uU(13," Edit "),e.qZA()(),e.TgZ(14,"a",11),e.NdJ("click",function(){const i=e.CHM(a).$implicit,u=e.oxw();return e.KtG(u.openDeleteDialog(i))}),e.TgZ(15,"span"),e._UZ(16,"i",14),e._uU(17," Delete"),e.qZA()()()()(),e.TgZ(18,"div",15)(19,"div",16),e._UZ(20,"img",17)(21,"mat-divider"),e.TgZ(22,"div"),e._uU(23),e.qZA()(),e.TgZ(24,"div",18),e.NdJ("click",function(){e.CHM(a);const s=e.oxw();return e.KtG(s.handleLeftClick())}),e.TgZ(25,"i",19),e.NdJ("click",function(){const i=e.CHM(a).$implicit,u=e.oxw();return e.KtG(u.openAddEditDialog(i,!1))}),e.qZA()(),e.TgZ(26,"div",20),e.NdJ("click",function(){const i=e.CHM(a).$implicit,u=e.oxw();return e.KtG(u.expandNode(i))}),e._uU(27),e.qZA()()}if(2&n){const a=d.$implicit;e.Q6J("id",a.data.name)("ngClass",e.WLB(7,te,a.data.isDashed,!a.data.isDashed)),e.xp6(2),e.AsE(" ",a.label," ",a.data.id," "),e.xp6(18),e.Q6J("src",a.data.img,e.LSH),e.xp6(3),e.Oqu(a.data.name),e.xp6(4),e.hij(" ",a.children.length," ")}}let ie=(()=>{class n extends h.U{constructor(a){super(),this.dialog=a}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.chartData()},1e3)}ngOnChanges(){}onNodeSelect(a){this.selectedNode=a.node,console.log("event",a)}openAddEditDialog(a,t){return this.dialog.open(V,{data:{label:0==t?a?.label:"",type:0==t?a?.type:"",data:{id:0==t?a?.data.id:"",name:0==t?a?.data.name:"",img:0==t?a?.data.img:""},children:0==t?a?.children:""},minWidth:"60vw",disableClose:!0}).afterClosed().subscribe(s=>{if(0==t){let i=this.data[0].children.findIndex(u=>u.data.id==s.data.id);a=s,this.data[0].children[i]=s,console.log("data ",a)}else a.children.push(s),console.log("item ",s),console.log("selectedNode",this.selectedNode)})}openDeleteDialog(a){this.deleteDialog("item").subscribe(s=>{s&&this.deleteNode(a)})}exportAsImage(){const a=this.chart.el.nativeElement,t=document.getElementById("org"),u=t.offsetWidth+t.scrollWidth;D()(a,{width:u,height:t.offsetHeight}).then(E=>{const N=E.toDataURL("image/jpeg"),y=document.createElement("a");y.href=N,y.download="organization_chart.jpeg",y.click()})}exportAsPDF(){const a=this.chart.el.nativeElement,t=document.getElementById("org"),u=t.offsetWidth+t.scrollWidth;D()(a,{width:u,height:t.offsetHeight}).then(E=>{const N=E.toDataURL("image/png");var y=new U.default("l","mm",[1200,350]);const R=y.internal.pageSize.getWidth(),J=y.internal.pageSize.getHeight();y.addImage(N,"PNG",10,10,R-20,J-20),y.save("organization_chart.pdf")})}deleteNode(a){let t=this.data[0].children.findIndex(s=>s.data.id==a.data.id);this.data[0].children.splice(t,1)}chartData(){this.expandToLevelOne(),setTimeout(()=>{this.applyDashedLineClass(this.data)},1e3)}applyDashedLineClass(a){let t,s;a.forEach((i,u)=>{t=document.getElementById(i.data.name)?.parentNode.parentNode.parentNode,s=t.parentNode.parentNode.parentNode.parentNode.parentNode;let E=s?.previousSibling?.previousSibling,N=s?.previousSibling;if(i.data.isDashed&&E&&N){let y=N.childNodes,R=y[2*u+1],J=y[2*u+2];console.log(R,J,t),R?.classList?.add("dashed-line"),J?.classList?.add("dashed-line")}this.applyDashedLineClass(i.children)})}handleLeftClick(){console.log("left")}expandNode(a){console.log("footer"),a.expanded=!a.expanded}expandToLevelOne(){this.data=[{label:"CEO",type:"person",styleClass:"department-coo",expanded:!0,expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",data:{id:11,name:"WalterWhite1",img:"assets/img/banner/banner-1.jpg",isDashed:!0},children:[{label:"CFO",type:"person",styleClass:"department-coo",expanded:!0,data:{id:1,name:"SaulGoodman1",img:"assets/img/banner/banner-2.jpg",isDashed:!0},children:[{label:"Tax",styleClass:"p-person",type:"person",expanded:!0,data:{id:2,name:"SaulGoodman2",img:"assets/img/banner/banner-12.jpg",isDashed:!0},children:[]},{label:"Legal",styleClass:"p-person",type:"person",expanded:!0,data:{id:3,name:"SaulGoodman3",img:"assets/img/banner/banner-13.jpg",isDashed:!1},children:[]},{label:"Legal",styleClass:"p-person",type:"person",expanded:!0,data:{id:3,name:"SaulGoodman4",img:"assets/img/banner/banner-13.jpg",isDashed:!0},children:[]},{label:"Legal",styleClass:"p-person",type:"person",expanded:!0,data:{id:3,name:"SaulGoodman5",img:"assets/img/banner/banner-13.jpg",isDashed:!1},children:[]},{label:"Legal",styleClass:"p-person",type:"person",expanded:!0,data:{id:3,name:"SaulGoodman6",img:"assets/img/banner/banner-13.jpg",isDashed:!0},children:[]}]},{label:"COO",type:"person",styleClass:"department-coo",expanded:!0,data:{name:"MikeE2",img:"assets/img/banner/banner-3.jpg",id:4,isDashed:!0},children:[{type:"person",expanded:!0,label:"Operations",styleClass:"p-person",data:{id:5,name:"MikeE3",img:"assets/img/banner/banner-30.jpg",isDashed:!0},children:[]}]},{label:"CTO",type:"person",styleClass:"department-coo",expanded:!0,data:{id:6,name:"JessePinkman1",img:"assets/img/banner/banner-4.jpg",isDashed:!0},children:[{type:"person",label:"Development",styleClass:"department-coo",expanded:!0,data:{id:7,name:"MikeE1",img:"assets/img/banner/banner-19.jpg",isDashed:!0},children:[{label:"Analysis",styleClass:"p-person",type:"person",expanded:!0,data:{id:8,name:"JessePinkman2",img:"assets/img/banner/banner-4.jpg",isDashed:!0},children:[]},{type:"person",label:"Front End",styleClass:"p-person",expanded:!0,data:{id:9,name:"JessePinkman3",img:"assets/img/banner/banner-24.jpg",isDashed:!0},children:[]},{type:"person",expanded:!0,label:"Back End",styleClass:"p-person",data:{id:10,name:"JessePinkman4",img:"assets/img/banner/banner-22.jpg",isDashed:!0},children:[]}]},{type:"person",expanded:!0,label:"QA",styleClass:"p-person",data:{id:11,name:"JessePinkman5",img:"assets/img/banner/banner-20.jpg",isDashed:!0},children:[]},{label:"R&D",styleClass:"p-person",type:"person",expanded:!0,data:{id:12,name:"JessePinkman6",img:"assets/img/banner/banner-7.jpg",isDashed:!0},children:[]}]}]}]}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-organization-chart"]],viewQuery:function(a,t){if(1&a&&e.Gf(ee,5),2&a){let s;e.iGM(s=e.CRH())&&(t.chart=s.first)}},features:[e.qOj,e.TTD],decls:12,vars:2,consts:[["mat-button","",1,"btn","bg-light-info",3,"click"],["mat-button","",1,"btn","bg-light-info","m-2",3,"click"],[2,"height","20px"],["id","org"],["styleClass","company","selectionMode","single",3,"value","selection","selectionChange","onNodeSelect"],["chart",""],["pTemplate","person"],[1,"node-header",3,"id","ngClass"],["ngbDropdown","",1,"d-inline-block","float-right"],["id","dropdown1","ngbDropdownToggle","",1,"pi","pi-cog",2,"font-size","1.3rem"],["ngbDropdownMenu","","aria-labelledby","dropdown1"],["ngbDropdownItem","",3,"click"],[1,"pi","pi-plus","mr-2"],[1,"pi","pi-pencil","mr-2"],[1,"pi","pi-trash","mr-2"],[1,"node-content"],[1,"node-content","p-3"],["alt","org",3,"src"],[1,"part",3,"click"],[1,"ft-users",3,"click"],[1,"footer","px-2",3,"click"]],template:function(a,t){1&a&&(e._UZ(0,"p-toast"),e.TgZ(1,"button",0),e.NdJ("click",function(){return t.expandToLevelOne()}),e._uU(2," Expand top one level\n"),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return t.exportAsImage()}),e._uU(4," export as image\n"),e.qZA(),e.TgZ(5,"button",1),e.NdJ("click",function(){return t.exportAsPDF()}),e._uU(6," export as pdf\n"),e.qZA(),e._UZ(7,"div",2),e.TgZ(8,"div",3)(9,"p-organizationChart",4,5),e.NdJ("selectionChange",function(i){return t.selectedNode=i})("onNodeSelect",function(i){return t.onNodeSelect(i)}),e.YNc(11,ae,28,10,"ng-template",6),e.qZA()()),2&a&&(e.xp6(9),e.Q6J("value",t.data)("selection",t.selectedNode))},dependencies:[f.mk,x.jt,x.iD,x.Vi,x.TH,G.lW,X.d,H.jx,K.FN,$.OE],styles:[".node-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;margin:5px}.node-header[_ngcontent-%COMP%]{color:brown;font:20px bold}.node-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#5f9ea0;font-weight:18px}[_nghost-%COMP%]     .p-organizationchart .p-person{background-color:#ddc3c3}[_nghost-%COMP%]     .p-organizationchart .department-coo{background-color:#eec9e3}[_nghost-%COMP%]     .p-organizationchart .part{background-color:#b2b1f5;width:100%}[_nghost-%COMP%]     .p-organizationchart .part:hover{background-color:#797676}[_nghost-%COMP%]     .p-organizationchart .footer{background-color:#7fffd4;text-align:left}[_nghost-%COMP%]     .p-organizationchart .p-organizationchart-node-content{padding:0}[_nghost-%COMP%]     .p-organizationchart .dashed-line .p-organizationchart-line-top{border-top-style:dashed}[_nghost-%COMP%]     .p-organizationchart .dashed-line .p-organizationchart-line-left{border-right-style:dashed}[_nghost-%COMP%]     .p-organizationchart .dashed-line .p-organizationchart-line-down{background:none;border:.5px dashed #dee2e6!important}[_nghost-%COMP%]     .p-organizationchart .dashed-line.p-organizationchart-line-top{border-top-style:dashed}[_nghost-%COMP%]     .p-organizationchart .dashed-line.p-organizationchart-line-left{border-right-style:dashed}[_nghost-%COMP%]     .p-organizationchart .dashed-line.p-organizationchart-line-down{background:none;border:.5px dashed #dee2e6!important}#org[_ngcontent-%COMP%]{width:100%;overflow:auto}"]}),n})();var S=o(74513),L=o(3710),w=o(78937),v=o(43949),W=o(77074),z=o(57566),P=o(26873);let se=(()=>{class n extends h.U{constructor(a,t,s){super(),this.gradesService=a,this.data=t,this.dialogRef=s,this.submitted=!1,this.hasUpdate=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[g.kI.required,w.w.whiteSpace]],en_name:[null,[g.kI.required,w.w.whiteSpace]],miN_SALARY:[null,[v.dN.gt(0),v.dN.digits]],middel_Salary:[null,[v.dN.gt(0),v.dN.digits]],maX_SALARY:[null,[v.dN.gt(0),v.dN.digits]]}),this.data&&this.gradeToEdit(this.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const a={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name,Min_Salary:this.form.value.miN_SALARY,Middel_Salary:this.form.value.middel_Salary,Max_Salary:this.form.value.maX_SALARY};0==a.ID?this.create(a):this.update(a)}}create(a){this.showLoading(),this.gradesService.create(a).subscribe(t=>{t?.message?.messageType==m.u.Success?(this.hasUpdate=!0,this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newGradeAdded"),this.onCloseDialog()):this.errorList(t?.message?.messages),this.hideLoading()})}update(a){this.showLoading(),this.gradesService.update(a).subscribe(t=>{t.message.messageType==m.u.Success?(this.hasUpdate=!0,this.updateSuccessfullyMsg("gradeUpdated","successfulEdit"),this.onCloseDialog()):this.errorList(t?.message?.messages),this.hideLoading()})}gradeToEdit(a){this.form.patchValue(a),this.formCtrls.ar_name.setValue(a.ar_Name),this.formCtrls.en_name.setValue(a.en_Name)}clearForm(){this.form.reset({id:0}),this.submitted=!1}onCloseDialog(){this.dialogRef.close(this.hasUpdate)}updateSalariesValidation(a){this.checkRequiredValidator("miN_SALARY",v.dN.gt(0),!(!this.formCtrls.maX_SALARY.value&&!this.formCtrls.middel_Salary.value)),this.checkRequiredValidator("maX_SALARY",v.dN.gt(this.formCtrls.miN_SALARY.value??0),!!this.formCtrls.middel_Salary.value),this.updateMiddleSalaryRange()}checkRequiredValidator(a,t,s){let i=[v.dN.digits,t];s&&i.push(g.kI.required),this.formCtrls[a].setValidators(i),this.formCtrls[a].updateValueAndValidity()}updateMiddleSalaryRange(){this.checkRequiredValidator("middel_Salary",this.formCtrls.miN_SALARY.value&&this.formCtrls.maX_SALARY.value?v.dN.range([this.form.value.miN_SALARY,this.form.value.maX_SALARY]):this.formCtrls.maX_SALARY.value?v.dN.lte(this.form.value.maX_SALARY):v.dN.gte(this.form.value.miN_SALARY??1),!1)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(W.P),e.Y36(p.WI),e.Y36(p.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-grade"]],features:[e.qOj],decls:20,vars:13,consts:[["parentTitle","jobgrade","addTitle","add","editTitle","update",3,"id"],[1,"row"],[1,"col-12"],[3,"formGroup"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","miN_SALARY","type","number",3,"control","submitted","keyUp"],["label","maX_SALARY","type","number",3,"control","submitted","keyUp"],["label","middel_Salary","type","number",3,"control","submitted","keyUp"],["align","end"],[3,"click"],["addLabel","add",3,"id","onClick"]],template:function(a,t){1&a&&(e.TgZ(0,"mat-card-title"),e._UZ(1,"page-title",0),e.qZA(),e.TgZ(2,"mat-card-content")(3,"div",1)(4,"div",2)(5,"form",3)(6,"div",1)(7,"div",2),e._UZ(8,"app-input",4),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-input",5),e.qZA(),e.TgZ(11,"div",2)(12,"app-input",6),e.NdJ("keyUp",function(i){return t.updateSalariesValidation(i)}),e.qZA()(),e.TgZ(13,"div",2)(14,"app-input",7),e.NdJ("keyUp",function(i){return t.updateSalariesValidation(i)}),e.qZA()(),e.TgZ(15,"div",2)(16,"app-input",8),e.NdJ("keyUp",function(i){return t.updateSalariesValidation(i)}),e.qZA()()()()()()(),e.TgZ(17,"mat-card-actions",9)(18,"discard-dialog-btn",10),e.NdJ("click",function(){return t.onCloseDialog()}),e.qZA(),e.TgZ(19,"submit-btn",11),e.NdJ("onClick",function(){return t.submit()}),e.qZA()()),2&a&&(e.xp6(1),e.Q6J("id",t.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.en_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.ar_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.miN_SALARY)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.maX_SALARY)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.middel_Salary)("submitted",t.submitted),e.xp6(3),e.Q6J("id",t.formCtrls.id.value))},dependencies:[T.a,z.p,_.T,P.E,r.dn,r.n5,r.hq,g._Y,g.JL,g.sg]}),n})(),ne=(()=>{class n extends h.U{constructor(a){super(),this.gradesService=a,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","miN_SALARY","middel_Salary","maX_SALARY","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new l.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.dataSource=new l.by(null),this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.gradesService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(this.dataSource=new l.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.gradesService.Delete(a.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg("gradeRemoved","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(t?.message?.messages),this.hideLoading()})}openAddEditDialog(a,t){this.dialogsService.addEditDialog(se,a,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(s=>{s&&this.getList(t?this.lastPage:this.currentPage)})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(W.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-grades-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","grades","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return t.openAddEditDialog(null,!0)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.openAddEditDialog(i,!1)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.gradesService)("actions",t.rowFunctions))},dependencies:[C.I,_.T,b.X,r.a8,r.n5]}),n})();var oe=o(78),le=o(50377);let de=(()=>{class n extends h.U{constructor(a){super(),this.organizationTypesService=a,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new l.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.dataSource=new l.by(null),this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.organizationTypesService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(this.dataSource=new l.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.organizationTypesService.Delete(a.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg("organizationTypeRemoved","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(t?.message?.messages),this.hideLoading()})}openAddEditDialog(a,t){this.dialogsService.addEditDialog(oe.X,{data:a},{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(({hasUpdate:s})=>{s&&this.getList(t?this.lastPage:this.currentPage)})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(le.w))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-organization-types-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","organizationTypes","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return t.openAddEditDialog(null,!0)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.openAddEditDialog(i,!1)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.organizationTypesService)("actions",t.rowFunctions))},dependencies:[C.I,_.T,b.X,r.a8,r.n5]}),n})();var re=o(12574),Q=o(29341),pe=o(77304);let me=(()=>{class n extends h.U{constructor(a){super(),this.organizationsService=a,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","code","actions"],this.optionalColomns=["logo"],this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new l.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.dataSource=new l.by(null),this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.organizationsService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(i.data.map(u=>u.logo=u.logoData),this.dataSource=new l.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.organizationsService.Delete(a.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg("organizationRemoved","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(t?.message?.messages),this.hideLoading()})}globalFunctionActions(a){a.viewName==S.S.add_organization&&this.openAddEditDialog(null,!0),a.viewName==S.S.upload_organization&&this.openUploadDialog()}openUploadDialog(){this.dialogsService.uploadDownloadDialog({uploadPath:Q.Z.upload_Org,downloadPath:Q.Z.download_Org,name:"organization"},{}).afterClosed().subscribe(t=>{})}openAddEditDialog(a,t){this.dialogsService.addEditDialog(re.$,{data:a},{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(({hasUpdate:s})=>{s&&this.getList(t?this.lastPage:this.currentPage)})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(pe.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-organizations-index"]],features:[e.qOj],decls:6,vars:9,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","organizations","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","isHexImg","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(i){return t.globalFunctionActions(i)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.openAddEditDialog(i,!1)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("isHexImg",!0)("exportService",t.organizationsService)("actions",t.rowFunctions))},dependencies:[C.I,_.T,b.X,r.a8,r.n5]}),n})();var ce=o(28940),ge=o(85475);let ue=(()=>{class n extends h.U{constructor(a){super(),this.custodiesService=a,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new l.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.dataSource=new l.by(null),this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.custodiesService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(this.dataSource=new l.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.custodiesService.Delete(a.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg("custodyRemoved","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(t?.message?.messages),this.hideLoading()})}openAddEditDialog(a,t){this.dialogsService.addEditDialog(ce.L,{data:a},{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(s=>{s&&this.getList(this.currentPage)})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(ge.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-custodies-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","custodies","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return t.openAddEditDialog(null,!0)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.openAddEditDialog(i,!1)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.custodiesService)("actions",t.rowFunctions))},dependencies:[C.I,_.T,b.X,r.a8,r.n5]}),n})();var Y=o(69808);let he=(()=>{class n extends h.U{constructor(a,t,s){super(),this.competenceTypeService=a,this.data=t,this.dialogRef=s,this.submitted=!1,this.hasUpdate=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[g.kI.required,w.w.whiteSpace]],en_name:[null,[g.kI.required,w.w.whiteSpace]]}),this.data&&this.competenceTypeToEdit(this.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const a={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name};0==a.ID?this.create(a):this.update(a)}}create(a){this.showLoading(),this.competenceTypeService.create(a).subscribe(t=>{t?.message?.messageType==m.u.Success?(this.hasUpdate=!0,this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newCompetenceTypeAdded"),this.onCloseDialog()):this.errorList(t?.message?.messages),this.hideLoading()})}update(a){this.showLoading(),this.competenceTypeService.update(a).subscribe(t=>{t.message.messageType==m.u.Success?(this.hasUpdate=!0,this.updateSuccessfullyMsg("competenceTypeUpdated","successfulEdit"),this.onCloseDialog()):this.errorList(t?.message?.messages),this.hideLoading()})}competenceTypeToEdit(a){this.form.patchValue(a),this.formCtrls.ar_name.setValue(a.ar_NAme),this.formCtrls.en_name.setValue(a.en_Name)}clearForm(){this.form.reset({id:0}),this.submitted=!1}onCloseDialog(){this.dialogRef.close(this.hasUpdate)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(Y._),e.Y36(p.WI),e.Y36(p.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-competence-type"]],features:[e.qOj],decls:14,vars:7,consts:[["parentTitle","competenceType","addTitle","add","editTitle","update",3,"id"],[1,"row"],[1,"col-12"],[3,"formGroup"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["align","end"],[3,"click"],["addLabel","add",3,"id","onClick"]],template:function(a,t){1&a&&(e.TgZ(0,"mat-card-title"),e._UZ(1,"page-title",0),e.qZA(),e.TgZ(2,"mat-card-content")(3,"div",1)(4,"div",2)(5,"form",3)(6,"div",1)(7,"div",2),e._UZ(8,"app-input",4),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-input",5),e.qZA()()()()()(),e.TgZ(11,"mat-card-actions",6)(12,"discard-dialog-btn",7),e.NdJ("click",function(){return t.onCloseDialog()}),e.qZA(),e.TgZ(13,"submit-btn",8),e.NdJ("onClick",function(){return t.submit()}),e.qZA()()),2&a&&(e.xp6(1),e.Q6J("id",t.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.en_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.ar_name)("submitted",t.submitted),e.xp6(3),e.Q6J("id",t.formCtrls.id.value))},dependencies:[T.a,z.p,_.T,P.E,r.dn,r.n5,r.hq,g._Y,g.JL,g.sg]}),n})(),_e=(()=>{class n extends h.U{constructor(a){super(),this.competenceTypeService=a,this.mandatoryColomns=["Ser","id","en_Name","ar_NAme","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new l.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.dataSource=new l.by(null),this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.competenceTypeService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(this.dataSource=new l.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}onDelete(a){let t=this.msgTranslate(a.ar_NAme,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.competenceTypeService.Delete(a.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg("competenceTypeRemoved","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(t?.message?.messages),this.hideLoading()})}openAddEditDialog(a,t){this.dialogsService.addEditDialog(he,a,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(s=>{s&&this.getList(t?this.firstPage:this.currentPage)})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(Y._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-competence-type-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","competenceType","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return t.openAddEditDialog(null,!0)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.openAddEditDialog(i,!1)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.competenceTypeService)("actions",t.rowFunctions))},dependencies:[C.I,_.T,b.X,r.a8,r.n5]}),n})();var j=o(18859),fe=o(71510);let Ce=(()=>{class n extends h.U{constructor(a,t,s){super(),this.competenceLevelService=a,this.data=t,this.dialogRef=s,this.submitted=!1,this.hasUpdate=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[g.kI.required,w.w.whiteSpace]],en_name:[null,[g.kI.required,w.w.whiteSpace]],Ar_Desc:[null],En_Desc:[null]}),this.data&&this.competenceLevelToEdit(this.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const a={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name,Ar_Desc:this.form.value.Ar_Desc,En_Desc:this.form.value.En_Desc};0==a.ID?this.create(a):this.update(a)}}create(a){this.showLoading(),this.competenceLevelService.create(a).subscribe(t=>{t?.message?.messageType==m.u.Success?(this.hasUpdate=!0,this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newCompetenceLevelAdded"),this.onCloseDialog()):this.errorList(t?.message?.messages),this.hideLoading()})}update(a){this.showLoading(),this.competenceLevelService.update(a).subscribe(t=>{t.message.messageType==m.u.Success?(this.hasUpdate=!0,this.updateSuccessfullyMsg("competenceLevelUpdated","successfulEdit"),this.onCloseDialog()):this.errorList(t?.message?.messages),this.hideLoading()})}competenceLevelToEdit(a){this.form.patchValue(a),this.formCtrls.ar_name.setValue(a.ar_Name),this.formCtrls.en_name.setValue(a.en_Name),this.formCtrls.Ar_Desc.setValue(a.ar_Desc),this.formCtrls.En_Desc.setValue(a.en_Desc)}clearForm(){this.form.reset({id:0}),this.submitted=!1}onCloseDialog(){this.dialogRef.close(this.hasUpdate)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(j.M),e.Y36(p.WI),e.Y36(p.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-competence-level"]],features:[e.qOj],decls:18,vars:11,consts:[["parentTitle","competenceLevel","addTitle","add","editTitle","update",3,"id"],[1,"row"],[1,"col-12"],[3,"formGroup"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","en_Desc",3,"control","submitted"],["label","ar_Desc",3,"control","submitted"],["align","end"],[3,"click"],["addLabel","add",3,"id","onClick"]],template:function(a,t){1&a&&(e.TgZ(0,"mat-card-title"),e._UZ(1,"page-title",0),e.qZA(),e.TgZ(2,"mat-card-content")(3,"div",1)(4,"div",2)(5,"form",3)(6,"div",1)(7,"div",2),e._UZ(8,"app-input",4),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-input",5),e.qZA(),e.TgZ(11,"div",2),e._UZ(12,"app-textarea",6),e.qZA(),e.TgZ(13,"div",2),e._UZ(14,"app-textarea",7),e.qZA()()()()()(),e.TgZ(15,"mat-card-actions",8)(16,"discard-dialog-btn",9),e.NdJ("click",function(){return t.onCloseDialog()}),e.qZA(),e.TgZ(17,"submit-btn",10),e.NdJ("onClick",function(){return t.submit()}),e.qZA()()),2&a&&(e.xp6(1),e.Q6J("id",t.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.en_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.ar_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.En_Desc)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.Ar_Desc)("submitted",t.submitted),e.xp6(3),e.Q6J("id",t.formCtrls.id.value))},dependencies:[T.a,fe.R,z.p,_.T,P.E,r.dn,r.n5,r.hq,g._Y,g.JL,g.sg]}),n})(),be=(()=>{class n extends h.U{constructor(a){super(),this.competenceLevelService=a,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.optionalColomns=["en_Desc","ar_Desc"],this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new l.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.dataSource=new l.by(null),this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.competenceLevelService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(this.dataSource=new l.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.competenceLevelService.Delete(a.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg("competenceLevelRemoved","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(t?.message?.messages),this.hideLoading()})}openAddEditDialog(a,t){this.dialogsService.addEditDialog(Ce,a,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(s=>{s&&this.getList(t?this.lastPage:this.currentPage)})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(j.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-competence-level-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","competenceLevel","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return t.openAddEditDialog(null,!0)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.openAddEditDialog(i,!1)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.competenceLevelService)("actions",t.rowFunctions))},dependencies:[C.I,_.T,b.X,r.a8,r.n5]}),n})();var ve=o(18521);let q=(()=>{class n extends ve.K{constructor(){super()}create(a){return this.post("Disclaimer/Create",a)}update(a){return this.post("Disclaimer/Edit",a)}getList(a){return this.get("Disclaimer/GetList",{params:a})}getAll(){return this.get("DIsclaimer/GetAll")}Delete(a){return this.delete("Disclaimer/Delete",{params:{Id:a}})}exportExcel(){this.getAll()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends h.U{constructor(a,t,s){super(),this.disclaimerService=a,this.data=t,this.dialogRef=s,this.submitted=!1,this.hasUpdate=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[g.kI.required,w.w.whiteSpace]],en_name:[null,[g.kI.required,w.w.whiteSpace]]}),this.data&&this.disclaimerToEdit(this.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const a={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name};0==a.ID?this.create(a):this.update(a)}}create(a){this.showLoading(),this.disclaimerService.create(a).subscribe(t=>{t?.message?.messageType==m.u.Success?(this.hasUpdate=!0,this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newDisclaimerTemplateAdded"),this.onCloseDialog()):this.errorList(t?.message?.messages),this.hideLoading()})}update(a){this.showLoading(),this.disclaimerService.update(a).subscribe(t=>{t.message.messageType==m.u.Success?(this.hasUpdate=!0,this.updateSuccessfullyMsg("disclaimerTemplateUpdated","successfulEdit"),this.onCloseDialog()):this.errorList(t?.message?.messages),this.hideLoading()})}disclaimerToEdit(a){this.form.patchValue(a),this.formCtrls.ar_name.setValue(a.ar_Name),this.formCtrls.en_name.setValue(a.en_Name)}clearForm(){this.form.reset({id:0}),this.submitted=!1}onCloseDialog(){this.dialogRef.close(this.hasUpdate)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(q),e.Y36(p.WI),e.Y36(p.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-disclaimer"]],features:[e.qOj],decls:14,vars:7,consts:[["parentTitle","disclaimer","addTitle","add","editTitle","update",3,"id"],[1,"row"],[1,"col-12"],[3,"formGroup"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["align","end"],[3,"click"],["addLabel","add",3,"id","onClick"]],template:function(a,t){1&a&&(e.TgZ(0,"mat-card-title"),e._UZ(1,"page-title",0),e.qZA(),e.TgZ(2,"mat-card-content")(3,"div",1)(4,"div",2)(5,"form",3)(6,"div",1)(7,"div",2),e._UZ(8,"app-input",4),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-input",5),e.qZA()()()()()(),e.TgZ(11,"mat-card-actions",6)(12,"discard-dialog-btn",7),e.NdJ("click",function(){return t.onCloseDialog()}),e.qZA(),e.TgZ(13,"submit-btn",8),e.NdJ("onClick",function(){return t.submit()}),e.qZA()()),2&a&&(e.xp6(1),e.Q6J("id",t.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.en_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.ar_name)("submitted",t.submitted),e.xp6(3),e.Q6J("id",t.formCtrls.id.value))},dependencies:[T.a,z.p,_.T,P.E,r.dn,r.n5,r.hq,g._Y,g.JL,g.sg]}),n})();const Te=[{path:"grades",component:ne,data:{view:S.S.grades_index},canActivate:[L.r]},{path:"job-families",component:F,data:{view:S.S.job_families_index},canActivate:[L.r]},{path:"organization-types",component:de,data:{view:S.S.organization_types_index},canActivate:[L.r]},{path:"organizations",component:me,data:{view:S.S.organizations_index},canActivate:[L.r]},{path:"competence-level",component:be,data:{view:S.S.competence_level_index},canActivate:[L.r]},{path:"competence-type",component:_e,data:{view:S.S.competence_type_index},canActivate:[L.r]},{path:"disclaimer-template",component:(()=>{class n extends h.U{constructor(a){super(),this.disclaimerService=a,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new l.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.dataSource=new l.by(null),this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.disclaimerService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(this.dataSource=new l.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.disclaimerService.Delete(a.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg("disclaimerTemplateRemoved","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(t?.message?.messages),this.hideLoading()})}openAddEditDialog(a,t){this.dialogsService.addEditDialog(Se,a,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(s=>{s&&this.getList(this.currentPage)})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-disclaimer-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","disclaimer","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return t.openAddEditDialog(null,!0)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.openAddEditDialog(i,!1)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.disclaimerService)("actions",t.rowFunctions))},dependencies:[C.I,_.T,b.X,r.a8,r.n5]}),n})(),data:{view:S.S.disclaimer_template_index},canActivate:[L.r]},{path:"custodies",component:ue,data:{view:S.S.custodies_index},canActivate:[L.r]},{path:"OrganizationChart",component:ie,data:{view:S.S.OrganizationChart},canActivate:[L.r]}];let Le=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[O.Bz.forChild(Te),O.Bz]}),n})();var Ae=o(92634);let De=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.ez,Le,Ae.m]}),n})()}}]);