"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[837],{30837:(pe,T,a)=>{a.r(T),a.d(T,{S4BusinessOneSetupModule:()=>ue});var h=a(36895),B=a(78475),p=a(30671),m=a(15602),g=a(58385),e=a(94650),Z=a(49704),_=a(56184),I=a(46896),d=a(73546),b=a(44850),y=a(86405);let j=(()=>{class n extends g.d{constructor(t){super(),this.s4SytemInstanceService=t,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","api_Url_Prefix","actions"],this.optionalColomns=["userName","password","s4_Client_Code","s4_Company_Code"],this.isLoaded=!1}ngOnInit(){this.form=this.fb.group({systemInstance_ID:[null],integrationPurpose_ID:[null],LG_Account:[null]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.CheckNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}searchList(){if(this.form?.value.systemInstance_ID||this.form?.value.integrationPurpose_ID||this.form?.value.LG_Account){let t={$filter:""};this.form?.value.LG_Account?t.$filter=`LG_Account eq ${this.form.value.LG_Account}`:this.form?.value.integrationPurpose_ID?t.$filter=`IntegrationPurpose_ID eq ${this.form.value.integrationPurpose_ID}`:this.form?.value.systemInstance_ID&&(t.$filter=`systemInstance_ID eq ${this.form.value.systemInstance_ID}`),this.getList(this.firstPage,t)}else this.getList(this.firstPage)}getList(t,s={},o){this.removePageParams(),this.page.pageIndex=t,o&&(this.page.pageSize=o);let l={PageNumber:t,pageSize:this.page.pageSize,...s};this.showLoading(),this.s4SytemInstanceService.getList(l).subscribe(c=>{if(c.message.messageType==m.u.Success){if(0==c.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new p.by(c.data),this.isLoaded=!0,this.page.length=c.meta.totalItemCount}else this.errorList(c.message.messages);this.hideLoading()})}onDelete(t){let s=this.msgTranslate(t.ar_Name,t.en_Name);this.deleateDialog(s).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.s4SytemInstanceService.Delete(t.id).subscribe(s=>{s.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(s?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(s.message.messages),this.hideLoading()})}resetSearch(){this.form.reset(),this.getList(this.firstPage)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-s4-system-instance-index"]],features:[e.qOj],decls:8,vars:7,consts:[[1,"row"],[1,"col-12"],["title","s4SystemInstance",3,"globalFunctions"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","onChangePage","deleteRow"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title"),e._UZ(5,"page-title",2),e.qZA(),e._UZ(6,"mat-divider"),e.TgZ(7,"app-material-table",3),e.NdJ("onChangePage",function(l){return s.getList(l.pageIndex+1,l.pageSize)})("deleteRow",function(l){return s.onDelete(l)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("globalFunctions",s.globalFunctions),e.xp6(2),e.Q6J("isLoaded",s.isLoaded)("dataSource",s.dataSource)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("actions",s.rowFunctions))},dependencies:[_.I,I.T,d.a8,d.n5,b.d,y.Ro]}),n})();var L=a(80458),D=a(18521),z=a(21854);let J=(()=>{class n extends D.K{constructor(){super()}create(t){return this.post("S4AccountMapSetup/Create",t)}update(t){return this.post("S4AccountMapSetup/Edit",t)}getList(t){return this.get("S4AccountMapSetup/GetList",{params:{...t,$expand:z.db.PAY_Variable}})}getAll(){return this.get("S4AccountMapSetup/GetAll")}getById(t){return this.get("S4AccountMapSetup/GetAll",{params:{$filter:`id eq ${t}`}})}Delete(t){return this.delete("S4AccountMapSetup/Delete",{params:{Id:t}})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=a(92363),w=a(85003),P=a(3181),S=a(22289),R=a(4859),i=a(24006),N=a(49274);let x=(()=>{class n extends g.d{constructor(t){super(),this.s4AccountMapService=t,this.mandatoryColomns=["Ser","id","variables","integrationPurpose","s4_LG_AccountCode","s4_LG_Account_Text","actions"],this.optionalColomns=["bothBankCash","is_Aggregated","ignoreCostCenters","accountType"],this.isLoaded=!1}ngOnInit(){this.form=this.fb.group({systemInstance_ID:[null],integrationPurpose_ID:[null],S4_LG_AccountCode:[null]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.CheckNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}searchList(){if(this.form?.value.systemInstance_ID||this.form?.value.integrationPurpose_ID||this.form?.value.S4_LG_AccountCode){let t={$filter:""};this.form?.value.S4_LG_AccountCode?t.$filter=`S4_LG_AccountCode eq '${this.form.value.S4_LG_AccountCode}'`:this.form?.value.integrationPurpose_ID?t.$filter=`IntegrationPurpose_ID eq ${this.form.value.integrationPurpose_ID}`:this.form?.value.systemInstance_ID&&(t.$filter=`systemInstance_ID eq ${this.form.value.systemInstance_ID}`),this.getList(this.firstPage,t)}else this.warning("selectDataToSearch")}getList(t,s={},o){this.removePageParams(),this.page.pageIndex=t,o&&(this.page.pageSize=o);let l={PageNumber:t,pageSize:this.page.pageSize,...s};this.showLoading(),this.s4AccountMapService.getList(l).subscribe(c=>{if(c.message.messageType==m.u.Success){if(0==c.data.length&&t>1)return void this.getList(this.prevPage);c.data.map(u=>{u.integrationPurpose=u.s4_IntegrationPurpose.name,u.accountType=u.is_Debit?"Debit":"Credit",u.variables=this.msgTranslate(u.pay_Variable?.arName,u.pay_Variable?.name),u.bothBankCash=!(!u.bothBankCash||u.bank_ID)}),this.dataSource=new p.by(c.data),this.isLoaded=!0,this.page.length=c.meta.totalItemCount}else this.errorList(c.message.messages);this.hideLoading()})}onDelete(t){let s=this.msgTranslate(`${t.id} - ${t.integrationPurpose} - ${t.accountType}`);this.deleateDialog(s).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.s4AccountMapService.Delete(t.id).subscribe(s=>{s.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(s?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(s.message.messages),this.hideLoading()})}resetSearch(){this.form.reset(),this.getList(this.firstPage)}onChangePurpose(t){t.length>0&&this.formCtrls.S4_LG_AccountCode.setValue(null)}onChangeGlAccount(t){t.length>0&&this.formCtrls.integrationPurpose_ID.setValue(null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-s4-account-map-index"]],features:[e.qOj],decls:24,vars:19,consts:[[1,"row"],[1,"col-12"],["title","s4AccountMap",3,"globalFunctions"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-4","col-12"],[3,"control","filter"],[3,"control","s4SystemInstanceControl","filter","change"],["align","end"],["mat-raised-button","",1,"btn","btn-info","bg-light-info",3,"click"],[3,"click"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","onChangePage","deleteRow"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title"),e._UZ(5,"page-title",2),e.qZA(),e.TgZ(6,"mat-card-content",3)(7,"div",0)(8,"div",1)(9,"form",4)(10,"div",0)(11,"div",5),e._UZ(12,"app-s4-system-instance-dropdown",6),e.qZA(),e.TgZ(13,"div",5)(14,"app-s4-integration-purpose-by-system-instance-dropdown",7),e.NdJ("change",function(l){return s.onChangePurpose(l)}),e.qZA()(),e.TgZ(15,"div",5)(16,"app-gl-account-by-s4-system-instance-dropdown",7),e.NdJ("change",function(l){return s.onChangeGlAccount(l)}),e.qZA()()()()()()(),e.TgZ(17,"mat-card-actions",8)(18,"button",9),e.NdJ("click",function(){return s.searchList()}),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"reset-form-btn",10),e.NdJ("click",function(){return s.resetSearch()}),e.qZA()(),e._UZ(22,"mat-divider"),e.TgZ(23,"app-material-table",11),e.NdJ("onChangePage",function(l){return s.getList(l.pageIndex+1,l.pageSize)})("deleteRow",function(l){return s.onDelete(l)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("globalFunctions",s.globalFunctions),e.xp6(4),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.systemInstance_ID)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.integrationPurpose_ID)("s4SystemInstanceControl",s.formCtrls.systemInstance_ID)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.S4_LG_AccountCode)("s4SystemInstanceControl",s.formCtrls.systemInstance_ID)("filter",!0),e.xp6(3),e.hij(" ",e.lcZ(20,17,"General.search")," "),e.xp6(4),e.Q6J("isLoaded",s.isLoaded)("dataSource",s.dataSource)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("actions",s.rowFunctions))},dependencies:[_.I,M.z,w.C,P.h,S.J,I.T,R.lW,d.a8,d.dn,d.n5,d.hq,b.d,y.Ro,i._Y,i.JL,i.sg,N.X$]}),n})();var V=a(24724),O=a(37167),Q=a(65959),$=a(90823),Y=a(2430),E=a(76774),K=a(75968),X=a(26511),U=a(18825),H=a(28973),C=a(53026),W=a(15549);function ee(n,r){if(1&n&&e._UZ(0,"app-add-new-btn",4),2&n){const t=e.oxw();e.MGl("url","/s4-setup/",t.moduleId,"/s4-account-map/add"),e.Q6J("params",t.parantParam)}}function te(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"reset-form-btn",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}const v=function(n){return{"hidden-field":n}};let q=(()=>{class n extends g.d{constructor(t){super(),this.s4AccountMapService=t,this.submitted=!1,this.jobTitleRadioList=[{value:!0,label:"jobTitle",cssClass:"col-md-4 col-12"},{value:!1,label:"jobFamily",cssClass:"col-md-4 col-12"},{value:null,label:"none",cssClass:"col-md-4 col-12"}],this.bankRadioList=[{value:!0,label:"bothBankWithInstruction"},{value:!1,label:"cash"}],this.isDebitRadioList=[{value:!0,label:"debit"},{value:!1,label:"credit"}]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],systemInstance_ID:[null,[i.kI.required]],integrationPurpose_ID:[null,[i.kI.required]],payment_ID:[null,[i.kI.required]],variable_ID:[null,[i.kI.required]],s4_LG_AccountCode:[null,[i.kI.required]],s4_LG_Account_Text:[null],is_Aggregated:[!0],ignoreCostCenters:[null],organizationTypeId:[null],organization_ID:[null],isJobtitleType:[!0],jobTitle_ID:[null,[i.kI.required]],job_Title_Family_ID:[null],bothBankCash:[!0],bank_ID:[null],is_Debit:[!0]}),this.activatedRoute.paramMap.subscribe(t=>{this.s4AccountMapId=Number(t.get("s4AccountMapId"))??0})}onChangeBusinessAndCompanyId(){this.s4AccountMapId>0&&this.CheckNoBusinessOrCompany()&&this.getById()}get formCtrls(){return this.form.controls}getById(){this.showLoading(),this.s4AccountMapService.getById(this.s4AccountMapId).subscribe(t=>{t.message.messageType==m.u.Success?this.s4AccountMapToEdit({...t.data[0]._I_PAY_Variable_SAP_SystemInstance_AccountNumber_COMM_Bank,organizationTypeId:t.data[0].orgTypeId}):this.errorList(t.message.messages),this.hideLoading()})}s4AccountMapToEdit(t){this.form.patchValue(t),this.formCtrls.integrationPurpose_ID.setValue(t.integrationPurpose_ID),this.formCtrls.variable_ID.setValue(t.variable_ID),this.formCtrls.organization_ID.setValue(t.organization_ID),setTimeout(()=>{this.formCtrls.jobTitle_ID.setValue(t.jobTitle_ID),this.formCtrls.job_Title_Family_ID.setValue(t.job_Title_Family_ID)},20);let s=null;t.job_Title_Family_ID?s=!1:t.jobTitle_ID&&(s=!0),this.formCtrls.isJobtitleType.setValue(s),this.onChangeIsJobRadio(s,!0)}submit(){if(this.submitted=!0,this.form.valid){const t={ID:this.form.value.id,SystemInstance_ID:this.form.value.systemInstance_ID,IntegrationPurpose_ID:this.form.value.integrationPurpose_ID,S4_LG_AccountCode:this.form.value.s4_LG_AccountCode,S4_LG_Account_Text:this.form.value.s4_LG_Account_Text,Payment_ID:this.form.value.payment_ID,Variable_ID:this.form.value.variable_ID,Is_Aggregated:this.form.value.is_Aggregated??!1,IgnoreCostCenters:this.form.value.ignoreCostCenters??!1,Organization_ID:this.form.value.organization_ID,JobTitle_ID:this.form.value.jobTitle_ID,Job_Title_Family_ID:this.form.value.job_Title_Family_ID,BothBankCash:this.form.value.bothBankCash??!1,Bank_ID:this.form.value.bank_ID,Is_Debit:this.form.value.is_Debit??!1};0==t.ID?this.create(t):this.update(t)}}create(t){this.showLoading(),this.s4AccountMapService.create(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.addSuccessfullyMsg(s?.message?.messageTypeName),this.changeDataAfterAddAndEdit(s.data)):this.errorList(s.message.messages),this.hideLoading()})}update(t){this.showLoading(),this.s4AccountMapService.update(t).subscribe(s=>{s.message.messageType==m.u.Success?(this.updateSuccessfullyMsg(s?.message?.messageTypeName),this.changeDataAfterAddAndEdit(s.data)):this.errorList(s.message.messages),this.hideLoading()})}changeDataAfterAddAndEdit(t){this.s4AccountMapId=t.id,this.formCtrls.id.setValue(this.s4AccountMapId),this.navigateTo(`/s4-setup/${this.moduleId}/s4-account-map/edit/${this.s4AccountMapId}`),this.formCtrls.is_Aggregated.setValue(t.is_Aggregated)}clearForm(){this.form.reset({id:0,is_Aggregated:!0,isJobtitleType:!0,bothBankCash:!0,is_Debit:!0}),this.submitted=!1}onChangeIsJobRadio(t,s=!1){s||(this.formCtrls.jobTitle_ID.reset(),this.formCtrls.job_Title_Family_ID.reset()),1==t?(this.formCtrls.jobTitle_ID.setValidators([i.kI.required]),this.formCtrls.job_Title_Family_ID.clearValidators()):0==t?(this.formCtrls.job_Title_Family_ID.setValidators([i.kI.required]),this.formCtrls.jobTitle_ID.clearValidators()):(this.formCtrls.jobTitle_ID.clearValidators(),this.formCtrls.job_Title_Family_ID.clearValidators()),this.formCtrls.jobTitle_ID.updateValueAndValidity(),this.formCtrls.job_Title_Family_ID.updateValueAndValidity()}onChangeIsBankRadio(t){t||this.formCtrls.bank_ID.setValue(null)}changeGLAccountText(t){this.formCtrls.s4_LG_Account_Text.setValue(t[0].GLName)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-s4-account-map"]],features:[e.qOj],decls:46,vars:65,consts:[[1,"row"],[1,"col-12"],["addTitle","s4AccountMap","editTitle","editS4AccountMap",3,"id"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-4","col-12"],[3,"control","submitted","filter"],[3,"control","s4SystemInstanceControl","submitted","filter"],[3,"control","s4SystemInstanceControl","submitted","filter","change"],[1,"col-md-6","col-12"],[3,"control","paymentControl","submitted","filter"],[1,"col-md-6","col-12","mb-3"],["label","is_Aggregated",1,"mtop-14",3,"control"],["label","ignoreCostCenters",1,"mtop-14",3,"control"],[3,"control","orgTypeControl","submitted","filter"],[1,"col-md-8","col-12"],[1,"mtop-14",3,"control","radioList","submitted","change"],[1,"col-md-4","col-12",3,"ngClass"],[3,"control","organizationControl","organizationControlRequired","submitted","filter"],[1,"col-md-6","col-12",3,"ngClass"],["label","debitOrCredit",3,"control","radioList","submitted"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title"),e._UZ(5,"page-title",2),e.YNc(6,ee,1,2,"app-add-new-btn",3),e._UZ(7,"app-back-btn",4),e.qZA(),e.TgZ(8,"mat-card-content",5)(9,"div",0)(10,"div",1)(11,"form",6)(12,"div",0)(13,"div",7),e._UZ(14,"app-s4-system-instance-dropdown",8),e.qZA(),e.TgZ(15,"div",7),e._UZ(16,"app-s4-integration-purpose-by-system-instance-dropdown",9),e.qZA(),e.TgZ(17,"div",7)(18,"app-gl-account-by-s4-system-instance-dropdown",10),e.NdJ("change",function(l){return s.changeGLAccountText(l)}),e.qZA()(),e.TgZ(19,"div",11),e._UZ(20,"app-payment-dropdown",8),e.qZA(),e.TgZ(21,"div",11),e._UZ(22,"app-variable-by-payment-dropdown",12),e.qZA(),e.TgZ(23,"div",13),e._UZ(24,"app-check-box",14),e.qZA(),e.TgZ(25,"div",11),e._UZ(26,"app-check-box",15),e.qZA(),e.TgZ(27,"div",11),e._UZ(28,"app-org-types-dropdown-current-structure",8),e.qZA(),e.TgZ(29,"div",11),e._UZ(30,"app-organization-by-org-type-dropdown",16),e.qZA(),e.TgZ(31,"div",17)(32,"app-radio-button",18),e.NdJ("change",function(l){return s.onChangeIsJobRadio(l)}),e.qZA()(),e.TgZ(33,"div",19),e._UZ(34,"app-job-title-by-org-dropdown",20),e.qZA(),e.TgZ(35,"div",19),e._UZ(36,"app-job-family-by-org-dropdown",20),e.qZA(),e.TgZ(37,"div",11)(38,"app-radio-button",18),e.NdJ("change",function(l){return s.onChangeIsBankRadio(l)}),e.qZA()(),e.TgZ(39,"div",21),e._UZ(40,"app-bank-dropdown",8),e.qZA(),e.TgZ(41,"div",1),e._UZ(42,"app-radio-button",22),e.qZA()()()()()(),e.TgZ(43,"mat-card-actions",23)(44,"submit-btn",24),e.NdJ("onClick",function(){return s.submit()}),e.qZA(),e.YNc(45,te,1,0,"reset-form-btn",25),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",s.formCtrls.id.value>0),e.xp6(1),e.MGl("url","/s4-setup/",s.moduleId,"/s4-account-map/index"),e.Q6J("params",s.pageParams),e.xp6(4),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.systemInstance_ID)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.integrationPurpose_ID)("s4SystemInstanceControl",s.formCtrls.systemInstance_ID)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.s4_LG_AccountCode)("s4SystemInstanceControl",s.formCtrls.systemInstance_ID)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.payment_ID)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.variable_ID)("paymentControl",s.formCtrls.payment_ID)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.is_Aggregated),e.xp6(2),e.Q6J("control",s.formCtrls.ignoreCostCenters),e.xp6(2),e.Q6J("control",s.formCtrls.organizationTypeId)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.organization_ID)("orgTypeControl",s.formCtrls.organizationTypeId)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.isJobtitleType)("radioList",s.jobTitleRadioList)("submitted",s.submitted),e.xp6(1),e.Q6J("ngClass",e.VKq(59,v,1!=s.formCtrls.isJobtitleType.value)),e.xp6(1),e.Q6J("control",s.formCtrls.jobTitle_ID)("organizationControl",s.formCtrls.organization_ID)("organizationControlRequired",!1)("submitted",s.submitted)("filter",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(61,v,0!=s.formCtrls.isJobtitleType.value)),e.xp6(1),e.Q6J("control",s.formCtrls.job_Title_Family_ID)("organizationControl",s.formCtrls.organization_ID)("organizationControlRequired",!1)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.bothBankCash)("radioList",s.bankRadioList)("submitted",s.submitted),e.xp6(1),e.Q6J("ngClass",e.VKq(63,v,1!=s.formCtrls.bothBankCash.value)),e.xp6(1),e.Q6J("control",s.formCtrls.bank_ID)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.is_Debit)("radioList",s.isDebitRadioList)("submitted",s.submitted),e.xp6(2),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",0==s.formCtrls.id.value))},dependencies:[h.mk,h.O5,V._,O.u,Q.a,$.s,Y.Y,E.b,K.t,X.A,U.J,H.s,M.z,w.C,P.h,S.J,C.p,I.T,W.v,d.a8,d.dn,d.n5,d.hq,y.Ro,i._Y,i.JL,i.sg],styles:["mat-label[_ngcontent-%COMP%]{display:inline-block;margin-top:20px!important}"]}),n})();var f=a(78937),A=a(45471),k=a(3848);let se=(()=>{class n extends D.K{constructor(){super()}create(t){return this.post("SystemInstanceS4Setup/Create_Methods_S4",t)}update(t){return this.post("SystemInstanceS4Setup/Edit_Methods_S4",t)}getAllBySystemInstanceId(t){return this.get("SystemInstanceS4Setup/GetAll_Methods_S4",{params:{$filter:`s4_instance_Id eq ${t}`}})}Delete(t){return this.delete("SystemInstanceS4Setup/Delete_Methods_S4",{params:{Id:t}})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ne(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"mat-divider"),e.TgZ(2,"app-material-table",10),e.NdJ("deleteRow",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onDelete(o))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)}}let ae=(()=>{class n extends g.d{constructor(t){super(),this.s4SystemInstanceMethodsService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","name","api_Method_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({name:[null,[i.kI.required]],api_Method_Name:[null,[i.kI.required]]})}ngOnChanges(t){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.s4SystemInstanceId&&this.CheckNoBusinessOrCompany()&&this.getAll()}get formCtrls(){return this.form.controls}getAll(){this.showLoading(),this.s4SystemInstanceMethodsService.getAllBySystemInstanceId(this.s4SystemInstanceId).subscribe(t=>{t.message.messageType==m.u.Success?(this.dataSource=new p.by(t.data),this.isLoaded=!0):this.errorList(t.message.messages),this.hideLoading()})}submit(){this.submitted=!0,this.form.valid&&this.create({S4_instance_Id:this.s4SystemInstanceId,Name:this.form.value.name,Api_Method_Name:this.form.value.api_Method_Name})}create(t){this.showLoading(),this.s4SystemInstanceMethodsService.create(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.clearForm(),this.addSuccessfullyMsg(s?.message?.messageTypeName),this.getAll()):this.errorList(s.message.messages),this.hideLoading()})}onDelete(t){let s=this.msgTranslate(t.name);this.deleateDialog(s).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.s4SystemInstanceMethodsService.Delete(t.id).subscribe(s=>{s.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(s?.message?.messageTypeName),this.getAll()):this.errorList(s.message.messages),this.hideLoading()})}clearForm(){this.form.reset(),this.submitted=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-s4-system-instance-methods"]],inputs:{s4SystemInstanceId:"s4SystemInstanceId"},features:[e.qOj,e.TTD],decls:12,vars:7,consts:[[1,"container-fluid","mb-0"],[1,"row"],[1,"col-12"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","name",3,"control","submitted"],["label","api_Method_Name",3,"control","submitted"],["align","end"],[3,"disabled","onClick"],[4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","deleteRow"]],template:function(t,s){1&t&&(e.TgZ(0,"mat-card-content",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",1)(5,"div",4),e._UZ(6,"app-input",5),e.qZA(),e.TgZ(7,"div",4),e._UZ(8,"app-input",6),e.qZA()()()()()(),e.TgZ(9,"mat-card-actions",7)(10,"submit-btn",8),e.NdJ("onClick",function(){return s.submit()}),e.qZA()(),e.YNc(11,ne,3,6,"ng-container",9)),2&t&&(e.xp6(3),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.name)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.api_Method_Name)("submitted",s.submitted),e.xp6(2),e.Q6J("disabled",!s.s4SystemInstanceId),e.xp6(1),e.Q6J("ngIf",s.s4SystemInstanceId))},dependencies:[h.O5,A.a,_.I,C.p,d.dn,d.hq,b.d,i._Y,i.JL,i.sg]}),n})();var oe=a(54713);function ie(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"mat-divider"),e.TgZ(2,"app-material-table",10),e.NdJ("deleteRow",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onDelete(o))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)}}let re=(()=>{class n extends g.d{constructor(t){super(),this.s4SystemInstancePurposeService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","purpose","procedure_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({purpose:[null,[i.kI.required]],procedureName:[null,[i.kI.required]]})}ngOnChanges(t){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.s4SystemInstanceId&&this.CheckNoBusinessOrCompany()&&this.getAll()}get formCtrls(){return this.form.controls}getAll(){this.showLoading(),this.s4SystemInstancePurposeService.getAllBySystemInstanceId(this.s4SystemInstanceId).subscribe(t=>{t.message.messageType==m.u.Success?(t.data.map(s=>{s.purpose=s.name}),this.dataSource=new p.by(t.data),this.isLoaded=!0):this.errorList(t.message.messages),this.hideLoading()})}submit(){this.submitted=!0,this.form.valid&&this.create({SystemInstance_ID:this.s4SystemInstanceId,Name:this.form.value.purpose,Procedure_Name:this.form.value.procedureName})}create(t){this.showLoading(),this.s4SystemInstancePurposeService.create(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.clearForm(),this.addSuccessfullyMsg(s?.message?.messageTypeName),this.getAll()):this.errorList(s.message.messages),this.hideLoading()})}onDelete(t){let s=this.msgTranslate(t.name);this.deleateDialog(s).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.s4SystemInstancePurposeService.Delete(t.id).subscribe(s=>{s.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(s?.message?.messageTypeName),this.getAll()):this.errorList(s.message.messages),this.hideLoading()})}clearForm(){this.form.reset(),this.submitted=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(oe.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-s4-system-instance-purpose"]],inputs:{s4SystemInstanceId:"s4SystemInstanceId"},features:[e.qOj,e.TTD],decls:12,vars:7,consts:[[1,"container-fluid","mb-0"],[1,"row"],[1,"col-12"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","purpose",3,"control","submitted"],["label","procedure_Name",3,"control","submitted"],["align","end"],[3,"disabled","onClick"],[4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","deleteRow"]],template:function(t,s){1&t&&(e.TgZ(0,"mat-card-content",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",1)(5,"div",4),e._UZ(6,"app-input",5),e.qZA(),e.TgZ(7,"div",4),e._UZ(8,"app-input",6),e.qZA()()()()()(),e.TgZ(9,"mat-card-actions",7)(10,"submit-btn",8),e.NdJ("onClick",function(){return s.submit()}),e.qZA()(),e.YNc(11,ie,3,6,"ng-container",9)),2&t&&(e.xp6(3),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.purpose)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.procedureName)("submitted",s.submitted),e.xp6(2),e.Q6J("disabled",!s.s4SystemInstanceId),e.xp6(1),e.Q6J("ngIf",s.s4SystemInstanceId))},dependencies:[h.O5,A.a,_.I,C.p,d.dn,d.hq,b.d,i._Y,i.JL,i.sg]}),n})();function le(n,r){if(1&n&&e._UZ(0,"app-add-new-btn",4),2&n){const t=e.oxw();e.MGl("url","/s4-setup/",t.moduleId,"/s4-system-instance/add"),e.Q6J("params",t.parantParam)}}function de(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"reset-form-btn",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let G=(()=>{class n extends g.d{constructor(t){super(),this.s4SytemInstanceService=t,this.submitted=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.s4SystemInstanceId=Number(t.get("s4SystemInstanceId"))??0}),this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[i.kI.required,f.w.whiteSpace]],en_Name:[null,[i.kI.required,f.w.whiteSpace]],api_Url_Prefix:[null,[i.kI.required,f.w.whiteSpace]],userName:[null,[i.kI.required]],password:[null,[i.kI.required,f.w.whiteSpace]],s4_Client_Code:[null,[i.kI.required,f.w.whiteSpace]],s4_Company_Code:[null,[i.kI.required,f.w.whiteSpace]]})}onChangeBusinessAndCompanyId(){this.s4SystemInstanceId>0&&this.CheckNoBusinessOrCompany()&&this.getById()}get formCtrls(){return this.form.controls}getById(){this.showLoading(),this.s4SytemInstanceService.getById(this.s4SystemInstanceId).subscribe(t=>{t.message.messageType==m.u.Success?this.s4SystemInstanceToEdit(t.data[0]):this.errorList(t.message.messages),this.hideLoading()})}s4SystemInstanceToEdit(t){this.form.patchValue(t)}submit(){if(this.submitted=!0,this.form.valid){const t={ID:this.form.value.id,Ar_Name:this.form.value.ar_Name,En_Name:this.form.value.en_Name,Api_Url_Prefix:this.form.value.api_Url_Prefix,UserName:this.form.value.userName,Password:this.form.value.password,S4_Client_Code:this.form.value.s4_Client_Code,S4_Company_Code:this.form.value.s4_Company_Code};0==t.ID?this.create(t):this.update(t)}}create(t){this.showLoading(),this.s4SytemInstanceService.create(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.s4SystemInstanceId=s.data.id,this.formCtrls.id.setValue(this.s4SystemInstanceId),this.navigateTo(`/s4-setup/${this.moduleId}/s4-system-instance/edit/${this.s4SystemInstanceId}`),this.addSuccessfullyMsg(s?.message?.messageTypeName)):this.errorList(s.message.messages),this.hideLoading()})}update(t){this.showLoading(),this.s4SytemInstanceService.update(t).subscribe(s=>{s.message.messageType==m.u.Success?this.updateSuccessfullyMsg(s?.message?.messageTypeName):this.errorList(s.message.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-s4-system-instance"]],features:[e.qOj],decls:42,vars:38,consts:[[1,"row"],[1,"col-12"],["addTitle","s4SystemInstance","editTitle","editS4SystemInstance",3,"id"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"col-12","w-100"],[3,"label"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","api_Url_Prefix",3,"control","submitted"],["label","userName",3,"control","submitted"],["label","password",3,"control","submitted"],["label","s4_Client_Code",3,"control","submitted"],["label","s4_Company_Code",3,"control","submitted"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"s4SystemInstanceId"],[3,"click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title"),e._UZ(5,"page-title",2),e.YNc(6,le,1,2,"app-add-new-btn",3),e._UZ(7,"app-back-btn",4),e.qZA(),e.TgZ(8,"mat-tab-group",5)(9,"mat-tab",6),e.ALo(10,"titlecase"),e.ALo(11,"translate"),e.TgZ(12,"mat-card-content",7)(13,"div",0)(14,"div",1)(15,"form",8)(16,"div",0)(17,"div",9),e._UZ(18,"app-input",10),e.qZA(),e.TgZ(19,"div",9),e._UZ(20,"app-input",11),e.qZA(),e.TgZ(21,"div",1),e._UZ(22,"app-input",12),e.qZA(),e.TgZ(23,"div",9),e._UZ(24,"app-input",13),e.qZA(),e.TgZ(25,"div",9),e._UZ(26,"app-input",14),e.qZA(),e.TgZ(27,"div",9),e._UZ(28,"app-input",15),e.qZA(),e.TgZ(29,"div",9),e._UZ(30,"app-input",16),e.qZA()()()()()(),e.TgZ(31,"mat-card-actions",17)(32,"submit-btn",18),e.NdJ("onClick",function(){return s.submit()}),e.qZA(),e.YNc(33,de,1,0,"reset-form-btn",19),e.qZA()(),e.TgZ(34,"mat-tab",6),e.ALo(35,"titlecase"),e.ALo(36,"translate"),e._UZ(37,"app-s4-system-instance-methods",20),e.qZA(),e.TgZ(38,"mat-tab",6),e.ALo(39,"titlecase"),e.ALo(40,"translate"),e._UZ(41,"app-s4-system-instance-purpose",20),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",s.formCtrls.id.value>0),e.xp6(1),e.MGl("url","/s4-setup/",s.moduleId,"/s4-system-instance/index"),e.Q6J("params",s.pageParams),e.xp6(2),e.s9C("label",e.lcZ(10,26,e.lcZ(11,28,"s4SystemInstance"))),e.xp6(6),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.en_Name)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.ar_Name)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.api_Url_Prefix)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.userName)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.password)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.s4_Client_Code)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.s4_Company_Code)("submitted",s.submitted),e.xp6(2),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",0==s.formCtrls.id.value),e.xp6(1),e.s9C("label",e.lcZ(35,30,e.lcZ(36,32,"s4Methods"))),e.xp6(3),e.Q6J("s4SystemInstanceId",s.s4SystemInstanceId),e.xp6(1),e.s9C("label",e.lcZ(39,34,e.lcZ(40,36,"integrationPurpose"))),e.xp6(3),e.Q6J("s4SystemInstanceId",s.s4SystemInstanceId))},dependencies:[h.O5,A.a,Q.a,U.J,S.J,C.p,I.T,k.SP,k.uX,d.a8,d.dn,d.n5,d.hq,y.Ro,i._Y,i.JL,i.sg,ae,re,h.rS,N.X$]}),n})();var F=a(36162);const me=[{path:"s4-system-instance",data:{view:"s4-system-instance"},children:[{path:"",redirectTo:"index",pathMatch:F.U.full},{path:"index",component:j,data:{view:"s4-system-instance-index"}},{path:"add",component:G,data:{view:"add-s4-system-instance"}},{path:"edit/:s4SystemInstanceId",component:G,data:{view:"add-s4-system-instance"}}]},{path:"s4-account-map",data:{view:"s4-account-map"},children:[{path:"",redirectTo:"index",pathMatch:F.U.full},{path:"index",component:x,data:{view:"s4-account-map-index"}},{path:"add",component:q,data:{view:"add-s4-account-map"}},{path:"edit/:s4AccountMapId",component:q,data:{view:"add-s4-account-map"}}]}];let ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[L.Bz.forChild(me),L.Bz]}),n})(),ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,ce,B.m]}),n})()}}]);