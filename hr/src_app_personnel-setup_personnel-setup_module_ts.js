"use strict";
(self["webpackChunkhr"] = self["webpackChunkhr"] || []).push([["src_app_personnel-setup_personnel-setup_module_ts"],{

/***/ 91921:
/*!***************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees-activation/employees-activation.component.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeesActivationComponent": () => (/* binding */ EmployeesActivationComponent)
/* harmony export */ });
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_employees_activation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/employees-activation */ 87908);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_activation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/services/employees-activation.service */ 92570);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ 82156);








class EmployeesActivationComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeesActivationService) {
        super();
        this.employeesActivationService = employeesActivationService;
        this.mandatoryColomns = ["Ser", "employee", "job", "actions"];
        this.optionalColomns = [];
        this.isLoaded = false;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_5__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany())
            this.getList(this.pageFromUrl > 0 ? this.pageFromUrl : this.firstPage);
    }
    getList(page, pageSize) {
        this.isLoaded = false;
        this.removePageParams();
        this.page.pageIndex = page;
        if (pageSize)
            this.page.pageSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.pageSize,
        };
        this.employeesActivationService
            .getList(params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == 1) {
                if (res.data.length == 0 && page > 1) {
                    this.getList(this.prevPage);
                    return;
                }
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_5__.MatTableDataSource((0,app_personnel_setup_mapper_employees_activation__WEBPACK_IMPORTED_MODULE_0__.empActivationDisplay)(res.data));
                this.isLoaded = true;
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    activate(employee) {
        console.log(employee);
        this.showLoading();
        this.employeesActivationService
            .activate(employee.id)
            .subscribe((res) => {
            if (res.message.messageType == 1) {
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
}
EmployeesActivationComponent.ɵfac = function EmployeesActivationComponent_Factory(t) { return new (t || EmployeesActivationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_activation_service__WEBPACK_IMPORTED_MODULE_2__.EmployeesActivationService)); };
EmployeesActivationComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({ type: EmployeesActivationComponent, selectors: [["app-employees-activation"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵInheritDefinitionFeature"]], decls: 6, vars: 7, consts: [[1, "row"], [1, "col-12"], [1, "form-card"], ["title", "employeesActivation", 3, "globalFunctions"], [3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "onChangePage", "rowactions"]], template: function EmployeesActivationComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card", 2)(3, "mat-card-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](5, "app-material-table", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("onChangePage", function EmployeesActivationComponent_Template_app_material_table_onChangePage_5_listener($event) { return ctx.getList($event.pageIndex + 1, $event.pageSize); })("rowactions", function EmployeesActivationComponent_Template_app_material_table_rowactions_5_listener($event) { return ctx.activate($event.data); });
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("globalFunctions", ctx.globalFunctions);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("isLoaded", ctx.isLoaded)("dataSource", ctx.dataSource)("mandatoryColomns", ctx.mandatoryColomns)("optionalColomns", ctx.optionalColomns)("page", ctx.page)("actions", ctx.rowFunctions);
    } }, dependencies: [_shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_3__.MaterialTableComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_4__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardTitle], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llZXMtYWN0aXZhdGlvbi5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 29222:
/*!*********************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/add-employee/add-employee.component.ts ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddEmployeeComponent": () => (/* binding */ AddEmployeeComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_local_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/local-storage */ 66606);
/* harmony import */ var app_shared_enums_languages_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/enums/languages.enum */ 88367);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var ngx_device_detector__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-device-detector */ 81431);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_buttons_back_btn_back_btn_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/components/resources/buttons/back-btn/back-btn.component */ 61064);
/* harmony import */ var _shared_components_resources_buttons_add_new_btn_add_new_btn_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/components/resources/buttons/add-new-btn/add-new-btn.component */ 52682);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/cdk/bidi */ 72867);
/* harmony import */ var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/tabs */ 15892);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var primeng_image__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! primeng/image */ 21478);
/* harmony import */ var primeng_skeleton__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! primeng/skeleton */ 32712);
/* harmony import */ var _personal_information_emp_personal_info_core_empl_personal_info_core_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../personal-information/emp-personal-info-core/empl-personal-info-core.component */ 59897);
/* harmony import */ var _employee_career_emp_career_core_emp_career_core_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../employee-career/emp-career-core/emp-career-core.component */ 70923);
/* harmony import */ var _employee_general_info_emp_general_info_core_emp_general_info_core_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../employee-general-info/emp-general-info-core/emp-general-info-core.component */ 78392);
/* harmony import */ var _employement_information_employement_info_core_employement_info_core_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../employement-information/employement-info-core/employement-info-core.component */ 20001);
/* harmony import */ var _employee_balances_employee_balances_core_employee_balances_core_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../employee-balances/employee-balances-core/employee-balances-core.component */ 21918);
/* harmony import */ var _sap_integration_emp_sap_integration_core_emp_sap_integration_core_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../sap-integration/emp-sap-integration-core/emp-sap-integration-core.component */ 56333);
/* harmony import */ var _payments_information_emp_payments_info_core_emp_payments_info_core_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../payments-information/emp-payments-info-core/emp-payments-info-core.component */ 61198);



























const _c0 = ["tabGroup"];
function AddEmployeeComponent_div_5_p_image_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "p-image", 22);
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("src", (ctx_r9.employee.img == null ? null : ctx_r9.employee.img.length) > 1 ? ctx_r9.fileService.preview(ctx_r9.employee == null ? null : ctx_r9.employee.img) : ctx_r9.assets.user_avatar_rounded)("preview", true)("height", ctx_r9.deviceService.isMobile() ? "40" : "80")("width", ctx_r9.deviceService.isMobile() ? "40" : "80");
} }
function AddEmployeeComponent_div_5_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", ctx_r10.StatusPosition == null ? null : ctx_r10.StatusPosition.job_name, " ");
} }
function AddEmployeeComponent_div_5_p_skeleton_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "p-skeleton", 24);
} }
function AddEmployeeComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_div_5_p_image_1_Template, 1, 4, "p-image", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](2, "div", 17)(3, "h4", 18)(4, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](6, AddEmployeeComponent_div_5_span_6_Template, 2, 1, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](7, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](8, AddEmployeeComponent_div_5_p_skeleton_8_Template, 1, 0, "p-skeleton", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r0.employee);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", ctx_r0.msgTranslate(ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.ar_Name, ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.en_Name), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r0.isEmpDataLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", !ctx_r0.isEmpDataLoaded && ctx_r0.employee);
} }
function AddEmployeeComponent_app_add_new_btn_7_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "app-add-new-btn", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("onClick", function AddEmployeeComponent_app_add_new_btn_7_Template_app_add_new_btn_onClick_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r12.onAddNew()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpropertyInterpolate1"]("url", "/personnel-setup/", ctx_r1.moduleId, "/employees/add");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("params", ctx_r1.parentParam);
} }
function AddEmployeeComponent_ng_container_12_ng_container_1_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    const _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "a", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function AddEmployeeComponent_ng_container_12_ng_container_1_ng_template_2_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r19); const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); const i_r16 = ctx_r20.index; const tab_r15 = ctx_r20.$implicit; const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2); ctx_r18.activeTab = i_r16; return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r18.scrollToSection($event, tab_r15.viewName)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "span", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](2, "page-title", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const tab_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("title", tab_r15.name);
} }
function AddEmployeeComponent_ng_container_12_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "mat-tab");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](2, AddEmployeeComponent_ng_container_12_ng_container_1_ng_template_2_Template, 3, 1, "ng-template", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} }
function AddEmployeeComponent_ng_container_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_ng_container_12_ng_container_1_Template, 3, 0, "ng-container", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", ctx_r3.customViews);
} }
function AddEmployeeComponent_ng_template_13_mat_tab_0_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "p-skeleton", 31);
} }
function AddEmployeeComponent_ng_template_13_mat_tab_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "mat-tab");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_ng_template_13_mat_tab_0_ng_template_1_Template, 1, 0, "ng-template", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} }
const _c1 = function () { return [1, 2, 3, 4, 5, 6, 7]; };
function AddEmployeeComponent_ng_template_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](0, AddEmployeeComponent_ng_template_13_mat_tab_0_Template, 2, 0, "mat-tab", 26);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction0"](1, _c1));
} }
function AddEmployeeComponent_ng_container_16_ng_container_1_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r35 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 33)(1, "emp-general-info-core", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("changeEmployeeId", function AddEmployeeComponent_ng_container_16_ng_container_1_div_1_Template_emp_general_info_core_changeEmployeeId_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r35); const ctx_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](3); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r34.changeEmployeeId($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const tab_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r26.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r26.icon);
} }
function AddEmployeeComponent_ng_container_16_ng_container_1_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "emp-personal-info-core", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r26.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r26.icon);
} }
function AddEmployeeComponent_ng_container_16_ng_container_1_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "emp-career-core", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r26.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r26.icon);
} }
function AddEmployeeComponent_ng_container_16_ng_container_1_div_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "employement-information-core", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r26.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r26.icon);
} }
function AddEmployeeComponent_ng_container_16_ng_container_1_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "employee-balances-core", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r26.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r26.icon);
} }
function AddEmployeeComponent_ng_container_16_ng_container_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "emp-sap-integration-core", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r26.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r26.icon);
} }
function AddEmployeeComponent_ng_container_16_ng_container_1_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "emp-payments-info-core", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r26.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r26.icon);
} }
function AddEmployeeComponent_ng_container_16_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_ng_container_16_ng_container_1_div_1_Template, 2, 2, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](2, AddEmployeeComponent_ng_container_16_ng_container_1_div_2_Template, 2, 2, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](3, AddEmployeeComponent_ng_container_16_ng_container_1_div_3_Template, 2, 2, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](4, AddEmployeeComponent_ng_container_16_ng_container_1_div_4_Template, 2, 2, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](5, AddEmployeeComponent_ng_container_16_ng_container_1_div_5_Template, 2, 2, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](6, AddEmployeeComponent_ng_container_16_ng_container_1_div_6_Template, 2, 2, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](7, AddEmployeeComponent_ng_container_16_ng_container_1_div_7_Template, 2, 2, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const tab_r26 = ctx.$implicit;
    const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r26.viewName == ctx_r25.viewsManager.emp_general_info_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r26.viewName == ctx_r25.viewsManager.emp_personal_info_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r26.viewName == ctx_r25.viewsManager.emp_career_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r26.viewName == ctx_r25.viewsManager.employment_info_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r26.viewName == ctx_r25.viewsManager.emp_balances_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r26.viewName == ctx_r25.viewsManager.emp_sap_integration_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r26.viewName == ctx_r25.viewsManager.emp_payments_info_tab);
} }
function AddEmployeeComponent_ng_container_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_ng_container_16_ng_container_1_Template, 8, 7, "ng-container", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", ctx_r6.customViews);
} }
function AddEmployeeComponent_ng_template_17_div_1_div_6_mat_divider_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "mat-divider");
} }
function AddEmployeeComponent_ng_template_17_div_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "app-employee-profile-card-skeleton", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](2, AddEmployeeComponent_ng_template_17_div_1_div_6_mat_divider_2_Template, 1, 0, "mat-divider", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const lst_r47 = ctx.last;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("rowNo", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", !lst_r47);
} }
const _c2 = function () { return [1, 2]; };
function AddEmployeeComponent_ng_template_17_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 37)(1, "mat-card")(2, "mat-card-title", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](3, "p-skeleton", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](4, "mat-card-content")(5, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](6, AddEmployeeComponent_ng_template_17_div_1_div_6_Template, 3, 2, "div", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction0"](1, _c2));
} }
function AddEmployeeComponent_ng_template_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_ng_template_17_div_1_Template, 7, 2, "div", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction0"](1, _c2));
} }
const _c3 = function (a0) { return { "--custom-width": a0 }; };
class AddEmployeeComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(dialogRef, empGeneralInfoService, deviceService) {
        super();
        this.dialogRef = dialogRef;
        this.empGeneralInfoService = empGeneralInfoService;
        this.deviceService = deviceService;
        this.employeeId = 0; // get from route
        this.activeTab = 0;
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager;
        this.isEmpDataLoaded = false;
        // showLeftArrow: boolean = false;
        // showRightArrow: boolean = false;
        this.customBorderWidth = "100%";
        // customLeft: string = "0";
        this.isOnScrollToSection = false;
        this.firstScroll = true;
        this.activatedRoute.params.subscribe((params) => {
            this.employeeId = Number(params.employeeId ?? 0);
            app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeInstanceId$.next(null);
            app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeId$.next(this.employeeId);
            this.onChangeBusinessAndCompanyId();
        });
    }
    ngOnInit() {
        // this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
            // EmpGeneralInfoService.employeeId$.next(emp?.person.id ?? 0);
        });
        // load employee status position
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeStatusPosition$.subscribe((info) => {
            this.StatusPosition = info;
            if (info)
                this.isEmpDataLoaded = true;
        });
        setTimeout(() => {
            this.firstScroll = false;
        }, 2000);
    }
    onChangeBusinessAndCompanyId() {
        this.empGeneralInfoService.employee$.next(null);
        if (this.checkNoBusinessOrCompany() && this.employeeId > 0) {
            this.empGeneralInfoService.getEmployeeShared(this.employeeId);
        }
    }
    onModulesChanged() {
        setTimeout(() => {
            // this.checkForOverflow();
            this.updateMatTabsPosition();
        }, 0);
    }
    scrollToSection(event, sectionId) {
        this.isOnScrollToSection = true;
        event.preventDefault();
        const element = document.getElementById(sectionId);
        //const element = this.el.nativeElement.getElementById(sectionId);
        if (element) {
            let top = element.offsetTop;
            window.scroll({ top: top, behavior: "smooth" });
            //  element.scrollIntoView({behavior: "smooth", block: "start"});
        }
        setTimeout(() => {
            this.isOnScrollToSection = false;
        }, 1000);
    }
    updateMatTabsPosition() {
        let tabPositions = this.tabGroup._elementRef.nativeElement.getBoundingClientRect();
        if (app_shared_resources_local_storage__WEBPACK_IMPORTED_MODULE_3__.Storage.getLocalLang == app_shared_enums_languages_enum__WEBPACK_IMPORTED_MODULE_4__.Languages.en &&
            (tabPositions.left > 100 ||
                this.tabGroup._elementRef.nativeElement.offsetTop + 120)) {
            // this.customLeft = `${tabPositions.left}px`;
            this.customBorderWidth = `${window.innerWidth - tabPositions.left}px`;
        }
        else if (app_shared_resources_local_storage__WEBPACK_IMPORTED_MODULE_3__.Storage.getLocalLang == app_shared_enums_languages_enum__WEBPACK_IMPORTED_MODULE_4__.Languages.ar &&
            (window.innerWidth - tabPositions.left - tabPositions.width > 100 ||
                this.tabGroup._elementRef.nativeElement.offsetTop + 120)) {
            // this.customLeft = `${
            //   window.innerWidth - tabPositions.left - tabPositions.width
            // }px`;
            this.customBorderWidth = `${window.innerWidth -
                (window.innerWidth - tabPositions.left - tabPositions.width)}px`;
        }
        else
            this.customBorderWidth = "100%";
        // console.log(
        //   window.innerWidth, tabPositions, tabPositions.left, window.innerWidth - tabPositions.left - tabPositions.width, this.customBorderWidth
        // );
    }
    onAddNew() {
        this.ngOnDestroy();
    }
    changeEmployeeId(employeeId) {
        this.employeeId = employeeId;
    }
    onScroll($event) {
        // console.log(this.firstScroll)
        if (this.firstScroll) {
            window.scrollTo(0, 0);
            this.activeTab = 0;
            setTimeout(() => {
                this.firstScroll = false;
            }, 2000);
        }
        let scrollTop = window.pageYOffset;
        const element = document.getElementById("top-tools");
        // // arrow buttons
        // let arrows = document.querySelectorAll(".arrow-button");
        // // add nav-fixed to tabs
        // if (scrollTop >= this.tabs.nativeElement.parentElement.offsetTop + 23) {
        //   this.tabs.nativeElement.classList.add("nav-fixed");
        //   element.classList.add("mt-2");
        //   arrows.forEach(ele => ele.classList.add("arrow-fixed"));
        // }
        // else {
        //   this.tabs.nativeElement.classList.remove("nav-fixed");
        //   element.classList.remove("mt-2");
        //   arrows.forEach(ele => ele.classList.remove("arrow-fixed"));
        // }
        if (scrollTop >= this.tabGroup._elementRef.nativeElement.offsetTop + 120) {
            this.tabGroup._elementRef.nativeElement.classList.add("nav-fixed");
            element.classList.add("mt-2");
        }
        else {
            this.tabGroup._elementRef.nativeElement.classList.remove("nav-fixed");
            element.classList.remove("mt-2");
        }
        this.updateMatTabsPosition();
        if (!this.isOnScrollToSection) {
            // change active tab
            this.customViews?.forEach((sec, index) => {
                const element = document.getElementById(sec.viewName);
                if (scrollTop >= element.offsetTop) {
                    this.activeTab = index;
                }
            });
        }
    }
    onResize() {
        // this.checkForOverflow();
        this.updateMatTabsPosition();
    }
    ngOnDestroy() {
        this.empGeneralInfoService.cancelRequest$.next();
        this.empGeneralInfoService.cancelRequest$.complete();
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeInstanceId$.next(null);
        //  EmpGeneralInfoService.employeeInstanceId$.complete();
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeId$.next(null);
        //  EmpGeneralInfoService.employeeId$.complete();
        this.empGeneralInfoService.employee$.next(null);
        //  this.empGeneralInfoService.employee$.complete();
    }
}
AddEmployeeComponent.ɵfac = function AddEmployeeComponent_Factory(t) { return new (t || AddEmployeeComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](ngx_device_detector__WEBPACK_IMPORTED_MODULE_18__.DeviceDetectorService)); };
AddEmployeeComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdefineComponent"]({ type: AddEmployeeComponent, selectors: [["app-add-employee"]], viewQuery: function AddEmployeeComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵviewQuery"](_c0, 5);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵloadQuery"]()) && (ctx.tabGroup = _t.first);
    } }, hostBindings: function AddEmployeeComponent_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("scroll", function AddEmployeeComponent_scroll_HostBindingHandler($event) { return ctx.onScroll($event); }, false, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresolveWindow"])("resize", function AddEmployeeComponent_resize_HostBindingHandler($event) { return ctx.onResize($event); }, false, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresolveWindow"]);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵInheritDefinitionFeature"]], decls: 19, vars: 16, consts: [[1, "add-employee-container"], [1, "rounded-0"], [1, "row"], [1, "col-12", "col-sm-7"], ["class", "media user-box d-flex align-items-center", 4, "ngIf"], [1, "col-12", "col-sm-5", "d-flex", "justify-content-end", "align-items-center"], [3, "url", "params", "onClick", 4, "ngIf"], [3, "url", "params"], [1, "col-12"], ["animationDuration", "0ms", 1, "w-100", "view-tabs-group", "emp-group", 3, "dir", "selectedIndex"], ["tabGroup", ""], [4, "ngIf", "ngIfElse"], ["tabsLoading", ""], ["id", "top-tools", 1, "pb-4", "pl-4", "pr-4", "pt-2"], ["loading", ""], [1, "media", "user-box", "d-flex", "align-items-center"], ["imageClass", "users-avatar-shadow avatar", "alt", "User Profile Image", 3, "src", "preview", "height", "width", 4, "ngIf"], [1, "media-body", "ml-3"], [1, "mb-1"], [1, "users-view-name"], ["class", "text-muted user-job", 4, "ngIf"], ["width", "8rem", "height", ".5rem", 4, "ngIf"], ["imageClass", "users-avatar-shadow avatar", "alt", "User Profile Image", 3, "src", "preview", "height", "width"], [1, "text-muted", "user-job"], ["width", "8rem", "height", ".5rem"], [3, "url", "params", "onClick"], [4, "ngFor", "ngForOf"], ["mat-tab-label", ""], [1, "tab-link", 3, "click"], [1, "d-sm-inline-block"], [1, "font-size-15", 3, "title"], ["width", "8rem", "height", "2rem"], ["class", "mbottom-10", 3, "id", 4, "ngIf"], [1, "mbottom-10", 3, "id"], [3, "icon", "changeEmployeeId"], [3, "icon"], ["class", "col-12 mb-3", 4, "ngFor", "ngForOf"], [1, "col-12", "mb-3"], [1, "border-bottom", "pb-2"], ["width", "7rem", "styleClass", "p-mb-2", "borderRadius", "10px"], ["class", "col-12 mb-2", 4, "ngFor", "ngForOf"], [1, "col-12", "mb-2"], [3, "rowNo"], [4, "ngIf"]], template: function AddEmployeeComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 0)(1, "mat-card", 1)(2, "mat-card-content")(3, "div", 2)(4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](5, AddEmployeeComponent_div_5_Template, 9, 4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](7, AddEmployeeComponent_app_add_new_btn_7_Template, 1, 2, "app-add-new-btn", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](8, "app-back-btn", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](9, "div", 8)(10, "mat-tab-group", 9, 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](12, AddEmployeeComponent_ng_container_12_Template, 2, 1, "ng-container", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](13, AddEmployeeComponent_ng_template_13_Template, 1, 2, "ng-template", null, 12, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](15, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](16, AddEmployeeComponent_ng_container_16_Template, 2, 1, "ng-container", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](17, AddEmployeeComponent_ng_template_17_Template, 2, 2, "ng-template", null, 14, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵreference"](14);
        const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵreference"](18);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.employee);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpropertyInterpolate1"]("url", "/personnel-setup/", ctx.moduleId, "/employees/index");
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("params", ctx.pageParams);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵstyleMap"](_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction1"](14, _c3, ctx.customBorderWidth));
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵclassProp"]("no-active-tab", !ctx.customViews);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("dir", ctx.languageService.isArabic ? "rtl" : "ltr")("selectedIndex", ctx.activeTab);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.customViews)("ngIfElse", _r4);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.customViews)("ngIfElse", _r7);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _shared_components_resources_buttons_back_btn_back_btn_component__WEBPACK_IMPORTED_MODULE_5__.BackBtnComponent, _shared_components_resources_buttons_add_new_btn_add_new_btn_component__WEBPACK_IMPORTED_MODULE_6__.AddNewBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_7__.PageTitleComponent, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_8__.EmployeeProfileCardSkeletonComponent, _angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_20__.Dir, _angular_material_tabs__WEBPACK_IMPORTED_MODULE_21__.MatTabGroup, _angular_material_tabs__WEBPACK_IMPORTED_MODULE_21__.MatTabLabel, _angular_material_tabs__WEBPACK_IMPORTED_MODULE_21__.MatTab, _angular_material_card__WEBPACK_IMPORTED_MODULE_22__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_22__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_22__.MatCardTitle, _angular_material_divider__WEBPACK_IMPORTED_MODULE_23__.MatDivider, primeng_image__WEBPACK_IMPORTED_MODULE_24__.Image, primeng_skeleton__WEBPACK_IMPORTED_MODULE_25__.Skeleton, _personal_information_emp_personal_info_core_empl_personal_info_core_component__WEBPACK_IMPORTED_MODULE_9__.EmployeePersonalInfoCoreComponent, _employee_career_emp_career_core_emp_career_core_component__WEBPACK_IMPORTED_MODULE_10__.EmployeeCareerCoreComponent, _employee_general_info_emp_general_info_core_emp_general_info_core_component__WEBPACK_IMPORTED_MODULE_11__.EmpGeneralInfoCoreComponent, _employement_information_employement_info_core_employement_info_core_component__WEBPACK_IMPORTED_MODULE_12__.EmployementInformationComponent, _employee_balances_employee_balances_core_employee_balances_core_component__WEBPACK_IMPORTED_MODULE_13__.EmployeeBalancesCoreComponent, _sap_integration_emp_sap_integration_core_emp_sap_integration_core_component__WEBPACK_IMPORTED_MODULE_14__.EmpSapIntegrationCoreComponent, _payments_information_emp_payments_info_core_emp_payments_info_core_component__WEBPACK_IMPORTED_MODULE_15__.EmpPaymentsInfoCoreComponent], styles: [".add-employee-container[_ngcontent-%COMP%] {\n  margin: 0 -30px;\n}\n\n.divider[_ngcontent-%COMP%] {\n  margin: 40px 0;\n}\n\n.page-user-profile[_ngcontent-%COMP%] {\n  border-bottom: 1px solid #ddd;\n}\n\nmat-nav-list[_ngcontent-%COMP%] {\n  padding: 0;\n}\n\nmat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%] {\n  display: inline-block;\n  height: auto;\n  width: auto;\n  color: #2f8be6;\n}\n\n.user-timeline-image[_ngcontent-%COMP%] {\n  filter: brightness(0.6);\n  width: 100%;\n  height: 100%;\n}\n\n.title-overlay[_ngcontent-%COMP%] {\n  background-color: inherit;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  position: absolute;\n  z-index: 1;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  color: #fff;\n  font-size: 50px;\n  font-weight: 500;\n}\n\n.plicy-list[_ngcontent-%COMP%] {\n  z-index: 1;\n  top: 11px;\n  left: 11px;\n}\n\n.rounded-0[_ngcontent-%COMP%] {\n  border-radius: 0 !important;\n}\n\n  .emp-group .mat-tab-label {\n  padding: 0;\n  min-width: -moz-fit-content !important;\n  min-width: fit-content !important;\n}\n\n  .emp-group .mat-tab-label a {\n  padding: 0.5rem 1rem;\n}\n\n  .emp-group .mat-tab-header {\n  width: var(--custom-width) !important;\n  min-width: 0;\n  margin: auto;\n}\n\n  .emp-group .mat-tab-body-wrapper {\n  display: none;\n}\n\n  .no-active-tab .mat-tab-label {\n  margin: 0.25rem 0.75rem;\n}\n\n  .nav-fixed .mat-tab-header {\n  position: fixed;\n  top: 0;\n  z-index: 1200;\n  width: 100%;\n  background: #f7f7f8;\n}\n\n@media (max-width: 580px) {\n    .mat-tab-header {\n    width: calc(var(--custom-width) - 20px) !important;\n    left: 0;\n  }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1lbXBsb3llZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGVBQUE7QUFERjs7QUF5QkE7RUFDRSxjQUFBO0FBdEJGOztBQXlEQTtFQUNFLDZCQUFBO0FBdERGOztBQXlEQTtFQUNFLFVBQUE7QUF0REY7O0FBd0RFO0VBQ0UscUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUF0REo7O0FBMERBO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQXZERjs7QUEwREE7RUFDRSx5QkFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxNQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUF2REY7O0FBMERBO0VBQ0UsVUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBdkRGOztBQTBEQTtFQUNFLDJCQUFBO0FBdkRGOztBQXFMSTtFQUNFLFVBQUE7RUFDQSxzQ0FBQTtFQUFBLGlDQUFBO0FBbExOOztBQW9MTTtFQUNFLG9CQUFBO0FBbExSOztBQXNMSTtFQUNFLHFDQUFBO0VBRUEsWUFBQTtFQUNBLFlBQUE7QUFyTE47O0FBd0xJO0VBQ0UsYUFBQTtBQXRMTjs7QUEwTEU7RUFDRSx1QkFBQTtBQXhMSjs7QUEyTEU7RUFDRSxlQUFBO0VBQ0EsTUFBQTtFQUVBLGFBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7QUExTEo7O0FBOExBO0VBQ0U7SUFDRSxrREFBQTtJQUNBLE9BQUE7RUEzTEY7QUFDRiIsImZpbGUiOiJhZGQtZW1wbG95ZWUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwic3JjL2Fzc2V0cy9zYXNzL3N0eWxlLWNvbnN0YW50c1wiO1xyXG5cclxuLmFkZC1lbXBsb3llZS1jb250YWluZXIge1xyXG4gIG1hcmdpbjogMCAtMzBweDtcclxufVxyXG5cclxuLy8gLm5hdi10YWJzIHtcclxuLy8gICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbi8vICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4vLyB9XHJcblxyXG4vLyAubmF2LXRhYnMsXHJcbi8vIC5uYXYtdGFicyAubmF2LWxpbmsuYWN0aXZlIHtcclxuLy8gICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxuLy8gICAmOjphZnRlciB7XHJcbi8vICAgICBjb250ZW50OiBcIlwiO1xyXG4vLyAgICAgYm9yZGVyOiAzcHggc29saWQgI2VhZWFlYSAhaW1wb3J0YW50O1xyXG4vLyAgICAgd2lkdGg6IDEwMCU7XHJcbi8vICAgICBkaXNwbGF5OiBibG9jaztcclxuLy8gICAgIGJvcmRlci1yYWRpdXM6IDEwcHggIWltcG9ydGFudDtcclxuLy8gICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuLy8gICAgIGJvdHRvbTogLTVweDtcclxuLy8gICAgIGxlZnQ6IDA7XHJcbi8vICAgICB6LWluZGV4OiAxO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLmRpdmlkZXIge1xyXG4gIG1hcmdpbjogNDBweCAwO1xyXG59XHJcblxyXG4vLyAubmF2LWxpbmsge1xyXG4vLyAgIGNvbG9yOiAjOGM4YzhjICFpbXBvcnRhbnQ7XHJcbi8vIH1cclxuXHJcbi8vIC5uYXYtdGFicyAubmF2LWl0ZW0ge1xyXG4vLyAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuLy8gICB6LWluZGV4OiAyO1xyXG4vLyAgIGEge1xyXG4vLyAgICAgbWFyZ2luLWJvdHRvbTogLTRweDtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIC5hY3RpdmUsXHJcbi8vIC5uYXYtaXRlbTpob3ZlciB7XHJcbi8vICAgJjo6YWZ0ZXIge1xyXG4vLyAgICAgY29udGVudDogXCJcIjtcclxuLy8gICAgIGJvcmRlcjogM3B4IHNvbGlkICRtYWluLWNvbG9yICFpbXBvcnRhbnQ7XHJcbi8vICAgICB3aWR0aDogMTAwJTtcclxuLy8gICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4vLyAgICAgYm9yZGVyLXJhZGl1czogMTBweCAhaW1wb3J0YW50O1xyXG4vLyAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4vLyAgICAgYm90dG9tOiAtNHB4O1xyXG4vLyAgICAgbGVmdDogMDtcclxuLy8gICAgIHotaW5kZXg6IDM7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyAuYWN0aXZlID4gLm5hdi1saW5rLFxyXG4vLyAubmF2LWl0ZW06aG92ZXIgPiAubmF2LWxpbmsge1xyXG4vLyAgIGNvbG9yOiAkbWFpbi1jb2xvciAhaW1wb3J0YW50O1xyXG4vLyB9XHJcblxyXG4ucGFnZS11c2VyLXByb2ZpbGUge1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xyXG59XHJcblxyXG5tYXQtbmF2LWxpc3Qge1xyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC5tYXQtbGlzdC1pdGVtIHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIGhlaWdodDogYXV0bztcclxuICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgY29sb3I6ICMyZjhiZTY7XHJcbiAgfVxyXG59XHJcblxyXG4udXNlci10aW1lbGluZS1pbWFnZSB7XHJcbiAgZmlsdGVyOiBicmlnaHRuZXNzKDAuNik7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4udGl0bGUtb3ZlcmxheSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtd3JhcDogbm93cmFwO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB6LWluZGV4OiAxO1xyXG4gIGxlZnQ6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgdG9wOiAwO1xyXG4gIGJvdHRvbTogMDtcclxuICBjb2xvcjogI2ZmZjtcclxuICBmb250LXNpemU6IDUwcHg7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLnBsaWN5LWxpc3Qge1xyXG4gIHotaW5kZXg6IDE7XHJcbiAgdG9wOiAxMXB4O1xyXG4gIGxlZnQ6IDExcHg7XHJcbn1cclxuXHJcbi5yb3VuZGVkLTAge1xyXG4gIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDtcclxufVxyXG5cclxuLy8gLnRhYnMtbWVudS1jb250YWluZXIge1xyXG4vLyAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuLy8gICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4vLyAgIG1heC13aWR0aDogY2FsYygxMDAlIC0gNTVweCk7XHJcbi8vICAgbGVmdDogMzVweDtcclxuXHJcbi8vICAgLyogdGFicyAqL1xyXG4vLyAgIC50YWJzLW1lbnUtc3ViLWNvbnRhaW5lciB7XHJcbi8vICAgICBkaXNwbGF5OiBmbGV4O1xyXG5cclxuLy8gICAgIC50YWJzLW1lbnUge1xyXG4vLyAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbi8vICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbi8vICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcclxuLy8gICAgICAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7XHJcbi8vICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbi8vICAgICAgIG1hcmdpbjogYXV0bztcclxuLy8gICAgICAgcGFkZGluZy1ib3R0b206IDZweDtcclxuLy8gICAgICAgbWF4LXdpZHRoOiBmaXQtY29udGVudDtcclxuXHJcbi8vICAgICAgIC50YWItaXRlbSB7XHJcbi8vICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuLy8gICAgICAgICAudGFiLWxpbmsge1xyXG4vLyAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogLTRweDtcclxuLy8gICAgICAgICAgIGNvbG9yOiAjOGM4YzhjO1xyXG4vLyAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4vLyAgICAgICAgICAgYm9yZGVyOiAwO1xyXG4vLyAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMDtcclxuLy8gICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4vLyAgICAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG5cclxuLy8gICAubmF2LWZpeGVkIHtcclxuLy8gICAgIHBvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50O1xyXG4vLyAgICAgdG9wOiAtNnB4O1xyXG4vLyAgICAgei1pbmRleDogOTk2O1xyXG4vLyAgICAgLy8gaGVpZ2h0OiAzOHB4O1xyXG4vLyAgICAgYmFja2dyb3VuZDogI2Y3ZjdmODtcclxuLy8gICAgIGJveC1zaGFkb3c6IDBweCAycHggMXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxyXG4vLyAgICAgICAwcHggMXB4IDFweCAwcHggcmdiYSgwLCAwLCAwLCAwLjE0KSwgMHB4IDFweCAzcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcbi8vICAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xyXG4vLyAgIH1cclxuXHJcbi8vICAgLnRhYnMtbWVudSxcclxuLy8gICAudGFicy1tZW51IC50YWItbGluay5hY3RpdmUge1xyXG4vLyAgICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XHJcblxyXG4vLyAgICAgJjo6YWZ0ZXIge1xyXG4vLyAgICAgICBjb250ZW50OiBcIlwiO1xyXG4vLyAgICAgICBib3JkZXI6IDNweCBzb2xpZCAjZWFlYWVhICFpbXBvcnRhbnQ7XHJcbi8vICAgICAgIHdpZHRoOiB2YXIoLS1jdXN0b20td2lkdGgpO1xyXG4vLyAgICAgICBkaXNwbGF5OiBibG9jaztcclxuLy8gICAgICAgYm9yZGVyLXJhZGl1czogMTBweCAhaW1wb3J0YW50O1xyXG4vLyAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbi8vICAgICAgIGJvdHRvbTogMDtcclxuLy8gICAgICAgbGVmdDogMDtcclxuLy8gICAgICAgei1pbmRleDogMTtcclxuLy8gICAgIH1cclxuLy8gICB9XHJcblxyXG4vLyAgIC50YWJzLW1lbnU6OmFmdGVyIHtcclxuLy8gICAgIHdpZHRoOiB2YXIoLS1jdXN0b20td2lkdGgpO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgLmFjdGl2ZSxcclxuLy8gICAudGFiLWl0ZW06aG92ZXIge1xyXG4vLyAgICAgJjo6YWZ0ZXIge1xyXG4vLyAgICAgICBjb250ZW50OiBcIlwiO1xyXG4vLyAgICAgICBib3JkZXI6IDNweCBzb2xpZCAkbWFpbi1jb2xvciAhaW1wb3J0YW50O1xyXG4vLyAgICAgICB3aWR0aDogMTAwJTtcclxuLy8gICAgICAgZGlzcGxheTogYmxvY2s7XHJcbi8vICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggIWltcG9ydGFudDtcclxuLy8gICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4vLyAgICAgICBib3R0b206IC02cHg7XHJcbi8vICAgICAgIGxlZnQ6IDA7XHJcbi8vICAgICAgIHotaW5kZXg6IDM7XHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG5cclxuLy8gICAuYWN0aXZlID4gLnRhYi1saW5rLFxyXG4vLyAgIC50YWItaXRlbTpob3ZlciA+IC50YWItbGluayB7XHJcbi8vICAgICBjb2xvcjogJG1haW4tY29sb3IgIWltcG9ydGFudDtcclxuLy8gICB9XHJcblxyXG4vLyAgIC8qIGFycm93cyAqL1xyXG4vLyAgIC5hcnJvdy1idXR0b24ge1xyXG4vLyAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4vLyAgICAgdG9wOiAwO1xyXG4vLyAgICAgYm90dG9tOiAwO1xyXG4vLyAgICAgYm9yZGVyOiBub25lO1xyXG4vLyAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4vLyAgICAgei1pbmRleDogMTAwMDtcclxuLy8gICAgIGJhY2tncm91bmQtY29sb3I6ICNlYWVhZWE7XHJcbi8vICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbi8vICAgICBoZWlnaHQ6IDQ2cHg7XHJcbi8vICAgfVxyXG5cclxuLy8gICAubGVmdCB7XHJcbi8vICAgICBsZWZ0OiB2YXIoLS1sZWZ0KTtcclxuLy8gICB9XHJcblxyXG4vLyAgIC5yaWdodCB7XHJcbi8vICAgICByaWdodDogMDtcclxuLy8gICB9XHJcblxyXG4vLyAgIC5hcnJvdy1maXhlZCB7XHJcbi8vICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbi8vICAgICB0b3A6IDA7XHJcbi8vICAgICB6LWluZGV4OiA5OTk7XHJcbi8vICAgICBoZWlnaHQ6IDM4cHggIWltcG9ydGFudDtcclxuLy8gICB9XHJcblxyXG4vLyAgIC8vIC5hcnJvdy1maXhlZC5sZWZ0IHtcclxuLy8gICAvLyAgIGxlZnQ6IDIwcHg7XHJcbi8vICAgLy8gfVxyXG4vLyB9XHJcblxyXG46Om5nLWRlZXAge1xyXG4gIC5lbXAtZ3JvdXAge1xyXG4gICAgLm1hdC10YWItbGFiZWwge1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICBtaW4td2lkdGg6IGZpdC1jb250ZW50ICFpbXBvcnRhbnQ7XHJcblxyXG4gICAgICBhIHtcclxuICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5tYXQtdGFiLWhlYWRlciB7XHJcbiAgICAgIHdpZHRoOiB2YXIoLS1jdXN0b20td2lkdGgpICFpbXBvcnRhbnQ7XHJcbiAgICAgIC8vIG1heC13aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICAgIG1pbi13aWR0aDogMDtcclxuICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgfVxyXG5cclxuICAgIC5tYXQtdGFiLWJvZHktd3JhcHBlciB7XHJcbiAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAubm8tYWN0aXZlLXRhYiAubWF0LXRhYi1sYWJlbCB7XHJcbiAgICBtYXJnaW46IDAuMjVyZW0gMC43NXJlbTtcclxuICB9XHJcblxyXG4gIC5uYXYtZml4ZWQgLm1hdC10YWItaGVhZGVyIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogMDtcclxuICAgIC8vIGxlZnQ6IHZhcigtLWxlZnQpO1xyXG4gICAgei1pbmRleDogMTIwMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZDogI2Y3ZjdmODtcclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA1ODBweCkge1xyXG4gIDo6bmctZGVlcCAubWF0LXRhYi1oZWFkZXIge1xyXG4gICAgd2lkdGg6IGNhbGModmFyKC0tY3VzdG9tLXdpZHRoKSAtIDIwcHgpICFpbXBvcnRhbnQ7XHJcbiAgICBsZWZ0OiAwO1xyXG4gIH1cclxufVxyXG4iXX0= */"] });


/***/ }),

/***/ 23589:
/*!*******************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/assign-plan/assign-plan.component.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AssignPlanComponent": () => (/* binding */ AssignPlanComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-work-schedule.service */ 89320);
/* harmony import */ var app_personnel_setup_services_employees_assign_plan_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/assign-plan.service */ 21902);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_back_btn_back_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/components/resources/buttons/back-btn/back-btn.component */ 61064);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _shared_components_dropdowns_org_management_policy_groups_policy_groups_dropdown_policy_groups_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../shared/components/dropdowns/org-management/policy-groups/policy-groups-dropdown/policy-groups-dropdown.component */ 90926);
/* harmony import */ var _shared_components_dropdowns_attendance_setup_attendance_plan_plan_by_policy_group_dropdown_plan_by_policy_group_dropdown_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../shared/components/dropdowns/attendance-setup/attendance-plan/plan-by-policy-group-dropdown/plan-by-policy-group-dropdown.component */ 40362);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_employees_employee_by_policy_group_dropdown_employee_by_policy_group_dropdown_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../shared/components/dropdowns/personnel-setup/employees/employee-by-policy-group-dropdown/employee-by-policy-group-dropdown.component */ 4526);






















function AssignPlanComponent_ng_container_23_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](1, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](2, "app-material-table", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onChangePage", function AssignPlanComponent_ng_container_23_Template_app_material_table_onChangePage_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("deleteRow", function AssignPlanComponent_ng_container_23_Template_app_material_table_deleteRow_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r3.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions);
} }
class AssignPlanComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeWorkScheduleService, assignPlanService) {
        super();
        this.employeeWorkScheduleService = employeeWorkScheduleService;
        this.assignPlanService = assignPlanService;
        this.submitted = false;
        this.mandatoryColomns = [
            "Ser",
            "employee",
            "plan",
            "startDate",
            "toDate",
            "actions",
        ];
        this.isLoaded = true;
        this.optionalColomns = [];
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            policyGroupId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            plan_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            employeeIds: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            fromDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            is_Apply_Rules: [null],
        });
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        // if (this.checkNoBusinessOrCompany()) {
        // }
    }
    get formCtrls() {
        return this.form.controls;
    }
    getList(page, pageSize) {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        let planId = this.formCtrls.plan_ID.value;
        if (planId > 0) {
            this.isLoaded = false;
            this.page.pageIndex = page;
            if (pageSize)
                this.page.pageSize = pageSize;
            let params = {
                PageNumber: page,
                pageSize: this.page.pageSize,
            };
            this.assignPlanService
                .getList(planId, params)
                .pipe(this.cancelRequest())
                .subscribe((res) => {
                if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                    this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empWorkScheduleDisplay)(res.data));
                    this.isLoaded = true;
                    this.page.length = res.meta.totalItemCount;
                    this.page.meta = res.meta;
                }
                else
                    this.errorList(res?.message?.messages);
            });
        }
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Plan_ID: this.formCtrls.plan_ID.value,
                    FromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.formCtrls.fromDate.value),
                    Is_Apply_Rules: this.formCtrls.is_Apply_Rules.value ?? false,
                },
                SelectedEmployeeIDs: this.formCtrls.employeeIds.value,
            };
            this.create(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.assignPlanService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    onDelete(employee) {
        let msg = employee.employee + " - " + employee.plan;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employee);
        });
    }
    delete(employee) {
        let deleteParams = {
            Person_Instance_ID: employee.person_Instance_ID,
            Plan_ID: employee.plan_ID,
            FromDate: employee.fromDate,
            ToDate: employee.toDateOriginal,
        };
        this.showLoading();
        this.employeeWorkScheduleService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.pageSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.pageSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.formCtrls.employeeIds.reset();
        this.formCtrls.fromDate.reset();
        this.formCtrls.is_Apply_Rules.reset();
        this.submitted = false;
    }
}
AssignPlanComponent.ɵfac = function AssignPlanComponent_Factory(t) { return new (t || AssignPlanComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeWorkScheduleService), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_assign_plan_service__WEBPACK_IMPORTED_MODULE_5__.AssignPlanService)); };
AssignPlanComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdefineComponent"]({ type: AssignPlanComponent, selectors: [["app-assign-plan"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵInheritDefinitionFeature"]], decls: 24, vars: 19, consts: [[1, "row"], [1, "col-12"], [1, "form-card"], ["title", "assignPlan"], [3, "url", "params"], [1, "container-fluid"], [3, "formGroup"], [1, "col-md-4", "col-12"], [3, "control", "submitted", "filter"], [3, "control", "policyGroupCtrl", "submitted", "filter", "change"], [3, "control", "policyGroupCtrl", "submitted", "filter", "multi"], ["label", "fromDate", 3, "control", "submitted"], [1, "col-md-8", "col-12", "ptop-15", "pbottom-15"], ["label", "is_Apply_Rules", 3, "control"], ["align", "end"], [3, "onClick"], [4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "onChangePage", "deleteRow"]], template: function AssignPlanComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card", 2)(3, "mat-card-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](4, "page-title", 3)(5, "app-back-btn", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](6, "mat-card-content", 5)(7, "div", 0)(8, "div", 1)(9, "form", 6)(10, "div", 0)(11, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](12, "app-policy-groups-dropdown", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](13, "div", 7)(14, "app-plan-by-policy-group-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("change", function AssignPlanComponent_Template_app_plan_by_policy_group_dropdown_change_14_listener() { return ctx.getList(ctx.firstPage); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](15, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](16, "app-employee-by-policy-group-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](17, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](18, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](19, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](20, "app-check-box", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](21, "mat-card-actions", 14)(22, "submit-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onClick", function AssignPlanComponent_Template_submit_btn_onClick_22_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](23, AssignPlanComponent_ng_container_23_Template, 3, 6, "ng-container", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpropertyInterpolate1"]("url", "/personnel-setup/", ctx.moduleId, "/employees");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("params", ctx.pageParams);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.policyGroupId)("submitted", ctx.submitted)("filter", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.plan_ID)("policyGroupCtrl", ctx.formCtrls.policyGroupId)("submitted", ctx.submitted)("filter", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.employeeIds)("policyGroupCtrl", ctx.formCtrls.policyGroupId)("submitted", ctx.submitted)("filter", true)("multi", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.fromDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.is_Apply_Rules);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.plan_ID.value > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_18__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__.CheckBoxComponent, _shared_components_resources_buttons_back_btn_back_btn_component__WEBPACK_IMPORTED_MODULE_9__.BackBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCardTitle, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCardActions, _angular_material_divider__WEBPACK_IMPORTED_MODULE_20__.MatDivider, _shared_components_dropdowns_org_management_policy_groups_policy_groups_dropdown_policy_groups_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.PolicyGroupsDropdownComponent, _shared_components_dropdowns_attendance_setup_attendance_plan_plan_by_policy_group_dropdown_plan_by_policy_group_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.PlanByPolicyGroupDropdownComponent, _shared_components_dropdowns_personnel_setup_employees_employee_by_policy_group_dropdown_employee_by_policy_group_dropdown_component__WEBPACK_IMPORTED_MODULE_14__.EmployeeByPolicyGroupDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_16__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhc3NpZ24tcGxhbi5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 43536:
/*!******************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/card-shared-components/card-header/card-header.component.ts ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CardHeaderComponent": () => (/* binding */ CardHeaderComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/tooltip */ 6896);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ 89461);





function CardHeaderComponent_a_5_i_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "i", 6);
} }
function CardHeaderComponent_a_5_i_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "i", 7);
} }
function CardHeaderComponent_a_5_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CardHeaderComponent_a_5_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r3.click($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CardHeaderComponent_a_5_i_2_Template, 1, 0, "i", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, CardHeaderComponent_a_5_i_3_Template, 1, 0, "i", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 3, ctx_r0.isEdit ? "edit" : "add"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.isEdit);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.isEdit);
} }
const _c0 = ["*"];
class CardHeaderComponent {
    constructor() {
        // @Input() canMadeAction: boolean = false;
        this.isEdit = false;
        this.isLoaded = false;
        this.onClickIcon = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    }
    ngOnInit() {
    }
    ngOnChanges(changes) {
        // console.log(this.cardId, this.cardTitle, this.isLoaded);
    }
    click($event) {
        this.onClickIcon.emit($event);
    }
}
CardHeaderComponent.ɵfac = function CardHeaderComponent_Factory(t) { return new (t || CardHeaderComponent)(); };
CardHeaderComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CardHeaderComponent, selectors: [["card-header"]], inputs: { isEdit: "isEdit", cardTitle: "cardTitle", class: "class", isLoaded: "isLoaded" }, outputs: { onClickIcon: "onClickIcon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], ngContentSelectors: _c0, decls: 7, vars: 8, consts: [[1, "cardSectionTitle"], [1, "mb-0"], ["matTooltipPosition", "above", 3, "matTooltip", "click", 4, "ngIf"], ["matTooltipPosition", "above", 3, "matTooltip", "click"], ["class", "ft-plus-square darkBlue font-size-15", 4, "ngIf"], ["class", "fas fa-pen darkBlue font-size-15", 4, "ngIf"], [1, "ft-plus-square", "darkBlue", "font-size-15"], [1, "fas", "fa-pen", "darkBlue", "font-size-15"]], template: function CardHeaderComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "h5", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, CardHeaderComponent_a_5_Template, 4, 5, "a", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](6);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx.class);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 4, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 6, ctx.cardTitle)), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoaded);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_1__.NgIf, _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_2__.MatTooltip, _angular_common__WEBPACK_IMPORTED_MODULE_1__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.TranslatePipe], styles: [".side_title[_ngcontent-%COMP%] {\n  border: none;\n}\n.side_title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\n  font-weight: 500;\n  color: #002a6f;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcmQtaGVhZGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtBQUNGO0FBQ0U7RUFDRSxnQkFBQTtFQUVBLGNBQUE7QUFBSiIsImZpbGUiOiJjYXJkLWhlYWRlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zaWRlX3RpdGxlIHtcclxuICBib3JkZXI6IG5vbmU7XHJcblxyXG4gIGg1IHtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgLy8gIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGNvbG9yOiAjMDAyYTZmO1xyXG4gIH1cclxufVxyXG4iXX0= */"] });


/***/ }),

/***/ 58588:
/*!**********************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/card-shared-components/card-row-item/card-row-item.component.ts ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CardRowItemComponent": () => (/* binding */ CardRowItemComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _shared_components_view_data_row_item_view_data_row_item_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../shared/components/view-data-row-item/view-data-row-item.component */ 93665);


class CardRowItemComponent {
    // @Output() onClick? = new EventEmitter<any>();
    constructor() {
        this.label = "";
        this.labelClass = "col-6";
        this.valueClass = "col-6";
        this.isDate = false;
        this.isBool = false;
        this.displayPlaceholder = true;
    }
    ngOnInit() {
        if (this.value == "null")
            this.value = null;
    }
}
CardRowItemComponent.ɵfac = function CardRowItemComponent_Factory(t) { return new (t || CardRowItemComponent)(); };
CardRowItemComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: CardRowItemComponent, selectors: [["card-row-item"]], inputs: { label: "label", labelClass: "labelClass", value: "value", valueClass: "valueClass", isDate: "isDate", isBool: "isBool", displayPlaceholder: "displayPlaceholder" }, decls: 1, vars: 4, consts: [[1, "emp-custom-view", 3, "label", "value", "isDate", "isBool"]], template: function CardRowItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "app-view-data-row-item", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("label", ctx.label)("value", ctx.value)("isDate", ctx.isDate)("isBool", ctx.isBool);
    } }, dependencies: [_shared_components_view_data_row_item_view_data_row_item_component__WEBPACK_IMPORTED_MODULE_0__.ViewDataRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJkLXJvdy1pdGVtLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 87749:
/*!********************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/card-shared-components/see-more-btn/see-more-btn.component.ts ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SeeMoreBtnComponent": () => (/* binding */ SeeMoreBtnComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ 89461);




class SeeMoreBtnComponent {
    constructor() {
        this.isTableView = false;
        this.employeeId = 0;
        this.toggleTable = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    }
    ngOnInit() { }
    onToggleTable() {
        this.toggleTable.emit();
    }
}
SeeMoreBtnComponent.ɵfac = function SeeMoreBtnComponent_Factory(t) { return new (t || SeeMoreBtnComponent)(); };
SeeMoreBtnComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SeeMoreBtnComponent, selectors: [["see-more-btn"]], inputs: { isTableView: "isTableView", employeeId: "employeeId" }, outputs: { toggleTable: "toggleTable" }, decls: 5, vars: 6, consts: [[1, "see-more-box"], [1, "view_see_more", 3, "click"], [1, "fas", "font-size-13", 3, "ngClass"]], template: function SeeMoreBtnComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "a", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SeeMoreBtnComponent_Template_a_click_1_listener() { return ctx.onToggleTable(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "i", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 4, ctx.isTableView ? "see_less" : "see_more"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx.isTableView ? "fa-chevron-up" : "fa-chevron-down");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_1__.NgClass, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__.TranslatePipe], styles: [".see-more-box[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n.see-more-box[_ngcontent-%COMP%]   .view_see_more[_ngcontent-%COMP%] {\n  color: #169ed9 !important;\n  font-size: 18px;\n  text-decoration: underline !important;\n  margin: 0 auto;\n  display: block;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlZS1tb3JlLWJ0bi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsWUFBQTtBQURGO0FBR0U7RUFDRSx5QkFBQTtFQUNBLGVBQUE7RUFDQSxxQ0FBQTtFQUVBLGNBQUE7RUFDQSxjQUFBO0FBRkoiLCJmaWxlIjoic2VlLW1vcmUtYnRuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcInNyYy9hc3NldHMvc2Fzcy9zdHlsZS1jb25zdGFudHMuc2Nzc1wiO1xyXG5cclxuLnNlZS1tb3JlLWJveCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGhlaWdodDogMTAwJTtcclxuXHJcbiAgLnZpZXdfc2VlX21vcmUge1xyXG4gICAgY29sb3I6ICRiYWJ5Qmx1ZS1jb2xvciAhaW1wb3J0YW50O1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmUgIWltcG9ydGFudDtcclxuICAgIC8vbWFyZ2luOiAtMTBweCAwIDAgNTBweDtcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0= */"] });


/***/ }),

/***/ 43996:
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/emp-permission/emp-permission-card/emp-permission-card.component.ts ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPermissionCardComponent": () => (/* binding */ EmpPermissionCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_permission_dialog_emp_permission_dialog_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../emp-permission-dialog/emp-permission-dialog.component */ 68837);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);









function EmpPermissionCardComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](1, "card-row-item", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
} }
class EmpPermissionCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor() {
        super();
        this.employeeInstanceId = 0;
        // permissions: IEmpPermissionDisplayModel[];
        // isLoaded: boolean = false;
        this.isTableView = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            // if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
            //   this.isLoaded = false;
            //   this.getAll();
            // }
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.permissions = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getAll();
    //   else this.isLoaded = true;
    // }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.permissions = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getAll();
    //   else this.isLoaded = true;
    // }
    //
    // getAll() {
    //   this.employeePermissionService
    //     .getAll(this.employeeInstanceId)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponse<IEmpPermissionModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         let sortedList: IEmpPermissionModel[] = res.data;
    //         if (res.data.length > 4) {
    //           // sort by end date (from new to old) > all list
    //           sortedList.sort(
    //             (a, b) =>
    //               new Date(b.closing_balance_date).getTime() -
    //               new Date(a.closing_balance_date).getTime()
    //           );
    //           this.dataSource = new MatTableDataSource(
    //             empPermissionDisplay(sortedList.slice(0, 3)).reverse()
    //           );
    //         } else {
    //           this.dataSource = new MatTableDataSource(
    //             empPermissionDisplay(res.data)
    //           );
    //         }
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_permission_dialog_emp_permission_dialog_component__WEBPACK_IMPORTED_MODULE_1__.EmpPermissionDialogComponent, {}, { disableClose: false, minWidth: "50vw", maxWidth: "80vw", top: "40px" })
            .afterClosed()
            .subscribe((updated) => {
            // if (updated) {
            //   this.isLoaded = false;
            //   this.getAll();
            // }
        });
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpPermissionCardComponent.ɵfac = function EmpPermissionCardComponent_Factory(t) { return new (t || EmpPermissionCardComponent)(); };
EmpPermissionCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({ type: EmpPermissionCardComponent, selectors: [["emp-permission-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵInheritDefinitionFeature"]], decls: 10, vars: 12, consts: [[1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "permission", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12", "px-0"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isCardView", "showLess"], [3, "isCardView"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "permission", 1, "col-4", "col-lg", "px-0", "mb-2"]], template: function EmpPermissionCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "card-header", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("onClickIcon", function EmpPermissionCardComponent_Template_card_header_onClickIcon_3_listener() { return ctx.openAddEditDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](5, EmpPermissionCardComponent_div_5_Template, 2, 0, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](6, "emp-permission-dialog", 6)(7, "emp-permission-dialog", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](8, "div", 2)(9, "see-more-btn", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("toggleTable", function EmpPermissionCardComponent_Template_see_more_btn_toggleTable_9_listener() { return ctx.toggleTable(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("isEdit", ctx.employeeInstanceId)("isLoaded", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵclassProp"]("hidden", ctx.isTableView || !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("isCardView", true)("showLess", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵclassProp"]("hidden", !ctx.isTableView);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("isCardView", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("employeeId", ctx.employeeInstanceId)("isTableView", ctx.isTableView);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_3__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_4__.CardRowItemComponent, _emp_permission_dialog_emp_permission_dialog_component__WEBPACK_IMPORTED_MODULE_1__.EmpPermissionDialogComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_5__.SeeMoreBtnComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGVybWlzc2lvbi1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 68837:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/emp-permission/emp-permission-dialog/emp-permission-dialog.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPermissionDialogComponent": () => (/* binding */ EmpPermissionDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-balances */ 43242);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employee_balances_employee_permission_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/employee-balances/employee-permission.service */ 84241);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/api */ 14356);
/* harmony import */ var primeng_messages__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/messages */ 58547);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ngx-translate/core */ 89461);















function EmpPermissionDialogComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 5)(1, "h4");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](2, "page-title", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](3, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function EmpPermissionDialogComponent_div_0_Template_button_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onCloseDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](4, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
} }
function EmpPermissionDialogComponent_app_material_table_3_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpPermissionDialogComponent_app_material_table_3_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r6.getList($event.pageIndex + 1, $event.pageSize)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("page", ctx_r2.page)("actions", ctx_r2.rowFunctions)("isDialogSize", true)("showFilter", false)("showSpaceTop", false)("isMatPaginator", ctx_r2.isCardView)("showFirstLastButtons", false);
} }
function EmpPermissionDialogComponent_ng_container_4_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](3, 1, "noDataToDisplay"), " ");
} }
function EmpPermissionDialogComponent_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "p-messages", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, EmpPermissionDialogComponent_ng_container_4_ng_template_2_Template, 4, 3, "ng-template", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} }
class EmpPermissionDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeePermissionService, dialogRef) {
        super();
        this.employeePermissionService = employeePermissionService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        // hasUpdate: boolean = false;
        this.mandatoryColomns = [
            // "Ser",
            // "id",
            "permission",
            "startDate",
            "endDate",
            "balance",
            "used",
            "remaining",
            "newHireBalance",
            "newHireCloseDate",
            // "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        // from card
        this.isCardView = false;
        this.showLess = false;
        this.submitted = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.showLess ? this.getAll() : this.getList(this.firstPage);
            }
        });
    }
    ngOnInit() {
        // this.form = this.fb.group(
        //   {
        //     id: [0, { nonNullable: true }],
        //     permissionId: [null, [Validators.required]],
        //     startDate: [null, [Validators.required]],
        //     endDate: [null],
        //     balance: [null, [Validators.required]],
        //     used: [null, [Validators.required]],
        //     remaining: [null],
        //     permissionTaken: [null],
        //     newHireBalance: [null],
        //     newHireCloseDate: [null],
        //   },
        //   {
        //     validator: CustomValidator.compareDates("startDate", "endDate"),
        //   }
        // );
        // this.dialogRef.backdropClick().subscribe((ele) => {
        //   this.onCloseDialog();
        // });
    }
    // get formCtrls() {
    //   return this.form.controls;
    // }
    onCloseDialog() {
        this.dialogRef.close(/* this.hasUpdate */ false);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0)
            this.showLess ? this.getAll() : this.getList(this.firstPage);
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeePermissionService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empPermissionDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    // use in card (show less)
    getAll() {
        this.employeePermissionService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                let sortedList = res.data;
                if (res.data.length > 4) {
                    // sort by end date (from new to old) > all list
                    sortedList.sort((a, b) => new Date(b.opening_balance_date).getTime() -
                        new Date(a.opening_balance_date).getTime());
                    this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empPermissionDisplay)(sortedList.slice(0, 4)));
                }
                else {
                    this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empPermissionDisplay)(res.data));
                }
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
}
EmpPermissionDialogComponent.ɵfac = function EmpPermissionDialogComponent_Factory(t) { return new (t || EmpPermissionDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employee_balances_employee_permission_service__WEBPACK_IMPORTED_MODULE_4__.EmployeePermissionService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogRef)); };
EmpPermissionDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpPermissionDialogComponent, selectors: [["emp-permission-dialog"]], inputs: { isCardView: "isCardView", showLess: "showLess" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"]], decls: 5, vars: 3, consts: [["mat-dialog-title", "", "class", "primary-color font-size-20 m-0", 4, "ngIf"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "showSpaceTop", "isMatPaginator", "showFirstLastButtons", "onChangePage", 4, "ngIf"], [4, "ngIf"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "permission", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "showSpaceTop", "isMatPaginator", "showFirstLastButtons", "onChangePage"], ["severity", "warn"], ["pTemplate", ""], [1, "p-message-icon", "pi", "pi-exclamation-triangle"], [1, "p-message-detail"]], template: function EmpPermissionDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpPermissionDialogComponent_div_0_Template, 5, 0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "mat-dialog-content", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](3, EmpPermissionDialogComponent_app_material_table_3_Template, 1, 11, "app-material-table", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](4, EmpPermissionDialogComponent_ng_container_4_Template, 3, 0, "ng-container", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx.isCardView);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx.employeeInstanceId && !ctx.isCardView);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_5__.MaterialTableComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_6__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_11__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogContent, primeng_api__WEBPACK_IMPORTED_MODULE_12__.PrimeTemplate, primeng_messages__WEBPACK_IMPORTED_MODULE_13__.Messages, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGVybWlzc2lvbi1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 76816:
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/emp-vacation/emp-vacation-card/emp-vacation-card.component.ts ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpVacationCardComponent": () => (/* binding */ EmpVacationCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_vacation_dialog_emp_vacation_dialog_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../emp-vacation-dialog/emp-vacation-dialog.component */ 92915);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_vacation_table_emp_vacation_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../emp-vacation-table/emp-vacation-table.component */ 77943);









function EmpVacationCardComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "card-row-item", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
function EmpVacationCardComponent_emp_vacation_table_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "emp-vacation-table", 11);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true)("hasUpdate", ctx_r1.hasUpdate);
} }
class EmpVacationCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor() {
        super();
        this.employeeInstanceId = 0;
        // vacations: IEmpVacationDisplayModel[];
        // isLoaded: boolean = false;
        this.isTableView = false;
        this.hasUpdate = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
            //     this.isLoaded = false;
            //     this.getCard();
            //   }
            // else this.isLoaded = true;
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.vacations = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getCard();
    //   else this.isLoaded = true;
    // }
    //
    // getCard() {
    //   this.vacations = null;
    //   this.employeeVacationService
    //     .getCard(this.employeeInstanceId)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponse<IEmpVacationModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         if (res.data.length > 0) {
    //           let list1: IEmpVacationModel[] = [];
    //           let list2: IEmpVacationModel[] = [];
    //           // annual & casual vacations
    //           res.data.forEach((vacation) => {
    //             if (this.isAnnualOrCasualVacations(vacation))
    //               list1.push(vacation);
    //             else list2.push(vacation);
    //           });
    //           let sortedList: IEmpVacationModel[] = [
    //             // sort by end date (from new to old) > without annual & casual
    //             ...list1,
    //             ...list2
    //               .sort(
    //                 (a, b) =>
    //                   new Date(b.closing_balance_date).getTime() -
    //                   new Date(a.closing_balance_date).getTime()
    //               )
    //               .slice(0, 4 - list1.length),
    //           ];
    //           // sort by end date (from new to old) > all list
    //           sortedList.sort(
    //             (a, b) =>
    //               new Date(b.closing_balance_date).getTime() -
    //               new Date(a.closing_balance_date).getTime()
    //           );
    //           this.vacations = empVacationDisplay(sortedList).reverse();
    //         } else {
    //           let sortedList: IEmpVacationModel[] = res.data;
    //           sortedList.sort(
    //             (a, b) =>
    //               new Date(b.closing_balance_date).getTime() -
    //               new Date(a.closing_balance_date).getTime()
    //           );
    //           this.vacations = empVacationDisplay(sortedList).reverse();
    //         }
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    openAddEditDialog() {
        this.hasUpdate = false;
        this.dialogsService
            .addEditDialog(_emp_vacation_dialog_emp_vacation_dialog_component__WEBPACK_IMPORTED_MODULE_1__.EmpVacationDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                // this.isLoaded = false;
                // this.getCard();
                this.hasUpdate = true;
            }
        });
    }
    // isAnnualOrCasualVacations(vacation: IEmpVacationModel) {
    //   return (
    //     vacation.vacation_EnName.toLocaleLowerCase().includes("annual") ||
    //     vacation.vacation_ArName.toLocaleLowerCase().includes("annual") ||
    //     vacation.vacation_EnName.toLocaleLowerCase().includes("casual") ||
    //     vacation.vacation_ArName.toLocaleLowerCase().includes("casual")
    //   );
    // }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpVacationCardComponent.ɵfac = function EmpVacationCardComponent_Factory(t) { return new (t || EmpVacationCardComponent)(); };
EmpVacationCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpVacationCardComponent, selectors: [["emp-vacation-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"]], decls: 10, vars: 12, consts: [[1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "vacation", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12", "px-0"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "showLess", "hasUpdate"], [3, "isMatPaginator", "hideActions", "hasUpdate", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "vacation", 1, "col-4", "col-lg", "px-0", "mb-2"], [3, "isMatPaginator", "hideActions", "hasUpdate"]], template: function EmpVacationCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "card-header", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onClickIcon", function EmpVacationCardComponent_Template_card_header_onClickIcon_3_listener() { return ctx.openAddEditDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](5, EmpVacationCardComponent_div_5_Template, 2, 0, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](6, "emp-vacation-table", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](7, EmpVacationCardComponent_emp_vacation_table_7_Template, 1, 3, "emp-vacation-table", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](8, "div", 2)(9, "see-more-btn", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("toggleTable", function EmpVacationCardComponent_Template_see_more_btn_toggleTable_9_listener() { return ctx.toggleTable(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isEdit", ctx.employeeInstanceId)("isLoaded", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵclassProp"]("hidden", ctx.isTableView);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true)("showLess", true)("hasUpdate", ctx.hasUpdate);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.isTableView);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("employeeId", ctx.employeeInstanceId)("isTableView", ctx.isTableView);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_3__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_4__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_5__.SeeMoreBtnComponent, _emp_vacation_table_emp_vacation_table_component__WEBPACK_IMPORTED_MODULE_6__.EmpVacationTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtdmFjYXRpb24tY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 92915:
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/emp-vacation/emp-vacation-dialog/emp-vacation-dialog.component.ts ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpVacationDialogComponent": () => (/* binding */ EmpVacationDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employee_balances_employee_vacation_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/employee-balances/employee-vacation.service */ 56379);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _shared_components_resources_buttons_button_button_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/button/button.component */ 71812);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_attendance_setup_vacation_type_dropdown_vacation_type_dropdown_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/attendance-setup/vacation-type-dropdown/vacation-type-dropdown.component */ 72370);
/* harmony import */ var _emp_vacation_table_emp_vacation_table_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../emp-vacation-table/emp-vacation-table.component */ 77943);























function EmpVacationDialogComponent_submit_btn_21_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "submit-btn", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onClick", function EmpVacationDialogComponent_submit_btn_21_Template_submit_btn_onClick_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r3.submit()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("id", ctx_r1.formCtrls.id.value)("color", ctx_r1.btn.darkBlue)("disabled", !ctx_r1.employeeInstanceId)("iconPositionBefore", false);
} }
function EmpVacationDialogComponent_reset_form_btn_23_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "reset-form-btn", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpVacationDialogComponent_reset_form_btn_23_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r5.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} }
class EmpVacationDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeVacationService, dialogRef) {
        super();
        this.employeeVacationService = employeeVacationService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.selectedVacation = null;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_vacation_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            vacation_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            opening_balance_date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            closing_balance_date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            vacationBalanceOriginal: [
                null,
                [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required, ngx_custom_validators__WEBPACK_IMPORTED_MODULE_17__.CustomValidators.gte(0)],
            ],
            vacation_Done_Balance: [null], // used
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_5__.CustomValidator.compareDates("opening_balance_date", "closing_balance_date"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0)
    //     this.getList(this.firstPage);
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.dataSource = new MatTableDataSource(null);
    //   this.isLoaded = false;
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeVacationService
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmpVacationModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empVacationDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //  this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                person_Instance_ID: this.employeeInstanceId,
                vacation_ID: this.formCtrls.vacation_ID.value,
                opening_balance_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.formCtrls.opening_balance_date.value),
                closing_balance_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.formCtrls.closing_balance_date.value),
                vacation_balance: this.formCtrls.vacationBalanceOriginal.value,
            };
            this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    update(model) {
        this.showLoading("dialog");
        this.employeeVacationService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
                this.selectedVacation = null;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeVacationToEdit(vacation) {
        this.form.patchValue(vacation);
        // only to detect edit
        this.formCtrls.id.setValue(vacation.vacation_ID);
        this.selectedVacation = vacation;
        // console.log(this.form.value);
    }
    // onDelete(vacation: IEmpVacationDisplayModel): void {
    //   let msg = vacation.vacation;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(vacation);
    //   });
    // }
    //
    // delete(vacation: IEmpVacationDisplayModel) {
    //   let deleteData: IEmpVacationRequest = {
    //     vacation_ID: vacation.vacation_ID,
    //     person_Instance_ID: this.employeeInstanceId,
    //     opening_balance_date: HelpersFunctions.mapDateReverse(
    //       vacation.opening_balance_date
    //     ),
    //     closing_balance_date: HelpersFunctions.mapDateReverse(
    //       vacation.closing_balance_date
    //     ),
    //     vacation_balance: vacation.vacationBalanceOriginal,
    //   };
    //   this.showLoading();
    //   this.employeeVacationService
    //     .Delete(deleteData)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.hasUpdate = true;
    //         if (
    //           vacation.vacation_ID == this.selectedVacation?.vacation_ID &&
    //           vacation.opening_balance_date ==
    //             this.selectedVacation?.opening_balance_date &&
    //           vacation.closing_balance_date ==
    //             this.selectedVacation?.closing_balance_date &&
    //           vacation.vacationBalanceOriginal ==
    //             this.selectedVacation?.vacationBalanceOriginal &&
    //           this.formCtrls.id.value > 0
    //         )
    //           this.clearForm();
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(vacation) {
        if (vacation.vacation_ID == this.selectedVacation?.vacation_ID &&
            vacation.opening_balance_date ==
                this.selectedVacation?.opening_balance_date &&
            vacation.closing_balance_date ==
                this.selectedVacation?.closing_balance_date &&
            vacation.vacationBalanceOriginal ==
                this.selectedVacation?.vacationBalanceOriginal &&
            this.formCtrls.id.value > 0)
            this.clearForm();
        if (vacation)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    regenerateBalance() {
        this.showLoading("dialog");
        this.employeeVacationService
            .regenerateBalance(this.employeeInstanceId)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
}
EmpVacationDialogComponent.ɵfac = function EmpVacationDialogComponent_Factory(t) { return new (t || EmpVacationDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employee_balances_employee_vacation_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeVacationService), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogRef)); };
EmpVacationDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdefineComponent"]({ type: EmpVacationDialogComponent, selectors: [["emp-vacation-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵInheritDefinitionFeature"]], decls: 26, vars: 23, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "vacation", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo", "disable"], ["label", "startDate", 3, "control", "submitted", "disabled"], ["label", "endDate", 3, "control", "submitted", "disabled"], ["label", "balance", "type", "number", 3, "control", "submitted", "disabled"], ["label", "used", "type", "number", 3, "control", "submitted", "disabled"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick", 4, "ngIf"], ["label", "regenerateBalance", 1, "float-left", 3, "color", "onClick"], [3, "click", 4, "ngIf"], [1, "clearfix"], [3, "hasUpdate", "rowToEdit", "afterDelete"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click"]], template: function EmpVacationDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpVacationDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](11, "app-vacation-type-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](13, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](15, "app-datepicker", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](16, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](17, "app-input", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](18, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](19, "app-input", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](20, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](21, EmpVacationDialogComponent_submit_btn_21_Template, 1, 4, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](22, "app-button", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onClick", function EmpVacationDialogComponent_Template_app_button_onClick_22_listener() { return ctx.regenerateBalance(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](23, EmpVacationDialogComponent_reset_form_btn_23_Template, 1, 0, "reset-form-btn", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](24, "div", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](25, "emp-vacation-table", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("rowToEdit", function EmpVacationDialogComponent_Template_emp_vacation_table_rowToEdit_25_listener($event) { return ctx.employeeVacationToEdit($event); })("afterDelete", function EmpVacationDialogComponent_Template_emp_vacation_table_afterDelete_25_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.vacation_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0)("disable", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.opening_balance_date)("submitted", ctx.submitted)("disabled", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.closing_balance_date)("submitted", ctx.submitted)("disabled", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.vacationBalanceOriginal)("submitted", ctx.submitted)("disabled", ctx.formCtrls.id.value == 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.vacation_Done_Balance)("submitted", ctx.submitted)("disabled", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("color", ctx.btn.darkBlue);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_8__.InputComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__.PageTitleComponent, _shared_components_resources_buttons_button_button_component__WEBPACK_IMPORTED_MODULE_12__.ButtonComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_20__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_21__.NgxSpinnerComponent, _shared_components_dropdowns_attendance_setup_vacation_type_dropdown_vacation_type_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.VacationTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_16__.FormGroupDirective, _emp_vacation_table_emp_vacation_table_component__WEBPACK_IMPORTED_MODULE_14__.EmpVacationTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtdmFjYXRpb24tZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 77943:
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/emp-vacation/emp-vacation-table/emp-vacation-table.component.ts ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpVacationTableComponent": () => (/* binding */ EmpVacationTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-balances */ 43242);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_employee_balances_employee_vacation_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/employee-balances/employee-vacation.service */ 56379);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ngx-spinner */ 88035);













function EmpVacationTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵlistener"]("onChangePage", function EmpVacationTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpVacationTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpVacationTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpVacationTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeVacationService) {
        super();
        this.employeeVacationService = employeeVacationService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_8__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_8__.EventEmitter();
        this.showLess = false;
        this.mandatoryColomns = [
            // "Ser",
            // "id",
            "vacation",
            "startDate",
            "endDate",
            "balance",
            "used",
            "remaining",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeInstanceId = 0;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_vacation_sec);
    }
    ngOnInit() {
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.showLess ? this.getCard() : this.getList(this.firstPage);
            }
        });
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate &&
            changes.hasUpdate.currentValue &&
            this.employeeInstanceId > 0) {
            this.showLess ? this.getCard() : this.getList(this.firstPage);
        }
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex((e) => e.name.toLowerCase() == "edit");
            if (editIndex >= 0)
                this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0) {
            this.showLess ? this.getCard() : this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeVacationService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource((0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empVacationDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    getCard() {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource(null);
        this.isLoaded = false;
        this.employeeVacationService
            .getCard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                if (res.data.length > 0) {
                    let list1 = [];
                    let list2 = [];
                    // annual & casual vacations
                    res.data.forEach((vacation) => {
                        if (this.isAnnualOrCasualVacations(vacation))
                            list1.push(vacation);
                        else
                            list2.push(vacation);
                    });
                    let sortedList = [
                        // sort by end date (from new to old) > without annual & casual
                        ...list1,
                        ...list2
                            .sort((a, b) => new Date(b.opening_balance_date).getTime() -
                            new Date(a.opening_balance_date).getTime())
                            .slice(0, 4 - list1.length),
                    ];
                    // sort by end date (from new to old) > all list
                    sortedList.sort((a, b) => new Date(b.opening_balance_date).getTime() -
                        new Date(a.opening_balance_date).getTime());
                    this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource((0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empVacationDisplay)(sortedList));
                }
                else {
                    this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource((0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empVacationDisplay)(res.data));
                }
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    isAnnualOrCasualVacations(vacation) {
        return (vacation.vacation_EnName.toLocaleLowerCase().includes("annual") ||
            vacation.vacation_ArName.toLocaleLowerCase().includes("annual") ||
            vacation.vacation_EnName.toLocaleLowerCase().includes("casual") ||
            vacation.vacation_ArName.toLocaleLowerCase().includes("casual"));
    }
    toEdit(education) {
        this.rowToEdit.emit(education);
    }
    onDelete(vacation) {
        let msg = vacation.vacation;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(vacation);
        });
    }
    delete(vacation) {
        let deleteData = {
            vacation_ID: vacation.vacation_ID,
            person_Instance_ID: this.employeeInstanceId,
            opening_balance_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(vacation.opening_balance_date),
            closing_balance_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(vacation.closing_balance_date),
            vacation_balance: vacation.vacationBalanceOriginal,
        };
        this.showLoading("table");
        this.employeeVacationService
            .Delete(deleteData)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(vacation);
                if (!this.showLess) {
                    if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                        // if last item in list: get previous page
                        this.getList(this.prevPage, this.page.dialogSize);
                    }
                    else {
                        // if not last item in list: get current page
                        this.getList(this.currentPage, this.page.dialogSize);
                    }
                }
                else
                    this.getCard();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpVacationTableComponent.ɵfac = function EmpVacationTableComponent_Factory(t) { return new (t || EmpVacationTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employee_balances_employee_vacation_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeVacationService)); };
EmpVacationTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({ type: EmpVacationTableComponent, selectors: [["emp-vacation-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator", showLess: "showLess", lessData: "lessData" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpVacationTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](0, EmpVacationTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_11__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtdmFjYXRpb24tdGFibGUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 21918:
/*!***********************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/employee-balances-core/employee-balances-core.component.ts ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeBalancesCoreComponent": () => (/* binding */ EmployeeBalancesCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_vacation_emp_vacation_card_emp_vacation_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-vacation/emp-vacation-card/emp-vacation-card.component */ 76816);
/* harmony import */ var _emp_permission_emp_permission_card_emp_permission_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-permission/emp-permission-card/emp-permission-card.component */ 43996);








function EmployeeBalancesCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "emp-vacation-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
function EmployeeBalancesCoreComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "emp-permission-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
class EmployeeBalancesCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_balances_tab);
        // console.log("balances_info", this.allowedSections);
    }
}
EmployeeBalancesCoreComponent.ɵfac = function EmployeeBalancesCoreComponent_Factory(t) { return new (t || EmployeeBalancesCoreComponent)(); };
EmployeeBalancesCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmployeeBalancesCoreComponent, selectors: [["employee-balances-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 2, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "employeeBalances", "color", "font-dark", 1, "emp-card-title"], [1, "container-fluid", "p-0", "px-4"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmployeeBalancesCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](7, EmployeeBalancesCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](8, EmployeeBalancesCoreComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_vacation_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_permission_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardTitle, _emp_vacation_emp_vacation_card_emp_vacation_card_component__WEBPACK_IMPORTED_MODULE_3__.EmpVacationCardComponent, _emp_permission_emp_permission_card_emp_permission_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpPermissionCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llZS1iYWxhbmNlcy1jb3JlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 70923:
/*!*******************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-career-core/emp-career-core.component.ts ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeCareerCoreComponent": () => (/* binding */ EmployeeCareerCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_education_emp_education_card_emp_education_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-education/emp-education-card/emp-education-card.component */ 36355);
/* harmony import */ var _emp_work_experience_emp_work_experience_card_emp_work_experience_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-work-experience/emp-work-experience-card/emp-work-experience-card.component */ 5760);








function EmployeeCareerCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "emp-education-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
function EmployeeCareerCoreComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "emp-work-experience-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
class EmployeeCareerCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_career_tab);
    }
}
EmployeeCareerCoreComponent.ɵfac = function EmployeeCareerCoreComponent_Factory(t) { return new (t || EmployeeCareerCoreComponent)(); };
EmployeeCareerCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmployeeCareerCoreComponent, selectors: [["emp-career-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 2, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "career", "color", "font-dark", 1, "emp-card-title"], [1, "container-fluid", "p-0", "px-4"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmployeeCareerCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](7, EmployeeCareerCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](8, EmployeeCareerCoreComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_education_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_work_experience_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardTitle, _emp_education_emp_education_card_emp_education_card_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeEducationCardComponent, _emp_work_experience_emp_work_experience_card_emp_work_experience_card_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeWorkExperienceCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY2FyZWVyLWNvcmUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 36355:
/*!***************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-education/emp-education-card/emp-education-card.component.ts ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeEducationCardComponent": () => (/* binding */ EmployeeEducationCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-career */ 60057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_education_dialog_emp_education_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-education-dialog/emp-education-dialog.component */ 41864);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-education.service */ 54316);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-education-table/emp-education-table.component */ 11806);













function EmployeeEducationCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13)(4, "card-row-item", 14)(5, "card-row-item", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.institution);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.major);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.degree);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.year);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.gpaGrade);
} }
function EmployeeEducationCardComponent_div_0_emp_education_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "emp-education-table", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmployeeEducationCardComponent_div_0_emp_education_table_6_Template_emp_education_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r5.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeEducationCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmployeeEducationCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r7.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmployeeEducationCardComponent_div_0_div_5_Template, 6, 5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmployeeEducationCardComponent_div_0_emp_education_table_6_Template, 1, 2, "emp-education-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmployeeEducationCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r9.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.empEducation)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmployeeEducationCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 17);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 5);
} }
class EmployeeEducationCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeEducationService) {
        super();
        this.employeeEducationService = employeeEducationService;
        this.employeeId = 0;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        // this.employeeInstanceId = EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empEducation = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAllByEmployeeId();
        else
            this.isLoaded = true;
    }
    getAllByEmployeeId() {
        this.empEducation = null;
        this.employeeEducationService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                let sortedList = res.data;
                // sort by year (from new to old)
                sortedList.sort((a, b) => b.year - a.year);
                this.empEducation = (0,app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__.empEducationDisplay)(sortedList)[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_education_dialog_emp_education_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeEducationDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
    afterDelete(education) {
        if (education) {
            this.isLoaded = false;
            this.getAllByEmployeeId();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeEducationCardComponent.ɵfac = function EmployeeEducationCardComponent_Factory(t) { return new (t || EmployeeEducationCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeEducationService)); };
EmployeeEducationCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmployeeEducationCardComponent, selectors: [["emp-education-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "education", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "institution", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "major", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "degree", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "year", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "gpaGrade", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeEducationCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmployeeEducationCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmployeeEducationCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpEducationTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZWR1Y2F0aW9uLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 41864:
/*!*******************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-education/emp-education-dialog/emp-education-dialog.component.ts ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeEducationDialogComponent": () => (/* binding */ EmployeeEducationDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-education.service */ 54316);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_institution_dropdown_institution_dropdown_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/institution-dropdown/institution-dropdown.component */ 28867);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_education_year_dropdown_education_year_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/education-year-dropdown/education-year-dropdown.component */ 59997);
/* harmony import */ var _shared_components_dropdowns_hr_setup_education_degree_dropdown_education_degree_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/education-degree-dropdown/education-degree-dropdown.component */ 28888);
/* harmony import */ var _shared_components_dropdowns_hr_setup_education_grade_dropdown_education_grade_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/education-grade-dropdown/education-grade-dropdown.component */ 94183);
/* harmony import */ var _emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../emp-education-table/emp-education-table.component */ 11806);





















function EmployeeEducationDialogComponent_reset_form_btn_24_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "reset-form-btn", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmployeeEducationDialogComponent_reset_form_btn_24_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} }
class EmployeeEducationDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeEducationService, dialogRef) {
        super();
        this.employeeEducationService = employeeEducationService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        // employeeInstanceId: number = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        // this.employeeInstanceId = EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_education_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            institutionID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            major: [null],
            academicID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            year: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            gradeID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            gpa: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getList(this.firstPage);
    //   }
    // }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeEducationService
    //     .getList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeEducationModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empEducationDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //         this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                Education: {
                    PersonID: this.employeeId,
                    InstitutionID: this.form.value.institutionID,
                    Major: this.form.value.major,
                    GradeID: this.form.value.gradeID,
                    AcademicID: this.form.value.academicID,
                    Year: this.form.value.year,
                    GPA: this.form.value.gpa,
                },
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.employeeEducationService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        let editModel = {
            ...model,
            OriginalEducation: {
                PersonID: this.employeeId,
                AcademicID: this.selectedEducation.academicID,
                GradeID: this.selectedEducation.gradeID,
            },
        };
        this.showLoading("dialog");
        this.employeeEducationService
            .update(editModel)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
                this.selectedEducation = null;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeEducationToEdit(employeeEducationInfo) {
        this.form.patchValue(employeeEducationInfo);
        // not real id >> only to detect edit mode
        this.formCtrls.id.setValue(employeeEducationInfo.comm_Education_Degree?.id ?? 1);
        // to use in edit request
        this.selectedEducation = employeeEducationInfo;
    }
    // onDelete(employeeEducationInfo: IEmployeeEducationModel): void {
    //   let msg = `${employeeEducationInfo.degree} - ${employeeEducationInfo.grade}`;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeEducationInfo);
    //   });
    // }
    // delete(employeeEducationInfo: IEmployeeEducationModel) {
    //   let deleteParams: IEmployeeEducationDeleteParams = {
    //     PersonID: this.employeeId,
    //     GradeID: employeeEducationInfo.gradeID,
    //     AcademicID: employeeEducationInfo.academicID,
    //   };
    //   this.showLoading();
    //   this.employeeEducationService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.updated = true;
    //         if (
    //           employeeEducationInfo.academicID ==
    //             this.selectedEducation?.academicID &&
    //           employeeEducationInfo.gradeID == this.selectedEducation?.gradeID &&
    //           this.formCtrls.id.value > 0
    //         )
    //           this.clearForm();
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(education) {
        if (education.academicID == this.selectedEducation?.academicID &&
            education.gradeID == this.selectedEducation?.gradeID &&
            this.formCtrls.id.value > 0)
            this.clearForm();
        if (education)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmployeeEducationDialogComponent.ɵfac = function EmployeeEducationDialogComponent_Factory(t) { return new (t || EmployeeEducationDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeEducationService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmployeeEducationDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: EmployeeEducationDialogComponent, selectors: [["app-employee-education-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵInheritDefinitionFeature"]], decls: 26, vars: 29, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "education", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "major", 3, "control", "submitted"], ["label", "grade", 3, "control", "submitted", "filter", "appendTo"], ["label", "gpa", "type", "number", 3, "control", "submitted", "isDecimalNumber"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "iconPositionBefore", "disabled", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeeEducationDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmployeeEducationDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](11, "app-institution-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](13, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](15, "app-education-degree-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](16, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](17, "app-education-year-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](18, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](19, "app-education-grade-dropdown", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](20, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](21, "app-input", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](22, "div", 14)(23, "submit-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onClick", function EmployeeEducationDialogComponent_Template_submit_btn_onClick_23_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](24, EmployeeEducationDialogComponent_reset_form_btn_24_Template, 1, 0, "reset-form-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](25, "emp-education-table", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("rowToEdit", function EmployeeEducationDialogComponent_Template_emp_education_table_rowToEdit_25_listener($event) { return ctx.employeeEducationToEdit($event); })("afterDelete", function EmployeeEducationDialogComponent_Template_emp_education_table_afterDelete_25_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.institutionID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.major)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.academicID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.year)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.gradeID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.gpa)("submitted", ctx.submitted)("isDecimalNumber", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("iconPositionBefore", false)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__.InputComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_institution_dropdown_institution_dropdown_component__WEBPACK_IMPORTED_MODULE_9__.InstitutionDropdownComponent, _shared_components_dropdowns_personnel_setup_education_year_dropdown_education_year_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.EducationYearDropdownComponent, _shared_components_dropdowns_hr_setup_education_degree_dropdown_education_degree_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.EducationDegreeDropdownComponent, _shared_components_dropdowns_hr_setup_education_grade_dropdown_education_grade_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.EducationGradeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_15__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormGroupDirective, _emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_13__.EmpEducationTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZWR1Y2F0aW9uLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 11806:
/*!*****************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-education/emp-education-table/emp-education-table.component.ts ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpEducationTableComponent": () => (/* binding */ EmpEducationTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-career */ 60057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-education.service */ 54316);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpEducationTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpEducationTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpEducationTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpEducationTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpEducationTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeEducationService) {
        super();
        this.employeeEducationService = employeeEducationService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "institution",
            "major",
            "degree",
            "year",
            "gpaGrade",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_education_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex((e) => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeEducationService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__.empEducationDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(education) {
        this.rowToEdit.emit(education);
    }
    onDelete(education) {
        let msg = `${education.degree} - ${education.grade}`;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(education);
        });
    }
    delete(education) {
        let deleteParams = {
            PersonID: this.employeeId,
            GradeID: education.gradeID,
            AcademicID: education.academicID,
        };
        this.showLoading('table');
        this.employeeEducationService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(education);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('table');
        });
    }
}
EmpEducationTableComponent.ɵfac = function EmpEducationTableComponent_Factory(t) { return new (t || EmpEducationTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeEducationService)); };
EmpEducationTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpEducationTableComponent, selectors: [["emp-education-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpEducationTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpEducationTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZWR1Y2F0aW9uLXRhYmxlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 5760:
/*!*********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-work-experience/emp-work-experience-card/emp-work-experience-card.component.ts ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeWorkExperienceCardComponent": () => (/* binding */ EmployeeWorkExperienceCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_work_experience_dialog_employee_work_experience_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-work-experience-dialog/employee-work-experience-dialog.component */ 13619);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-work-experience.service */ 63875);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../emp-work-experience-table/emp-work-experience-table.component */ 79371);












function EmployeeWorkExperienceCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13)(4, "card-row-item", 14)(5, "card-row-item", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.companyName);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.org_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.job_Title_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.from_Date)("isDate", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.to_Date)("isDate", true);
} }
function EmployeeWorkExperienceCardComponent_div_0_emp_work_experience_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "emp-work-experience-table", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("afterDelete", function EmployeeWorkExperienceCardComponent_div_0_emp_work_experience_table_6_Template_emp_work_experience_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r5.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeWorkExperienceCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmployeeWorkExperienceCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r7.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmployeeWorkExperienceCardComponent_div_0_div_5_Template, 6, 7, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](6, EmployeeWorkExperienceCardComponent_div_0_emp_work_experience_table_6_Template, 1, 2, "emp-work-experience-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("toggleTable", function EmployeeWorkExperienceCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r9.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", ctx_r0.empWorkExperience)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("employeeId", ctx_r0.employeeInstanceId)("isTableView", ctx_r0.isTableView);
} }
function EmployeeWorkExperienceCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 17);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 5);
} }
class EmployeeWorkExperienceCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeWorkExperienceService) {
        super();
        this.employeeWorkExperienceService = employeeWorkExperienceService;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAll();
            }
            else
                this.isLoaded = true;
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.empWorkExperience = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
    //     this.getAll();
    //   } else this.isLoaded = true;
    // }
    getAll() {
        this.empWorkExperience = null;
        this.employeeWorkExperienceService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                var filter = res.data;
                filter.sort((a, b) => new Date(b.to_Date).getTime() - new Date(a.to_Date).getTime());
                this.empWorkExperience = filter[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_work_experience_dialog_employee_work_experience_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeWorkExperienceDialogComponent)
            .afterClosed()
            .subscribe((isHaseChange) => {
            if (isHaseChange) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    afterDelete(workExperience) {
        if (workExperience) {
            this.isLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeWorkExperienceCardComponent.ɵfac = function EmployeeWorkExperienceCardComponent_Factory(t) { return new (t || EmployeeWorkExperienceCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeWorkExperienceService)); };
EmployeeWorkExperienceCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmployeeWorkExperienceCardComponent, selectors: [["emp-work-experience-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "workExperience", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "companyName", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "department", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "position", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "startDate", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value", "isDate"], ["label", "endDate", 1, "col-4", "col-lg", "px-0", "mb-2", 3, "value", "isDate"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeWorkExperienceCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmployeeWorkExperienceCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeeWorkExperienceCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_8__.SeeMoreBtnComponent, _emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_9__.EmpWorkExperienceTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtd29yay1leHBlcmllbmNlLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 13619:
/*!******************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-work-experience/emp-work-experience-dialog/employee-work-experience-dialog.component.ts ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeWorkExperienceDialogComponent": () => (/* binding */ EmployeeWorkExperienceDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-work-experience.service */ 63875);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-work-experience-table/emp-work-experience-table.component */ 79371);





















function EmployeeWorkExperienceDialogComponent_reset_form_btn_22_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeWorkExperienceDialogComponent_reset_form_btn_22_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmployeeWorkExperienceDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(empWorkExperienceService, dialogRef) {
        super();
        this.empWorkExperienceService = empWorkExperienceService;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_work_experience_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            companyName: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_5__.CustomValidator.whiteSpace]],
            department: [null],
            position: [null],
            startDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
            endDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_5__.CustomValidator.compareDates("startDate", "endDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeInstanceId > 0) this.getList(this.firstPage);
    //   }
    // }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.empWorkExperienceService
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmpWorkExperienceModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(empCareerDisplay(res.data));
    //         this.page.length = res.meta.totalItemCount;
    //         this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                WorkExperience: {
                    person_Instance_ID: this.employeeInstanceId,
                    id: this.form.value.id,
                    companyName: this.form.value.companyName,
                    org_Name: this.form.value.department,
                    job_Title_Name: this.form.value.position,
                    from_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.startDate),
                    to_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.endDate),
                },
            };
            model.WorkExperience.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.empWorkExperienceService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.firstPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        this.showLoading("dialog");
        this.empWorkExperienceService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeWorkExperienceToEdit(empWork) {
        this.form.patchValue(empWork);
        this.formCtrls.startDate.setValue(empWork.from_Date);
        this.formCtrls.endDate.setValue(empWork.to_Date);
        // console.log("empWork", empWork);
        // console.log("form", this.form.value);
    }
    // onDelete(empWork: IEmpWorkExperienceDisplay): void {
    //   let msg = this.msgTranslate(empWork.companyName);
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(empWork);
    //   });
    // }
    //
    // delete(empWork: IEmpWorkExperienceDisplay) {
    //   this.showLoading();
    //   this.empWorkExperienceService
    //     .Delete(empWork.id)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.hasUpdate = true;
    //         if (empWork.id == this.formCtrls.id.value) this.clearForm();
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(empWork) {
        if (empWork.id == this.formCtrls.id.value)
            this.clearForm();
        if (empWork)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmployeeWorkExperienceDialogComponent.ɵfac = function EmployeeWorkExperienceDialogComponent_Factory(t) { return new (t || EmployeeWorkExperienceDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeWorkExperienceService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmployeeWorkExperienceDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeWorkExperienceDialogComponent, selectors: [["app-employee-work-experience-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 24, vars: 18, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "workExperience", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "companyName", 3, "control", "submitted"], ["label", "department", 3, "control", "submitted"], ["label", "position", 3, "control", "submitted"], ["label", "startDate", 3, "control", "submitted"], ["label", "endDate", 3, "control", "submitted"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeeWorkExperienceDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeWorkExperienceDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "app-input", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](17, "app-datepicker", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](19, "app-datepicker", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](20, "div", 15)(21, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeWorkExperienceDialogComponent_Template_submit_btn_onClick_21_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](22, EmployeeWorkExperienceDialogComponent_reset_form_btn_22_Template, 1, 0, "reset-form-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](23, "emp-work-experience-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmployeeWorkExperienceDialogComponent_Template_emp_work_experience_table_rowToEdit_23_listener($event) { return ctx.employeeWorkExperienceToEdit($event); })("afterDelete", function EmployeeWorkExperienceDialogComponent_Template_emp_work_experience_table_afterDelete_23_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.companyName)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.department)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.position)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.startDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.endDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_8__.InputComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpWorkExperienceTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llZS13b3JrLWV4cGVyaWVuY2UtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 79371:
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-work-experience/emp-work-experience-table/emp-work-experience-table.component.ts ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpWorkExperienceTableComponent": () => (/* binding */ EmpWorkExperienceTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-career */ 60057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-work-experience.service */ 63875);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpWorkExperienceTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpWorkExperienceTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpWorkExperienceTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpWorkExperienceTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpWorkExperienceTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(empWorkExperienceService) {
        super();
        this.empWorkExperienceService = empWorkExperienceService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "companyName",
            "department",
            "position",
            "startDate",
            "endDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeInstanceId = 0;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_work_experience_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex((e) => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.empWorkExperienceService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__.empCareerDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(education) {
        this.rowToEdit.emit(education);
    }
    onDelete(empWork) {
        let msg = this.msgTranslate(empWork.companyName);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(empWork);
        });
    }
    delete(empWork) {
        this.showLoading("table");
        this.empWorkExperienceService
            .Delete(empWork.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(empWork);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpWorkExperienceTableComponent.ɵfac = function EmpWorkExperienceTableComponent_Factory(t) { return new (t || EmpWorkExperienceTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeWorkExperienceService)); };
EmpWorkExperienceTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpWorkExperienceTableComponent, selectors: [["emp-work-experience-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpWorkExperienceTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpWorkExperienceTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtd29yay1leHBlcmllbmNlLXRhYmxlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 59330:
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-general-info/emp-general-info-card/emp-general-info-card.component.ts ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeGeneralInfoCardComponent": () => (/* binding */ EmployeeGeneralInfoCardComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _emp_general_info_dialog_emp_general_info_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-general-info-dialog/emp-general-info-dialog.component */ 71125);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ 89461);












function EmployeeGeneralInfoCardComponent_div_0_ng_container_20_div_1_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1, " - ");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
function EmployeeGeneralInfoCardComponent_div_0_ng_container_20_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, EmployeeGeneralInfoCardComponent_div_0_ng_container_20_div_1_span_2_Template, 2, 0, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const company_r7 = ctx.$implicit;
    const last_r8 = ctx.last;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", ctx_r6.msgTranslate(company_r7 == null ? null : company_r7.core_Company.ar_Name, company_r7 == null ? null : company_r7.core_Company == null ? null : company_r7.core_Company.en_Name), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !last_r8);
} }
function EmployeeGeneralInfoCardComponent_div_0_ng_container_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmployeeGeneralInfoCardComponent_div_0_ng_container_20_div_1_Template, 3, 2, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r3.employee.sharedCompanies);
} }
function EmployeeGeneralInfoCardComponent_div_0_ng_template_21_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](0, " ---");
} }
function EmployeeGeneralInfoCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onClickIcon", function EmployeeGeneralInfoCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r10.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "card-row-item", 5)(4, "card-row-item", 6)(5, "card-row-item", 7)(6, "card-row-item", 8)(7, "card-row-item", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](8, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](9, "card-row-item", 11)(10, "card-row-item", 12)(11, "card-row-item", 13)(12, "card-row-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](13, "div", 15)(14, "p", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](16, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](17, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](18, "div", 17)(19, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](20, EmployeeGeneralInfoCardComponent_div_0_ng_container_20_Template, 2, 1, "ng-container", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](21, EmployeeGeneralInfoCardComponent_div_0_ng_template_21_Template, 1, 0, "ng-template", null, 20, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()()();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](22);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isEdit", ctx_r0.employeeId)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.code);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.ar_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.en_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.nationalid);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.companyCode);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.hireDate)("isDate", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.msgTranslate(ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Gender == null ? null : ctx_r0.employee.person.core_Gender.ar_Name, ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Gender == null ? null : ctx_r0.employee.person.core_Gender.en_NAme));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.msgTranslate(ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Religion == null ? null : ctx_r0.employee.person.core_Religion.ar_Name, ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Religion == null ? null : ctx_r0.employee.person.core_Religion.en_Name));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.msgTranslate(ctx_r0.employee == null ? null : ctx_r0.employee.nationality == null ? null : ctx_r0.employee.nationality.ar_Name, ctx_r0.employee == null ? null : ctx_r0.employee.nationality == null ? null : ctx_r0.employee.nationality.en_NAme));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](16, 15, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](17, 17, "SharedCompanies")), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r0.employee == null ? null : ctx_r0.employee.sharedCompanies)("ngIfElse", _r4);
} }
function EmployeeGeneralInfoCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 23);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("rowNo", 8);
} }
class EmployeeGeneralInfoCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(empGeneralInfoService) {
        super();
        this.empGeneralInfoService = empGeneralInfoService;
        this.changeEmployeeId = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.isLoaded = false;
        this.isCanMadeAction = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
            this.isLoadedFun();
        });
        this.isLoadedFun();
    }
    isLoadedFun() {
        this.isLoaded = false;
        if (this.employee != null && this.employeeId > 0)
            this.isLoaded = true;
        if (this.employee == null && this.employeeId == 0)
            this.isLoaded = true;
    }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_general_info_tab);
    }
    openAddEditDialog() {
        if (!this.businessCompanyParams.CompanyID) {
            this.warning("chooseCompanyId");
            return;
        }
        let dialogRef = this.dialogsService.addEditDialog(_emp_general_info_dialog_emp_general_info_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeGeneralInfoDialogComponent, this.employee);
        // let dialogRef = this.dialog.open(EmployeeGeneralInfoDialogComponent, {
        // 	data: {
        // 		employee: this.employee,
        // 	},
        // 	position: {
        // 		top: "40px",
        // 	},
        // 	minWidth: "600px",
        // 	panelClass: "dialog-emp-form",
        // 	autoFocus: false,
        // });
        //	after add employee
        // dialogRef.componentInstance.afterAdd.subscribe((employeeInfo: IEmployee) => {
        // 	this.changeEmployeeId.emit(employeeInfo.person.id);
        // 	let url = `/personnel-setup/${this.moduleId}/employees/edit/${employeeInfo.person.id}`;
        // 	this.navigateTo(url);
        // 	this.employee = employeeInfo;
        // });
        // after close dialog
        dialogRef.afterClosed().subscribe((res) => {
            if (res && res.isUpdate) {
                // update case
                //	this.empGeneralInfoService.getEmployeeShared(this.employeeId);
            }
            else if (res && !res.isUpdate) {
                // create case : Go tO update
                let url = `/personnel-setup/${this.moduleId}/employees/edit/${res.data.person.id}`;
                this.router.navigate([url], { queryParams: this.parentParam });
            }
        });
    }
}
EmployeeGeneralInfoCardComponent.ɵfac = function EmployeeGeneralInfoCardComponent_Factory(t) { return new (t || EmployeeGeneralInfoCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService)); };
EmployeeGeneralInfoCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmployeeGeneralInfoCardComponent, selectors: [["employee-general-info-card"]], outputs: { changeEmployeeId: "changeEmployeeId" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view px-2", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "px-2"], ["cardTitle", "generalInfo", 1, "emp-card-title", "pt-2", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "view-data-row-container", "mtop-20"], ["label", "employeeCode", 1, "col-4", "col-lg", "mb-2", 3, "value"], ["label", "ar_Name", 1, "col-4", "col-lg", "mb-2", 3, "value"], ["label", "en_Name", 1, "col-4", "col-lg", "mb-2", 3, "value"], ["label", "nationalid", 1, "col-4", "col-lg", "mb-2", 3, "value"], ["label", "companyCode", 1, "col-4", "col-lg", "mb-2", 3, "value"], [1, "view-data-row-container", "mt-3"], ["label", "hireDate", 1, "col-4", "col-lg", "mb-2", 3, "value", "isDate"], ["label", "gender", 1, "col-4", "col-lg", "mb-2", 3, "value"], ["label", "religion", 1, "col-4", "col-lg", "mb-2", 3, "value"], ["label", "nationality", 1, "col-4", "col-lg", "mb-2", 3, "value"], [1, "col-4", "col-lg", "mb-2"], [1, "view-data-title"], [1, "view-data-value"], [1, "d-inline-block"], [4, "ngIf", "ngIfElse"], ["emptyCompanies", ""], [4, "ngFor", "ngForOf"], [4, "ngIf"], [3, "rowNo"]], template: function EmployeeGeneralInfoCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmployeeGeneralInfoCardComponent_div_0_Template, 23, 19, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmployeeGeneralInfoCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_5__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_6__.CardRowItemComponent, _angular_common__WEBPACK_IMPORTED_MODULE_8__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZ2VuZXJhbC1pbmZvLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 78392:
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-general-info/emp-general-info-core/emp-general-info-core.component.ts ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpGeneralInfoCoreComponent": () => (/* binding */ EmpGeneralInfoCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_general_info_card_emp_general_info_card_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-general-info-card/emp-general-info-card.component */ 59330);






function EmpGeneralInfoCoreComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](1, "employee-general-info-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
class EmpGeneralInfoCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_general_info_tab);
    }
}
EmpGeneralInfoCoreComponent.ɵfac = function EmpGeneralInfoCoreComponent_Factory(t) { return new (t || EmpGeneralInfoCoreComponent)(); };
EmpGeneralInfoCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: EmpGeneralInfoCoreComponent, selectors: [["emp-general-info-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵInheritDefinitionFeature"]], decls: 6, vars: 1, consts: [[1, "row"], [1, "col-12"], [1, "container-fluid", "p-0"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmpGeneralInfoCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-content", 2)(4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](5, EmpGeneralInfoCoreComponent_div_5_Template, 2, 0, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_general_info_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf, _angular_material_card__WEBPACK_IMPORTED_MODULE_5__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_5__.MatCardContent, _emp_general_info_card_emp_general_info_card_component__WEBPACK_IMPORTED_MODULE_2__.EmployeeGeneralInfoCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZ2VuZXJhbC1pbmZvLWNvcmUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 89535:
/*!***************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employees-index/employees-index.component.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeesIndexComponent": () => (/* binding */ EmployeesIndexComponent)
/* harmony export */ });
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_employee__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/employee */ 52614);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_system_setup_dashboard_setup_mapper_dashboard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/system-setup/dashboard-setup/mapper/dashboard */ 61894);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employees_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/employees.service */ 20408);
/* harmony import */ var app_system_setup_dashboard_setup_services_dashboard_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/system-setup/dashboard-setup/services/dashboard.service */ 94891);
/* harmony import */ var app_shared_services_file_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/services/file.service */ 22965);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _shared_components_side_helping_menu_side_helping_menu_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../shared/components/side-helping-menu/side-helping-menu.component */ 60544);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_employees_employee_dropdown_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../shared/components/dropdowns/personnel-setup/employees/employee-dropdown/employee-dropdown.component */ 70502);
/* harmony import */ var app_system_setup_dashboard_setup_components_dashboard_dispaly_dashboard_display_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! app/system-setup/dashboard-setup/components/dashboard-dispaly/dashboard-display.component */ 76400);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! primeng/api */ 14356);
/* harmony import */ var primeng_panel__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! primeng/panel */ 24266);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @ngx-translate/core */ 89461);





















function EmployeesIndexComponent_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "form", 9)(1, "div", 0)(2, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "app-employee-dropdown", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "app-input", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](7, "app-input", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](8, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](10, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](11, "button", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](13, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](14, "div", 15);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx_r0.simpleSearchForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx_r0.simpleSearchFormCtrls.employeeId)("filter", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx_r0.simpleSearchFormCtrls.orgTypeId);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx_r0.simpleSearchFormCtrls.orgId);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](10, 7, "clear"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](13, 9, "General.search"), " ");
} }
function EmployeesIndexComponent_ng_template_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](1, "advanced");
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmployeesIndexComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeesService, dashboardService, fileService) {
        super();
        this.employeesService = employeesService;
        this.dashboardService = dashboardService;
        this.fileService = fileService;
        this.mandatoryColomns = ["Ser", "code", "en_Name", "ar_Name", "actions"];
        this.optionalColomns = [
            "jobTitleName",
            "organization",
            "email",
            "status",
            "statusProperty",
            "address",
            "contact",
            "isActive",
        ];
        this.isLoaded = false;
        // collapsed --> true >> closed & false >> opened
        this.isSimpleExpanded = true;
        this.isAdvancedExpanded = true;
        this.mergingTableColumn = {
            isMerge: true,
            columnImgName: "img",
            columnTextName: "en_Name",
        };
    }
    ngOnInit() {
        // if (this.CheckNoBusinessOrCompany()) this.getList(this.currentPage);
        this.simpleSearchForm = this.fb.group({
            employeeId: [null],
            orgTypeId: [null],
            orgId: [null],
        });
        this.advancedSearchForm = this.fb.group({
            name: [null],
            operator: [null],
            value: [null],
        });
        this.getAllDashboardService();
    }
    get simpleSearchFormCtrls() {
        return this.simpleSearchForm.controls;
    }
    get advancedSearchFormCtrls() {
        return this.advancedSearchForm.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_14__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany())
            this.getList(this.pageFromUrl > 0 ? this.pageFromUrl : this.firstPage);
    }
    getList(page, pageSize) {
        this.isLoaded = false;
        this.removePageParams();
        this.page.pageIndex = page;
        if (pageSize)
            this.page.pageSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.pageSize,
        };
        this.employeesService
            .getListCard(params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == 1) {
                if (res.data.length == 0 && page > 1) {
                    this.getList(this.prevPage);
                    return;
                }
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_14__.MatTableDataSource((0,app_personnel_setup_mapper_employee__WEBPACK_IMPORTED_MODULE_0__.employeeToMap)(res.data));
                this.isLoaded = true;
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    onDelete(employee) {
        let msg = this.msgTranslate(employee.ar_Name, employee.en_Name);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employee);
        });
    }
    delete(employee) {
        this.showLoading();
        this.employeesService.Delete(employee.id).subscribe((res) => {
            if (res.message.messageType == 1) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.pageSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.pageSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    getAllDashboardService() {
        this.showLoading();
        let params = {
            ...this.businessCompanyParams,
            $filter: "Service_ID eq 8",
        };
        this.dashboardService
            .getAll(params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.dashboardList = (0,app_system_setup_dashboard_setup_mapper_dashboard__WEBPACK_IMPORTED_MODULE_3__.dashboardDisplay)(res.data);
                //  console.log(this.dashboardList);
            }
            else {
                this.errorList(res.message?.messages);
            }
            this.hideLoading();
        });
    }
    //////////// search
    onAction(selectedAction) {
        // console.log(selectedAction);
        if (selectedAction?.name == "simpleSearch")
            this.toggleSimpleSearchPanel();
        if (selectedAction?.name == "advancedSearch")
            this.toggleAdvancedSearchPanel();
    }
    toggleSimpleSearchPanel() {
        this.isAdvancedExpanded = true;
        this.isSimpleExpanded = !this.isSimpleExpanded;
    }
    toggleAdvancedSearchPanel() {
        this.isSimpleExpanded = true;
        this.isAdvancedExpanded = !this.isAdvancedExpanded;
    }
}
EmployeesIndexComponent.ɵfac = function EmployeesIndexComponent_Factory(t) { return new (t || EmployeesIndexComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employees_service__WEBPACK_IMPORTED_MODULE_4__.EmployeesService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_system_setup_dashboard_setup_services_dashboard_service__WEBPACK_IMPORTED_MODULE_5__.DashboardService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_shared_services_file_service__WEBPACK_IMPORTED_MODULE_6__.FileService)); };
EmployeesIndexComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeesIndexComponent, selectors: [["app-employees-index"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 13, vars: 20, consts: [[1, "row"], [1, "col-12"], [1, "index-card"], ["title", "employees", 3, "globalFunctions", "action"], [3, "toggleable", "showHeader", "collapsed"], ["pTemplate", "content"], [3, "isRowClickable", "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "exportService", "mergeImgWithName", "onChangePage", "deleteRow"], [3, "title"], [3, "serviceId"], [3, "formGroup"], [1, "col-md-4", "col-12"], [3, "control", "filter"], ["label", "org", 3, "control"], ["mat-raised-button", "", 1, "btn", "bg-light-secondary", "float-right", "btn-sm"], ["mat-raised-button", "", 1, "btn", "btn-info", "bg-light-info", "float-right", "mx-2", "btn-sm"], [1, "clearfix"]], template: function EmployeesIndexComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card", 2)(3, "mat-card-title")(4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("action", function EmployeesIndexComponent_Template_page_title_action_4_listener($event) { return ctx.onAction($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](5, "p-panel", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](6, EmployeesIndexComponent_ng_template_6_Template, 15, 11, "ng-template", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](7, "p-panel", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](8, EmployeesIndexComponent_ng_template_8_Template, 2, 0, "ng-template", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](9, "app-material-table", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onChangePage", function EmployeesIndexComponent_Template_app_material_table_onChangePage_9_listener($event) { return ctx.getList($event.pageIndex + 1, $event.pageSize); })("deleteRow", function EmployeesIndexComponent_Template_app_material_table_deleteRow_9_listener($event) { return ctx.onDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](10, "side-helping-menu", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](11, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](12, "app-dashboard-display", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("globalFunctions", ctx.globalFunctions);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("toggleable", true)("showHeader", false)("collapsed", ctx.isSimpleExpanded);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("toggleable", true)("showHeader", false)("collapsed", ctx.isAdvancedExpanded);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("isRowClickable", false)("isLoaded", ctx.isLoaded)("dataSource", ctx.dataSource)("mandatoryColomns", ctx.mandatoryColomns)("optionalColomns", ctx.optionalColomns)("page", ctx.page)("actions", ctx.rowFunctions)("exportService", ctx.employeesService)("mergeImgWithName", ctx.mergingTableColumn);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](11, 18, "Dashboard"));
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("serviceId", ctx.getCurrentServiceId());
    } }, dependencies: [_shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_8__.MaterialTableComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, _shared_components_side_helping_menu_side_helping_menu_component__WEBPACK_IMPORTED_MODULE_10__.SideHelpingMenuComponent, _shared_components_dropdowns_personnel_setup_employees_employee_dropdown_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.EmployeeDropdownComponent, app_system_setup_dashboard_setup_components_dashboard_dispaly_dashboard_display_component__WEBPACK_IMPORTED_MODULE_12__.DashboardDisplayComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_15__.MatButton, _angular_material_card__WEBPACK_IMPORTED_MODULE_16__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_16__.MatCardTitle, _angular_forms__WEBPACK_IMPORTED_MODULE_17__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_17__.FormGroupDirective, primeng_api__WEBPACK_IMPORTED_MODULE_18__.PrimeTemplate, primeng_panel__WEBPACK_IMPORTED_MODULE_19__.Panel, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_20__.TranslatePipe], styles: [".p-panel .p-panel-content {\n  border: none;\n}\n\nimg[_ngcontent-%COMP%] {\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcGxveWVlcy1pbmRleC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLFlBQUE7QUFBSjs7QUFJQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUFERiIsImZpbGUiOiJlbXBsb3llZXMtaW5kZXguY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAge1xyXG4gIC5wLXBhbmVsIC5wLXBhbmVsLWNvbnRlbnQge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gIH1cclxufVxyXG5cclxuaW1nIHtcclxuICB3aWR0aDogNzBweDtcclxuICBoZWlnaHQ6IDcwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czo1MCU7XHJcbn1cclxuIl19 */"] });


/***/ }),

/***/ 68005:
/*!************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-contract/emp-contract-attachment-section/emp-contract-attachment-section.component.ts ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContractAttachmentSectionComponent": () => (/* binding */ EmpContractAttachmentSectionComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_contract_attachment_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-contract-attachment.service */ 37707);
/* harmony import */ var _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/prime-ng/file-upload/file-upload.component */ 34292);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-spinner */ 88035);






class EmpContractAttachmentSectionComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeContractAttachmentService) {
        super();
        this.employeeContractAttachmentService = employeeContractAttachmentService;
        // @Output() changUpdated = new EventEmitter<boolean>();
        this.isLoaded = false;
        this.submitted = false;
        this.files = [];
        this.removeFiles = false;
    }
    ngOnInit() {
        this.form = this.fb.group({
            // id: [0, { nonNullable: true }],
            files: [null],
        });
        this.addAttachParams = {
            ContractID: this.contractId,
        };
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.checkNoBusinessOrCompany() && this.contractId > 0)
            this.getAll();
    }
    getAll() {
        this.showLoading("attachments");
        this.employeeContractAttachmentService
            .getAll(this.contractId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.files = [];
                res.data.forEach((attach) => {
                    this.files.push({
                        id: attach.id,
                        name: attach.en_Name,
                        path: "/" + attach.path,
                        size: attach.size,
                        type: attach.mime,
                    });
                });
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("attachments");
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.removeFiles = false;
        if (this.form.valid)
            this.showLoading();
    }
    afterCreate() {
        this.clearForm();
        this.getAll();
        // this.changUpdated.emit(true);
    }
    delete(file) {
        if (file.id) {
            let deleteParams = {
                ContractID: this.contractId,
                AttachmentID: file.id,
            };
            this.showLoading("attachments");
            this.employeeContractAttachmentService
                .Delete(deleteParams)
                .subscribe((res) => {
                if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                    this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                    this.getAll();
                    // this.changUpdated.emit(true);
                }
                else
                    this.errorList(res?.message?.messages);
                this.hideLoading("attachments");
            });
        }
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
        this.removeFiles = true;
    }
}
EmpContractAttachmentSectionComponent.ɵfac = function EmpContractAttachmentSectionComponent_Factory(t) { return new (t || EmpContractAttachmentSectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_contract_attachment_service__WEBPACK_IMPORTED_MODULE_2__.EmployeeContractAttachmentService)); };
EmpContractAttachmentSectionComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({ type: EmpContractAttachmentSectionComponent, selectors: [["app-emp-contract-attachment-section"]], inputs: { contractId: "contractId" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵInheritDefinitionFeature"]], decls: 4, vars: 9, consts: [[1, "row", "mtop-20"], [1, "col-12"], ["url", "Personnel/Employees/Create_EmployeeContract_Attachments", 3, "control", "submitted", "multiple", "existingFiles", "removeFiles", "params", "isFormValid", "disabled", "onsubmit", "afterupload", "ondelete"], [3, "name"]], template: function EmpContractAttachmentSectionComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "primeng-file-upload", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("onsubmit", function EmpContractAttachmentSectionComponent_Template_primeng_file_upload_onsubmit_2_listener() { return ctx.submit(); })("afterupload", function EmpContractAttachmentSectionComponent_Template_primeng_file_upload_afterupload_2_listener() { return ctx.afterCreate(); })("ondelete", function EmpContractAttachmentSectionComponent_Template_primeng_file_upload_ondelete_2_listener($event) { return ctx.delete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](3, "ngx-spinner", 3);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("control", ctx.formCtrls.files)("submitted", ctx.submitted)("multiple", false)("existingFiles", ctx.files)("removeFiles", ctx.removeFiles)("params", ctx.addAttachParams)("isFormValid", ctx.form.valid)("disabled", !ctx.contractId);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("name", "attachments");
    } }, dependencies: [_shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_3__.FileUploadComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_5__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udHJhY3QtYXR0YWNobWVudC1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 83379:
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-contract/emp-contract-card/emp-contract-card.component.ts ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContractCardComponent": () => (/* binding */ EmpContractCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_contract_emp_contract_section_emp_contract_section_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-contract/emp-contract-section/emp-contract-section.component */ 53765);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_contract_details_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-contract-details.service */ 28634);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_contract_table_emp_contract_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-contract-table/emp-contract-table.component */ 55138);













function EmpContractCardComponent_div_0_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](2, "card-row-item", 11)(3, "card-row-item", 12)(4, "card-row-item", 13)(5, "card-row-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.contract == null ? null : ctx_r3.contract.contracT_NO);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.contract == null ? null : ctx_r3.contract.contractType);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.contract == null ? null : ctx_r3.contract.start_date);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.contract == null ? null : ctx_r3.contract.end_date);
} }
function EmpContractCardComponent_div_0_app_emp_contract_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-emp-contract-table", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpContractCardComponent_div_0_app_emp_contract_table_6_Template_app_emp_contract_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r5.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpContractCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpContractCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r7.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpContractCardComponent_div_0_ng_container_5_Template, 6, 4, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpContractCardComponent_div_0_app_emp_contract_table_6_Template, 1, 2, "app-emp-contract-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpContractCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r9.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.contract)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmpContractCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 16);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 4);
} }
class EmpContractCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeContractDetailsService) {
        super();
        this.employeeContractDetailsService = employeeContractDetailsService;
        this.employeeId = 0;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
    }
    onChangeBusinessAndCompanyId() {
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getAllContractDetails();
            else
                this.isLoaded = true;
        }
    }
    getAllContractDetails() {
        return this.employeeContractDetailsService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.isLoaded = true;
                // to get last or old contract ??
                this.contract = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_2__.empContractDisplay)(res.data.slice(-1))[0];
                if (this.contract?.autO_RENEWAL) {
                    this.contract.contractType +=
                        " - " + this.translate("autO_RENEWAL");
                }
            }
            else {
                this.errorList(res?.message?.messages);
            }
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(app_personnel_setup_components_employees_employement_information_emp_contract_emp_contract_section_emp_contract_section_component__WEBPACK_IMPORTED_MODULE_4__.EmpContractDetailsDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllContractDetails();
            }
        });
    }
    afterDelete(contract) {
        if (contract) {
            this.isLoaded = false;
            this.getAllContractDetails();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpContractCardComponent.ɵfac = function EmpContractCardComponent_Factory(t) { return new (t || EmpContractCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_contract_details_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContractDetailsService)); };
EmpContractCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpContractCardComponent, selectors: [["app-emp-contract-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "contract", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], [4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "contracT_NO", 1, "col-6", "col-md-3", "px-0", "mb-2", 3, "value"], ["label", "contract", 1, "col-6", "col-md-3", "px-0", "mb-2", 3, "value"], ["label", "start_date", 1, "col-6", "col-md-3", "px-0", "mb-2", 3, "value"], ["label", "end_date", 1, "col-6", "col-md-3", "px-0", "mb-2", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpContractCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpContractCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpContractCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_contract_table_emp_contract_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpContractTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udHJhY3QtY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 53765:
/*!**************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-contract/emp-contract-section/emp-contract-section.component.ts ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContractDetailsDialogComponent": () => (/* binding */ EmpContractDetailsDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_contract_details_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-contract-details.service */ 28634);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var app_shared_components_resources_dynamic_form_field_prime_ng_dropdown_core_dropdown_core_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! app/shared/components/resources/dynamic-form-field/prime-ng/dropdown-core/dropdown-core.component */ 68506);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contract_type_dropdown_contract_type_dropdown_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contract-type-dropdown/contract-type-dropdown.component */ 17288);
/* harmony import */ var _emp_contract_attachment_section_emp_contract_attachment_section_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../emp-contract-attachment-section/emp-contract-attachment-section.component */ 68005);
/* harmony import */ var _emp_contract_table_emp_contract_table_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../emp-contract-table/emp-contract-table.component */ 55138);























function EmpContractDetailsDialogComponent_reset_form_btn_26_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "reset-form-btn", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function EmpContractDetailsDialogComponent_reset_form_btn_26_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} }
function EmpContractDetailsDialogComponent_app_emp_contract_attachment_section_28_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "app-emp-contract-attachment-section", 25);
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("contractId", ctx_r2.formCtrls.id.value);
} }
class EmpContractDetailsDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeContractDetailsService, dialogRef) {
        super();
        this.employeeContractDetailsService = employeeContractDetailsService;
        this.dialogRef = dialogRef;
        // @Output() changUpdated = new EventEmitter<boolean>();
        this.employeeId = 0;
        this.submitted = false;
        this.hasUpdate = false;
        this.getList = false;
        this.autoRenewalList = [
            {
                id: "null",
                ar_Name: "غير محدد",
                en_Name: "Not set",
            },
            {
                id: "true",
                ar_Name: "صحيح",
                en_Name: "True",
            },
            {
                id: "false",
                ar_Name: "خطأ",
                en_Name: "False",
            },
        ];
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_job_info_contract_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            contracT_TYPE_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Validators.required]],
            contracT_NO: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Validators.required]],
            starT_DATE: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Validators.required]],
            enD_DATE: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Validators.required]],
            autO_RENEWAL: ["false"],
            autO_Resign: [null],
            include_In_Previous_Duration: [null],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__.CustomValidator.compareDates("starT_DATE", "enD_DATE"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0) {
    //     this.dataSource = new MatTableDataSource(null);
    //   }
    //   if (this.checkNoBusinessOrCompany() && this.employeeId > 0) {
    //     this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.dataSource = new MatTableDataSource(null);
    //   this.isLoaded = false;
    //   this.page.pageIndex = page;
    //   if (pageSize) {
    //     this.page.dialogSize = pageSize;
    //   }
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeContractDetailsService
    //     .getList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IContractModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empContractDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //        this.page.meta = res.meta;
    //         this.isLoaded = true;
    //         this.hideLoading();
    //       }
    //       else {
    //         this.errorList(res?.message?.messages);
    //       }
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    person_ID: this.employeeId,
                    id: this.form.value.id,
                    contracT_TYPE_ID: this.form.value.contracT_TYPE_ID,
                    contracT_NO: this.form.value.contracT_NO,
                    starT_DATE: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.starT_DATE),
                    enD_DATE: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.enD_DATE),
                    autO_RENEWAL: this.form.value.autO_RENEWAL == "null"
                        ? null
                        : this.form.value.autO_RENEWAL == "false"
                            ? false
                            : true,
                    autO_Resign: this.form.value.autO_Resign ?? false,
                    include_In_Previous_Duration: this.form.value.include_In_Previous_Duration ?? false,
                },
            };
            model.EmployeeData.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.employeeContractDetailsService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                // this.clearForm();
                this.formCtrls.id.setValue(res.data.id);
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
                //   this.isUpdated(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        this.showLoading("dialog");
        this.employeeContractDetailsService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
                //   this.isUpdated(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeContractDetailsToEdit(contract) {
        this.form.patchValue(contract);
        this.formCtrls.autO_RENEWAL.setValue(String(contract.autO_RENEWAL));
        // console.log(this.form.value);
    }
    // onDelete(contract: IEmpContractDisplayModel): void {
    //   let msg = `${contract.contractType} -
    //     ${contract.start_date} -
    //     ${contract.end_date}`;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) {
    //       this.delete(contract);
    //     }
    //   });
    // }
    //
    // delete(contract: IEmpContractDisplayModel) {
    //   this.showLoading();
    //   this.employeeContractDetailsService
    //     .Delete(contract.id)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         }
    //         else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.isUpdated(true);
    //         if (contract.id == this.formCtrls.id.value) {
    //           this.clearForm();
    //         }
    //       }
    //       else {
    //         this.errorList(res?.message?.messages);
    //         this.hideLoading();
    //       }
    //     });
    // }
    afterDelete(contract) {
        if (contract.id == this.formCtrls.id.value)
            this.clearForm();
        if (contract)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0, autO_RENEWAL: "false" });
        this.submitted = false;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
}
EmpContractDetailsDialogComponent.ɵfac = function EmpContractDetailsDialogComponent_Factory(t) { return new (t || EmpContractDetailsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_contract_details_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContractDetailsService), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogRef)); };
EmpContractDetailsDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdefineComponent"]({ type: EmpContractDetailsDialogComponent, selectors: [["emp-contract-section"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵInheritDefinitionFeature"]], decls: 30, vars: 25, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "contract", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "contracT_NO", 3, "control", "submitted"], ["label", "start_date", 3, "control", "submitted"], ["label", "end_date", 3, "control", "submitted"], ["label", "autO_RENEWAL", 3, "control", "submitted", "List", "appendTo"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "autO_Resign", 3, "control"], ["label", "include_In_Previous_Duration", 3, "control"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [1, "clearfix"], [3, "contractId", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"], [3, "contractId"]], template: function EmpContractDetailsDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function EmpContractDetailsDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](11, "app-contract-type-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](13, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](15, "app-datepicker", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](16, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](17, "app-datepicker", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](18, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](19, "app-prime-dropdown", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](20, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](21, "app-check-box", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](22, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](23, "app-check-box", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](24, "div", 18)(25, "submit-btn", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("onClick", function EmpContractDetailsDialogComponent_Template_submit_btn_onClick_25_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](26, EmpContractDetailsDialogComponent_reset_form_btn_26_Template, 1, 0, "reset-form-btn", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](27, "div", 21);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](28, EmpContractDetailsDialogComponent_app_emp_contract_attachment_section_28_Template, 1, 1, "app-emp-contract-attachment-section", 22);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](29, "app-emp-contract-table", 23);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("rowToEdit", function EmpContractDetailsDialogComponent_Template_app_emp_contract_table_rowToEdit_29_listener($event) { return ctx.employeeContractDetailsToEdit($event); })("afterDelete", function EmpContractDetailsDialogComponent_Template_app_emp_contract_table_afterDelete_29_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.contracT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.contracT_NO)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.starT_DATE)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.enD_DATE)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.autO_RENEWAL)("submitted", ctx.submitted)("List", ctx.autoRenewalList)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.autO_Resign);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.include_In_Previous_Duration);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__.InputComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_20__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_21__.NgxSpinnerComponent, app_shared_components_resources_dynamic_form_field_prime_ng_dropdown_core_dropdown_core_component__WEBPACK_IMPORTED_MODULE_12__.DropdownCoreComponent, _shared_components_dropdowns_hr_setup_contract_type_dropdown_contract_type_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.ContractTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_17__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_17__.FormGroupDirective, _emp_contract_attachment_section_emp_contract_attachment_section_component__WEBPACK_IMPORTED_MODULE_14__.EmpContractAttachmentSectionComponent, _emp_contract_table_emp_contract_table_component__WEBPACK_IMPORTED_MODULE_15__.EmpContractTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udHJhY3Qtc2VjdGlvbi5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 55138:
/*!**********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-contract/emp-contract-table/emp-contract-table.component.ts ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContractTableComponent": () => (/* binding */ EmpContractTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_contract_details_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-contract-details.service */ 28634);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpContractTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpContractTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpContractTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpContractTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpContractTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeContractDetailsService) {
        super();
        this.employeeContractDetailsService = employeeContractDetailsService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "contractType",
            "contracT_NO",
            "start_date",
            "end_date",
            "autO_RENEWAL",
            "actions",
        ];
        this.optionalColomns = [
            "autO_Resign",
            "include_In_Previous_Duration",
            "actual_End_Date",
        ];
        this.isLoaded = false;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_job_info_contract_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            this.optionalColomns = [];
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0) {
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        }
        if (this.checkNoBusinessOrCompany() && this.employeeId > 0) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize) {
            this.page.dialogSize = pageSize;
        }
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeContractDetailsService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_1__.empContractDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
                this.hideLoading();
            }
            else {
                this.errorList(res?.message?.messages);
            }
        });
    }
    onDelete(contract) {
        let msg = `${contract.contractType} -
      ${contract.start_date} -
      ${contract.end_date}`;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm) {
                this.delete(contract);
            }
        });
    }
    delete(contract) {
        this.showLoading('table');
        this.employeeContractDetailsService
            .Delete(contract.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.afterDelete.emit(contract);
                // this.isUpdated(true);
                // if (contract.id == this.formCtrls.id.value) {
                //   this.clearForm();
                // }
            }
            else {
                this.errorList(res?.message?.messages);
                this.hideLoading('table');
            }
        });
    }
    toEdit(contract) {
        this.rowToEdit.emit(contract);
    }
}
EmpContractTableComponent.ɵfac = function EmpContractTableComponent_Factory(t) { return new (t || EmpContractTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_contract_details_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContractDetailsService)); };
EmpContractTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpContractTableComponent, selectors: [["app-emp-contract-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpContractTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpContractTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udHJhY3QtdGFibGUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 63042:
/*!***********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-custodies/emp-custodies-card/emp-custodies-card.component.ts ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpCustodiesCardComponent": () => (/* binding */ EmpCustodiesCardComponent)
/* harmony export */ });
/* harmony import */ var _emp_custodies_dialog_emp_custodies_dialog_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../emp-custodies-dialog/emp-custodies-dialog.component */ 9228);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-custodies.service */ 60904);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_custodies_table_emp_custodies_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-custodies-table/emp-custodies-table.component */ 26362);













function EmpCustodiesCardComponent_div_0_div_5_ng_container_1_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 15)(2, "card-row-item", 16)(3, "card-row-item", 17)(4, "card-row-item", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const custody_r9 = ctx.$implicit;
    const lst_r10 = ctx.last;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵclassProp"]("mbottom-20", !lst_r10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", custody_r9.custodies);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", custody_r9.froM_DATE);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", custody_r9.endDate);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", custody_r9.notes);
} }
function EmpCustodiesCardComponent_div_0_div_5_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpCustodiesCardComponent_div_0_div_5_ng_container_1_div_1_Template, 5, 6, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngForOf", ctx_r5.custodies);
} }
function EmpCustodiesCardComponent_div_0_div_5_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 19)(2, "card-row-item", 20)(3, "card-row-item", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", null);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", null);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", null);
} }
function EmpCustodiesCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpCustodiesCardComponent_div_0_div_5_ng_container_1_Template, 2, 1, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, EmpCustodiesCardComponent_div_0_div_5_ng_template_2_Template, 4, 3, "ng-template", null, 12, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](3);
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", (ctx_r3.custodies == null ? null : ctx_r3.custodies.length) > 0)("ngIfElse", _r6);
} }
function EmpCustodiesCardComponent_div_0_app_emp_custodies_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-emp-custodies-table", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpCustodiesCardComponent_div_0_app_emp_custodies_table_6_Template_app_emp_custodies_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r12); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r11.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpCustodiesCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpCustodiesCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r14); const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r13.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpCustodiesCardComponent_div_0_div_5_Template, 4, 2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpCustodiesCardComponent_div_0_app_emp_custodies_table_6_Template, 1, 2, "app-emp-custodies-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 9)(8, "see-more-btn", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpCustodiesCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r14); const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r15.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.custodies == null ? null : ctx_r0.custodies.length)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeInstanceId)("isTableView", ctx_r0.isTableView);
} }
function EmpCustodiesCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 23);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 2);
} }
class EmpCustodiesCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeCustodiesService) {
        super();
        this.employeeCustodiesService = employeeCustodiesService;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        this.isTableView = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAll();
            }
            else
                this.isLoaded = true;
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.custodies = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getAll();
    //   else this.isLoaded = true;
    // }
    getAll() {
        this.custodies = null;
        this.employeeCustodiesService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                // show only first three custodies
                this.custodies = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__.empCustodyDisplay)(res.data.slice(0, 3));
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_custodies_dialog_emp_custodies_dialog_component__WEBPACK_IMPORTED_MODULE_0__.EmpCustodiesDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    afterDelete(custody) {
        if (custody) {
            this.isLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpCustodiesCardComponent.ɵfac = function EmpCustodiesCardComponent_Factory(t) { return new (t || EmpCustodiesCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeCustodiesService)); };
EmpCustodiesCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpCustodiesCardComponent, selectors: [["app-emp-custodies-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "custodies", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], [4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [1, "col-lg-2", "col-12col-md-2", "col-12"], [3, "employeeId", "isTableView", "toggleTable"], [4, "ngIf", "ngIfElse"], ["noData", ""], ["class", "view-data-row-container", 3, "mbottom-20", 4, "ngFor", "ngForOf"], [1, "view-data-row-container"], ["label", "name", 1, "col-6", "col-md-3", "px-0", "mb-2", 3, "value"], ["label", "froM_DATE", 1, "col-6", "col-md-3", "px-0", "mb-2", 3, "value"], ["label", "toDate", 1, "col-6", "col-md-3", "px-0", "mb-2", 3, "value"], ["label", "note", 1, "col-6", "col-md-3", "px-0", "mb-2", 3, "value"], ["label", "custodies", 1, "col", 3, "value"], ["label", "froM_DATE", 1, "col", 3, "value"], ["label", "tO_DATE", 1, "col", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpCustodiesCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpCustodiesCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpCustodiesCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_custodies_table_emp_custodies_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpCustodiesTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY3VzdG9kaWVzLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 9228:
/*!***************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-custodies/emp-custodies-dialog/emp-custodies-dialog.component.ts ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpCustodiesDialogComponent": () => (/* binding */ EmpCustodiesDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-custodies.service */ 60904);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_org_management_setup_custodies_custodies_by_employee_dropdown_custodies_by_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management-setup/custodies/custodies-by-employee-dropdown/custodies-by-employee-dropdown.component */ 84490);
/* harmony import */ var _emp_custodies_table_emp_custodies_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-custodies-table/emp-custodies-table.component */ 26362);




















function EmpCustodiesDialogComponent_reset_form_btn_20_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpCustodiesDialogComponent_reset_form_btn_20_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmpCustodiesDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeCustodiesService, dialogRef) {
        super();
        this.employeeCustodiesService = employeeCustodiesService;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.getList = true;
        this.submitted = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_custodies_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            covenantId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            froM_DATE: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            endDate: [null /* , [Validators.required] */],
            notes: [null],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__.CustomValidator.compareDates("froM_DATE", "endDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeInstanceId > 0) this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeCustodiesService
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmpCustodyModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(empCustodyDisplay(res.data));
    //         this.page.length = res.meta.totalItemCount;
    //         this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    PersonInstanceId: this.employeeInstanceId,
                    ID: this.form.value.id,
                    CovenantId: this.form.value.covenantId,
                    FromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.froM_DATE),
                    ToDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.endDate),
                    Notes: this.form.value.notes,
                },
            };
            model.EmployeeData.ID == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading('dialog');
        this.employeeCustodiesService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                //this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('dialog');
        });
    }
    update(model) {
        this.showLoading('dialog');
        this.employeeCustodiesService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('dialog');
        });
    }
    employeeCustodyToEdit(custody) {
        this.form.patchValue(custody);
        this.formCtrls.froM_DATE.setValue(custody.fromDate);
        this.formCtrls.endDate.setValue(custody.toDate);
        // console.log(this.form.value);
    }
    // onDelete(employeeCustodyInfo: IEmpCustodyModel): void {
    //   let msg = employeeCustodyInfo.custodies;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeCustodyInfo);
    //   });
    // }
    //
    // delete(employeeCustodyInfo: IEmpCustodyModel) {
    //   this.showLoading();
    //   this.employeeCustodiesService
    //     .Delete(employeeCustodyInfo.id)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.updated = true;
    //         if (employeeCustodyInfo.id == this.formCtrls.id.value)
    //           this.clearForm();
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(custody) {
        if (custody.id == this.formCtrls.id.value)
            this.clearForm();
        if (location)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpCustodiesDialogComponent.ɵfac = function EmpCustodiesDialogComponent_Factory(t) { return new (t || EmpCustodiesDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeCustodiesService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogRef)); };
EmpCustodiesDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmpCustodiesDialogComponent, selectors: [["app-emp-custodies-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 22, vars: 19, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "custodies", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "employeeInstanceId", "submitted", "filter", "appendTo"], ["label", "froM_DATE", 3, "control", "submitted"], ["label", "endDate", 3, "control", "submitted"], ["label", "notes", 3, "control", "submitted"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpCustodiesDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpCustodiesDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "app-custodies-by-employee-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-datepicker", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](17, "app-input", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "div", 14)(19, "submit-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmpCustodiesDialogComponent_Template_submit_btn_onClick_19_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](20, EmpCustodiesDialogComponent_reset_form_btn_20_Template, 1, 0, "reset-form-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](21, "app-emp-custodies-table", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmpCustodiesDialogComponent_Template_app_emp_custodies_table_rowToEdit_21_listener($event) { return ctx.employeeCustodyToEdit($event); })("afterDelete", function EmpCustodiesDialogComponent_Template_app_emp_custodies_table_afterDelete_21_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.covenantId)("employeeInstanceId", ctx.employeeInstanceId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.froM_DATE)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.endDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.notes)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__.InputComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_17__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_18__.NgxSpinnerComponent, _shared_components_dropdowns_org_management_setup_custodies_custodies_by_employee_dropdown_custodies_by_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.CustodiesByEmployeeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_custodies_table_emp_custodies_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpCustodiesTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY3VzdG9kaWVzLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 26362:
/*!*************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-custodies/emp-custodies-table/emp-custodies-table.component.ts ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpCustodiesTableComponent": () => (/* binding */ EmpCustodiesTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-custodies.service */ 60904);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpCustodiesTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpCustodiesTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpCustodiesTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpCustodiesTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpCustodiesTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeCustodiesService) {
        super();
        this.employeeCustodiesService = employeeCustodiesService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "custodies",
            "froM_DATE",
            "endDate",
            "notes",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeInstanceId = 0;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_custodies_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeCustodiesService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_2__.empCustodyDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(Custody) {
        this.rowToEdit.emit(Custody);
    }
    onDelete(employeeCustodyInfo) {
        let msg = employeeCustodyInfo.custodies;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeCustodyInfo);
        });
    }
    delete(employeeCustodyInfo) {
        this.showLoading("table");
        this.employeeCustodiesService
            .Delete(employeeCustodyInfo.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.afterDelete.emit(employeeCustodyInfo);
                // this.updated = true;
                // if (employeeCustodyInfo.id == this.formCtrls.id.value)
                //   this.clearForm();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpCustodiesTableComponent.ɵfac = function EmpCustodiesTableComponent_Factory(t) { return new (t || EmpCustodiesTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeCustodiesService)); };
EmpCustodiesTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpCustodiesTableComponent, selectors: [["app-emp-custodies-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpCustodiesTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpCustodiesTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY3VzdG9kaWVzLXRhYmxlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 78471:
/*!********************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-card/emp-hiring-documents-card.component.ts ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpHiringDocumentsCardComponent": () => (/* binding */ EmpHiringDocumentsCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_hiring_documents_dialog_emp_hiring_documents_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-hiring-documents-dialog/emp-hiring-documents-dialog.component */ 10205);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-hiring-document.service */ 72463);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var ng_circle_progress__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ng-circle-progress */ 5763);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _emp_hiring_documents_table_emp_hiring_documents_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../emp-hiring-documents-table/emp-hiring-documents-table.component */ 57095);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-translate/core */ 89461);














function EmpHiringDocumentsCardComponent_div_0_div_5_ng_container_1_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 17)(1, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](2, "img", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](3, "div", 20)(4, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](6, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](7, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](8, "div", 22)(9, "i", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("click", function EmpHiringDocumentsCardComponent_div_0_div_5_ng_container_1_div_1_Template_i_click_9_listener() { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r11); const hiringDocument_r9 = restoredCtx.$implicit; const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](4); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r10.fileService.downloadFromServer(hiringDocument_r9.attachmentID)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()()();
} if (rf & 2) {
    const hiringDocument_r9 = ctx.$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("src", ctx_r8.fileService.getFileIcon(hiringDocument_r9 == null ? null : hiringDocument_r9.attachmentFilePath), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](6, 2, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](7, 4, hiringDocument_r9 == null ? null : hiringDocument_r9.documentName)), " ");
} }
function EmpHiringDocumentsCardComponent_div_0_div_5_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmpHiringDocumentsCardComponent_div_0_div_5_ng_container_1_div_1_Template, 10, 6, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngForOf", ctx_r5.hiringDocuments);
} }
function EmpHiringDocumentsCardComponent_div_0_div_5_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "card-row-item", 24);
} }
function EmpHiringDocumentsCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmpHiringDocumentsCardComponent_div_0_div_5_ng_container_1_Template, 2, 1, "ng-container", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](2, EmpHiringDocumentsCardComponent_div_0_div_5_ng_template_2_Template, 1, 0, "ng-template", null, 15, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](3);
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵclassProp"]("m-0", !ctx_r3.hiringDocuments || (ctx_r3.hiringDocuments == null ? null : ctx_r3.hiringDocuments.length) == 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", (ctx_r3.hiringDocuments == null ? null : ctx_r3.hiringDocuments.length) > 0)("ngIfElse", _r6);
} }
function EmpHiringDocumentsCardComponent_div_0_app_emp_hiring_documents_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "app-emp-hiring-documents-table", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("afterDelete", function EmpHiringDocumentsCardComponent_div_0_app_emp_hiring_documents_table_6_Template_app_emp_hiring_documents_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r12.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
const _c0 = function () { return { width: "200px", height: 200 }; };
function EmpHiringDocumentsCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmpHiringDocumentsCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r15); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r14.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmpHiringDocumentsCardComponent_div_0_div_5_Template, 4, 4, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](6, EmpHiringDocumentsCardComponent_div_0_app_emp_hiring_documents_table_6_Template, 1, 2, "app-emp-hiring-documents-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](7, "div", 9)(8, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](9, "circle-progress", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](10, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", ctx_r0.hiringDocuments == null ? null : ctx_r0.hiringDocuments.length)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpureFunction0"](12, _c0));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("percent", ctx_r0.docCompletePercentage)("outerStrokeWidth", 27)("innerStrokeWidth", 27)("space", -27)("showUnits", false)("subtitle", ctx_r0.docCompletePercentage.toString() + "%");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", ctx_r0.docCompletePercentage, "% ");
} }
function EmpHiringDocumentsCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 26);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 4);
} }
class EmpHiringDocumentsCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeHiringDocumentService) {
        super();
        this.employeeHiringDocumentService = employeeHiringDocumentService;
        this.employeeInstanceId = 0;
        this.docCompletePercentage = 0;
        this.isLoaded = false;
        this.isLoadedPercentage = false;
        this.isTableView = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.isLoadedPercentage = false;
                this.getAll();
                this.getPercentage();
            }
            else {
                this.isLoaded = true;
                this.isLoadedPercentage = true;
            }
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.hiringDocuments = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
    //     this.getAll();
    //     this.getPercentage();
    //   }
    //   else {
    //     this.isLoaded = true;
    //     this.isLoadedPercentage = true;
    //   }
    // }
    getAll() {
        this.hiringDocuments = null;
        this.employeeHiringDocumentService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                // get last three documents
                this.hiringDocuments = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empHiringDocumentDisplay)(res.data);
                //   res.data.length > 3 ? res.data.slice(-3) : res.data
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    getPercentage() {
        this.docCompletePercentage = 0;
        this.employeeHiringDocumentService
            .getCard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.docCompletePercentage = res.data;
                this.isLoadedPercentage = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_hiring_documents_dialog_emp_hiring_documents_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpHiringDocumentsDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.isLoadedPercentage = false;
                this.getAll();
                this.getPercentage();
            }
        });
    }
    afterDelete(hiringDocuments) {
        if (hiringDocuments) {
            this.isLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpHiringDocumentsCardComponent.ɵfac = function EmpHiringDocumentsCardComponent_Factory(t) { return new (t || EmpHiringDocumentsCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeHiringDocumentService)); };
EmpHiringDocumentsCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmpHiringDocumentsCardComponent, selectors: [["emp-hiring-documents-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom mt-3", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom", "mt-3"], [1, "row", "bg-white", "mt-2", "px-1"], [1, "col-12", "pt-2"], ["cardTitle", "hiringDocuments", 1, "side_title", "border-0", "d-inline-flex", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-12", "col-lg-9", "mt-3"], ["class", "view-data-row-container row bg-white px-0", 3, "m-0", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [1, "col-lg-3", "col-12"], [1, "m-auto", 3, "ngStyle"], ["outerStrokeColor", "#374761", "innerStrokeColor", "#cfe6ff", "title", "Completion", "titleFontSize", "25px", "titleColor", "#169ed9", "subtitleFontSize", "37px", "subtitleColor", "#374761", "titleFontWeight", "700", "subtitleFontWeight", "700", 1, "w-100", "h-100", 3, "percent", "outerStrokeWidth", "innerStrokeWidth", "space", "showUnits", "subtitle"], [2, "position", "absolute", "padding", "10px", "color", "white"], [1, "view-data-row-container", "row", "bg-white", "px-0"], [4, "ngIf", "ngIfElse"], ["noData", ""], ["class", "col-12 col-md-6 col-lg-3 px-1 mb-2", 4, "ngFor", "ngForOf"], [1, "col-12", "col-md-6", "col-lg-3", "px-1", "mb-2"], [1, "media"], ["width", "40", "height", "40", "alt", "avatar", 1, "rounded", "mr-2", 3, "src"], [1, "media-body", "d-flex"], [1, "mt-2", "font-size-18", "black", "w-75"], [1, "mx-2", "mt-2"], [1, "ft-download", "font-size-25", "pointer", 3, "click"], ["label", "document", 1, "col", 2, "padding", "0 15px !important"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpHiringDocumentsCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmpHiringDocumentsCardComponent_div_0_Template, 12, 13, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmpHiringDocumentsCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isLoaded && ctx.isLoadedPercentage)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_11__.NgStyle, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, ng_circle_progress__WEBPACK_IMPORTED_MODULE_12__.CircleProgressComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _emp_hiring_documents_table_emp_hiring_documents_table_component__WEBPACK_IMPORTED_MODULE_9__.EmpHiringDocumentsTableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_11__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtaGlyaW5nLWRvY3VtZW50cy1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 10205:
/*!************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-dialog/emp-hiring-documents-dialog.component.ts ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpHiringDocumentsDialogComponent": () => (/* binding */ EmpHiringDocumentsDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/emp-hire-doc-type.enum */ 50046);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-hiring-document.service */ 72463);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_radio_button_radio_button_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/radio-button/radio-button.component */ 92393);
/* harmony import */ var _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/prime-ng/file-upload/file-upload.component */ 34292);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_attachment_types_by_employee_id_dropdown_attachment_types_by_employee_id_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/attachment-types-by-employee-id-dropdown/attachment-types-by-employee-id-dropdown.component */ 12810);
/* harmony import */ var _emp_hiring_documents_table_emp_hiring_documents_table_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../emp-hiring-documents-table/emp-hiring-documents-table.component */ 57095);





















function EmpHiringDocumentsDialogComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "div", 11)(1, "primeng-file-upload", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("ondelete", function EmpHiringDocumentsDialogComponent_div_14_Template_primeng_file_upload_ondelete_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r3.deleteFile($event)); })("onselect", function EmpHiringDocumentsDialogComponent_div_14_Template_primeng_file_upload_onselect_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r4); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r5.onChangeFile($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx_r1.formCtrls.file)("submitted", ctx_r1.submitted)("multiple", false)("isEdit", ctx_r1.formCtrls.id.value > 0)("removeFiles", ctx_r1.removeFiles);
} }
function EmpHiringDocumentsDialogComponent_reset_form_btn_17_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpHiringDocumentsDialogComponent_reset_form_btn_17_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r6.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} }
class EmpHiringDocumentsDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeHiringDocumentService, dialogRef) {
        super();
        this.employeeHiringDocumentService = employeeHiringDocumentService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.removeFiles = false;
        this.selectedAttachmentTypeId = 0;
        this.selectedIs_Attached = 0;
        this.isFileChanged = false;
        // attachIconColumnData: IAttachIconColumnData = {
        //   columnName: "attachment",
        //   icon: "fas fa-file-alt",
        // };
        this.hireDocType = app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType;
        this.hireDocTypeRadioList = [
            {
                value: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.attached,
                label: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.getValue(app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.attached),
                cssClass: "col-md-4 col-sm-6 col-12",
            },
            {
                value: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.handDelivery,
                label: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.getValue(app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.handDelivery),
                cssClass: "col-md-4 col-sm-6 col-12",
            },
            {
                value: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.notNeed,
                label: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.getValue(app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.notNeed),
                cssClass: "col-md-4 col-sm-6 col-12",
            },
        ];
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_hiring_documents_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            att_Type_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            file: [null /* , [Validators.required] */],
            is_Attached: [app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.attached, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            attachmentID: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getList(this.firstPage);
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.dataSource = new MatTableDataSource(null);
    //   this.isLoaded = false;
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeHiringDocumentService
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmpHiringDocumentModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         let mapedData = empHiringDocumentDisplay(res.data);
    //         mapedData.forEach(
    //           (ele) => (ele.attachmentType = this.translate(ele.attachmentType))
    //         );
    //         this.dataSource = new MatTableDataSource(mapedData);
    //         this.page.length = res.meta.totalItemCount;
    //this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        this.removeFiles = false;
        if (this.form.valid) {
            const model = {
                Person_Instance_ID: this.employeeInstanceId,
                files: this.form.value.file,
                Is_Attached: this.form.value.is_Attached,
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        let addModel = {
            ...model,
            Attachment_Type_ID: this.form.value.att_Type_ID,
        };
        let formData = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.objectToFormData(addModel);
        this.showLoading("dialog");
        this.employeeHiringDocumentService
            .create(formData)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                //  this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        if (this.formCtrls.file.value?.id > 0)
            model.files = null;
        let editModel = {
            ...model,
            Att_Type_ID: this.form.value.att_Type_ID,
            // if type changed to remove the file & if file changed
            AttachmentID: this.selectedIs_Attached != model.Is_Attached || this.isFileChanged
                ? this.form.value.attachmentID
                : 0,
            Att_Type_ID_Old: this.selectedAttachmentTypeId,
        };
        let formData = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.objectToFormData(editModel);
        this.showLoading("dialog");
        this.employeeHiringDocumentService
            .update(formData)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList = true;
                // this.getList(this.currentPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeHiringDocumentToEdit(hiringDocument) {
        this.form.patchValue(hiringDocument);
        if (hiringDocument.attachmentID) {
            // get file size && type
            this.showLoading();
            this.fileService
                .downloadByAttachId(hiringDocument.attachmentID)
                .subscribe((res) => {
                let file = {
                    id: hiringDocument.attachmentID,
                    path: hiringDocument.attachment,
                    name: "",
                    type: res.type,
                    size: res.size,
                };
                this.formCtrls.file.setValue(file);
                this.hideLoading();
            });
        }
        else
            this.formCtrls.file.setValue(null);
        // not real id >> only to detect edit mode
        this.formCtrls.id.setValue(hiringDocument.att_Type_ID);
        // to use in edit request
        this.selectedAttachmentTypeId = hiringDocument.att_Type_ID;
        this.selectedIs_Attached = hiringDocument.is_Attached;
    }
    // onDelete(hiringDocument: IEmpHiringDocumentDisplayModel): void {
    //   let msg = hiringDocument.documentName;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(hiringDocument);
    //   });
    // }
    //
    // delete(hiringDocument: IEmpHiringDocumentDisplayModel) {
    //   let deleteParams: IEmpHiringDocumentDeleteRequest = {
    //     perInsId: this.employeeInstanceId,
    //     DocTypeId: hiringDocument.att_Type_ID,
    //     AttachmentID: hiringDocument.attachmentID,
    //   };
    //
    //   this.showLoading();
    //   this.employeeHiringDocumentService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         }
    //         else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.hasUpdate = true;
    //         if (
    //           hiringDocument.att_Type_ID == this.selectedAttachmentTypeId &&
    //           // if edit
    //           this.formCtrls.id.value > 0
    //         )
    //           this.clearForm();
    //       }
    //       else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    deleteFile(file) {
        this.getList = false;
        this.showLoading("dialog");
        this.employeeHiringDocumentService
            .DeleteFile(this.employeeInstanceId, file.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.formCtrls.file.reset();
                this.isFileChanged = false;
                this.formCtrls.attachmentID.setValue(0);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    onChangeFile(files) {
        if (files && this.formCtrls.attachmentID.value > 0)
            this.isFileChanged = true;
    }
    clearForm() {
        this.form.reset({ id: 0, is_Attached: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_1__.EEmpHireDocType.attached });
        this.submitted = false;
        this.removeFiles = true;
        this.selectedAttachmentTypeId = 0;
        this.selectedIs_Attached = 0;
        this.isFileChanged = false;
    }
    afterDelete(hiringDocument) {
        if ( // if edit
        hiringDocument.att_Type_ID == this.selectedAttachmentTypeId && this.formCtrls.id.value > 0)
            this.clearForm();
        if (hiringDocument)
            this.hasUpdate = true;
    }
}
EmpHiringDocumentsDialogComponent.ɵfac = function EmpHiringDocumentsDialogComponent_Factory(t) { return new (t || EmpHiringDocumentsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeHiringDocumentService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmpHiringDocumentsDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: EmpHiringDocumentsDialogComponent, selectors: [["emp-hiring-documents-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵInheritDefinitionFeature"]], decls: 19, vars: 17, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "hiringDocuments", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-6", "col-12"], ["label", "documentName", 3, "control", "employeeInstanceId", "submitted", "filter", "appendTo"], [1, "col-12"], [1, "mtop-14", 3, "control", "radioList", "submitted"], ["class", "col-12", 4, "ngIf"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "control", "submitted", "multiple", "isEdit", "removeFiles", "ondelete", "onselect"], [3, "click"]], template: function EmpHiringDocumentsDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpHiringDocumentsDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](11, "app-attachment-types-by-employee-id-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](13, "app-radio-button", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](14, EmpHiringDocumentsDialogComponent_div_14_Template, 2, 5, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](15, "div", 14)(16, "submit-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onClick", function EmpHiringDocumentsDialogComponent_Template_submit_btn_onClick_16_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](17, EmpHiringDocumentsDialogComponent_reset_form_btn_17_Template, 1, 0, "reset-form-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](18, "app-emp-hiring-documents-table", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("rowToEdit", function EmpHiringDocumentsDialogComponent_Template_app_emp_hiring_documents_table_rowToEdit_18_listener($event) { return ctx.employeeHiringDocumentToEdit($event); })("afterDelete", function EmpHiringDocumentsDialogComponent_Template_app_emp_hiring_documents_table_afterDelete_18_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.att_Type_ID)("employeeInstanceId", ctx.employeeInstanceId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.is_Attached)("radioList", ctx.hireDocTypeRadioList)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.is_Attached.value == ctx.hireDocType.attached);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_radio_button_radio_button_component__WEBPACK_IMPORTED_MODULE_7__.RadioButtonComponent, _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_8__.FileUploadComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_personnel_setup_attachment_types_by_employee_id_dropdown_attachment_types_by_employee_id_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.AttachmentTypesByEmployeeIdDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_15__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormGroupDirective, _emp_hiring_documents_table_emp_hiring_documents_table_component__WEBPACK_IMPORTED_MODULE_13__.EmpHiringDocumentsTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtaGlyaW5nLWRvY3VtZW50cy1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 57095:
/*!**********************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-table/emp-hiring-documents-table.component.ts ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpHiringDocumentsTableComponent": () => (/* binding */ EmpHiringDocumentsTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-hiring-document.service */ 72463);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpHiringDocumentsTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpHiringDocumentsTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpHiringDocumentsTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpHiringDocumentsTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("attachIconColumnData", ctx_r0.attachIconColumnData)("showSpaceTop", false);
} }
class EmpHiringDocumentsTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeHiringDocumentService) {
        super();
        this.employeeHiringDocumentService = employeeHiringDocumentService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "documentName",
            "attachmentType",
            "attachment",
            "actions",
        ];
        this.optionalColomns = [];
        this.attachIconColumnData = {
            columnName: "attachment",
            icon: "fas fa-file-alt",
        };
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_hiring_documents_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getList(this.firstPage);
    }
    toEdit(hiringDocument) {
        this.rowToEdit.emit(hiringDocument);
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeHiringDocumentService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                let mapedData = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__.empHiringDocumentDisplay)(res.data);
                mapedData.forEach((ele) => (ele.attachmentType = this.translate(ele.attachmentType)));
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(mapedData);
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    onDelete(hiringDocument) {
        let msg = hiringDocument.documentName;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(hiringDocument);
        });
    }
    delete(hiringDocument) {
        let deleteParams = {
            perInsId: this.employeeInstanceId,
            DocTypeId: hiringDocument.att_Type_ID,
            AttachmentID: hiringDocument.attachmentID,
        };
        this.showLoading('table');
        this.employeeHiringDocumentService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.afterDelete.emit(hiringDocument);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('table');
        });
    }
}
EmpHiringDocumentsTableComponent.ɵfac = function EmpHiringDocumentsTableComponent_Factory(t) { return new (t || EmpHiringDocumentsTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeHiringDocumentService)); };
EmpHiringDocumentsTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpHiringDocumentsTableComponent, selectors: [["app-emp-hiring-documents-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "attachIconColumnData", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "attachIconColumnData", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpHiringDocumentsTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpHiringDocumentsTableComponent_app_material_table_0_Template, 1, 12, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtaGlyaW5nLWRvY3VtZW50cy10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 55813:
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-job-info-card/emp-job-info-card.component.ts ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpJobInfoCardComponent": () => (/* binding */ EmpJobInfoCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_job_info_dialog_emp_job_info_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../emp-job-info-dialog/emp-job-info-dialog.component */ 73610);
/* harmony import */ var app_personnel_setup_mapper_emp_status_position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp_status_position */ 42637);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-job-information.service */ 89609);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_job_table_emp_job_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-job-table/emp-job-table.component */ 50991);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-translate/core */ 89461);














function EmpJobInfoCardComponent_div_0_ng_container_5_span_16_tr_11_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "td", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](3, "td", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const policy_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]().$implicit;
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", ctx_r10.msgTranslate(policy_r9 == null ? null : policy_r9.ar_Name, policy_r9 == null ? null : policy_r9.en_Name), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", ctx_r10.msgTranslate(policy_r9 == null ? null : policy_r9.core_PolicyGroup_Type == null ? null : policy_r9.core_PolicyGroup_Type.ar_Name, policy_r9 == null ? null : policy_r9.core_PolicyGroup_Type == null ? null : policy_r9.core_PolicyGroup_Type.en_Name), " ");
} }
function EmpJobInfoCardComponent_div_0_ng_container_5_span_16_tr_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpJobInfoCardComponent_div_0_ng_container_5_span_16_tr_11_ng_container_1_Template, 5, 2, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const policy_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", policy_r9);
} }
function EmpJobInfoCardComponent_div_0_ng_container_5_span_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "span")(1, "table", 25)(2, "thead")(3, "tr")(4, "th");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](6, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "th");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](9, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](10, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](11, EmpJobInfoCardComponent_div_0_ng_container_5_span_16_tr_11_Template, 2, 1, "tr", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](6, 3, "name"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](9, 5, "type"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngForOf", ctx_r5.statusCard == null ? null : ctx_r5.statusCard.policies);
} }
function EmpJobInfoCardComponent_div_0_ng_container_5_ng_template_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](0, " ---");
} }
function EmpJobInfoCardComponent_div_0_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](2, "card-row-item", 12)(3, "card-row-item", 13)(4, "card-row-item", 14)(5, "card-row-item", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](6, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](7, "card-row-item", 17)(8, "card-row-item", 18)(9, "card-row-item", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](10, "div", 20)(11, "p", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](13, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](14, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](15, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](16, EmpJobInfoCardComponent_div_0_ng_container_5_span_16_Template, 12, 7, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](17, EmpJobInfoCardComponent_div_0_ng_container_5_ng_template_17_Template, 1, 0, "ng-template", null, 24, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](18);
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.status_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.status_from_date);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.org_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.org_from_date);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.job_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.time_in_position);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.time_in_company);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](13, 10, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](14, 12, "policyGroups")));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", (ctx_r3.statusCard == null ? null : ctx_r3.statusCard.policies == null ? null : ctx_r3.statusCard.policies.length) > 0)("ngIfElse", _r6);
} }
function EmpJobInfoCardComponent_div_0_app_emp_job_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-emp-job-table", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpJobInfoCardComponent_div_0_app_emp_job_table_6_Template_app_emp_job_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r12.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpJobInfoCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpJobInfoCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r15); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r14.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpJobInfoCardComponent_div_0_ng_container_5_Template, 19, 14, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpJobInfoCardComponent_div_0_app_emp_job_table_6_Template, 1, 2, "app-emp-job-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 9)(8, "see-more-btn", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpJobInfoCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r15); const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r16.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.statusCard)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeInstanceId)("isTableView", ctx_r0.isTableView);
} }
function EmpJobInfoCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 29);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 9);
} }
class EmpJobInfoCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeJobInformationService) {
        super();
        this.employeeJobInformationService = employeeJobInformationService;
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getStatusPositionCard();
            }
            else {
                this.isLoaded = true;
            }
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeInstanceId > 0) {
    //       this.getStatusPositionCard();
    //     }
    //     else {
    //       this.isLoaded = true;
    //     }
    //   }
    // }
    getStatusPositionCard() {
        return this.employeeJobInformationService
            .getStatusPositionCard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.isLoaded = true;
                this.statusCard = (0,app_personnel_setup_mapper_emp_status_position__WEBPACK_IMPORTED_MODULE_4__.empStatusCardDisplay)(res.data);
                app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeStatusPosition$.next(this.statusCard);
                // console.log(this.statusCard);
            }
            else {
                this.errorList(res?.message?.messages);
            }
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_job_info_dialog_emp_job_info_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmpJobInfoDialogComponent, {}, { width: "95vw", height: "98vh" })
            .afterClosed()
            .subscribe((data) => {
            if (data.isJobUpdated) {
                this.isLoaded = false;
                this.getStatusPositionCard();
            }
        });
    }
    afterDelete(status) {
        if (status) {
            this.isLoaded = false;
            this.getStatusPositionCard();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpJobInfoCardComponent.ɵfac = function EmpJobInfoCardComponent_Factory(t) { return new (t || EmpJobInfoCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeJobInformationService)); };
EmpJobInfoCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpJobInfoCardComponent, selectors: [["emp-job-info-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12", "px-1"], ["cardTitle", "jobInfo", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-9", "col-12", "mx-0"], [4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [1, "col-lg-1", "col-12", "px-1"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container", "pb-2"], ["label", "status", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "status_date", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "organization", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "orgDate", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], [1, "view-data-row-container"], ["label", "job", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "timeInPosition", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "timeInCompany", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], [1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2"], [1, "view-data-title"], [1, "view-data-value"], [4, "ngIf", "ngIfElse"], ["noPolicies", ""], [1, "table", "m-0", "smalltable", 2, "margin-top", "0 !important"], [4, "ngFor", "ngForOf"], [1, "border-0"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpJobInfoCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpJobInfoCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpJobInfoCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_job_table_emp_job_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpJobTableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_12__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.TranslatePipe], styles: [".smalltable.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .smalltable.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  font-size: 11px;\n  padding: 3px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC1qb2ItaW5mby1jYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBQTtFQUNBLFlBQUE7QUFDRiIsImZpbGUiOiJlbXAtam9iLWluZm8tY2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zbWFsbHRhYmxlLnRhYmxlIHRoLCAuc21hbGx0YWJsZS50YWJsZSB0ZCB7XHJcbiAgZm9udC1zaXplOiAxMXB4O1xyXG4gIHBhZGRpbmc6IDNweDtcclxufVxyXG4iXX0= */"] });


/***/ }),

/***/ 73610:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-job-info-dialog/emp-job-info-dialog.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpJobInfoDialogComponent": () => (/* binding */ EmpJobInfoDialogComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _emp_supervisor_section_emp_supervisor_section_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-supervisor-section/emp-supervisor-section.component */ 56421);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_job_info_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-job-info/emp-job-section/emp-job-section.component */ 58319);








class EmpJobInfoDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(dialogRef) {
        super();
        this.dialogRef = dialogRef;
        this.isJobUpdated = false;
        this.isContractUpdated = false;
    }
    ngOnInit() {
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close({
            isJobUpdated: this.isJobUpdated,
            isContractUpdated: this.isContractUpdated,
        });
    }
    jobUpdated(value) {
        this.isJobUpdated = value;
    }
    contractUpdated(value) {
        this.isContractUpdated = value;
    }
}
EmpJobInfoDialogComponent.ɵfac = function EmpJobInfoDialogComponent_Factory(t) { return new (t || EmpJobInfoDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__.MatDialogRef)); };
EmpJobInfoDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({ type: EmpJobInfoDialogComponent, selectors: [["emp-job-info-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵInheritDefinitionFeature"]], decls: 10, vars: 0, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "jobInfo", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [3, "changUpdated"], [1, "clearfix"], [1, "mtop-10", "mbottom-10"]], template: function EmpJobInfoDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 0)(1, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](2, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function EmpJobInfoDialogComponent_Template_button_click_3_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](4, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](5, "mat-dialog-content", 4)(6, "app-emp-job-section", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("changUpdated", function EmpJobInfoDialogComponent_Template_app_emp_job_section_changUpdated_6_listener($event) { return ctx.jobUpdated($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](7, "div", 6)(8, "mat-divider", 7)(9, "emp-supervisor-section");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    } }, dependencies: [_shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_1__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_6__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_7__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__.MatDialogContent, _emp_supervisor_section_emp_supervisor_section_component__WEBPACK_IMPORTED_MODULE_2__.EmpSupervisorSectionComponent, app_personnel_setup_components_employees_employement_information_emp_job_info_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_3__.EmpJobSectionComponent], styles: [".mat-dialog-content[_ngcontent-%COMP%] {\n  background: #f0f2f5;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC1qb2ItaW5mby1kaWFsb2cuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtBQUNGIiwiZmlsZSI6ImVtcC1qb2ItaW5mby1kaWFsb2cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWRpYWxvZy1jb250ZW50IHtcclxuICBiYWNrZ3JvdW5kOiAjZjBmMmY1O1xyXG59XHJcbiJdfQ== */"] });


/***/ }),

/***/ 58319:
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-job-section/emp-job-section.component.ts ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpJobSectionComponent": () => (/* binding */ EmpJobSectionComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_job_info_old_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-job-info/old-emp-job-section/emp-job-section.component */ 45679);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/resources/constants */ 33975);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-job-information.service */ 89609);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var app_org_management_components_policy_groups_load_policies_group_load_policies_group_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! app/org-management/components/policy-groups/load-policies-group/load-policies-group.component */ 29467);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_employees_shared_company_employees_shared_company_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/employees-shared-company/employees-shared-company.component */ 18183);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var app_shared_components_resources_dynamic_form_field_prime_ng_dropdown_core_dropdown_core_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! app/shared/components/resources/dynamic-form-field/prime-ng/dropdown-core/dropdown-core.component */ 68506);
/* harmony import */ var _shared_components_dropdowns_org_management_setup_org_organization_by_org_type_dropdown_organization_by_org_type_dropdown_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management-setup/org/organization-by-org-type-dropdown/organization-by-org-type-dropdown.component */ 85443);
/* harmony import */ var _shared_components_dropdowns_org_management_job_title_job_title_by_org_dropdown_job_title_by_org_dropdown_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management/job-title/job-title-by-org-dropdown/job-title-by-org-dropdown.component */ 15362);
/* harmony import */ var _shared_components_dropdowns_org_management_setup_org_types_org_types_dropdown_current_structure_org_types_dropdown_current_structure_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management-setup/org-types/org-types-dropdown-current-structure/org-types-dropdown-current-structure.component */ 50260);
/* harmony import */ var _shared_components_dropdowns_hr_setup_job_status_dropdown_job_status_dropdown_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/job-status-dropdown/job-status-dropdown.component */ 99892);
/* harmony import */ var _emp_job_table_emp_job_table_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../emp-job-table/emp-job-table.component */ 50991);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @ngx-translate/core */ 89461);




























function EmpJobSectionComponent_app_prime_dropdown_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](0, "app-prime-dropdown", 26);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵnextContext"]();
    const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵreference"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx_r1.empStatusCtrls.StatusPropertiesId)("submitted", ctx_r1.submitted)("List", ctx_r1.reasonsList)("disable", ctx_r1.currentAction === ctx_r1.actionType.assign || ctx_r1.currentAction === ctx_r1.actionType.append)("appendTo", _r0);
} }
function EmpJobSectionComponent_div_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](1, "employees-shared-company", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵnextContext"]();
    const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵreference"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx_r2.empStatusCtrls.NewDefaultCompany)("person_ID", ctx_r2.employeeId)("submitted", ctx_r2.submitted)("disable", ctx_r2.currentAction === ctx_r2.actionType.assign || ctx_r2.currentAction === ctx_r2.actionType.append)("appendTo", _r0);
} }
function EmpJobSectionComponent_div_40_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](0, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](1, "load-policies-group", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx_r3.corePersonJobCtrls.policy_groups)("jobControl", ctx_r3.corePersonJobCtrls.Job_Title_ID)("orgControl", ctx_r3.corePersonOrgCtrls.Org_ID)("submitted", ctx_r3.submitted)("filterByOrgAndJob", true);
} }
function EmpJobSectionComponent_reset_form_btn_42_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](0, "reset-form-btn", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵlistener"]("click", function EmpJobSectionComponent_reset_form_btn_42_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵresetView"](ctx_r5.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
} }
class EmpJobSectionComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_5__.AppHelpers {
    constructor(employeeJobInformationService) {
        super();
        this.employeeJobInformationService = employeeJobInformationService;
        this.changUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_20__.EventEmitter();
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.displayedColumns = [
            "status",
            "status_date",
            "status_end_date",
            // "reasons",
            "org",
            "actions",
        ];
        this.isLoaded = false;
        this.submitted = false;
        this.hasUpdate = false;
        this.getList = false;
        this.Constants = app_shared_resources_constants__WEBPACK_IMPORTED_MODULE_6__.Constants;
        this.actionType = app_personnel_setup_components_employees_employement_information_emp_job_info_old_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_4__.ActionType;
        this.jobRowFunctions = { basic: [], dropdown: [] };
        this.orgRowFunctions = { basic: [], dropdown: [] };
        this.statusRowFunctions = { basic: [], dropdown: [] };
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeInstanceId$.subscribe(id => this.employeeInstanceId = id);
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.emp_job_info_sec);
        // row functions on (job org nested table)
        this.jobRowFunctions.basic = this.rowFunctions.basic.filter(ele => {
            let fun = ele.name.toLocaleLowerCase();
            return fun.includes(app_personnel_setup_components_employees_employement_information_emp_job_info_old_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_4__.ActionType.edit) || fun.includes(app_personnel_setup_components_employees_employement_information_emp_job_info_old_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_4__.ActionType["delete"]) || fun.includes(app_personnel_setup_components_employees_employement_information_emp_job_info_old_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_4__.ActionType.close);
        });
        // row functions on (org first nested table)
        this.orgRowFunctions.basic = this.rowFunctions.basic.filter((ele) => !this.jobRowFunctions.basic.map((job) => job.id).includes(ele.id));
        // row functions on (status table)
        this.statusRowFunctions.basic = this.rowFunctions.dropdown;
    }
    ngOnInit() {
        this.form = this.fb.group({
            // FORM AS GROUPS
            employee_Status: this.fb.group({
                id: [0, { nonNullable: true }],
                Status_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Validators.required]],
                From_Date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Validators.required]],
                StatusPropertiesId: [],
                NewDefaultCompany: [],
            }),
            core_Person_Instance_Org: this.fb.group({
                id: [0, { nonNullable: true }],
                orgTypeId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Validators.required]],
                person_Instance_Status_ID: [null],
                Org_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Validators.required]],
                From_Date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Validators.required]],
            }),
            core_Person_Instance_Job_Title: this.fb.group({
                id: [0, { nonNullable: true }],
                Job_Title_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Validators.required]],
                person_Instance_Org_ID: [null],
                From_Date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Validators.required]],
                Is_Manpower_Affected: [false],
                policy_groups: []
            }),
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    get empStatusCtrls() {
        return this.form.get("employee_Status").controls;
    }
    get corePersonOrgCtrls() {
        return this.form.get("core_Person_Instance_Org").controls;
    }
    get corePersonJobCtrls() {
        return this.form.get("core_Person_Instance_Job_Title").controls;
    }
    submit() {
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                employee_Status: {
                    PersonInstanceStatus: {
                        id: this.empStatusCtrls.id.value,
                        Person_Instance_ID: this.employeeInstanceId,
                        Status_ID: this.empStatusCtrls.Status_ID.value,
                        From_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_2__.HelpersFunctions.transformData(this.empStatusCtrls.From_Date.value),
                        StatusPropertiesId: this.empStatusCtrls.StatusPropertiesId.value
                    },
                    NewDefaultCompany: this.empStatusCtrls.NewDefaultCompany.value
                },
                core_Person_Instance_Org: {
                    id: this.corePersonOrgCtrls.id.value,
                    Person_Instance_ID: this.employeeInstanceId,
                    Org_ID: this.corePersonOrgCtrls.Org_ID.value,
                    person_Instance_Status_ID: this.corePersonOrgCtrls.person_Instance_Status_ID.value,
                    From_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_2__.HelpersFunctions.transformData(this.corePersonOrgCtrls.From_Date.value)
                },
                core_Person_Instance_Job_Title: {
                    id: this.corePersonJobCtrls.id.value,
                    Person_Instance_ID: this.employeeInstanceId,
                    Job_Title_ID: this.corePersonJobCtrls.Job_Title_ID.value,
                    From_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_2__.HelpersFunctions.transformData(this.corePersonJobCtrls.From_Date.value),
                    Is_Manpower_Affected: this.corePersonJobCtrls.Is_Manpower_Affected.value,
                    person_Instance_Org_ID: this.corePersonJobCtrls.person_Instance_Org_ID.value,
                },
                SelectedPolicygroup: this.corePersonJobCtrls.policy_groups.value
            };
            //  console.log("model", model);
            if (this.empStatusCtrls.Status_ID.value == app_shared_resources_constants__WEBPACK_IMPORTED_MODULE_6__.Constants.endOfServiceID) {
                model.core_Person_Instance_Job_Title = null;
                model.core_Person_Instance_Org = null;
            }
            // assign
            if (this.currentAction === app_personnel_setup_components_employees_employement_information_emp_job_info_old_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_4__.ActionType.assign) {
                let assignBody = {
                    core_Person_Instance_Org: model.core_Person_Instance_Org,
                    core_Person_Instance_Job_Title: model.core_Person_Instance_Job_Title,
                    SelectedPolicygroup: model.SelectedPolicygroup
                };
                this.assign(assignBody);
            }
            // append
            else if (this.currentAction === app_personnel_setup_components_employees_employement_information_emp_job_info_old_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_4__.ActionType.append) {
                let appendBody = {
                    core_Person_Instance_Job_Title: model.core_Person_Instance_Job_Title,
                    SelectedPolicygroup: model.SelectedPolicygroup
                };
                this.append(appendBody);
            }
            // create & edit
            else {
                model.employee_Status.PersonInstanceStatus.id == 0 ? this.create(model) : this.update(model);
            }
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("job");
        this.employeeJobInformationService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                //  this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("job");
        });
    }
    update(model) {
        this.showLoading("job");
        this.employeeJobInformationService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                //  this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("job");
        });
    }
    append(model) {
        this.showLoading("job");
        this.employeeJobInformationService
            .appendJob(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.clearForm();
                this.success(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("job");
        });
    }
    assign(model) {
        this.showLoading("job");
        this.employeeJobInformationService
            .assignOrgAndJob(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.clearForm();
                this.success(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("job");
        });
    }
    jobToEdit(data) {
        this.resetForm();
        let status = data.status;
        let org = data.org;
        let job = data.job;
        // set employee Status Data
        if (status) {
            this.empStatusCtrls.id.setValue(status.id);
            this.empStatusCtrls.Status_ID.setValue(status.status_ID);
            this.empStatusCtrls.From_Date.setValue(status.from_Date);
            this.empStatusCtrls.StatusPropertiesId.setValue(status.statusPropertiesId);
            this.empStatusCtrls.NewDefaultCompany.setValue(status.statusPropertiesId);
            this.corePersonOrgCtrls.person_Instance_Status_ID.setValue(status.id);
        }
        // set core_Person_Instance_Org
        if (org) {
            let org_type_id = org.core_Org?.core_Org_Structure_Org[0]?.orG_TYPE_ID;
            this.corePersonOrgCtrls.id.setValue(org.id);
            this.corePersonOrgCtrls.orgTypeId.setValue(org_type_id);
            // this.corePersonOrgCtrls.Org_ID.setValue(org.org_ID);
            this.corePersonOrgCtrls.From_Date.setValue(org.from_Date);
            this.corePersonJobCtrls.person_Instance_Org_ID.setValue(org.id);
            // this.corePersonOrgCtrls.orgTypeId.valueChanges.subscribe(e => {
            //   console.log("orgTypeId", e);
            //   this.corePersonOrgCtrls.Org_ID.setValue(org.org_ID);
            // });
            setTimeout(() => {
                this.corePersonOrgCtrls.Org_ID.setValue(org.org_ID);
            }, 100);
        }
        // set job
        if (job) {
            this.corePersonJobCtrls.id.setValue(job.id);
            //   this.corePersonJobCtrls.Job_Title_ID.setValue(job.job_Title_ID);
            this.corePersonJobCtrls.From_Date.setValue(job.from_Date);
            this.corePersonJobCtrls.Is_Manpower_Affected.setValue(job.is_Manpower_Affected);
            // this.corePersonOrgCtrls.Org_ID.valueChanges.subscribe(e => {
            //   console.log("Org_ID", e);
            //
            //   if (e > 0) this.corePersonJobCtrls.Job_Title_ID.setValue(job.job_Title_ID);
            // });
            setTimeout(() => {
                this.corePersonJobCtrls.Job_Title_ID.setValue(job.job_Title_ID);
            }, 500);
        }
        // if (this.currentAction == ActionType.assign) {
        //   console.log("###### Status 1");
        //   Object.keys(this.empStatusCtrls).forEach(e => {
        //     this.empStatusCtrls[e].disable();
        //     console.log(this.empStatusCtrls[e]);
        //   });
        // }
        // if (this.currentAction == ActionType.append) {
        //   Object.keys(this.empStatusCtrls).forEach(e => {
        //     this.empStatusCtrls[e]?.disable();
        //   });
        //   //   console.log("###### org");
        //   //   Object.keys(this.corePersonOrgCtrls).forEach(e => {
        //   //     this.empStatusCtrls[e]?.disable();
        //   //     console.log(this.empStatusCtrls[e]);
        //   //   });
        // }
        // this.form.patchValue(employeeJobData);
    }
    // get reasons List when change status
    onChangeStatus(item) {
        this.reasonsList = item[0]?.core_Status_Properties;
        if (item[0]?.id == app_shared_resources_constants__WEBPACK_IMPORTED_MODULE_6__.Constants.endOfServiceID) {
            this.empStatusCtrls.StatusPropertiesId.setValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Validators.required]);
        }
        else {
            this.empStatusCtrls.StatusPropertiesId.removeValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Validators.required]);
            this.empStatusCtrls.StatusPropertiesId.reset();
        }
    }
    afterDelete(status) {
        if (status.id == this.empStatusCtrls.id.value)
            this.clearForm();
        if (status) {
            this.hasUpdate = true;
            this.changUpdated.emit(true);
        }
    }
    getCurrentAction(action) {
        // console.log(action);
        this.currentAction = action;
        // if (action == ActionType.assign) this.assignValidators();
        // else if (action == ActionType.append) this.appendValidators();
        // else this.mainValidators();
    }
    clearForm() {
        this.resetForm();
        this.submitted = false;
        this.currentAction = null;
        // Object.keys(this.empStatusCtrls).forEach(e => {
        //   this.empStatusCtrls[e]?.enable();
        // });
    }
    resetForm() {
        this.form.reset({
            employee_Status: { id: 0 },
            core_Person_Instance_Org: { id: 0 },
            core_Person_Instance_Job_Title: {
                id: 0,
                Is_Manpower_Affected: false
            },
        });
    }
}
EmpJobSectionComponent.ɵfac = function EmpJobSectionComponent_Factory(t) { return new (t || EmpJobSectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_7__.EmployeeJobInformationService)); };
EmpJobSectionComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵdefineComponent"]({ type: EmpJobSectionComponent, selectors: [["app-emp-job-section"]], outputs: { changUpdated: "changUpdated" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵInheritDefinitionFeature"]], decls: 46, vars: 59, consts: [["dialogContainer", ""], [1, "form-card"], [1, "divider-title"], [1, "container-fluid"], [3, "formGroup"], ["formGroupName", "employee_Status", 1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "disable", "appendTo", "change"], ["label", "status_From_Date", 3, "control", "disabled", "submitted"], ["label", "reasons", 3, "control", "submitted", "List", "disable", "appendTo", 4, "ngIf"], ["class", "col-md-4 col-sm-6 col-12", 4, "ngIf"], ["formGroupName", "core_Person_Instance_Org", 1, "row", "ptop-20"], [3, "control", "submitted", "filter", "disable", "appendTo"], [3, "orgTypeControl", "control", "submitted", "filter", "disable", "appendTo"], ["label", "orgStartDate", 3, "control", "submitted", "disabled"], ["formGroupName", "core_Person_Instance_Job_Title", 1, "row", "ptop-20"], [3, "control", "organizationControl", "organizationControlRequired", "submitted", "filter", "appendTo", "disable"], ["label", "startDate", 3, "control", "submitted", "disabled"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "counted", 3, "control", "disabled"], ["class", "col-12", 4, "ngIf"], ["align", "end"], [3, "click", 4, "ngIf"], ["icon", "fas fa-save", 3, "color", "disabled", "iconPositionBefore", "onClick"], [3, "hasUpdate", "rowToEdit", "afterDelete", "currentAction"], [3, "name"], ["label", "reasons", 3, "control", "submitted", "List", "disable", "appendTo"], [3, "control", "person_ID", "submitted", "disable", "appendTo"], [1, "col-12"], [3, "control", "jobControl", "orgControl", "submitted", "filterByOrgAndJob"], [3, "click"]], template: function EmpJobSectionComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](0, "div", null, 0)(2, "mat-card", 1)(3, "mat-card-title")(4, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipe"](6, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipe"](7, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](8, "mat-card-content", 3)(9, "form", 4)(10, "div", 5)(11, "div", 6)(12, "app-job-status-dropdown", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵlistener"]("change", function EmpJobSectionComponent_Template_app_job_status_dropdown_change_12_listener($event) { return ctx.onChangeStatus($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](13, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](14, "app-datepicker", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](15, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtemplate"](16, EmpJobSectionComponent_app_prime_dropdown_16_Template, 1, 5, "app-prime-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtemplate"](17, EmpJobSectionComponent_div_17_Template, 2, 5, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](18, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtext"](19);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipe"](20, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipe"](21, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](22, "div", 11)(23, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](24, "app-org-types-dropdown-current-structure", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](25, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](26, "app-organization-by-org-type-dropdown", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](27, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](28, "app-datepicker", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](29, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtext"](30);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipe"](31, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipe"](32, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](33, "div", 15)(34, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](35, "app-job-title-by-org-dropdown", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](36, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](37, "app-datepicker", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](38, "div", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](39, "app-check-box", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtemplate"](40, EmpJobSectionComponent_div_40_Template, 2, 5, "div", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](41, "mat-card-actions", 21);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtemplate"](42, EmpJobSectionComponent_reset_form_btn_42_Template, 1, 0, "reset-form-btn", 22);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](43, "submit-btn", 23);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵlistener"]("onClick", function EmpJobSectionComponent_Template_submit_btn_onClick_43_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementStart"](44, "app-emp-job-table", 24);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵlistener"]("rowToEdit", function EmpJobSectionComponent_Template_app_emp_job_table_rowToEdit_44_listener($event) { return ctx.jobToEdit($event); })("afterDelete", function EmpJobSectionComponent_Template_app_emp_job_table_afterDelete_44_listener($event) { return ctx.afterDelete($event); })("currentAction", function EmpJobSectionComponent_Template_app_emp_job_table_currentAction_44_listener($event) { return ctx.getCurrentAction($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵelement"](45, "ngx-spinner", 25);
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵreference"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipeBind1"](6, 47, _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipeBind1"](7, 49, "status")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx.empStatusCtrls.Status_ID)("submitted", ctx.submitted)("filter", true)("disable", ctx.currentAction === ctx.actionType.assign || ctx.currentAction === ctx.actionType.append)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx.empStatusCtrls.From_Date)("disabled", ctx.currentAction === ctx.actionType.assign || ctx.currentAction === ctx.actionType.append)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("ngIf", ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("ngIf", ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID && (ctx.empStatusCtrls == null ? null : ctx.empStatusCtrls.id.value) > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipeBind1"](20, 51, _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipeBind1"](21, 53, "organizationData")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx.corePersonOrgCtrls.orgTypeId)("submitted", ctx.submitted)("filter", true)("disable", ctx.currentAction === ctx.actionType.append || ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("orgTypeControl", ctx.corePersonOrgCtrls.orgTypeId)("control", ctx.corePersonOrgCtrls.Org_ID)("submitted", ctx.submitted)("filter", true)("disable", ctx.currentAction === ctx.actionType.append || !(ctx.corePersonOrgCtrls.orgTypeId.value > 0) || ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx.corePersonOrgCtrls.From_Date)("submitted", ctx.submitted)("disabled", ctx.currentAction === ctx.actionType.append || ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipeBind1"](31, 55, _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵpipeBind1"](32, 57, "jobData")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx.corePersonJobCtrls.Job_Title_ID)("organizationControl", ctx.corePersonOrgCtrls.Org_ID)("organizationControlRequired", true)("submitted", ctx.submitted)("filter", true)("appendTo", _r0)("disable", ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx.corePersonJobCtrls.From_Date)("submitted", ctx.submitted)("disabled", ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("control", ctx.corePersonJobCtrls.Is_Manpower_Affected)("disabled", ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("ngIf", ctx.corePersonJobCtrls.Job_Title_ID.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("ngIf", ctx.empStatusCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("hasUpdate", ctx.getList);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_20__["ɵɵproperty"]("name", "job");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_22__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__.DatepickerComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_9__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__.SubmitBtnComponent, app_org_management_components_policy_groups_load_policies_group_load_policies_group_component__WEBPACK_IMPORTED_MODULE_12__.LoadPoliciesGroupComponent, _shared_components_dropdowns_personnel_setup_employees_shared_company_employees_shared_company_component__WEBPACK_IMPORTED_MODULE_13__.EmployeesSharedCompanyComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_23__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_23__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_23__.MatCardTitle, _angular_material_card__WEBPACK_IMPORTED_MODULE_23__.MatCardActions, ngx_spinner__WEBPACK_IMPORTED_MODULE_24__.NgxSpinnerComponent, app_shared_components_resources_dynamic_form_field_prime_ng_dropdown_core_dropdown_core_component__WEBPACK_IMPORTED_MODULE_14__.DropdownCoreComponent, _shared_components_dropdowns_org_management_setup_org_organization_by_org_type_dropdown_organization_by_org_type_dropdown_component__WEBPACK_IMPORTED_MODULE_15__.OrganizationByOrgTypeDropdownComponent, _shared_components_dropdowns_org_management_job_title_job_title_by_org_dropdown_job_title_by_org_dropdown_component__WEBPACK_IMPORTED_MODULE_16__.JobTitleByOrgDropdownComponent, _shared_components_dropdowns_org_management_setup_org_types_org_types_dropdown_current_structure_org_types_dropdown_current_structure_component__WEBPACK_IMPORTED_MODULE_17__.OrgTypesDropdownCurrentStructureComponent, _shared_components_dropdowns_hr_setup_job_status_dropdown_job_status_dropdown_component__WEBPACK_IMPORTED_MODULE_18__.JobStatusDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_21__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_21__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_21__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_21__.FormGroupName, _emp_job_table_emp_job_table_component__WEBPACK_IMPORTED_MODULE_19__.EmpJobTableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_22__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_25__.TranslatePipe], styles: [".nested-tr[_ngcontent-%COMP%] {\n  border-width: 1px;\n  padding: 5px;\n  background: #f7f7f7;\n  margin: 0 0;\n}\n\n.table.table-responsive-sm[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table.table-responsive-sm[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  width: 20%;\n  font-size: 13px;\n}\n\n.table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%] {\n  padding: 10px !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC1qb2Itc2VjdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBOztFQUVFLFVBQUE7RUFDQSxlQUFBO0FBQ0Y7O0FBR0E7RUFDRSx3QkFBQTtBQUFGIiwiZmlsZSI6ImVtcC1qb2Itc2VjdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uZXN0ZWQtdHIge1xyXG4gIGJvcmRlci13aWR0aDogMXB4O1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICBiYWNrZ3JvdW5kOiAjZjdmN2Y3O1xyXG4gIG1hcmdpbjogMCAwO1xyXG59XHJcblxyXG4udGFibGUudGFibGUtcmVzcG9uc2l2ZS1zbSB0aGVhZCB0aCxcclxuLnRhYmxlLnRhYmxlLXJlc3BvbnNpdmUtc20gdGhlYWQgdGQge1xyXG4gIHdpZHRoOiAyMCU7XHJcbiAgZm9udC1zaXplOiAxM3B4O1xyXG59XHJcblxyXG5cclxuLnRhYmxlLWNvbnRhaW5lciB0ZC5tYXQtY2VsbCB7XHJcbiAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */"] });


/***/ }),

/***/ 56421:
/*!******************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-supervisor-section/emp-supervisor-section.component.ts ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSupervisorSectionComponent": () => (/* binding */ EmpSupervisorSectionComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_supervisor_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-supervisor.service */ 77950);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_employees_employee_dropdown_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/employees/employee-dropdown/employee-dropdown.component */ 70502);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ngx-translate/core */ 89461);



















function EmpSupervisorSectionComponent_app_material_table_18_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-material-table", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onChangePage", function EmpSupervisorSectionComponent_app_material_table_18_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r2.getList($event.pageIndex + 1, $event.pageSize)); })("deleteRow", function EmpSupervisorSectionComponent_app_material_table_18_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isLoaded", ctx_r1.isLoaded)("dataSource", ctx_r1.dataSource)("mandatoryColomns", ctx_r1.mandatoryColomns)("optionalColomns", ctx_r1.optionalColomns)("page", ctx_r1.page)("actions", ctx_r1.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpSupervisorSectionComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeSupervisorService) {
        super();
        this.employeeSupervisorService = employeeSupervisorService;
        this.employeeInstanceId = 0;
        // @Output() changUpdated = new EventEmitter<boolean>();
        this.mandatoryColomns = [
            "supervisor",
            "fromDate",
            "toDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_job_info_supervisor_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            // id: [0, { nonNullable: true }],
            supervisor_id: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_12__.Validators.required]],
            from_Date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_12__.Validators.required]],
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0) {
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_13__.MatTableDataSource(null);
        }
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_13__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize) {
            this.page.dialogSize = pageSize;
        }
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeSupervisorService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_13__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empSupervisorDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                Person_Instance_ID: this.employeeInstanceId,
                Manager_ID: this.form.value.supervisor_id,
                From_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.from_Date),
            };
            this.create(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("supervisor");
        this.employeeSupervisorService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.firstPage);
                // this.isUpdated(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("supervisor");
        });
    }
    onDelete(supervisor) {
        let msg = `${supervisor.supervisor} (${supervisor.fromDate} - ${supervisor.toDate})`;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm) {
                this.delete(supervisor);
            }
        });
    }
    delete(supervisor) {
        let deleteParams = {
            prtid: this.employeeInstanceId,
            mangerid: supervisor.manager_ID,
            fromdate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(supervisor.from_Date),
            todate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(supervisor.tO_Date),
        };
        this.showLoading("supervisor");
        this.employeeSupervisorService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                // this.isUpdated(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("supervisor");
        });
    }
    clearForm() {
        this.form.reset( /* { id: 0 } */);
        this.submitted = false;
    }
}
EmpSupervisorSectionComponent.ɵfac = function EmpSupervisorSectionComponent_Factory(t) { return new (t || EmpSupervisorSectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_supervisor_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeSupervisorService)); };
EmpSupervisorSectionComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpSupervisorSectionComponent, selectors: [["emp-supervisor-section"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 20, vars: 17, consts: [[1, "p-1"], ["dialogContainer", ""], [1, "form-card"], [1, "divider-title"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "supervisor", 3, "control", "submitted", "filter", "appendTo"], ["label", "date", 3, "control", "submitted"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "color", "disabled", "iconPositionBefore", "onClick"], [1, "clearfix"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "deleteRow"]], template: function EmpSupervisorSectionComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 0, 1)(2, "mat-card", 2)(3, "mat-card-title")(4, "p", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](6, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](7, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](8, "mat-card-content")(9, "form", 4)(10, "div", 5)(11, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](12, "app-employee-dropdown", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](13, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](14, "app-datepicker", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](15, "div", 9)(16, "submit-btn", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClick", function EmpSupervisorSectionComponent_Template_submit_btn_onClick_16_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](17, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](18, EmpSupervisorSectionComponent_app_material_table_18_Template, 1, 8, "app-material-table", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](19, "ngx-spinner", 13);
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](6, 13, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](7, 15, "supervisor")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.supervisor_id)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.from_Date)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("name", "supervisor");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__.DatepickerComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_8__.MaterialTableComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_dropdowns_personnel_setup_employees_employee_dropdown_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.EmployeeDropdownComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_15__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_15__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_15__.MatCardTitle, ngx_spinner__WEBPACK_IMPORTED_MODULE_16__.NgxSpinnerComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_12__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_12__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_12__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_14__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc3VwZXJ2aXNvci1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 6208:
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-location/emp-location-card/emp-location-card.component.ts ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpLocationCardComponent": () => (/* binding */ EmpLocationCardComponent)
/* harmony export */ });
/* harmony import */ var _emp_location_dialog_emp_location_dialog_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../emp-location-dialog/emp-location-dialog.component */ 50677);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-location.service */ 41769);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_location_table_emp_location_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-location-table/emp-location-table.component */ 62003);













function EmpLocationCardComponent_div_0_ng_container_5_ng_container_1_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 14)(2, "card-row-item", 15)(3, "card-row-item", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const location_r9 = ctx.$implicit;
    const lst_r10 = ctx.last;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵclassProp"]("mbottom-20", !lst_r10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("label", location_r9.country)("value", location_r9.allAddress);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", location_r9.froM_DATE);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", location_r9.tO_DATE);
} }
function EmpLocationCardComponent_div_0_ng_container_5_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpLocationCardComponent_div_0_ng_container_5_ng_container_1_div_1_Template, 4, 6, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngForOf", ctx_r5.empLocation);
} }
function EmpLocationCardComponent_div_0_ng_container_5_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 17)(2, "card-row-item", 18)(3, "card-row-item", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", null);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", null);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", null);
} }
function EmpLocationCardComponent_div_0_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpLocationCardComponent_div_0_ng_container_5_ng_container_1_Template, 2, 1, "ng-container", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, EmpLocationCardComponent_div_0_ng_container_5_ng_template_2_Template, 4, 3, "ng-template", null, 11, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](3);
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", (ctx_r3.empLocation == null ? null : ctx_r3.empLocation.length) > 0)("ngIfElse", _r6);
} }
function EmpLocationCardComponent_div_0_app_emp_location_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-emp-location-table", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpLocationCardComponent_div_0_app_emp_location_table_6_Template_app_emp_location_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r12); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r11.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpLocationCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpLocationCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r14); const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r13.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpLocationCardComponent_div_0_ng_container_5_Template, 4, 2, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpLocationCardComponent_div_0_app_emp_location_table_6_Template, 1, 2, "app-emp-location-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpLocationCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r14); const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r15.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.empLocation == null ? null : ctx_r0.empLocation.length)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeInstanceId)("isTableView", ctx_r0.isTableView);
} }
function EmpLocationCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 21);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 4);
} }
class EmpLocationCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeLocationService) {
        super();
        this.employeeLocationService = employeeLocationService;
        this.employeeInstanceId = 0;
        this.isLoaded = true;
        this.isTableView = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAll();
            }
            else
                this.isLoaded = true;
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.empLocation = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getAll();
    //   else this.isLoaded = true;
    // }
    getAll() {
        this.empLocation = null;
        this.employeeLocationService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                let sortedList = res.data;
                // sort by from date (from new to old)
                sortedList.sort((a, b) => new Date(b.from_Date).getTime() - new Date(a.from_Date).getTime());
                // show only first two locations
                this.empLocation = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__.empLocationDisplay)(sortedList.slice(0, 2));
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_location_dialog_emp_location_dialog_component__WEBPACK_IMPORTED_MODULE_0__.EmpLocationDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    afterDelete(location) {
        if (location) {
            this.isLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpLocationCardComponent.ɵfac = function EmpLocationCardComponent_Factory(t) { return new (t || EmpLocationCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeLocationService)); };
EmpLocationCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpLocationCardComponent, selectors: [["app-emp-location-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "location", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], [4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [4, "ngIf", "ngIfElse"], ["noData", ""], ["class", "view-data-row-container", 3, "mbottom-20", 4, "ngFor", "ngForOf"], [1, "view-data-row-container"], [1, "col", "px-0", 3, "label", "value"], ["label", "froM_DATE", 1, "col", "px-0", 3, "value"], ["label", "tO_DATE", 1, "col", "px-0", 3, "value"], ["label", "location", 1, "col", 3, "value"], ["label", "froM_DATE", 1, "col", 3, "value"], ["label", "tO_DATE", 1, "col", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpLocationCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpLocationCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpLocationCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_location_table_emp_location_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpLocationTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbG9jYXRpb24tY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 50677:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-location/emp-location-dialog/emp-location-dialog.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpLocationDialogComponent": () => (/* binding */ EmpLocationDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-location.service */ 41769);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var app_org_management_components_policy_groups_load_policies_group_load_policies_group_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! app/org-management/components/policy-groups/load-policies-group/load-policies-group.component */ 29467);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/country-dropdown/country-dropdown.component */ 59681);
/* harmony import */ var _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/governorate-by-country-dropdown/governorate-by-country-dropdown.component */ 10225);
/* harmony import */ var _shared_components_dropdowns_org_management_org_location_dropdown_org_location_dropdown_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management/org-location-dropdown/org-location-dropdown.component */ 51456);
/* harmony import */ var _emp_location_table_emp_location_table_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../emp-location-table/emp-location-table.component */ 62003);






















function EmpLocationDialogComponent_div_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](1, "load-policies-group", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx_r1.formCtrls.policy_groups)("locationControl", ctx_r1.formCtrls.location_ID)("submitted", ctx_r1.submitted);
} }
function EmpLocationDialogComponent_reset_form_btn_23_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "reset-form-btn", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpLocationDialogComponent_reset_form_btn_23_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} }
class EmpLocationDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeLocationService, dialogRef) {
        super();
        this.employeeLocationService = employeeLocationService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_location_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            countryId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            governorate_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            location_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            from_Date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            to_Date: [null],
            policy_groups: [null /* , [Validators.required] */],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_3__.CustomValidator.compareDates("from_Date", "to_Date"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
    //     this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeLocationService
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmpLocationModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empLocationDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //   this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    person_Instance_ID: this.employeeInstanceId,
                    location_ID: this.form.value.location_ID,
                    from_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.from_Date),
                    to_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.to_Date),
                },
                SelectedPolicygroup: this.form.value.policy_groups,
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.employeeLocationService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                //  this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        let body = {
            ...model,
            OldEmployeeData: {
                person_Instance_ID: this.employeeInstanceId,
                location_ID: this.selectedLocation.location_ID,
                from_Date: this.selectedLocation.from_Date,
            },
        };
        this.showLoading("dialog");
        this.employeeLocationService
            .update(body)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
                this.selectedLocation = null;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    locationToEdit(location) {
        this.form.patchValue(location);
        this.formCtrls.countryId.setValue(location.comm_Country.id);
        this.formCtrls.governorate_ID.setValue(location.comm_Governorate.id);
        this.formCtrls.location_ID.setValue(location.location_ID);
        this.formCtrls.policy_groups.setValue(location.selectedPolicygroup);
        // to detect edit
        this.formCtrls.id.setValue(location.location_ID);
        // to use in edit request
        this.selectedLocation = location;
    }
    // onDelete(location: IEmpLocationDisplayModel): void {
    //   let msg = location.country + " - " + location.location;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(location);
    //   });
    // }
    //
    // delete(location: IEmpLocationDisplayModel) {
    //   this.showLoading();
    //   let params: IEmpLocationDeleteRequest = {
    //     person_Instance_ID: location.person_Instance_ID,
    //     location_ID: location.location_ID,
    //     FromDate: HelpersFunctions.mapDateReverse(location.from_Date),
    //   };
    //   this.employeeLocationService.Delete(params).subscribe((res: IResponse) => {
    //     if (res.message.messageType == MessageTypes.Success) {
    //       this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //       if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //         // if last item in list: get previous page
    //         this.getList(this.prevPage, this.page.dialogSize);
    //       } else {
    //         // if not last item in list: get current page
    //         this.getList(this.currentPage, this.page.dialogSize);
    //       }
    //       this.updated = true;
    //       if (
    //         location.location_ID == this.selectedLocation.location_ID &&
    //         location.from_Date == this.selectedLocation.from_Date &&
    //         this.formCtrls.id.value > 0
    //       )
    //         this.clearForm();
    //     } else this.errorList(res?.message?.messages);
    //     this.hideLoading();
    //   });
    // }
    afterDelete(location) {
        if (location.location_ID == this.selectedLocation.location_ID &&
            location.from_Date == this.selectedLocation.from_Date &&
            this.formCtrls.id.value > 0)
            this.clearForm();
        if (location)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpLocationDialogComponent.ɵfac = function EmpLocationDialogComponent_Factory(t) { return new (t || EmpLocationDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeLocationService), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogRef)); };
EmpLocationDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdefineComponent"]({ type: EmpLocationDialogComponent, selectors: [["app-emp-location-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵInheritDefinitionFeature"]], decls: 25, vars: 28, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "location", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "countryControl", "submitted", "filter", "appendTo"], [3, "control", "governorateControl", "filterByGov", "submitted", "filter", "appendTo"], ["label", "froM_DATE", 3, "control", "submitted"], ["label", "tO_DATE", 3, "control", "submitted"], ["class", "col-12", 4, "ngIf"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [1, "col-12"], [3, "control", "locationControl", "submitted"], [3, "click"]], template: function EmpLocationDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpLocationDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](11, "app-country-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](13, "app-governorate-by-country-dropdown", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](15, "org-location-dropdown", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](16, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](17, "app-datepicker", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](18, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](19, "app-datepicker", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](20, EmpLocationDialogComponent_div_20_Template, 2, 3, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](21, "div", 16)(22, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onClick", function EmpLocationDialogComponent_Template_submit_btn_onClick_22_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](23, EmpLocationDialogComponent_reset_form_btn_23_Template, 1, 0, "reset-form-btn", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](24, "app-emp-location-table", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("rowToEdit", function EmpLocationDialogComponent_Template_app_emp_location_table_rowToEdit_24_listener($event) { return ctx.locationToEdit($event); })("afterDelete", function EmpLocationDialogComponent_Template_app_emp_location_table_afterDelete_24_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.governorate_ID)("countryControl", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.location_ID)("governorateControl", ctx.formCtrls.governorate_ID)("filterByGov", true)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.from_Date)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.to_Date)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.location_ID.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_18__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, app_org_management_components_policy_groups_load_policies_group_load_policies_group_component__WEBPACK_IMPORTED_MODULE_10__.LoadPoliciesGroupComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_19__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_20__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.GovernorateDropdownComponent, _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.GovernorateByCountryDropdownComponent, _shared_components_dropdowns_org_management_org_location_dropdown_org_location_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.OrgLocationDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_16__.FormGroupDirective, _emp_location_table_emp_location_table_component__WEBPACK_IMPORTED_MODULE_14__.EmpLocationTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbG9jYXRpb24tZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 62003:
/*!**********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-location/emp-location-table/emp-location-table.component.ts ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpLocationTableComponent": () => (/* binding */ EmpLocationTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-location.service */ 41769);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ngx-spinner */ 88035);













function EmpLocationTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵlistener"]("onChangePage", function EmpLocationTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpLocationTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpLocationTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpLocationTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeLocationService) {
        super();
        this.employeeLocationService = employeeLocationService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_8__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_8__.EventEmitter();
        this.mandatoryColomns = [
            "country",
            "governorate",
            "location",
            "froM_DATE",
            "tO_DATE",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeInstanceId = 0;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.emp_location_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource(null);
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeLocationService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__.empLocationDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    onDelete(location) {
        let msg = location.country + " - " + location.location;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(location);
        });
    }
    toEdit(location) {
        this.rowToEdit.emit(location);
    }
    delete(location) {
        this.showLoading('table');
        let params = {
            person_Instance_ID: location.person_Instance_ID,
            location_ID: location.location_ID,
            FromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__.HelpersFunctions.mapDateReverse(location.from_Date),
        };
        this.employeeLocationService.Delete(params).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.afterDelete.emit(location);
                // if (
                //   location.location_ID == this.selectedLocation.location_ID &&
                //   location.from_Date == this.selectedLocation.from_Date &&
                //   this.formCtrls.id.value > 0
                // )
                //   this.clearForm();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('table');
        });
    }
}
EmpLocationTableComponent.ɵfac = function EmpLocationTableComponent_Factory(t) { return new (t || EmpLocationTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeLocationService)); };
EmpLocationTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({ type: EmpLocationTableComponent, selectors: [["app-emp-location-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpLocationTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](0, EmpLocationTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_11__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbG9jYXRpb24tdGFibGUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 63612:
/*!***************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-medical-insurance/emp-blood-type-section/emp-blood-type-section.component.ts ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMedicalAndBloodTypeDialogComponent": () => (/* binding */ EmpMedicalAndBloodTypeDialogComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _emp_medical_insurance_dialog_emp_medical_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-medical-insurance-dialog/emp-medical-insurance-dialog.component */ 92545);
/* harmony import */ var _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../employee-general-info/emp-general-info-form/emp-general-info-form.component */ 9442);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ 89461);










class EmpMedicalAndBloodTypeDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(dialogRef) {
        super();
        this.dialogRef = dialogRef;
        this.updated = false;
    }
    ngOnInit() {
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.updated);
    }
    changUpdated(value) {
        this.updated = value;
    }
}
EmpMedicalAndBloodTypeDialogComponent.ɵfac = function EmpMedicalAndBloodTypeDialogComponent_Factory(t) { return new (t || EmpMedicalAndBloodTypeDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__.MatDialogRef)); };
EmpMedicalAndBloodTypeDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({ type: EmpMedicalAndBloodTypeDialogComponent, selectors: [["emp-blood-type-section"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵInheritDefinitionFeature"]], decls: 14, vars: 6, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "medicalInsurance", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [1, "divider-title"], [3, "isBlood_type"], [1, "mtop-20"], [3, "changUpdated"], [1, "clearfix"]], template: function EmpMedicalAndBloodTypeDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 0)(1, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](2, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function EmpMedicalAndBloodTypeDialogComponent_Template_button_click_3_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](4, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](5, "mat-dialog-content", 4)(6, "p", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](8, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](9, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](10, "emp-general-info-form", 6)(11, "mat-divider", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](12, "app-emp-medical-insurance-dialog", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("changUpdated", function EmpMedicalAndBloodTypeDialogComponent_Template_app_emp_medical_insurance_dialog_changUpdated_12_listener($event) { return ctx.changUpdated($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](13, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](8, 2, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](9, 4, "bloodType")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("isBlood_type", true);
    } }, dependencies: [_shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_1__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_6__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_7__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__.MatDialogContent, _emp_medical_insurance_dialog_emp_medical_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmpMedicalInsuranceDialogComponent, _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoFormComponent, _angular_common__WEBPACK_IMPORTED_MODULE_8__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYmxvb2QtdHlwZS1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 13881:
/*!***********************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-medical-insurance/emp-medical-insurance-card/emp-medical-insurance-card.component.ts ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMedicalInsuranceCardComponent": () => (/* binding */ EmpMedicalInsuranceCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_blood_type_section_emp_blood_type_section_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-blood-type-section/emp-blood-type-section.component */ 63612);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_medical_insurance_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-medical-insurance.service */ 25018);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);











function EmpMedicalInsuranceCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵlistener"]("onClickIcon", function EmpMedicalInsuranceCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r3.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](3, "card-row-item", 5)(4, "card-row-item", 6)(5, "card-row-item", 7)(6, "card-row-item", 8)(7, "card-row-item", 9)(8, "card-row-item", 10)(9, "card-row-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("isEdit", ctx_r0.employeeMedicalInsuranceInfo)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.medicalInsuranceCompany);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.date);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.medicalID);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.msgTranslate(ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Blood_Type == null ? null : ctx_r0.employee.person.core_Blood_Type.ar_Name, ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Blood_Type == null ? null : ctx_r0.employee.person.core_Blood_Type.en_NAme));
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.medicalSubscription);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.companyShare);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.employeeShare);
} }
function EmpMedicalInsuranceCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 12);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("rowNo", 7);
} }
class EmpMedicalInsuranceCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeMedicalInsuranceService, empGeneralInfoService) {
        super();
        this.employeeMedicalInsuranceService = employeeMedicalInsuranceService;
        this.empGeneralInfoService = empGeneralInfoService;
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() {
        this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
            this.isLoadedFun();
        });
        this.isLoadedFun();
    }
    isLoadedFun() {
        this.isLoaded = false;
        if (this.employee != null && this.employeeId > 0)
            this.isLoaded = true;
        if (this.employee == null && this.employeeId == 0)
            this.isLoaded = true;
    }
    onChangeBusinessAndCompanyId() {
        this.employeeMedicalInsuranceInfo = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) { } //this.getAllByEmployeeId();
        else
            this.isLoaded = true;
    }
    getAllByEmployeeId() {
        this.employeeMedicalInsuranceInfo = null;
        this.employeeMedicalInsuranceService
            .getAllByEmployeeId(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.employeeMedicalInsuranceInfo = res.data[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_blood_type_section_emp_blood_type_section_component__WEBPACK_IMPORTED_MODULE_2__.EmpMedicalAndBloodTypeDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
}
EmpMedicalInsuranceCardComponent.ɵfac = function EmpMedicalInsuranceCardComponent_Factory(t) { return new (t || EmpMedicalInsuranceCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_medical_insurance_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeMedicalInsuranceService), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService)); };
EmpMedicalInsuranceCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({ type: EmpMedicalInsuranceCardComponent, selectors: [["app-emp-medical-insurance-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "medicalInsurance", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], ["label", "medicalInsuranceCompany", 3, "value"], ["valueClass", "col-6 text-muted", 3, "value"], ["label", "medicalID", 3, "value"], ["label", "bloodType", 3, "value"], ["label", "medicalSubscription", 3, "value"], ["label", "companyShare", 3, "value"], ["label", "employeeShare", 3, "value"], [3, "rowNo"]], template: function EmpMedicalInsuranceCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](0, EmpMedicalInsuranceCardComponent_div_0_Template, 10, 9, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](1, EmpMedicalInsuranceCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWVkaWNhbC1pbnN1cmFuY2UtY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 92545:
/*!***************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-medical-insurance/emp-medical-insurance-dialog/emp-medical-insurance-dialog.component.ts ***!
  \***************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMedicalInsuranceDialogComponent": () => (/* binding */ EmpMedicalInsuranceDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_medical_insurance_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-medical-insurance.service */ 25018);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ngx-translate/core */ 89461);

















function EmpMedicalInsuranceDialogComponent_reset_form_btn_24_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "reset-form-btn", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("click", function EmpMedicalInsuranceDialogComponent_reset_form_btn_24_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmpMedicalInsuranceDialogComponent_app_material_table_25_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "app-material-table", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("editRow", function EmpMedicalInsuranceDialogComponent_app_material_table_25_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r5.employeeMedicalInsuranceToEdit($event)); })("deleteRow", function EmpMedicalInsuranceDialogComponent_app_material_table_25_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r7.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("actions", ctx_r2.rowFunctions)("showPaginator", false)("showFilter", false);
} }
class EmpMedicalInsuranceDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeMedicalInsuranceService) {
        super();
        this.employeeMedicalInsuranceService = employeeMedicalInsuranceService;
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.changUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_10__.EventEmitter();
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "medicalInsuranceCompany",
            "medicalID",
            "bloodType",
            "from",
            "to",
            "medicalSubscription",
            "companyShare",
            "employeeShare",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            medicalInsuranceCompany: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            medicalID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            from: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            to: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            medicalSubscription: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            companyShare: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            employeeShare: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_3__.CustomValidator.compareDates("from", "to"),
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_12__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getAll();
        }
    }
    getAll() {
        this.employeeMedicalInsuranceService
            .getAllByEmployeeId(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_12__.MatTableDataSource(res.data);
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                Person_ID: this.employeeId,
                id: this.form.value.id,
                medicalInsuranceCompany: this.form.value.medicalInsuranceCompany,
                medicalID: this.form.value.medicalID,
                from: this.form.value.from,
                to: this.form.value.to,
                medicalSubscription: this.form.value.medicalSubscription,
                companyShare: this.form.value.companyShare,
                employeeShare: this.form.value.employeeShare,
            };
            model.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeMedicalInsuranceService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAll();
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeMedicalInsuranceService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAll();
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    employeeMedicalInsuranceToEdit(employeeMedicalInsuranceInfo) {
        this.form.patchValue(employeeMedicalInsuranceInfo);
        // console.log(this.form.value);
    }
    onDelete(employeeMedicalInsuranceInfo) {
        let msg = this.msgTranslate(employeeMedicalInsuranceInfo.medicalID);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeMedicalInsuranceInfo);
        });
    }
    delete(employeeMedicalInsuranceInfo) {
        this.showLoading();
        this.employeeMedicalInsuranceService
            .Delete(employeeMedicalInsuranceInfo.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAll();
                this.changUpdated.emit(true);
                if (employeeMedicalInsuranceInfo.id == this.formCtrls.id.value)
                    this.clearForm();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpMedicalInsuranceDialogComponent.ɵfac = function EmpMedicalInsuranceDialogComponent_Factory(t) { return new (t || EmpMedicalInsuranceDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_medical_insurance_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeMedicalInsuranceService)); };
EmpMedicalInsuranceDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmpMedicalInsuranceDialogComponent, selectors: [["app-emp-medical-insurance-dialog"]], outputs: { changUpdated: "changUpdated" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 26, vars: 26, consts: [["dialogContainer", ""], [1, "divider-title"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "medicalInsuranceCompany", 3, "control", "submitted"], ["label", "medicalID", 3, "control", "submitted"], ["label", "from", 3, "control", "submitted"], ["label", "to", 3, "control", "submitted"], ["label", "medicalSubscription", 3, "control", "submitted"], ["label", "companyShare", 3, "control", "submitted"], ["label", "employeeShare", 3, "control", "submitted"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "showPaginator", "showFilter", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "showPaginator", "showFilter", "editRow", "deleteRow"]], template: function EmpMedicalInsuranceDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", null, 0)(2, "p", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](4, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](5, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](6, "form", 2)(7, "div", 3)(8, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](9, "app-input", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](10, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](11, "app-input", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](12, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](13, "app-datepicker", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](14, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](15, "app-datepicker", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](16, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](17, "app-input", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](18, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](19, "app-input", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](20, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](21, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](22, "div", 12)(23, "submit-btn", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClick", function EmpMedicalInsuranceDialogComponent_Template_submit_btn_onClick_23_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](24, EmpMedicalInsuranceDialogComponent_reset_form_btn_24_Template, 1, 0, "reset-form-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](25, EmpMedicalInsuranceDialogComponent_app_material_table_25_Template, 1, 7, "app-material-table", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](4, 22, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](5, 24, "medicalInsurance")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.medicalInsuranceCompany)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.medicalID)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.from)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.to)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.medicalSubscription)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.companyShare)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.employeeShare)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_11__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_11__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_13__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWVkaWNhbC1pbnN1cmFuY2UtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 11215:
/*!************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-social-insurance/emp-insurance-office-dialog/emp-social-insurance-dialog.component.ts ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSocialInsuranceDialogComponent": () => (/* binding */ EmpSocialInsuranceDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-social-insurance.service */ 88331);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_insurance_office_dropdown_insurance_office_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/insurance-office-dropdown/insurance-office-dropdown.component */ 5269);
/* harmony import */ var _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../employee-general-info/emp-general-info-form/emp-general-info-form.component */ 9442);
/* harmony import */ var _emp_social_insurance_table_emp_social_insurance_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-social-insurance-table/emp-social-insurance-table.component */ 85409);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @ngx-translate/core */ 89461);






















function EmpSocialInsuranceDialogComponent_reset_form_btn_29_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpSocialInsuranceDialogComponent_reset_form_btn_29_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmpSocialInsuranceDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeSocialInsuranceService, dialogRef) {
        super();
        this.employeeSocialInsuranceService = employeeSocialInsuranceService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.submitted = false;
        this.getList = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        // this.employeeInstanceId = EmpGeneralInfoService.EmployeeInstanceId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_social_insurance_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            insurance_Office_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            fromDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            endDate: [null],
            // worked_at: [null],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.compareDates("fromDate", "endDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getList(this.firstPage);
    //   }
    // }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeSocialInsuranceService
    //     .getList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmpSocialInsuranceModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empInsuranceOfficeDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    // this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                employeeData: {
                    person_ID: this.employeeId,
                    insurance_Office_ID: this.form.value.insurance_Office_ID,
                    from_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.fromDate),
                    end_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.endDate),
                    // worked_at: this.form.value.worked_at,
                },
            };
            this.form.value.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading('socialInsurance');
        this.employeeSocialInsuranceService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                //  this.getList(this.firstPage);
                this.hasUpdate = true;
                this.getList = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('socialInsurance');
        });
    }
    update(model) {
        this.showLoading('socialInsurance');
        let body = {
            employeeData: model.employeeData,
            oldEmployeeData: {
                person_ID: this.employeeId,
                ...this.oldEmployeeData,
            },
        };
        this.employeeSocialInsuranceService
            .update(body)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.oldEmployeeData = null;
                this.hasUpdate = true;
                this.getList = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('socialInsurance');
        });
    }
    socialInsuranceToEdit(socialInsurance) {
        this.form.patchValue(socialInsurance);
        this.oldEmployeeData = {
            insurance_Office_ID: socialInsurance.insurance_Office_ID,
            from_date: socialInsurance.froM_DATE,
        };
        this.formCtrls.fromDate.setValue(socialInsurance.froM_DATE);
        this.formCtrls.endDate.setValue(socialInsurance.enD_DATE);
        // to detect edit
        this.formCtrls.id.setValue(socialInsurance.core_Insurance_Office.id);
    }
    // onDelete(socialInsurance: IEmpSocialInsuranceModel): void {
    //   let msg = socialInsurance.insuranceOffice;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(socialInsurance);
    //   });
    // }
    //
    // delete(socialInsurance: IEmpSocialInsuranceModel) {
    //   this.showLoading();
    //   let params: IEmpSocialInsuranceDelete = {
    //     PersonID: this.employeeId,
    //     insuranceoffice: socialInsurance.insurance_Office_ID,
    //     fromdate: socialInsurance.froM_DATE,
    //   };
    //   this.employeeSocialInsuranceService
    //     .Delete(params)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         }
    //         else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.isHasUpdate = true;
    //         if (
    //           socialInsurance.froM_DATE == this.oldEmployeeData.from_date &&
    //           socialInsurance.insurance_Office_ID ==
    //           this.oldEmployeeData.insurance_Office_ID &&
    //           this.formCtrls.id.value > 0
    //         )
    //           this.clearForm();
    //       }
    //       else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    onSaveInsuranceNumber(data) {
        //  this.empGeneralInfoService.getEmployeeShared(this.employeeId);
        //this.dialogRef.close(data);
    }
    afterDelete(socialInsurance) {
        if (socialInsurance?.froM_DATE == this.oldEmployeeData?.from_date &&
            socialInsurance?.insurance_Office_ID ==
                this.oldEmployeeData?.insurance_Office_ID &&
            this.formCtrls.id.value > 0)
            this.clearForm();
        if (socialInsurance)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpSocialInsuranceDialogComponent.ɵfac = function EmpSocialInsuranceDialogComponent_Factory(t) { return new (t || EmpSocialInsuranceDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeSocialInsuranceService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogRef)); };
EmpSocialInsuranceDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmpSocialInsuranceDialogComponent, selectors: [["emp-Social-insurance-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 31, vars: 26, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "socialInsurance", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [1, "divider-title"], [3, "isSocialInsurance", "onSave"], [1, "mtop-20"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "appendTo"], ["label", "froM_DATE", 3, "control", "submitted"], ["label", "endDate", 3, "control", "submitted"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpSocialInsuranceDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpSocialInsuranceDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 5)(7, "p", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](9, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](10, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](11, "emp-general-info-form", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onSave", function EmpSocialInsuranceDialogComponent_Template_emp_general_info_form_onSave_11_listener($event) { return ctx.onSaveInsuranceNumber($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](12, "mat-divider", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](13, "div", null, 9)(15, "p", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](16);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](17, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](18, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](19, "form", 10)(20, "div", 11)(21, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](22, "insurance-office-dropdown", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](23, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](24, "app-datepicker", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](25, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](26, "app-datepicker", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](27, "div", 16)(28, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmpSocialInsuranceDialogComponent_Template_submit_btn_onClick_28_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](29, EmpSocialInsuranceDialogComponent_reset_form_btn_29_Template, 1, 0, "reset-form-btn", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](30, "app-emp-social-insurance-table", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmpSocialInsuranceDialogComponent_Template_app_emp_social_insurance_table_rowToEdit_30_listener($event) { return ctx.socialInsuranceToEdit($event); })("afterDelete", function EmpSocialInsuranceDialogComponent_Template_app_emp_social_insurance_table_afterDelete_30_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("name", "socialInsurance");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](9, 18, _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](10, 20, "socialInsuranceNumber")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("isSocialInsurance", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](17, 22, _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](18, 24, "socialInsuranceOffice")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.insurance_Office_ID)("submitted", ctx.submitted)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.fromDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.endDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_17__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_18__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_insurance_office_dropdown_insurance_office_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.InsuranceOfficeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_11__.EmpGeneralInfoFormComponent, _emp_social_insurance_table_emp_social_insurance_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpSocialInsuranceTableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_16__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_20__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc29jaWFsLWluc3VyYW5jZS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 81988:
/*!********************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-social-insurance/emp-social-insurance-card/emp-social-insurance-card.component.ts ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSocialInsuranceCardComponent": () => (/* binding */ EmpSocialInsuranceCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-social-insurance/emp-insurance-office-dialog/emp-social-insurance-dialog.component */ 11215);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-social-insurance.service */ 88331);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var primeng_skeleton__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/skeleton */ 32712);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_social_insurance_table_emp_social_insurance_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-social-insurance-table/emp-social-insurance-table.component */ 85409);















function EmpSocialInsuranceCardComponent_div_0_div_5_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "p-skeleton", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} }
function EmpSocialInsuranceCardComponent_div_0_div_5_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "p-skeleton", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} }
function EmpSocialInsuranceCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpSocialInsuranceCardComponent_div_0_div_5_div_1_Template, 2, 0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, EmpSocialInsuranceCardComponent_div_0_div_5_div_2_Template, 2, 0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](3, "card-row-item", 13)(4, "card-row-item", 14)(5, "card-row-item", 15)(6, "card-row-item", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r3.isInsuranceNumLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r3.isInsuranceNumLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employee == null ? null : ctx_r3.employee.person == null ? null : ctx_r3.employee.person.insurance_No);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employee == null ? null : ctx_r3.employee.person == null ? null : ctx_r3.employee.person.insurance_Years);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.emp_social_insurance == null ? null : ctx_r3.emp_social_insurance.insuranceOffice);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.emp_social_insurance == null ? null : ctx_r3.emp_social_insurance.date);
} }
function EmpSocialInsuranceCardComponent_div_0_app_emp_social_insurance_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-emp-social-insurance-table", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpSocialInsuranceCardComponent_div_0_app_emp_social_insurance_table_6_Template_app_emp_social_insurance_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r7.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpSocialInsuranceCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpSocialInsuranceCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r9.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpSocialInsuranceCardComponent_div_0_div_5_Template, 7, 6, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpSocialInsuranceCardComponent_div_0_app_emp_social_insurance_table_6_Template, 1, 2, "app-emp-social-insurance-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpSocialInsuranceCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r10); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r11.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", (ctx_r0.employee == null ? null : ctx_r0.employee.person.insurance_No) || (ctx_r0.employee == null ? null : ctx_r0.employee.person.insurance_Years) || ctx_r0.emp_social_insurance)("isLoaded", ctx_r0.isInsuranceNumLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmpSocialInsuranceCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 20);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 4);
} }
class EmpSocialInsuranceCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeSocialInsuranceService, empGeneralInfoService) {
        super();
        this.employeeSocialInsuranceService = employeeSocialInsuranceService;
        this.empGeneralInfoService = empGeneralInfoService;
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.isInsuranceNumLoaded = false;
        this.isInsuranceOfficeLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() {
        this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
            this.isLoadedFun();
        });
        this.isLoadedFun();
    }
    isLoadedFun() {
        this.isInsuranceNumLoaded = false;
        if (this.employee != null && this.employeeId > 0)
            this.isInsuranceNumLoaded = true;
        if (this.employee == null && this.employeeId == 0)
            this.isInsuranceNumLoaded = true;
    }
    onChangeBusinessAndCompanyId() {
        this.emp_social_insurance = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isInsuranceOfficeLoaded = true;
    }
    getAll() {
        this.emp_social_insurance = null;
        this.employeeSocialInsuranceService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                res.data.sort((a, b) => new Date(b.froM_DATE).getTime() - new Date(a.froM_DATE).getTime());
                this.emp_social_insurance = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empInsuranceOfficeDisplay)(res.data)[0];
                this.isInsuranceOfficeLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpSocialInsuranceDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isInsuranceOfficeLoaded = false;
                this.getAll();
            }
        });
    }
    afterDelete(socialInsurance) {
        if (socialInsurance) {
            this.isInsuranceOfficeLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpSocialInsuranceCardComponent.ɵfac = function EmpSocialInsuranceCardComponent_Factory(t) { return new (t || EmpSocialInsuranceCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeSocialInsuranceService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService)); };
EmpSocialInsuranceCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpSocialInsuranceCardComponent, selectors: [["app-emp-social-insurance-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "socialInsurance", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["class", "w-25 m-auto", 4, "ngIf"], ["class", "w-25  m-auto", 4, "ngIf"], ["label", "insurance_No", 1, "col-6", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "insurance_Years", 1, "col-6", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "insuranceOffice", 1, "col-6", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "date", 1, "col-6", "col-lg-3", "px-0", "mb-2", 3, "value"], [1, "w-25", "m-auto"], ["width", "7rem", "styleClass", "p-mb-2", "borderRadius", "10px"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpSocialInsuranceCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpSocialInsuranceCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpSocialInsuranceCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isInsuranceNumLoaded || ctx.isInsuranceOfficeLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, primeng_skeleton__WEBPACK_IMPORTED_MODULE_13__.Skeleton, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_social_insurance_table_emp_social_insurance_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpSocialInsuranceTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc29jaWFsLWluc3VyYW5jZS1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 85409:
/*!**********************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-social-insurance/emp-social-insurance-table/emp-social-insurance-table.component.ts ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSocialInsuranceTableComponent": () => (/* binding */ EmpSocialInsuranceTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-social-insurance.service */ 88331);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpSocialInsuranceTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpSocialInsuranceTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpSocialInsuranceTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpSocialInsuranceTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpSocialInsuranceTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeSocialInsuranceService) {
        super();
        this.employeeSocialInsuranceService = employeeSocialInsuranceService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.mandatoryColomns = [
            "insuranceOffice",
            "fromDate",
            "endDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        // this.employeeInstanceId = EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_social_insurance_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    toEdit(socialInsurance) {
        this.rowToEdit.emit(socialInsurance);
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeSocialInsuranceService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__.empInsuranceOfficeDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    onDelete(socialInsurance) {
        let msg = socialInsurance.insuranceOffice;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(socialInsurance);
        });
    }
    delete(socialInsurance) {
        this.showLoading("socialInsurance-table");
        let params = {
            PersonID: this.employeeId,
            insuranceoffice: socialInsurance.insurance_Office_ID,
            fromdate: socialInsurance.froM_DATE,
        };
        this.employeeSocialInsuranceService
            .Delete(params)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.afterDelete.emit(socialInsurance);
                // if (
                //   socialInsurance.froM_DATE == this.oldEmployeeData.from_date &&
                //   socialInsurance.insurance_Office_ID ==
                //   this.oldEmployeeData.insurance_Office_ID &&
                //   this.formCtrls.id.value > 0
                // )
                //   this.clearForm();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("socialInsurance-table");
        });
    }
}
EmpSocialInsuranceTableComponent.ɵfac = function EmpSocialInsuranceTableComponent_Factory(t) { return new (t || EmpSocialInsuranceTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeSocialInsuranceService)); };
EmpSocialInsuranceTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpSocialInsuranceTableComponent, selectors: [["app-emp-social-insurance-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpSocialInsuranceTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpSocialInsuranceTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "socialInsurance-table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc29jaWFsLWluc3VyYW5jZS10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 1250:
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-work-schedule/emp-work-schedule-card/emp-work-schedule-card.component.ts ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpWorkScheduleCardComponent": () => (/* binding */ EmpWorkScheduleCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_work_schedule_dialog_emp_work_schedule_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-work-schedule-dialog/emp-work-schedule-dialog.component */ 47437);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-work-schedule.service */ 89320);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_view_row_item_skeleton_view_row_item_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/view-row-item-skeleton/view-row-item-skeleton.component */ 76634);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! primeng/api */ 14356);
/* harmony import */ var primeng_skeleton__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! primeng/skeleton */ 32712);
/* harmony import */ var primeng_messages__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! primeng/messages */ 58547);
/* harmony import */ var primeng_calendar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! primeng/calendar */ 32547);
/* harmony import */ var primeng_autofocus__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! primeng/autofocus */ 70174);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_work_schedule_table_emp_work_schedule_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-work-schedule-table/emp-work-schedule-table.component */ 76038);
/* harmony import */ var _emp_workschedule_vacations_cards_emp_workschedule_vacations_cards_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../emp-workschedule-vacations-cards/emp-workschedule-vacations-cards.component */ 58721);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ngx-translate/core */ 89461);




















function EmpWorkScheduleCardComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "div", 23)(1, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](2, "app-emp-workschedule-vacations-cards");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
} }
function EmpWorkScheduleCardComponent_ng_container_8_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "div", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](1, "card-row-item", 28)(2, "card-row-item", 29)(3, "card-row-item", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("value", ctx_r6.msgTranslate(ctx_r6.empWorkSchedule == null ? null : ctx_r6.empWorkSchedule.currentPlan.ar_Name, ctx_r6.empWorkSchedule == null ? null : ctx_r6.empWorkSchedule.currentPlan.en_Name));
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("value", ctx_r6.empWorkSchedule == null ? null : ctx_r6.empWorkSchedule.currentPlan.start_date);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("value", ctx_r6.empWorkSchedule == null ? null : ctx_r6.empWorkSchedule.currentPlan.end_date);
} }
function EmpWorkScheduleCardComponent_ng_container_8_app_emp_work_schedule_table_2_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "app-emp-work-schedule-table", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("afterDelete", function EmpWorkScheduleCardComponent_ng_container_8_app_emp_work_schedule_table_2_Template_app_emp_work_schedule_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r8.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpWorkScheduleCardComponent_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](1, EmpWorkScheduleCardComponent_ng_container_8_div_1_Template, 4, 3, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](2, EmpWorkScheduleCardComponent_ng_container_8_app_emp_work_schedule_table_2_Template, 1, 2, "app-emp-work-schedule-table", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", !ctx_r1.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx_r1.isTableView);
} }
function EmpWorkScheduleCardComponent_ng_container_9_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "div", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](1, "app-view-row-item-skeleton");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} }
const _c0 = function () { return []; };
function EmpWorkScheduleCardComponent_ng_container_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](1, "div", 32)(2, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](3, EmpWorkScheduleCardComponent_ng_container_9_div_3_Template, 2, 0, "div", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpureFunction0"](1, _c0).constructor(2));
} }
function EmpWorkScheduleCardComponent_ng_container_14_p_messages_1_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](0, "span", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](1, "div", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    const msg_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", msg_r13.message, " ");
} }
function EmpWorkScheduleCardComponent_ng_container_14_p_messages_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "p-messages", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](1, EmpWorkScheduleCardComponent_ng_container_14_p_messages_1_ng_template_1_Template, 3, 1, "ng-template", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} }
function EmpWorkScheduleCardComponent_ng_container_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](1, EmpWorkScheduleCardComponent_ng_container_14_p_messages_1_Template, 2, 0, "p-messages", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngForOf", ctx_r3.messages);
} }
const _c1 = function (a0, a1, a2, a3, a4) { return { "isVacation": a0, "isAbsence": a1, "isMission": a2, "isOffHoliday": a3, "isOvertime": a4 }; };
function EmpWorkScheduleCardComponent_ng_template_37_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "span", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    const date_r16 = ctx.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpureFunction5"](2, _c1, ctx_r4.isVacation(date_r16), ctx_r4.isAbsence(date_r16), ctx_r4.isMission(date_r16), ctx_r4.isOffHoliday(date_r16), ctx_r4.isOvertime(date_r16)));
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", date_r16.day, " ");
} }
function EmpWorkScheduleCardComponent_ng_container_38_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](1, "p-skeleton", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementContainerEnd"]();
} }
class EmpWorkScheduleCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeWorkScheduleService) {
        super();
        this.employeeWorkScheduleService = employeeWorkScheduleService;
        this.isLoaded = false;
        this.today = new Date();
        this.calendarArray = [];
        this.isTableView = false;
        this.currentDate = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(new Date().toDateString());
        this.defaultDate = new Date(this.currentDate);
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getCardData(this.currentDate);
            }
            else
                this.isLoaded = true;
        });
    }
    ngOnInit() {
        this.numberOfDaysInMonth = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.numberOfDaysInMonth(this.today.getFullYear(), 
        // return current month (0-11)
        this.today.getMonth());
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.empWorkSchedule = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getCardData();
    //   else this.isLoaded = true;
    // }
    getCardData(StartDate) {
        this.isLoaded = false;
        this.empWorkSchedule = null;
        this.employeeWorkScheduleService
            .getCard(this.employeeInstanceId, StartDate)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            this.isLoaded = true;
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                let vacationsIds = [];
                res.data.currentPlan.start_date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(res.data.currentPlan.start_date);
                res.data.currentPlan.end_date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(res.data.currentPlan.end_date);
                res.data.vacations.forEach(e => {
                    vacationsIds.push(e.vacation_Date_Duration.vacation_date);
                });
                res.data.vacationsDates = vacationsIds;
                this.empWorkSchedule = res.data;
                //  this.createCalendarArray();
            }
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Warning) {
                this.messages = res?.message?.messages;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    onMonthChange($event) {
        // console.log($event.month);
        let date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(new Date($event.year, $event.month - 1, 1).toDateString());
        this.currentDate = date;
        this.defaultDate = new Date(date);
        if (this.employeeInstanceId > 0)
            this.getCardData(date);
    }
    isWeekEnds(dayDate) {
        var date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(new Date(dayDate.year, dayDate.month, dayDate.day)?.toDateString());
        let isValid = false;
        this.empWorkSchedule?.weekEnds?.forEach(d => {
            if (date == app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(d)) {
                isValid = true;
            }
        });
        return isValid;
    }
    isVacation(dayDate) {
        var date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(new Date(dayDate.year, dayDate.month, dayDate.day)?.toDateString());
        let isValid = false;
        this.empWorkSchedule?.vacationsDates?.forEach(d => {
            if (date == app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(d)) {
                isValid = true;
            }
        });
        return isValid;
    }
    isOvertime(dayDate) {
        var date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(new Date(dayDate.year, dayDate.month, dayDate.day)?.toDateString());
        let isValid = false;
        this.empWorkSchedule?.overtimes?.forEach(d => {
            if (date == app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(d)) {
                isValid = true;
            }
        });
        return isValid;
    }
    isAbsence(dayDate) {
        var date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(new Date(dayDate.year, dayDate.month, dayDate.day)?.toDateString());
        let isValid = false;
        this.empWorkSchedule?.absenece?.forEach(d => {
            if (date == app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(d)) {
                isValid = true;
            }
        });
        return isValid;
    }
    isMission(dayDate) {
        var date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(new Date(dayDate.year, dayDate.month, dayDate.day)?.toDateString());
        let isValid = false;
        this.empWorkSchedule?.missions?.forEach(d => {
            if (date == app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(d)) {
                isValid = true;
            }
        });
        return isValid;
    }
    isOffHoliday(dayDate) {
        var date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(new Date(dayDate.year, dayDate.month, dayDate.day)?.toDateString());
        let isValid = false;
        this.empWorkSchedule?.officialHoliday?.forEach(d => {
            if (date == app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(d)) {
                isValid = true;
            }
        });
        return isValid;
    }
    createCalendarArray() {
        this.calendarArray = [];
        // calendar array
        for (let i = 1; i <= this.numberOfDaysInMonth; i++) {
            let isWeekend = this.empWorkSchedule?.weekEnds
                .map((date) => new Date(date).getDate())
                .includes(i);
            let isVacation = this.empWorkSchedule?.vacations
                .map((vac) => new Date(vac.vacation_Date_Duration.vacation_date).getDate())
                .includes(i);
            let vacation = this.empWorkSchedule?.vacations
                .find((vac) => new Date(vac.vacation_Date_Duration.vacation_date).getDate() === i)?.vacation;
            let date = new Date();
            date.setDate(i);
            this.calendarArray.push({
                value: i,
                isCurrentDay: this.today.getDate() == i,
                isWeekend: isWeekend,
                isVacation: isVacation,
                hoverContent: "",
                date: date,
                vacation: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.msgTranslate)(vacation?.ar_Name, vacation?.en_Name) ?? null
            });
        }
    }
    getDayPopOver(day) {
        if (day.isWeekend)
            return `${app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.getDayName(day.date)} - ${this.translate("weekend")}`;
        if (day.isVacation)
            return `${app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.getDayName(day.date)} - ${day.vacation}`;
        else
            return app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.getDayName(day.date);
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_work_schedule_dialog_emp_work_schedule_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmpWorkScheduleDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getCardData(this.currentDate);
            }
        });
    }
    afterDelete(WorkSchedule) {
        if (WorkSchedule) {
            this.isLoaded = false;
            this.getCardData(this.currentDate);
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpWorkScheduleCardComponent.ɵfac = function EmpWorkScheduleCardComponent_Factory(t) { return new (t || EmpWorkScheduleCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeWorkScheduleService)); };
EmpWorkScheduleCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineComponent"]({ type: EmpWorkScheduleCardComponent, selectors: [["emp-work-schedule-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵInheritDefinitionFeature"]], decls: 39, vars: 30, consts: [[1, "card-view", "border-bottom", "mt-4"], [1, "row", "bg-white", "mt-2", "px-2"], [1, "col-12", "pt-2"], ["cardTitle", "workSchedule", 1, "side_title", "border-0", "d-inline-flex", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-12", "col-lg-7", "mt-2"], ["class", "row bg-white p-0 m-0", 4, "ngIf"], [1, "row", "p-0", "m-0"], [1, "col-12", "col-lg-9", "mt-3"], [4, "ngIf"], [1, "col-12", "col-lg-3"], [3, "employeeId", "isTableView", "toggleTable"], [1, "col-12", "col-lg-5", "emp-calender", "px-0", "mx-1", "mx-lg-auto", "mt-3", "radius-15"], [1, "p-1"], [1, "calendar-footer", "d-flex", "justify-content-center", "mt-2"], [1, "map-box", "isVacation"], [1, "map-text", "day-before", "vacation-color"], [1, "map-box"], [1, "map-text", "day-before", "absence-color"], [1, "map-text", "day-before", "mission-color"], [1, "map-text", "day-before", "offHoliday-color"], [1, "map-text", "day-before", "overtime-color"], ["pAutoFocus", "", "id", "calendar", 3, "tabindex", "autofocus", "inline", "readonlyInput", "onMonthChange"], ["pTemplate", "date"], [1, "row", "bg-white", "p-0", "m-0"], [1, "col-12", "px-0"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [1, "view-data-row-container"], ["label", "plan", 1, "col", 3, "value"], ["label", "from_Date", 1, "col", 3, "value"], ["label", "to_Date", 1, "col", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [1, "cardSection"], [1, "d-flex", "flex-wrap", "justify-content-between", 2, "gap", "30px"], ["class", "flex-grow-1", 4, "ngFor", "ngForOf"], [1, "flex-grow-1"], ["severity", "warn", "styleClass", "radius-10", 4, "ngFor", "ngForOf"], ["severity", "warn", "styleClass", "radius-10"], ["pTemplate", ""], [1, "p-message-icon", "pi", "pi-exclamation-triangle"], [1, "p-message-detail"], [1, "day-after", 3, "ngClass"], ["width", "100%", "height", "100%", "animation", "wave"]], template: function EmpWorkScheduleCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "card-header", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onClickIcon", function EmpWorkScheduleCardComponent_Template_card_header_onClickIcon_3_listener() { return ctx.openAddEditDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](5, EmpWorkScheduleCardComponent_div_5_Template, 3, 0, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](6, "div", 6)(7, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](8, EmpWorkScheduleCardComponent_ng_container_8_Template, 3, 2, "ng-container", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](9, EmpWorkScheduleCardComponent_ng_container_9_Template, 4, 2, "ng-container", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](10, "div", 9)(11, "see-more-btn", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("toggleTable", function EmpWorkScheduleCardComponent_Template_see_more_btn_toggleTable_11_listener() { return ctx.toggleTable(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](12, "div", 11)(13, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](14, EmpWorkScheduleCardComponent_ng_container_14_Template, 2, 1, "ng-container", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](15, "div", 13)(16, "div", 14)(17, "span", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](18);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](19, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](20, "div", 16)(21, "span", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](22);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](23, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](24, "div", 16)(25, "span", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](26);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](27, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](28, "div", 16)(29, "span", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](30);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](31, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](32, "div", 16)(33, "span", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](34);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](35, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](36, "p-calendar", 21);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onMonthChange", function EmpWorkScheduleCardComponent_Template_p_calendar_onMonthChange_36_listener($event) { return ctx.onMonthChange($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](37, EmpWorkScheduleCardComponent_ng_template_37_Template, 2, 8, "ng-template", 22);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](38, EmpWorkScheduleCardComponent_ng_container_38_Template, 2, 0, "ng-container", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isEdit", ctx.empWorkSchedule)("isLoaded", ctx.isLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.isLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", !ctx.isLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("employeeId", ctx.employeeInstanceId)("isTableView", ctx.isTableView);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵclassProp"]("d-none", !ctx.isLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", !ctx.empWorkSchedule);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](19, 20, "vacation"));
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](23, 22, "absence"), "");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](27, 24, "mission"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](31, 26, "offHoliday"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](35, 28, "overtime"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("tabindex", -1)("autofocus", false)("inline", true)("readonlyInput", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", !ctx.isLoaded);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_13__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_13__.NgIf, _shared_skeletons_view_row_item_skeleton_view_row_item_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.ViewRowItemSkeletonComponent, primeng_api__WEBPACK_IMPORTED_MODULE_14__.PrimeTemplate, primeng_skeleton__WEBPACK_IMPORTED_MODULE_15__.Skeleton, primeng_messages__WEBPACK_IMPORTED_MODULE_16__.Messages, primeng_calendar__WEBPACK_IMPORTED_MODULE_17__.Calendar, primeng_autofocus__WEBPACK_IMPORTED_MODULE_18__.AutoFocus, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_work_schedule_table_emp_work_schedule_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpWorkScheduleTableComponent, _emp_workschedule_vacations_cards_emp_workschedule_vacations_cards_component__WEBPACK_IMPORTED_MODULE_11__.EmpWorkscheduleVacationsCardsComponent, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslatePipe], styles: [".current-day-color[_ngcontent-%COMP%]:before {\n  background: #ffffff !important;\n  border-color: #e5e5e5;\n}\n\n.weekend-color[_ngcontent-%COMP%]:before {\n  background: #dddddd !important;\n  border-color: #c9c9c9;\n}\n\n.annual-color[_ngcontent-%COMP%]:before {\n  background: #30b79d !important;\n  border-color: #4da997;\n}\n\n.vacation-color[_ngcontent-%COMP%] {\n  color: #169ed9 !important;\n}\n\n.absence-color[_ngcontent-%COMP%] {\n  color: #da0000;\n}\n\n.mission-color[_ngcontent-%COMP%] {\n  color: #735bf2;\n}\n\n.offHoliday-color[_ngcontent-%COMP%] {\n  color: #067a56;\n}\n\n.overtime-color[_ngcontent-%COMP%] {\n  color: #002e7f;\n}\n\n.weekend-color[_ngcontent-%COMP%] {\n  color: #323232;\n}\n\n.isVacation[_ngcontent-%COMP%]::after {\n  display: block !important;\n  border-color: #169ed9 !important;\n}\n\n.isOvertime[_ngcontent-%COMP%]::after {\n  display: block !important;\n  border-color: #002e7f !important;\n}\n\n.isAbsence[_ngcontent-%COMP%]::after {\n  display: block !important;\n  border-color: #da0000 !important;\n}\n\n.isMission[_ngcontent-%COMP%]::after {\n  display: block !important;\n  border-color: #735bf2 !important;\n}\n\n.isOffHoliday[_ngcontent-%COMP%]::after {\n  display: block !important;\n  border-color: #067a56 !important;\n}\n\n.isWeekEnds[_ngcontent-%COMP%]::after {\n  display: block !important;\n  border-color: #323232 !important;\n}\n\n.day-after[_ngcontent-%COMP%]::after, .day-before[_ngcontent-%COMP%]::before {\n  content: \"\";\n  width: 10px;\n  height: 10px;\n  border: solid 3px;\n  border-radius: 50%;\n  margin: -1px 2px;\n}\n\n.day-after[_ngcontent-%COMP%]::after {\n  display: none;\n  margin-left: auto !important;\n  margin-bottom: 2px;\n}\n\n.calendar-footer[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.map-text[_ngcontent-%COMP%] {\n  font-size: 12px;\n}\n\n  .emp-calender {\n  background: #fafafa;\n}\n\n  .emp-calender .p-datepicker {\n  padding-top: 0;\n}\n\n  .emp-calender .p-datepicker,   .emp-calender .p-datepicker .p-datepicker-header {\n  background: #fafafa;\n  border: none;\n}\n\n  .emp-calender .p-datepicker table th {\n  border-bottom: none;\n  padding-bottom: 20px;\n  color: #8f9bb3;\n  padding-left: 25px;\n}\n\n  .emp-calender .p-datepicker .p-disabled {\n  color: #8f9bb3;\n  opacity: 1;\n}\n\n  .emp-calender .p-datepicker table td.p-datepicker-today > span,   .emp-calender .p-datepicker:not(.p-disabled) table td.p-datepicker-today > span:hover {\n  border-radius: 9px;\n  background-color: #374761;\n  color: #fff;\n  border: none;\n}\n\n  .emp-calender .p-datepicker .p-datepicker-header .p-datepicker-prev,   .emp-calender .p-datepicker .p-datepicker-header .p-datepicker-next {\n  width: 2.5rem;\n  height: 2.5rem;\n}\n\n  .emp-calender .p-datepicker .p-datepicker-header .p-datepicker-prev {\n  order: 0;\n}\n\n  .emp-calender .p-datepicker .p-datepicker-header .p-datepicker-title {\n  margin: auto;\n}\n\n  .emp-calender .p-datepicker .p-datepicker-header .p-datepicker-prev,   .emp-calender .p-datepicker .p-datepicker-header .p-datepicker-next {\n  border: 1px solid #ced3de;\n  border-radius: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC13b3JrLXNjaGVkdWxlLWNhcmQuY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcYXNzZXRzXFxzYXNzXFxzdHlsZS1jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLDhCQUFBO0VBQ0EscUJBQUE7QUFERjs7QUFJQTtFQUNFLDhCQUFBO0VBQ0EscUJBQUE7QUFERjs7QUFJQTtFQUNFLDhCQUFBO0VBQ0EscUJBQUE7QUFERjs7QUFJQTtFQUNFLHlCQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0FBREY7O0FBSUE7RUFDRSxjQzlCc0I7QUQ2QnhCOztBQUlBO0VBQ0UseUJBQUE7RUFDQSxnQ0FBQTtBQURGOztBQUtBO0VBQ0UseUJBQUE7RUFDQSxnQ0FBQTtBQUZGOztBQU1BO0VBQ0UseUJBQUE7RUFDQSxnQ0FBQTtBQUhGOztBQU9BO0VBQ0UseUJBQUE7RUFDQSxnQ0FBQTtBQUpGOztBQVFBO0VBQ0UseUJBQUE7RUFDQSxnQ0FBQTtBQUxGOztBQVNBO0VBQ0UseUJBQUE7RUFDQSxnQ0FBQTtBQU5GOztBQVdBOztFQUVFLFdBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQVJGOztBQVdBO0VBQ0UsYUFBQTtFQUNBLDRCQUFBO0VBQ0Esa0JBQUE7QUFSRjs7QUFXQTtFQUNFLGFBQUE7QUFSRjs7QUFXQTtFQUNFLGVBQUE7QUFSRjs7QUFjRTtFQUNFLG1CQUFBO0FBWEo7O0FBYUk7RUFFRSxjQUFBO0FBWk47O0FBZUk7O0VBRUUsbUJBQUE7RUFDQSxZQUFBO0FBYk47O0FBZ0JJO0VBQ0UsbUJBQUE7RUFDQSxvQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQWROOztBQWlCSTtFQUNFLGNBQUE7RUFDQSxVQUFBO0FBZk47O0FBa0JJOztFQUVFLGtCQUFBO0VBQ0EseUJDdElPO0VEdUlQLFdBQUE7RUFDQSxZQUFBO0FBaEJOOztBQW1CSTs7RUFFRSxhQUFBO0VBQ0EsY0FBQTtBQWpCTjs7QUFvQkk7RUFDRSxRQUFBO0FBbEJOOztBQXFCSTtFQUNFLFlBQUE7QUFuQk47O0FBc0JJO0VBQ0UseUJBQUE7RUFDQSxtQkFBQTtBQXBCTiIsImZpbGUiOiJlbXAtd29yay1zY2hlZHVsZS1jYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcInNyYy9hc3NldHMvc2Fzcy9zdHlsZS1jb25zdGFudHNcIjtcclxuXHJcbi5jdXJyZW50LWRheS1jb2xvcjpiZWZvcmUge1xyXG4gIGJhY2tncm91bmQ6ICNmZmZmZmYgIWltcG9ydGFudDtcclxuICBib3JkZXItY29sb3I6ICNlNWU1ZTU7XHJcbn1cclxuXHJcbi53ZWVrZW5kLWNvbG9yOmJlZm9yZSB7XHJcbiAgYmFja2dyb3VuZDogI2RkZGRkZCAhaW1wb3J0YW50O1xyXG4gIGJvcmRlci1jb2xvcjogI2M5YzljOTtcclxufVxyXG5cclxuLmFubnVhbC1jb2xvcjpiZWZvcmUge1xyXG4gIGJhY2tncm91bmQ6ICMzMGI3OWQgIWltcG9ydGFudDtcclxuICBib3JkZXItY29sb3I6ICM0ZGE5OTc7XHJcbn1cclxuXHJcbi52YWNhdGlvbi1jb2xvciB7XHJcbiAgY29sb3I6ICRiYWJ5Qmx1ZS1jb2xvciAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uYWJzZW5jZS1jb2xvciB7XHJcbiAgY29sb3I6ICNkYTAwMDBcclxufVxyXG5cclxuLm1pc3Npb24tY29sb3Ige1xyXG4gIGNvbG9yOiAjNzM1YmYyXHJcbn1cclxuXHJcbi5vZmZIb2xpZGF5LWNvbG9yIHtcclxuICBjb2xvcjogIzA2N2E1NlxyXG59XHJcblxyXG4ub3ZlcnRpbWUtY29sb3Ige1xyXG4gIGNvbG9yOiAjMDAyZTdmXHJcbn1cclxuXHJcbi53ZWVrZW5kLWNvbG9yIHtcclxuICBjb2xvcjogJHN0ZXBwZXItc2VjdGlvbi10aXRsZTtcclxufVxyXG5cclxuLmlzVmFjYXRpb246OmFmdGVyIHtcclxuICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xyXG4gIGJvcmRlci1jb2xvcjogJGJhYnlCbHVlLWNvbG9yICFpbXBvcnRhbnQ7XHJcbiAgLy9ib3JkZXItd2lkdGg6IDIuNXB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5pc092ZXJ0aW1lOjphZnRlciB7XHJcbiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcclxuICBib3JkZXItY29sb3I6ICMwMDJlN2YgIWltcG9ydGFudDtcclxuICAvL2JvcmRlci13aWR0aDogMi41cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmlzQWJzZW5jZTo6YWZ0ZXIge1xyXG4gIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyLWNvbG9yOiAjZGEwMDAwICFpbXBvcnRhbnQ7XHJcbiAgLy8gYm9yZGVyLXdpZHRoOiAyLjVweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uaXNNaXNzaW9uOjphZnRlciB7XHJcbiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcclxuICBib3JkZXItY29sb3I6ICM3MzViZjIgIWltcG9ydGFudDtcclxuICAvL2JvcmRlci13aWR0aDogMi41cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmlzT2ZmSG9saWRheTo6YWZ0ZXIge1xyXG4gIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyLWNvbG9yOiAjMDY3YTU2ICFpbXBvcnRhbnQ7XHJcbiAgLy9ib3JkZXItd2lkdGg6IDIuNXB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5pc1dlZWtFbmRzOjphZnRlciB7XHJcbiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcclxuICBib3JkZXItY29sb3I6ICMzMjMyMzIgIWltcG9ydGFudDtcclxuICAvL2JvcmRlci13aWR0aDogMi41cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuXHJcbi5kYXktYWZ0ZXI6OmFmdGVyLFxyXG4uZGF5LWJlZm9yZTo6YmVmb3JlIHtcclxuICBjb250ZW50OiBcIlwiO1xyXG4gIHdpZHRoOiAxMHB4O1xyXG4gIGhlaWdodDogMTBweDtcclxuICBib3JkZXI6IHNvbGlkIDNweDtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgbWFyZ2luOiAtMXB4IDJweDtcclxufVxyXG5cclxuLmRheS1hZnRlcjo6YWZ0ZXIge1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbiAgbWFyZ2luLWxlZnQ6IGF1dG8gIWltcG9ydGFudDtcclxuICBtYXJnaW4tYm90dG9tOiAycHg7XHJcbn1cclxuXHJcbi5jYWxlbmRhci1mb290ZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcbi5tYXAtdGV4dCB7XHJcbiAgZm9udC1zaXplOiAxMnB4OztcclxufVxyXG5cclxuOjpuZy1kZWVwIHtcclxuXHJcblxyXG4gIC5lbXAtY2FsZW5kZXIge1xyXG4gICAgYmFja2dyb3VuZDogI2ZhZmFmYTtcclxuXHJcbiAgICAucC1kYXRlcGlja2VyIHtcclxuICAgICAgLy8gYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgICAgcGFkZGluZy10b3A6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLnAtZGF0ZXBpY2tlcixcclxuICAgIC5wLWRhdGVwaWNrZXIgLnAtZGF0ZXBpY2tlci1oZWFkZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLnAtZGF0ZXBpY2tlciB0YWJsZSB0aCB7XHJcbiAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7XHJcbiAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xyXG4gICAgICBjb2xvcjogIzhmOWJiMztcclxuICAgICAgcGFkZGluZy1sZWZ0OiAyNXB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5wLWRhdGVwaWNrZXIgLnAtZGlzYWJsZWQge1xyXG4gICAgICBjb2xvcjogIzhmOWJiMztcclxuICAgICAgb3BhY2l0eTogMTtcclxuICAgIH1cclxuXHJcbiAgICAucC1kYXRlcGlja2VyIHRhYmxlIHRkLnAtZGF0ZXBpY2tlci10b2RheSA+IHNwYW4sXHJcbiAgICAucC1kYXRlcGlja2VyOm5vdCgucC1kaXNhYmxlZCkgdGFibGUgdGQucC1kYXRlcGlja2VyLXRvZGF5ID4gc3Bhbjpob3ZlciB7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDlweDtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG1haW4tY29sb3I7XHJcbiAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLnAtZGF0ZXBpY2tlciAucC1kYXRlcGlja2VyLWhlYWRlciAucC1kYXRlcGlja2VyLXByZXYsXHJcbiAgICAucC1kYXRlcGlja2VyIC5wLWRhdGVwaWNrZXItaGVhZGVyIC5wLWRhdGVwaWNrZXItbmV4dCB7XHJcbiAgICAgIHdpZHRoOiAyLjVyZW07XHJcbiAgICAgIGhlaWdodDogMi41cmVtO1xyXG4gICAgfVxyXG5cclxuICAgIC5wLWRhdGVwaWNrZXIgLnAtZGF0ZXBpY2tlci1oZWFkZXIgLnAtZGF0ZXBpY2tlci1wcmV2IHtcclxuICAgICAgb3JkZXI6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLnAtZGF0ZXBpY2tlciAucC1kYXRlcGlja2VyLWhlYWRlciAucC1kYXRlcGlja2VyLXRpdGxlIHtcclxuICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgfVxyXG5cclxuICAgIC5wLWRhdGVwaWNrZXIgLnAtZGF0ZXBpY2tlci1oZWFkZXIgLnAtZGF0ZXBpY2tlci1wcmV2LCAucC1kYXRlcGlja2VyIC5wLWRhdGVwaWNrZXItaGVhZGVyIC5wLWRhdGVwaWNrZXItbmV4dCB7XHJcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjZWQzZGU7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIiRtYWluLWNvbG9yOiAjMzc0NzYxO1xyXG4kbWFpbi1jb2xvci1ob3ZlcjogIzRkNjA4MTtcclxuJGlucHV0LXJhZGl1czogOHB4O1xyXG4kaW5wdXQtZGlzYWJsZWQtY29sb3I6ICNmMmY0ZjU7XHJcbiRpbnB1dC1kaXNhYmxlZC1jb2xvci0yOiAjYTE5ZjlkO1xyXG4kZXJyb3ItY29sb3I6ICNmNDQzMzY7XHJcbiRiYWJ5Qmx1ZS1jb2xvcjogIzE2OWVkOTtcclxuJGZvbnRBd2Vzb21lOiBcIkZvbnQgQXdlc29tZSA1IEZyZWVcIjtcclxuJHN0ZXBwZXItc2VjdGlvbi10aXRsZTogIzMyMzIzMjtcclxuIl19 */"] });


/***/ }),

/***/ 47437:
/*!***************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-work-schedule/emp-work-schedule-dialog/emp-work-schedule-dialog.component.ts ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpWorkScheduleDialogComponent": () => (/* binding */ EmpWorkScheduleDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-work-schedule.service */ 89320);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_attendance_setup_attendance_plan_attendance_plan_dropdown_attendance_plan_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/attendance-setup/attendance-plan/attendance-plan-dropdown/attendance-plan-dropdown.component */ 47414);
/* harmony import */ var _emp_work_schedule_table_emp_work_schedule_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-work-schedule-table/emp-work-schedule-table.component */ 76038);
/* harmony import */ var _emp_workschedule_vacations_cards_emp_workschedule_vacations_cards_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../emp-workschedule-vacations-cards/emp-workschedule-vacations-cards.component */ 58721);





















function EmpWorkScheduleDialogComponent_reset_form_btn_20_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpWorkScheduleDialogComponent_reset_form_btn_20_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} }
class EmpWorkScheduleDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeWorkScheduleService, dialogRef) {
        super();
        this.employeeWorkScheduleService = employeeWorkScheduleService;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.isLoadedVacation = false;
        this.isLoadedSick = false;
        this.isLoadedWorking = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_work_schedule_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            plan_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            fromDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            is_Apply_Rules: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    onChangeBusinessAndCompanyId() {
        // if (this.dataSource?.data?.length > 0)
        //   this.dataSource = new MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0) {
            // this.getVacationDays();
            // this.getSickDays();
            // this.getWorkingDays();
            //  this.getList(this.firstPage);
        }
    }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeWorkScheduleService
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeWorkScheduleModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empWorkScheduleDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //  this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_Instance_ID: this.employeeInstanceId,
                    Plan_ID: this.formCtrls.plan_ID.value,
                    FromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.formCtrls.fromDate.value),
                    Is_Apply_Rules: this.formCtrls.is_Apply_Rules.value ?? false,
                },
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.employeeWorkScheduleService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        let editModel = {
            ...model,
            OldEmployeeData: {
                Person_Instance_ID: this.employeeInstanceId,
                Plan_ID: this.selectedPlan.plan_ID,
                FromDate: this.selectedPlan.fromDate,
                ToDate: this.selectedPlan.toDateOriginal,
            },
        };
        this.showLoading("dialog");
        this.employeeWorkScheduleService
            .update(editModel)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
                this.getList = true;
                this.selectedPlan = null;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeWorkScheduleToEdit(employeeWorkScheduleInfo) {
        this.form.patchValue(employeeWorkScheduleInfo);
        // not real id >> only to detect edit mode
        this.formCtrls.id.setValue(employeeWorkScheduleInfo.plan_ID);
        // to use in edit request
        this.selectedPlan = employeeWorkScheduleInfo;
    }
    // onDelete(employeeWorkScheduleInfo: IEmployeeWorkScheduleModel): void {
    //   let msg = employeeWorkScheduleInfo.plan;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeWorkScheduleInfo);
    //   });
    // }
    //
    // delete(employeeWorkScheduleInfo: IEmployeeWorkScheduleModel) {
    //   let deleteParams: IEmpWorkScheduleDeleteParams = {
    //     Person_Instance_ID: this.employeeInstanceId,
    //     Plan_ID: employeeWorkScheduleInfo.plan_ID,
    //     FromDate: employeeWorkScheduleInfo.fromDate,
    //     ToDate: employeeWorkScheduleInfo.toDateOriginal,
    //   };
    //   this.showLoading();
    //   this.employeeWorkScheduleService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         }
    //         else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.hasUpdate = true;
    //         if (
    //           employeeWorkScheduleInfo.plan_ID == this.selectedPlan?.plan_ID &&
    //           employeeWorkScheduleInfo.fromDate == this.selectedPlan?.fromDate &&
    //           employeeWorkScheduleInfo.toDateOriginal ==
    //           this.selectedPlan?.toDateOriginal &&
    //           this.formCtrls.id.value > 0
    //         )
    //           this.clearForm();
    //       }
    //       else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    afterDelete(WorkSchedule) {
        if (WorkSchedule.plan_ID == this.selectedPlan?.plan_ID &&
            WorkSchedule.fromDate == this.selectedPlan?.fromDate &&
            WorkSchedule.toDateOriginal ==
                this.selectedPlan?.toDateOriginal &&
            this.formCtrls.id.value > 0)
            this.clearForm();
        if (WorkSchedule)
            this.hasUpdate = true;
    }
}
EmpWorkScheduleDialogComponent.ɵfac = function EmpWorkScheduleDialogComponent_Factory(t) { return new (t || EmpWorkScheduleDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeWorkScheduleService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmpWorkScheduleDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: EmpWorkScheduleDialogComponent, selectors: [["emp-work-schedule-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵInheritDefinitionFeature"]], decls: 22, vars: 15, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "workSchedule", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [1, "pt-2"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "plan", 3, "control", "submitted", "filter", "appendTo"], ["label", "startDate", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "ptop-15", "pbottom-15"], ["label", "is_Apply_Rules", 3, "control"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpWorkScheduleDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpWorkScheduleDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](9, "app-emp-workschedule-vacations-cards");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](10, "form", 8)(11, "div", 9)(12, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](13, "app-attendance-plan-dropdown", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](14, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](15, "app-datepicker", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](16, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](17, "app-check-box", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](18, "div", 15)(19, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onClick", function EmpWorkScheduleDialogComponent_Template_submit_btn_onClick_19_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](20, EmpWorkScheduleDialogComponent_reset_form_btn_20_Template, 1, 0, "reset-form-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](21, "app-emp-work-schedule-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("rowToEdit", function EmpWorkScheduleDialogComponent_Template_app_emp_work_schedule_table_rowToEdit_21_listener($event) { return ctx.employeeWorkScheduleToEdit($event); })("afterDelete", function EmpWorkScheduleDialogComponent_Template_app_emp_work_schedule_table_afterDelete_21_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.plan_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.fromDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.is_Apply_Rules);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_attendance_setup_attendance_plan_attendance_plan_dropdown_attendance_plan_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.AttendancePlanDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_15__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormGroupDirective, _emp_work_schedule_table_emp_work_schedule_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpWorkScheduleTableComponent, _emp_workschedule_vacations_cards_emp_workschedule_vacations_cards_component__WEBPACK_IMPORTED_MODULE_13__.EmpWorkscheduleVacationsCardsComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtd29yay1zY2hlZHVsZS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 76038:
/*!*************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-work-schedule/emp-work-schedule-table/emp-work-schedule-table.component.ts ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpWorkScheduleTableComponent": () => (/* binding */ EmpWorkScheduleTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-work-schedule.service */ 89320);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpWorkScheduleTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpWorkScheduleTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpWorkScheduleTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpWorkScheduleTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpWorkScheduleTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeWorkScheduleService) {
        super();
        this.employeeWorkScheduleService = employeeWorkScheduleService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.employeeInstanceId = 0;
        this.mandatoryColomns = [
            "plan",
            "startDate",
            "toDate",
            "is_Apply_Rules",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_work_schedule_sec);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0) {
            // this.getVacationDays();
            // this.getSickDays();
            // this.getWorkingDays();
            this.getList(this.firstPage);
        }
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeWorkScheduleService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__.empWorkScheduleDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(WorkSchedule) {
        this.rowToEdit.emit(WorkSchedule);
    }
    onDelete(WorkSchedule) {
        let msg = WorkSchedule.plan;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(WorkSchedule);
        });
    }
    delete(WorkSchedule) {
        let deleteParams = {
            Person_Instance_ID: this.employeeInstanceId,
            Plan_ID: WorkSchedule.plan_ID,
            FromDate: WorkSchedule.fromDate,
            ToDate: WorkSchedule.toDateOriginal,
        };
        this.showLoading("table");
        this.employeeWorkScheduleService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.afterDelete.emit(WorkSchedule);
                // this.updated = true;
                // if (
                //   employeeWorkScheduleInfo.plan_ID == this.selectedPlan?.plan_ID &&
                //   employeeWorkScheduleInfo.fromDate == this.selectedPlan?.fromDate &&
                //   employeeWorkScheduleInfo.toDateOriginal ==
                //   this.selectedPlan?.toDateOriginal &&
                //   this.formCtrls.id.value > 0
                // )
                //   this.clearForm();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpWorkScheduleTableComponent.ɵfac = function EmpWorkScheduleTableComponent_Factory(t) { return new (t || EmpWorkScheduleTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeWorkScheduleService)); };
EmpWorkScheduleTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpWorkScheduleTableComponent, selectors: [["app-emp-work-schedule-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpWorkScheduleTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpWorkScheduleTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtd29yay1zY2hlZHVsZS10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 58721:
/*!*******************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-work-schedule/emp-workschedule-vacations-cards/emp-workschedule-vacations-cards.component.ts ***!
  \*******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpWorkscheduleVacationsCardsComponent": () => (/* binding */ EmpWorkscheduleVacationsCardsComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-work-schedule.service */ 89320);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_emp_plan_card_dashboard_skeleton_emp_plan_card_dashboard_skeleton_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/emp-plan-card-dashboard-skeleton/emp-plan-card-dashboard-skeleton.component */ 72763);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ 89461);








function EmpWorkscheduleVacationsCardsComponent_div_2_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "div", 17)(2, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](ctx_r9.vacationDays == null ? null : ctx_r9.vacationDays.used);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"]("/", ctx_r9.vacationDays == null ? null : ctx_r9.vacationDays.totalBalance, "");
} }
function EmpWorkscheduleVacationsCardsComponent_div_2_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](2, 1, "noVacationBalance"));
} }
function EmpWorkscheduleVacationsCardsComponent_div_2_p_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "p", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](2, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](3, 3, "vacationDaysUsed")), " ");
} }
function EmpWorkscheduleVacationsCardsComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7)(1, "div", 8)(2, "div", 9)(3, "div", 10)(4, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](5, EmpWorkscheduleVacationsCardsComponent_div_2_ng_container_5_Template, 6, 2, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](6, EmpWorkscheduleVacationsCardsComponent_div_2_ng_template_6_Template, 3, 3, "ng-template", null, 13, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](8, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](9, "i", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](10, EmpWorkscheduleVacationsCardsComponent_div_2_p_10_Template, 4, 5, "p", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](7);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", (ctx_r0.vacationDays == null ? null : ctx_r0.vacationDays.totalBalance) > 0)("ngIfElse", _r10);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", (ctx_r0.vacationDays == null ? null : ctx_r0.vacationDays.totalBalance) > 0);
} }
function EmpWorkscheduleVacationsCardsComponent_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](0, "emp-plan-card-dashboard-skeleton");
} }
function EmpWorkscheduleVacationsCardsComponent_div_6_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "div", 17)(2, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](ctx_r13.sickDays == null ? null : ctx_r13.sickDays.used);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"]("/", ctx_r13.sickDays == null ? null : ctx_r13.sickDays.totalBalance, "");
} }
function EmpWorkscheduleVacationsCardsComponent_div_6_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](2, 1, "noSickBalance"));
} }
function EmpWorkscheduleVacationsCardsComponent_div_6_p_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "p", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](2, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](3, 3, "sickDaysUsed")), " ");
} }
function EmpWorkscheduleVacationsCardsComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7)(1, "div", 8)(2, "div", 9)(3, "div", 10)(4, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](5, EmpWorkscheduleVacationsCardsComponent_div_6_ng_container_5_Template, 6, 2, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](6, EmpWorkscheduleVacationsCardsComponent_div_6_ng_template_6_Template, 3, 3, "ng-template", null, 20, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](8, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](9, "i", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](10, EmpWorkscheduleVacationsCardsComponent_div_6_p_10_Template, 4, 5, "p", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](7);
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", (ctx_r3.sickDays == null ? null : ctx_r3.sickDays.totalBalance) > 0)("ngIfElse", _r14);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", (ctx_r3.sickDays == null ? null : ctx_r3.sickDays.totalBalance) > 0);
} }
function EmpWorkscheduleVacationsCardsComponent_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](0, "emp-plan-card-dashboard-skeleton");
} }
function EmpWorkscheduleVacationsCardsComponent_div_10_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "div", 17)(2, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](ctx_r17.workingHours == null ? null : ctx_r17.workingHours.hoursAchieved);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"]("/", ctx_r17.workingHours == null ? null : ctx_r17.workingHours.hoursScheduled, "");
} }
function EmpWorkscheduleVacationsCardsComponent_div_10_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](2, 1, "noWorkingBalance"));
} }
function EmpWorkscheduleVacationsCardsComponent_div_10_p_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "p", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](2, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](3, 3, "hoursAchieved")), " ");
} }
function EmpWorkscheduleVacationsCardsComponent_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7)(1, "div", 8)(2, "div", 9)(3, "div", 10)(4, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](5, EmpWorkscheduleVacationsCardsComponent_div_10_ng_container_5_Template, 6, 2, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](6, EmpWorkscheduleVacationsCardsComponent_div_10_ng_template_6_Template, 3, 3, "ng-template", null, 22, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](8, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](9, "i", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](10, EmpWorkscheduleVacationsCardsComponent_div_10_p_10_Template, 4, 5, "p", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](7);
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", (ctx_r6.workingHours == null ? null : ctx_r6.workingHours.hoursScheduled) > 0)("ngIfElse", _r18);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", (ctx_r6.workingHours == null ? null : ctx_r6.workingHours.hoursScheduled) > 0);
} }
function EmpWorkscheduleVacationsCardsComponent_ng_template_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](0, "emp-plan-card-dashboard-skeleton");
} }
class EmpWorkscheduleVacationsCardsComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeWorkScheduleService) {
        super();
        this.employeeWorkScheduleService = employeeWorkScheduleService;
        this.employeeInstanceId = 0;
        this.isLoadedVacation = false;
        this.isLoadedSick = false;
        this.isLoadedWorking = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__.EmpGeneralInfoService.EmployeeInstanceId;
        this.languageService.isArabic;
    }
    ngOnInit() {
    }
    onChangeBusinessAndCompanyId() {
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0) {
            this.getVacationDays();
            this.getSickDays();
            this.getWorkingDays();
        }
    }
    // Dashboards
    getVacationDays() {
        this.employeeWorkScheduleService
            .getAnnualCasualDashboard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.vacationDays = res.data;
                this.isLoadedVacation = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    getSickDays() {
        this.employeeWorkScheduleService
            .getSickLeaveDashboard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.sickDays = res.data;
                this.isLoadedSick = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    getWorkingDays() {
        this.employeeWorkScheduleService
            .getWorkingHoursDashboard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.workingHours = res.data;
                this.isLoadedWorking = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
}
EmpWorkscheduleVacationsCardsComponent.ɵfac = function EmpWorkscheduleVacationsCardsComponent_Factory(t) { return new (t || EmpWorkscheduleVacationsCardsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_3__.EmployeeWorkScheduleService)); };
EmpWorkscheduleVacationsCardsComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmpWorkscheduleVacationsCardsComponent, selectors: [["app-emp-workschedule-vacations-cards"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 13, vars: 7, consts: [[1, "row", "bg-white", "p-0", "m-0"], [1, "col-12", "col-lg-4", "mb-sm-1", "mb-md-1", 3, "ngClass"], ["class", "card card-vacations-custom card-inverse", 4, "ngIf", "ngIfElse"], ["loadingVacation", ""], [1, "col-12", "col-lg-4", "mb-sm-1", "mb-md-1"], ["loadingSick", ""], ["loadingWorking", ""], [1, "card", "card-vacations-custom", "card-inverse"], [1, "card-content"], [1, "card-body"], [1, "media"], [1, "media-body", "text-left"], [4, "ngIf", "ngIfElse"], ["noVacationBalance", ""], [1, "media-right", "align-self-center"], [1, "fas", "fa-umbrella-beach", "float-right", "darkBlue"], ["class", "ca-title", 4, "ngIf"], [1, "card-text"], [1, "placeholder"], [1, "ca-title"], ["noSickBalance", ""], [1, "fas", "fa-thermometer-three-quarters", "float-right", "darkBlue"], ["noWorkBalance", ""], [1, "fas", "fa-clock", "float-right", "darkBlue"]], template: function EmpWorkscheduleVacationsCardsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](2, EmpWorkscheduleVacationsCardsComponent_div_2_Template, 11, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](3, EmpWorkscheduleVacationsCardsComponent_ng_template_3_Template, 1, 0, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](6, EmpWorkscheduleVacationsCardsComponent_div_6_Template, 11, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](7, EmpWorkscheduleVacationsCardsComponent_ng_template_7_Template, 1, 0, "ng-template", null, 5, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](9, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](10, EmpWorkscheduleVacationsCardsComponent_div_10_Template, 11, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](11, EmpWorkscheduleVacationsCardsComponent_ng_template_11_Template, 1, 0, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](4);
        const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](8);
        const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngClass", ctx.languageService.isArabic ? "mr-0 pr-0" : "ml-0 pl-0");
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isLoadedVacation)("ngIfElse", _r1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isLoadedSick)("ngIfElse", _r4);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isLoadedWorking)("ngIfElse", _r7);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _shared_skeletons_employee_emp_plan_card_dashboard_skeleton_emp_plan_card_dashboard_skeleton_component__WEBPACK_IMPORTED_MODULE_4__.EmpPlanCardDashboardSkeletonComponent, _angular_common__WEBPACK_IMPORTED_MODULE_6__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__.TranslatePipe], styles: [".card.card-vacations-custom[_ngcontent-%COMP%] {\n  margin: 0;\n  background-color: rgba(55, 71, 97, 0.08) !important;\n  height: 141px;\n  box-shadow: none;\n  border-radius: 10px;\n}\n\nstrong[_ngcontent-%COMP%] {\n  color: #169ed9;\n  font-size: 30px;\n}\n\nsmall[_ngcontent-%COMP%] {\n  font-size: 20px;\n}\n\n.ca-title[_ngcontent-%COMP%] {\n  font-size: 18px;\n  text-align: center;\n  margin-top: 7px;\n}\n\n.ca-title[_ngcontent-%COMP%], .placeholder[_ngcontent-%COMP%], small[_ngcontent-%COMP%] {\n  color: #323232 !important;\n}\n\n.media-right[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  font-size: 37px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC13b3Jrc2NoZWR1bGUtdmFjYXRpb25zLWNhcmRzLmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcc2Fzc1xcc3R5bGUtY29uc3RhbnRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFDRSxTQUFBO0VBQ0EsbURBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQUZGOztBQUtBO0VBQ0UsY0NOZTtFRE9mLGVBQUE7QUFGRjs7QUFLQTtFQUNFLGVBQUE7QUFGRjs7QUFLQTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFGRjs7QUFLQTtFQUNFLHlCQUFBO0FBRkY7O0FBS0E7RUFDRSxlQUFBO0FBRkYiLCJmaWxlIjoiZW1wLXdvcmtzY2hlZHVsZS12YWNhdGlvbnMtY2FyZHMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwic3JjL2Fzc2V0cy9zYXNzL3N0eWxlLWNvbnN0YW50c1wiO1xyXG5cclxuXHJcbi5jYXJkLmNhcmQtdmFjYXRpb25zLWN1c3RvbSB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTUsIDcxLCA5NywgMC4wOCkgIWltcG9ydGFudDtcclxuICBoZWlnaHQ6IDE0MXB4O1xyXG4gIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufVxyXG5cclxuc3Ryb25nIHtcclxuICBjb2xvcjogJGJhYnlCbHVlLWNvbG9yO1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxufVxyXG5cclxuc21hbGwge1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxufVxyXG5cclxuLmNhLXRpdGxlIHtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbi10b3A6IDdweFxyXG59XHJcblxyXG4uY2EtdGl0bGUsIC5wbGFjZWhvbGRlciwgc21hbGwge1xyXG4gIGNvbG9yOiAkc3RlcHBlci1zZWN0aW9uLXRpdGxlICFpbXBvcnRhbnRcclxufVxyXG5cclxuLm1lZGlhLXJpZ2h0IGkge1xyXG4gIGZvbnQtc2l6ZTogMzdweDtcclxufVxyXG4iLCIkbWFpbi1jb2xvcjogIzM3NDc2MTtcclxuJG1haW4tY29sb3ItaG92ZXI6ICM0ZDYwODE7XHJcbiRpbnB1dC1yYWRpdXM6IDhweDtcclxuJGlucHV0LWRpc2FibGVkLWNvbG9yOiAjZjJmNGY1O1xyXG4kaW5wdXQtZGlzYWJsZWQtY29sb3ItMjogI2ExOWY5ZDtcclxuJGVycm9yLWNvbG9yOiAjZjQ0MzM2O1xyXG4kYmFieUJsdWUtY29sb3I6ICMxNjllZDk7XHJcbiRmb250QXdlc29tZTogXCJGb250IEF3ZXNvbWUgNSBGcmVlXCI7XHJcbiRzdGVwcGVyLXNlY3Rpb24tdGl0bGU6ICMzMjMyMzI7XHJcbiJdfQ== */"] });


/***/ }),

/***/ 20001:
/*!***************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/employement-info-core/employement-info-core.component.ts ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployementInformationComponent": () => (/* binding */ EmployementInformationComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_job_info_emp_job_info_card_emp_job_info_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-job-info/emp-job-info-card/emp-job-info-card.component */ 55813);
/* harmony import */ var _emp_work_schedule_emp_work_schedule_card_emp_work_schedule_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-work-schedule/emp-work-schedule-card/emp-work-schedule-card.component */ 1250);
/* harmony import */ var _emp_hiring_documents_emp_hiring_documents_card_emp_hiring_documents_card_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../emp-hiring-documents/emp-hiring-documents-card/emp-hiring-documents-card.component */ 78471);
/* harmony import */ var _emp_location_emp_location_card_emp_location_card_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../emp-location/emp-location-card/emp-location-card.component */ 6208);
/* harmony import */ var _emp_custodies_emp_custodies_card_emp_custodies_card_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../emp-custodies/emp-custodies-card/emp-custodies-card.component */ 63042);
/* harmony import */ var _emp_social_insurance_emp_social_insurance_card_emp_social_insurance_card_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../emp-social-insurance/emp-social-insurance-card/emp-social-insurance-card.component */ 81988);
/* harmony import */ var _emp_contract_emp_contract_card_emp_contract_card_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../emp-contract/emp-contract-card/emp-contract-card.component */ 83379);













function EmployementInformationComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "emp-job-info-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "app-emp-contract-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "emp-hiring-documents-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "emp-work-schedule-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "app-emp-location-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "app-emp-custodies-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "app-emp-social-insurance-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
class EmployementInformationComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.employment_info_tab);
        //  console.log("employment_info", this.allowedSections);
    }
}
EmployementInformationComponent.ɵfac = function EmployementInformationComponent_Factory(t) { return new (t || EmployementInformationComponent)(); };
EmployementInformationComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmployementInformationComponent, selectors: [["employement-information-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 14, vars: 7, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "employmentInfo", "color", "font-dark", 1, "emp-card-title"], [1, "container-fluid", "p-0", "px-4"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmployementInformationComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](7, EmployementInformationComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](8, EmployementInformationComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](9, EmployementInformationComponent_div_9_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](10, EmployementInformationComponent_div_10_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](11, EmployementInformationComponent_div_11_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](12, EmployementInformationComponent_div_12_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](13, EmployementInformationComponent_div_13_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_job_info_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_job_info_contract_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_hiring_documents_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_work_schedule_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_location_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_custodies_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_social_insurance_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_12__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_12__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_12__.MatCardTitle, _emp_job_info_emp_job_info_card_emp_job_info_card_component__WEBPACK_IMPORTED_MODULE_3__.EmpJobInfoCardComponent, _emp_work_schedule_emp_work_schedule_card_emp_work_schedule_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpWorkScheduleCardComponent, _emp_hiring_documents_emp_hiring_documents_card_emp_hiring_documents_card_component__WEBPACK_IMPORTED_MODULE_5__.EmpHiringDocumentsCardComponent, _emp_location_emp_location_card_emp_location_card_component__WEBPACK_IMPORTED_MODULE_6__.EmpLocationCardComponent, _emp_custodies_emp_custodies_card_emp_custodies_card_component__WEBPACK_IMPORTED_MODULE_7__.EmpCustodiesCardComponent, _emp_social_insurance_emp_social_insurance_card_emp_social_insurance_card_component__WEBPACK_IMPORTED_MODULE_8__.EmpSocialInsuranceCardComponent, _emp_contract_emp_contract_card_emp_contract_card_component__WEBPACK_IMPORTED_MODULE_9__.EmpContractCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llbWVudC1pbmZvLWNvcmUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 56275:
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-card/emp-banking-account-data-card.component.ts ***!
  \*****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpBankingAccountDataCardComponent": () => (/* binding */ EmpBankingAccountDataCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-payments-info */ 42562);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_banking_account_data_dialog_emp_banking_account_data_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-banking-account-data-dialog/emp-banking-account-data-dialog.component */ 19434);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/payments-info/employee-banking-account.service */ 38242);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_banking_account_data_table_emp_banking_account_data_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-banking-account-data-table/emp-banking-account-data-table.component */ 44011);













function EmpBankingAccountDataCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeBankingAccountInfo == null ? null : ctx_r3.employeeBankingAccountInfo.bank);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeBankingAccountInfo == null ? null : ctx_r3.employeeBankingAccountInfo.accountNo);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeBankingAccountInfo == null ? null : ctx_r3.employeeBankingAccountInfo.startDate);
} }
function EmpBankingAccountDataCardComponent_div_0_emp_banking_account_data_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "emp-banking-account-data-table", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpBankingAccountDataCardComponent_div_0_emp_banking_account_data_table_6_Template_emp_banking_account_data_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r5.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpBankingAccountDataCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpBankingAccountDataCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r7.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpBankingAccountDataCardComponent_div_0_div_5_Template, 4, 3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpBankingAccountDataCardComponent_div_0_emp_banking_account_data_table_6_Template, 1, 2, "emp-banking-account-data-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpBankingAccountDataCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r9.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.employeeBankingAccountInfo)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeInstanceId)("isTableView", ctx_r0.isTableView);
} }
function EmpBankingAccountDataCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 15);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 3);
} }
class EmpBankingAccountDataCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeBankingAccountService) {
        super();
        this.employeeBankingAccountService = employeeBankingAccountService;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAll();
            }
            else
                this.isLoaded = true;
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.employeeBankingAccountInfo = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getAll();
    //   else this.isLoaded = true;
    // }
    getAll() {
        this.employeeBankingAccountInfo = null;
        this.employeeBankingAccountService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                // sort by start date (from new to old)
                res.data.sort((a, b) => new Date(b.from_Date).getTime() - new Date(a.from_Date).getTime());
                this.employeeBankingAccountInfo = (0,app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__.empBankingAccountDisplay)(res.data.slice(0, 1))[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_banking_account_data_dialog_emp_banking_account_data_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpBankingAccountDataDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    afterDelete(bankingAccount) {
        if (bankingAccount) {
            this.isLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpBankingAccountDataCardComponent.ɵfac = function EmpBankingAccountDataCardComponent_Factory(t) { return new (t || EmpBankingAccountDataCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeBankingAccountService)); };
EmpBankingAccountDataCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpBankingAccountDataCardComponent, selectors: [["app-emp-banking-account-data-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "bankingAccountData", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "bank", 1, "col-3", "px-0", 3, "value"], ["label", "accountNo", 1, "col-3", "px-0", 3, "value"], ["label", "startDate", "valueClass", "col-6 text-muted", 1, "col-3", "px-0", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpBankingAccountDataCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpBankingAccountDataCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpBankingAccountDataCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_banking_account_data_table_emp_banking_account_data_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpBankingAccountDataTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYmFua2luZy1hY2NvdW50LWRhdGEtY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 19434:
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-dialog/emp-banking-account-data-dialog.component.ts ***!
  \*********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpBankingAccountDataDialogComponent": () => (/* binding */ EmpBankingAccountDataDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/payments-info/employee-banking-account.service */ 38242);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_bank_dropdown_bank_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/bank-dropdown/bank-dropdown.component */ 52013);
/* harmony import */ var _emp_banking_account_data_table_emp_banking_account_data_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-banking-account-data-table/emp-banking-account-data-table.component */ 44011);





















function EmpBankingAccountDataDialogComponent_reset_form_btn_18_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpBankingAccountDataDialogComponent_reset_form_btn_18_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmpBankingAccountDataDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(empBankingService, dialogRef) {
        super();
        this.empBankingService = empBankingService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        //  this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        // this.form?.get('statusDate').setValue()
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_banking_account_data_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            bank_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            accountNo: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.number]],
            startDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
            cardNumber: [null],
            isDebit: [false],
            branchId: [null], // not used in screen yet value (null)
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeInstanceId > 0) this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.empBankingService
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeBankingAccountModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empBankingAccountDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    // this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                employeeData: {
                    person_Instance_ID: this.employeeInstanceId,
                    bank_ID: this.form.value.bank_ID,
                    accountNo: this.form.value.accountNo,
                    from_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.startDate),
                    cardNumber: this.form.value.cardNumber,
                    isDebit: this.form.value.isDebit ?? false,
                    branchId: this.form.value.branchId,
                },
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.empBankingService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        let editModel = {
            ...model,
            OldEmployeeData: {
                person_Instance_ID: this.employeeInstanceId,
                bank_ID: this.selectedAccountBank.bank_ID,
                accountNo: this.selectedAccountBank.accountNo,
            },
        };
        this.showLoading("dialog");
        this.empBankingService
            .update(editModel)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
                this.selectedAccountBank = null;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeBankingAccountToEdit(bankingAccount) {
        this.form.patchValue(bankingAccount);
        this.formCtrls.startDate.setValue(bankingAccount.from_Date);
        // to detect edit mode
        this.formCtrls.id.setValue(bankingAccount.bank_ID);
        this.selectedAccountBank = bankingAccount;
    }
    // onDelete(bankingAccount: IEmployeeBankingAccountModel): void {
    //   let msg = bankingAccount.bank;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(bankingAccount);
    //   });
    // }
    //
    // delete(bankingAccount: IEmployeeBankingAccountModel) {
    //   let deleteParams: IEmployeeBankingAccountDeleteParams = {
    //     Person_Instance_ID: this.employeeInstanceId,
    //     Bank_ID: bankingAccount.bank_ID,
    //     AccountNum: bankingAccount.accountNo,
    //   };
    //   this.showLoading();
    //   this.empBankingService.Delete(deleteParams).subscribe((res: IResponse) => {
    //     if (res.message.messageType == MessageTypes.Success) {
    //       this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //       if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //         // if last item in list: get previous page
    //         this.getList(this.prevPage, this.page.dialogSize);
    //       } else {
    //         // if not last item in list: get current page
    //         this.getList(this.currentPage, this.page.dialogSize);
    //       }
    //       this.hasUpdate = true;
    //       if (
    //         bankingAccount.comm_Bank?.id == this.selectedAccountBank?.bank_ID &&
    //         bankingAccount.accountNo == this.selectedAccountBank?.accountNo &&
    //         // if edit
    //         this.formCtrls.id.value > 0
    //       )
    //         this.clearForm();
    //     } else this.errorList(res?.message?.messages);
    //     this.hideLoading();
    //   });
    // }
    afterDelete(bankingAccount) {
        if (bankingAccount.comm_Bank?.id == this.selectedAccountBank?.bank_ID &&
            bankingAccount.accountNo == this.selectedAccountBank?.accountNo &&
            // if edit
            this.formCtrls.id.value > 0)
            this.clearForm();
        if (bankingAccount)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 /* , statusDate: this.statusDate */ });
        this.submitted = false;
    }
}
EmpBankingAccountDataDialogComponent.ɵfac = function EmpBankingAccountDataDialogComponent_Factory(t) { return new (t || EmpBankingAccountDataDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeBankingAccountService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmpBankingAccountDataDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmpBankingAccountDataDialogComponent, selectors: [["app-emp-banking-account-data-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 20, vars: 16, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "bankingAccountData", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "accountNo", 3, "control", "submitted"], ["label", "startDate", 3, "control", "submitted"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpBankingAccountDataDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpBankingAccountDataDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "app-bank-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-datepicker", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 13)(17, "submit-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmpBankingAccountDataDialogComponent_Template_submit_btn_onClick_17_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](18, EmpBankingAccountDataDialogComponent_reset_form_btn_18_Template, 1, 0, "reset-form-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](19, "emp-banking-account-data-table", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmpBankingAccountDataDialogComponent_Template_emp_banking_account_data_table_rowToEdit_19_listener($event) { return ctx.employeeBankingAccountToEdit($event); })("afterDelete", function EmpBankingAccountDataDialogComponent_Template_emp_banking_account_data_table_afterDelete_19_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.bank_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.accountNo)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.startDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__.InputComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_bank_dropdown_bank_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.BankDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_banking_account_data_table_emp_banking_account_data_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpBankingAccountDataTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYmFua2luZy1hY2NvdW50LWRhdGEtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 44011:
/*!*******************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-table/emp-banking-account-data-table.component.ts ***!
  \*******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpBankingAccountDataTableComponent": () => (/* binding */ EmpBankingAccountDataTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-payments-info */ 42562);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/payments-info/employee-banking-account.service */ 38242);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpBankingAccountDataTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpBankingAccountDataTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpBankingAccountDataTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpBankingAccountDataTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpBankingAccountDataTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(empBankingService) {
        super();
        this.empBankingService = empBankingService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "bank",
            "accountNo",
            "startDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeInstanceId = 0;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_banking_account_data_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex((e) => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.empBankingService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__.empBankingAccountDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(s4Hana) {
        this.rowToEdit.emit(s4Hana);
    }
    onDelete(bankingAccount) {
        let msg = bankingAccount.bank;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(bankingAccount);
        });
    }
    delete(bankingAccount) {
        let deleteParams = {
            Person_Instance_ID: this.employeeInstanceId,
            Bank_ID: bankingAccount.bank_ID,
            AccountNum: bankingAccount.accountNo,
        };
        this.showLoading("table");
        this.empBankingService.Delete(deleteParams).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(bankingAccount);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpBankingAccountDataTableComponent.ɵfac = function EmpBankingAccountDataTableComponent_Factory(t) { return new (t || EmpBankingAccountDataTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeBankingAccountService)); };
EmpBankingAccountDataTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpBankingAccountDataTableComponent, selectors: [["emp-banking-account-data-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpBankingAccountDataTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpBankingAccountDataTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYmFua2luZy1hY2NvdW50LWRhdGEtdGFibGUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 61198:
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-payments-info-core/emp-payments-info-core.component.ts ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPaymentsInfoCoreComponent": () => (/* binding */ EmpPaymentsInfoCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_payroll_data_emp_payroll_data_card_emp_payroll_data_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-payroll-data/emp-payroll-data-card/emp-payroll-data-card.component */ 80151);
/* harmony import */ var _emp_banking_account_data_emp_banking_account_data_card_emp_banking_account_data_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-banking-account-data/emp-banking-account-data-card/emp-banking-account-data-card.component */ 56275);








function EmpPaymentsInfoCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "app-emp-payroll-data-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
function EmpPaymentsInfoCoreComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "app-emp-banking-account-data-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
class EmpPaymentsInfoCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_payments_info_tab);
        //  console.log("payments_info", this.allowedSections);
    }
}
EmpPaymentsInfoCoreComponent.ɵfac = function EmpPaymentsInfoCoreComponent_Factory(t) { return new (t || EmpPaymentsInfoCoreComponent)(); };
EmpPaymentsInfoCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmpPaymentsInfoCoreComponent, selectors: [["emp-payments-info-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 2, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "paymentsInfo", "color", "font-dark", 1, "emp-card-title"], [1, "container-fluid", "p-0", "px-4"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmpPaymentsInfoCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](7, EmpPaymentsInfoCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](8, EmpPaymentsInfoCoreComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_payroll_data_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_banking_account_data_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardTitle, _emp_payroll_data_emp_payroll_data_card_emp_payroll_data_card_component__WEBPACK_IMPORTED_MODULE_3__.EmpPayrollDataCardComponent, _emp_banking_account_data_emp_banking_account_data_card_emp_banking_account_data_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpBankingAccountDataCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGF5bWVudHMtaW5mby1jb3JlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 80151:
/*!*****************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-payroll-data/emp-payroll-data-card/emp-payroll-data-card.component.ts ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPayrollDataCardComponent": () => (/* binding */ EmpPayrollDataCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-payments-info */ 42562);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_payroll_data_dialog_emp_payroll_data_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-payroll-data-dialog/emp-payroll-data-dialog.component */ 85303);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_payments_info_employee_payroll_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/payments-info/employee-payroll.service */ 80374);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);













function EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_div_1_div_4_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 20)(1, "p", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](3, "p", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const variable_r13 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", variable_r13 == null ? null : variable_r13.variable, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](variable_r13 == null ? null : variable_r13.value);
} }
function EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_div_1_div_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_div_1_div_4_div_1_Template, 5, 2, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const payment_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngForOf", payment_r6 == null ? null : payment_r6.variables);
} }
function EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_div_1_ng_template_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", "---", " ");
} }
function EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 14)(1, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](3, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](4, EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_div_1_div_4_Template, 2, 1, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_div_1_ng_template_5_Template, 2, 1, "ng-template", null, 17, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](6);
    const payment_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](3, 3, payment_r6 == null ? null : payment_r6.payment));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", (payment_r6 == null ? null : payment_r6.variables == null ? null : payment_r6.variables.length) > 0)("ngIfElse", _r10);
} }
function EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_div_1_Template, 7, 5, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const mainIndex_r7 = ctx.index;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", mainIndex_r7 <= ctx_r4.firstExpandedIndex);
} }
function EmpPayrollDataCardComponent_div_0_div_5_card_row_item_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "card-row-item", 24);
} }
function EmpPayrollDataCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmpPayrollDataCardComponent_div_0_div_5_ng_container_1_Template, 2, 1, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](2, EmpPayrollDataCardComponent_div_0_div_5_card_row_item_2_Template, 1, 0, "card-row-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngForOf", ctx_r3.paymentsAndVariables);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r3.employeeId == 0);
} }
function EmpPayrollDataCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmpPayrollDataCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r17); const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r16.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmpPayrollDataCardComponent_div_0_div_5_Template, 3, 2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](6, "app-emp-payroll-data-dialog", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("toggleTable", function EmpPayrollDataCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r17); const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r18.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", (ctx_r0.paymentsAndVariables == null ? null : ctx_r0.paymentsAndVariables.length) > 1 || (ctx_r0.paymentsAndVariables[0] == null ? null : ctx_r0.paymentsAndVariables[0].variables == null ? null : ctx_r0.paymentsAndVariables[0].variables.length) > 0)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵclassProp"]("hidden", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isCardView", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmpPayrollDataCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 25);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 4);
} }
class EmpPayrollDataCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeePayrollService) {
        super();
        this.employeePayrollService = employeePayrollService;
        this.firstExpandedIndex = 0;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.paymentsAndVariables = [];
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAllByEmployeeId();
        else
            this.isLoaded = true;
    }
    getAllByEmployeeId() {
        this.paymentsAndVariables = [];
        this.employeePayrollService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.paymentsAndVariables = (0,app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__.empPayrollDisplay)(res.data);
                this.firstExpandedIndex = this.paymentsAndVariables.findIndex((ele) => ele.variables.length > 0);
                if (this.firstExpandedIndex == -1)
                    this.firstExpandedIndex = 0;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_payroll_data_dialog_emp_payroll_data_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpPayrollDataDialogComponent, {}, { disableClose: false, minWidth: "50vw", maxWidth: "80vw", top: "40px" })
            .afterClosed()
            .subscribe((updated) => {
            // if (updated) {
            //   this.isLoaded = false;
            //   this.getAllByEmployeeId();
            // }
        });
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpPayrollDataCardComponent.ɵfac = function EmpPayrollDataCardComponent_Factory(t) { return new (t || EmpPayrollDataCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_payments_info_employee_payroll_service__WEBPACK_IMPORTED_MODULE_5__.EmployeePayrollService)); };
EmpPayrollDataCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmpPayrollDataCardComponent, selectors: [["app-emp-payroll-data-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "payrollData", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isCardView"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], [4, "ngFor", "ngForOf"], ["class", "w-25", "label", "globalVariable", 4, "ngIf"], ["class", "col", "style", "min-width: fit-content", 4, "ngIf"], [1, "col", 2, "min-width", "fit-content"], [1, "view-data-title"], ["class", "view-data-value", 4, "ngIf", "ngIfElse"], ["noVariables", ""], [1, "view-data-value"], ["class", "d-flex justify-content-between flex-wrap", 4, "ngFor", "ngForOf"], [1, "d-flex", "justify-content-between", "flex-wrap"], [1, "col", "p-0", "mr-1", "flex-lg-grow-1"], [1, "col", "p-0", "flex-grow-0"], [1, "d-inline-block"], ["label", "globalVariable", 1, "w-25"], [3, "rowNo"]], template: function EmpPayrollDataCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmpPayrollDataCardComponent_div_0_Template, 9, 8, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmpPayrollDataCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _emp_payroll_data_dialog_emp_payroll_data_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpPayrollDataDialogComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _angular_common__WEBPACK_IMPORTED_MODULE_11__.TitleCasePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGF5cm9sbC1kYXRhLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 85303:
/*!*********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-payroll-data/emp-payroll-data-dialog/emp-payroll-data-dialog.component.ts ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPayrollDataDialogComponent": () => (/* binding */ EmpPayrollDataDialogComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-payments-info */ 42562);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_payments_info_employee_payroll_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/payments-info/employee-payroll.service */ 80374);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _shared_skeletons_employee_emp_payment_skeleton_emp_payment_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/emp-payment-skeleton/emp-payment-skeleton.component */ 17355);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/expansion */ 17591);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/api */ 14356);
/* harmony import */ var primeng_messages__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/messages */ 58547);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ngx-translate/core */ 89461);















function EmpPayrollDataDialogComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 5)(1, "h4");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](2, "page-title", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](3, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function EmpPayrollDataDialogComponent_div_0_Template_button_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r5.onCloseDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](4, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
} }
function EmpPayrollDataDialogComponent_ng_container_3_mat_accordion_1_ng_container_1_ng_container_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div")(1, "div", 14)(2, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](4, "p", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const variable_r15 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](variable_r15.variable);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](variable_r15.value);
} }
function EmpPayrollDataDialogComponent_ng_container_3_mat_accordion_1_ng_container_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "mat-expansion-panel", 13)(2, "mat-expansion-panel-header")(3, "mat-panel-title");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](5, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](6, EmpPayrollDataDialogComponent_ng_container_3_mat_accordion_1_ng_container_1_ng_container_1_div_6_Template, 6, 2, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    const payment_r11 = ctx_r16.$implicit;
    const i_r12 = ctx_r16.index;
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("hideToggle", payment_r11.variables == 0)("expanded", i_r12 == ctx_r13.firstExpandedIndex)("disabled", payment_r11.variables.length == 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](5, 5, payment_r11.payment), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", payment_r11.variables);
} }
function EmpPayrollDataDialogComponent_ng_container_3_mat_accordion_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmpPayrollDataDialogComponent_ng_container_3_mat_accordion_1_ng_container_1_ng_container_1_Template, 7, 7, "ng-container", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const payment_r11 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](3);
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", (payment_r11.variables == null ? null : payment_r11.variables.length) > 0)("ngIfElse", _r3);
} }
function EmpPayrollDataDialogComponent_ng_container_3_mat_accordion_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "mat-accordion", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmpPayrollDataDialogComponent_ng_container_3_mat_accordion_1_ng_container_1_Template, 2, 2, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r7.paymentsAndVariables);
} }
function EmpPayrollDataDialogComponent_ng_container_3_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "app-emp-payment-skeleton");
} }
function EmpPayrollDataDialogComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmpPayrollDataDialogComponent_ng_container_3_mat_accordion_1_Template, 2, 1, "mat-accordion", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, EmpPayrollDataDialogComponent_ng_container_3_ng_template_2_Template, 1, 0, "ng-template", null, 10, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](3);
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r2.isLoaded)("ngIfElse", _r8);
} }
function EmpPayrollDataDialogComponent_ng_template_4_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](3, 1, "noDataToDisplay"), " ");
} }
function EmpPayrollDataDialogComponent_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "p-messages", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmpPayrollDataDialogComponent_ng_template_4_ng_template_1_Template, 4, 3, "ng-template", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
class EmpPayrollDataDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeePayrollService, dialogRef) {
        super();
        this.employeePayrollService = employeePayrollService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        // updated: boolean = false;
        // mandatoryColomns: string[] = [
        //   "Ser",
        //   // "id",
        //   "bank",
        //   "accountNumber",
        //   "startDate",
        //   "actions",
        // ];
        // optionalColomns: string[] = [];
        // dataSource: MatTableDataSource<IEmployeePayrollModel>;
        this.isLoaded = false;
        this.isCardView = false;
        this.submitted = false;
        this.firstExpandedIndex = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        // this.form = this.fb.group({
        //   id: [0, { nonNullable: true }],
        //   paymentMethodId: [null, [Validators.required]],
        //   basicSalary: [null, [Validators.required]],
        //   insuranceEmployee: [null, [Validators.required]],
        //   netSalary: [null, [Validators.required]],
        //   allowance: [null, [Validators.required]],
        // });
        // this.dialogRef.backdropClick().subscribe((ele) => {
        //   this.onCloseDialog();
        // });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(/* this.updated */ false);
    }
    onChangeBusinessAndCompanyId() {
        // if (this.dataSource?.data?.length > 0)
        //   this.dataSource = new MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.employeeId > 0)
            this.getAll();
        else
            this.isLoaded = true;
    }
    getAll() {
        this.employeePayrollService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.paymentsAndVariables = (0,app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__.empPayrollDisplay)(res.data);
                // console.log(this.paymentsAndVariables);
                this.firstExpandedIndex = this.paymentsAndVariables.findIndex((ele) => ele.variables.length > 0);
                // this.dataSource = new MatTableDataSource(res.data);
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    // submit() {
    //   // console.log(this.form.value);
    //   this.submitted = true;
    //   if (this.form.valid) {
    //     const model: IEmployeePayrollRequest = {
    //       Person_ID: this.employeeId,
    //       id: this.form.value.id,
    //       paymentMethodId: this.form.value.paymentMethodId,
    //       basicSalary: this.form.value.basicSalary,
    //       insuranceEmployee: this.form.value.insuranceEmployee,
    //       netSalary: this.form.value.netSalary,
    //       allowance: this.form.value.allowance,
    //     };
    //     model.id == 0 ? this.create(model) : this.update(model);
    //   } // else this.toastr.error("General.formNotValid");
    // }
    // create(model: IEmployeePayrollRequest) {
    //   this.showLoading();
    //   this.employeePayrollService
    //     .create(model)
    //     .subscribe((res: IResponse<IEmployeePayrollModel>) => {
    //       if (res?.message?.messageType == MessageTypes.Success) {
    //         this.clearForm();
    //         this.addSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.updated = true;
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    // update(model: IEmployeePayrollRequest) {
    //   this.showLoading();
    //   this.employeePayrollService
    //     .update(model)
    //     .subscribe((res: IResponse<IEmployeePayrollModel>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.clearForm();
    //         this.updateSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.updated = true;
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    // employeePayrollToEdit(employeePayrollInfo: IEmployeePayrollModel) {
    //   this.form.patchValue(employeePayrollInfo);
    //   // console.log(this.form.value);
    // }
    // onDelete(employeePayrollInfo: IEmployeePayrollModel): void {
    //   let msg = this.msgTranslate(employeePayrollInfo.paymentMethod);
    //   this.deleateDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeePayrollInfo);
    //   });
    // }
    // delete(employeePayrollInfo: IEmployeePayrollModel) {
    //   this.showLoading();
    //   this.employeePayrollService
    //     .Delete(employeePayrollInfo.id)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.updated = true;
    //         if (employeePayrollInfo.id == this.formCtrls.id.value)
    //           this.clearForm();
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpPayrollDataDialogComponent.ɵfac = function EmpPayrollDataDialogComponent_Factory(t) { return new (t || EmpPayrollDataDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_payments_info_employee_payroll_service__WEBPACK_IMPORTED_MODULE_4__.EmployeePayrollService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__.MatDialogRef)); };
EmpPayrollDataDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpPayrollDataDialogComponent, selectors: [["app-emp-payroll-data-dialog"]], inputs: { isCardView: "isCardView" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"]], decls: 6, vars: 5, consts: [["mat-dialog-title", "", "class", "primary-color font-size-20 m-0", 4, "ngIf"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [4, "ngIf", "ngIfElse"], ["noDataToDisplay", ""], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "payrollData", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], ["class", "emp-payroll", "multi", "", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], ["multi", "", 1, "emp-payroll"], [4, "ngFor", "ngForOf"], [3, "hideToggle", "expanded", "disabled"], [1, "row"], [1, "col-8"], [1, "col-4"], ["severity", "warn"], ["pTemplate", ""], [1, "p-message-icon", "pi", "pi-exclamation-triangle"], [1, "p-message-detail"]], template: function EmpPayrollDataDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpPayrollDataDialogComponent_div_0_Template, 5, 0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "mat-dialog-content", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](3, EmpPayrollDataDialogComponent_ng_container_3_Template, 4, 2, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](4, EmpPayrollDataDialogComponent_ng_template_4_Template, 2, 0, "ng-template", null, 4, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx.isCardView);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵclassProp"]("dialog-view", !ctx.isCardView);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0)("ngIfElse", _r3);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_5__.PageTitleComponent, _shared_skeletons_employee_emp_payment_skeleton_emp_payment_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmpPaymentSkeletonComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_10__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__.MatDialogContent, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__.MatAccordion, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__.MatExpansionPanel, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__.MatExpansionPanelHeader, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__.MatExpansionPanelTitle, primeng_api__WEBPACK_IMPORTED_MODULE_12__.PrimeTemplate, primeng_messages__WEBPACK_IMPORTED_MODULE_13__.Messages, _angular_common__WEBPACK_IMPORTED_MODULE_9__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.TranslatePipe], styles: ["@media only screen and (min-width: 680px) {\n  .dialog-view[_ngcontent-%COMP%]   .mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%] {\n    min-width: 650px !important;\n  }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC1wYXlyb2xsLWRhdGEtZGlhbG9nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0U7SUFDRSwyQkFBQTtFQUNGO0FBQ0YiLCJmaWxlIjoiZW1wLXBheXJvbGwtZGF0YS1kaWFsb2cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDY4MHB4KSB7XHJcbiAgLmRpYWxvZy12aWV3IC5tYXQtYWNjb3JkaW9uIC5tYXQtZXhwYW5zaW9uLXBhbmVsIHtcclxuICAgIG1pbi13aWR0aDogNjUwcHggIWltcG9ydGFudDtcclxuICB9XHJcbn1cclxuIl19 */"] });


/***/ }),

/***/ 68530:
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-address/emp-address-card/emp-address-card.component.ts ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpAddressCardComponent": () => (/* binding */ EmpAddressCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_address_dialog_emp_address_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-address-dialog/emp-address-dialog.component */ 47219);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../emp-address-table/emp-address-table.component */ 62866);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);













function EmpAddressCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13)(4, "card-row-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeAddressInfo == null ? null : ctx_r3.employeeAddressInfo.country);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeAddressInfo == null ? null : ctx_r3.employeeAddressInfo.governorate);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeAddressInfo == null ? null : ctx_r3.employeeAddressInfo.address);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeAddressInfo == null ? null : ctx_r3.employeeAddressInfo.primary)("isBool", true);
} }
function EmpAddressCardComponent_div_0_emp_address_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "emp-address-table", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpAddressCardComponent_div_0_emp_address_table_6_Template_emp_address_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r5.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpAddressCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpAddressCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r7.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpAddressCardComponent_div_0_div_5_Template, 5, 5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpAddressCardComponent_div_0_emp_address_table_6_Template, 1, 2, "emp-address-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpAddressCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r9.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.employeeAddressInfo)("isLoaded", ctx_r0.isAddressLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmpAddressCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 16);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 4);
} }
class EmpAddressCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeAddressService) {
        super();
        this.employeeAddressService = employeeAddressService;
        this.isAddressLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.employeeAddressInfo = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.GetAllEmpAddress();
        }
        else {
            this.isAddressLoaded = true;
        }
    }
    GetAllEmpAddress() {
        return this.employeeAddressService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.isAddressLoaded = true;
                let employeeAddressesFromNewest = (0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.employeeAddressToMap)(res.data).reverse();
                this.employeeAddressInfo =
                    employeeAddressesFromNewest.find((address) => address.primary == true) ?? employeeAddressesFromNewest[0];
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_address_dialog_emp_address_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpAddressDialogComponent)
            .afterClosed()
            .subscribe((isUpdated) => {
            if (isUpdated) {
                this.isAddressLoaded = false;
                this.GetAllEmpAddress();
            }
        });
    }
    afterDelete(address) {
        if (address) {
            this.isAddressLoaded = false;
            this.GetAllEmpAddress();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpAddressCardComponent.ɵfac = function EmpAddressCardComponent_Factory(t) { return new (t || EmpAddressCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeAddressService)); };
EmpAddressCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpAddressCardComponent, selectors: [["emp-address-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "address", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "country", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "governorate", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "address", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "primary", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value", "isBool"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpAddressCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpAddressCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpAddressCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isAddressLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_9__.EmpAddressTableComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_10__.SeeMoreBtnComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYWRkcmVzcy1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 47219:
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-address/emp-address-dialog/emp-address-dialog.component.ts ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpAddressDialogComponent": () => (/* binding */ EmpAddressDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/country-dropdown/country-dropdown.component */ 59681);
/* harmony import */ var _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/governorate-by-country-dropdown/governorate-by-country-dropdown.component */ 10225);
/* harmony import */ var _emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../emp-address-table/emp-address-table.component */ 62866);





















function EmpAddressDialogComponent_reset_form_btn_20_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpAddressDialogComponent_reset_form_btn_20_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} }
class EmpAddressDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeAddressService, dialogRef) {
        super();
        this.employeeAddressService = employeeAddressService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        // @Output() changUpdated = new EventEmitter<boolean>();
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_contact_address_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            countryId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            Governorate_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            address: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required, app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__.CustomValidator.whiteSpace]],
            primary: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
    //     this.getList(this.firstPage);
    //   }
    // }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeAddressService
    //     .GetList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeAddressResponse[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           employeeAddressToMap(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    // this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_ID: this.employeeId,
                    Comm_Address: {
                        ID: this.form.value.id,
                        Governorate_ID: this.form.value.Governorate_ID,
                        En_Name: this.form.value.address,
                        IsVaild: this.form.value.primary ?? false,
                    },
                },
            };
            model.EmployeeData.Comm_Address.ID == 0
                ? this.create(model)
                : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.employeeAddressService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.firstPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        this.showLoading("dialog");
        this.employeeAddressService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeAddressToEdit(address) {
        this.form.patchValue(address);
        this.formCtrls.countryId.setValue(address.comm_Governorate.comm_Country.id);
        this.formCtrls.Governorate_ID.setValue(address.governorate_ID);
    }
    // onDelete(address: IEmployeeAddressDisplayModel): void {
    //   let msg = address.address;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(address);
    //   });
    // }
    // delete(address: IEmployeeAddressDisplayModel) {
    //   let deleteParams: IEmployeeAddressDeleteParams = {
    //     Person_ID: this.employeeId,
    //     ADDRESS_ID: address.id,
    //   };
    //   this.showLoading();
    //   this.employeeAddressService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         // this.changUpdated.emit(true);
    //         this.updated = true;
    //         if (address.id == this.formCtrls.id.value)
    //           this.clearForm();
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(address) {
        if (address?.id == this.formCtrls.id.value)
            this.clearForm();
        if (address)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpAddressDialogComponent.ɵfac = function EmpAddressDialogComponent_Factory(t) { return new (t || EmpAddressDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeAddressService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmpAddressDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: EmpAddressDialogComponent, selectors: [["app-emp-address-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵInheritDefinitionFeature"]], decls: 22, vars: 20, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "address", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "countryControl", "submitted", "filter", "appendTo"], ["label", "address", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "primary", 3, "control"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpAddressDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpAddressDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](11, "app-country-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](13, "app-governorate-by-country-dropdown", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](15, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](16, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](17, "app-check-box", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](18, "div", 15)(19, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onClick", function EmpAddressDialogComponent_Template_submit_btn_onClick_19_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](20, EmpAddressDialogComponent_reset_form_btn_20_Template, 1, 0, "reset-form-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](21, "emp-address-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("rowToEdit", function EmpAddressDialogComponent_Template_emp_address_table_rowToEdit_21_listener($event) { return ctx.employeeAddressToEdit($event); })("afterDelete", function EmpAddressDialogComponent_Template_emp_address_table_afterDelete_21_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.Governorate_ID)("countryControl", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.address)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.primary);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.GovernorateDropdownComponent, _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.GovernorateByCountryDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_15__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormGroupDirective, _emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_13__.EmpAddressTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYWRkcmVzcy1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 62866:
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-address/emp-address-table/emp-address-table.component.ts ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpAddressTableComponent": () => (/* binding */ EmpAddressTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpAddressTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpAddressTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpAddressTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpAddressTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpAddressTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeAddressService) {
        super();
        this.employeeAddressService = employeeAddressService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "country",
            "governorate",
            "address",
            "primary",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_contact_address_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeAddressService
            .GetList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.employeeAddressToMap)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(address) {
        this.rowToEdit.emit(address);
    }
    onDelete(address) {
        let msg = address.address;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(address);
        });
    }
    delete(address) {
        let deleteParams = {
            Person_ID: this.employeeId,
            ADDRESS_ID: address.id,
        };
        this.showLoading("table");
        this.employeeAddressService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(address);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpAddressTableComponent.ɵfac = function EmpAddressTableComponent_Factory(t) { return new (t || EmpAddressTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeAddressService)); };
EmpAddressTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpAddressTableComponent, selectors: [["emp-address-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpAddressTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpAddressTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYWRkcmVzcy10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 52761:
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-contact/emp-contact-card/emp-contact-card.component.ts ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContactCardComponent": () => (/* binding */ EmpContactCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_contact_dialog_emp_contact_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-contact-dialog/emp-contact-dialog.component */ 56017);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../emp-contact-table/emp-contact-table.component */ 74155);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-translate/core */ 89461);














function EmpContactCardComponent_div_0_div_6_div_1_ng_container_7_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    const contact_r9 = ctx_r13.$implicit;
    const lst_r10 = ctx_r13.last;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate2"](" ", contact_r9.value, " ", !lst_r10 ? "-" : "", " ");
} }
function EmpContactCardComponent_div_0_div_6_div_1_ng_container_7_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "span")(1, "a", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](2, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const contact_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("href", contact_r9.value, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵclassMap"](contact_r9.comm_Contact_Category.icon);
} }
function EmpContactCardComponent_div_0_div_6_div_1_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpContactCardComponent_div_0_div_6_div_1_ng_container_7_span_1_Template, 2, 2, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, EmpContactCardComponent_div_0_div_6_div_1_ng_container_7_span_2_Template, 3, 3, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const contact_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !(contact_r9 == null ? null : contact_r9.comm_Contact_Category == null ? null : contact_r9.comm_Contact_Category.icon));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", contact_r9 == null ? null : contact_r9.comm_Contact_Category == null ? null : contact_r9.comm_Contact_Category.icon);
} }
function EmpContactCardComponent_div_0_div_6_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 13)(1, "p", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](3, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](5, "div", 15)(6, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](7, EmpContactCardComponent_div_0_div_6_div_1_ng_container_7_Template, 3, 2, "ng-container", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const contactType_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](3, 2, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](4, 4, contactType_r7.key)), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngForOf", contactType_r7.value);
} }
function EmpContactCardComponent_div_0_div_6_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} }
function EmpContactCardComponent_div_0_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpContactCardComponent_div_0_div_6_div_1_Template, 8, 6, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](2, "keyvalue");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](3, EmpContactCardComponent_div_0_div_6_ng_container_3_Template, 2, 0, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](4, "json");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind2"](2, 2, ctx_r3.empContacts, ctx_r3.iteration));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](4, 5, ctx_r3.empContacts) == "{}" || !ctx_r3.employeeId);
} }
function EmpContactCardComponent_div_0_emp_contact_table_7_Template(rf, ctx) { if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "emp-contact-table", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpContactCardComponent_div_0_emp_contact_table_7_Template_emp_contact_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r16); const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r15.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpContactCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpContactCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r18); const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r17.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](4, "json");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](5, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpContactCardComponent_div_0_div_6_Template, 5, 7, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](7, EmpContactCardComponent_div_0_emp_contact_table_7_Template, 1, 2, "emp-contact-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](8, "div", 4)(9, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpContactCardComponent_div_0_Template_see_more_btn_toggleTable_9_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r18); const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r19.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](4, 6, ctx_r0.empContacts) != "{}" && ctx_r0.employeeId)("isLoaded", ctx_r0.isContactLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmpContactCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 21);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 5);
} }
class EmpContactCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeContactService) {
        super();
        this.employeeContactService = employeeContactService;
        this.isContactLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empContacts = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.GetAllEmpContacts();
        }
        else {
            this.isContactLoaded = true;
        }
    }
    GetAllEmpContacts() {
        return this.employeeContactService
            .GetAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.isContactLoaded = true;
                this.empContacts = (0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.empContactCard)(res.data);
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_contact_dialog_emp_contact_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpContactDialogComponent)
            .afterClosed()
            .subscribe((isUpdated) => {
            if (isUpdated) {
                this.isContactLoaded = false;
                this.GetAllEmpContacts();
            }
        });
    }
    afterDelete(contact) {
        if (contact) {
            this.isContactLoaded = false;
            this.GetAllEmpContacts();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
    iteration(a, b) {
        return a.key - b.key;
    }
}
EmpContactCardComponent.ɵfac = function EmpContactCardComponent_Factory(t) { return new (t || EmpContactCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContactService)); };
EmpContactCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpContactCardComponent, selectors: [["emp-contact-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "contact", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["class", "col-6 col-md-4 col-lg-3  ml-md-1 mr-md-1 mb-2", 4, "ngFor", "ngForOf"], [4, "ngIf"], [1, "col-6", "col-md-4", "col-lg-3", "ml-md-1", "mr-md-1", "mb-2"], [1, "view-data-title"], [1, "view-data-value"], [1, "d-inline-block"], [4, "ngFor", "ngForOf"], ["target", "_blank", 1, "mr-1", "ml-1", "font-medium-3", 3, "href"], ["label", "contact", 1, "w-15"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpContactCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpContactCardComponent_div_0_Template, 10, 8, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpContactCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isContactLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_9__.EmpContactTableComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_10__.SeeMoreBtnComponent, _angular_common__WEBPACK_IMPORTED_MODULE_12__.JsonPipe, _angular_common__WEBPACK_IMPORTED_MODULE_12__.TitleCasePipe, _angular_common__WEBPACK_IMPORTED_MODULE_12__.KeyValuePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 56017:
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-contact/emp-contact-dialog/emp-contact-dialog.component.ts ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContactDialogComponent": () => (/* binding */ EmpContactDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contact_type_dropdown_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contact-type-dropdown/contact-type-dropdown.component */ 99167);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contact_categories_by_contact_dropdown_categories_by_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contact-categories-by-contact-dropdown/categories-by-contact-type-dropdown.component */ 58092);
/* harmony import */ var _emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-contact-table/emp-contact-table.component */ 74155);




















function EmpContactDialogComponent_reset_form_btn_22_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpContactDialogComponent_reset_form_btn_22_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmpContactDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeContactService, dialogRef) {
        super();
        this.employeeContactService = employeeContactService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        // @Output() changUpdated = new EventEmitter<boolean>();
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_contact_address_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            contacT_TYPE_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            contacT_Category_ID: [null],
            value: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            isPrimary: [null],
            isShow: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getList(this.firstPage);
    //   }
    // }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeContactService
    //     .GetList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeContactResponse[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(empContactDisplay(res.data));
    //         this.page.length = res.meta.totalItemCount;
    // this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_ID: this.employeeId,
                    Comm_Contact: {
                        id: this.form.value.id,
                        contacT_TYPE_ID: this.form.value.contacT_TYPE_ID,
                        contacT_Category_ID: this.form.value.contacT_Category_ID,
                        value: this.form.value.value,
                        isVaild: this.form.value.isPrimary ?? false,
                        isShow: this.form.value.isShow ?? false,
                    },
                },
            };
            model.EmployeeData.Comm_Contact.id == 0
                ? this.create(model)
                : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading('dialog');
        this.employeeContactService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.firstPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('dialog');
        });
    }
    update(model) {
        this.showLoading('dialog');
        this.employeeContactService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('dialog');
        });
    }
    employeeContactToEdit(empContacts) {
        this.form.patchValue(empContacts);
        this.formCtrls.value.setValue(empContacts.contact);
        this.formCtrls.id.setValue(empContacts.contact_ID);
        this.formCtrls.isPrimary.setValue(empContacts.primary);
        this.formCtrls.isShow.setValue(empContacts.display_in_emp_card);
        // console.log(this.form.value);
    }
    // onDelete(contact: IEmployeeContactDisplay): void {
    //   let msg = contact.contact;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(contact);
    //   });
    // }
    // delete(contact: IEmployeeContactDisplay) {
    //   let deleteParams: IEmployeeContactDeleteParams = {
    //     Person_ID: this.employeeId,
    //     Contact_ID: contact.contact_ID,
    //   };
    //   this.showLoading();
    //   this.employeeContactService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         // this.changUpdated.emit(true);
    //         this.updated = true;
    //         if (contact.contact_ID == this.formCtrls.id.value) this.clearForm();
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(contact) {
        if (contact.contact_ID == this.formCtrls.id.value)
            this.clearForm();
        if (contact)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    onChangeContactType(contact) {
        if (contact)
            this.formCtrls.value.setValidators([
                _angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(contact[0]?.regularExpression),
            ]);
        else
            this.formCtrls.value.removeValidators([
                _angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(contact[0]?.regularExpression),
            ]);
    }
}
EmpContactDialogComponent.ɵfac = function EmpContactDialogComponent_Factory(t) { return new (t || EmpContactDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeContactService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogRef)); };
EmpContactDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmpContactDialogComponent, selectors: [["app-emp-contact-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 24, vars: 21, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "contact", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo", "change"], [3, "control", "contactTypControl", "submitted", "filter", "appendTo"], ["label", "contact", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-14", "mtop-14"], ["label", "primary", 3, "control"], ["label", "display_in_emp_card", 3, "control"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpContactDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpContactDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9)(11, "app-contact-type-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("change", function EmpContactDialogComponent_Template_app_contact_type_dropdown_change_11_listener($event) { return ctx.onChangeContactType($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "contact-categories-by-contact-dropdown", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](17, "app-check-box", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](19, "app-check-box", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](20, "div", 16)(21, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmpContactDialogComponent_Template_submit_btn_onClick_21_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](22, EmpContactDialogComponent_reset_form_btn_22_Template, 1, 0, "reset-form-btn", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](23, "emp-contact-table", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmpContactDialogComponent_Template_emp_contact_table_rowToEdit_23_listener($event) { return ctx.employeeContactToEdit($event); })("afterDelete", function EmpContactDialogComponent_Template_emp_contact_table_afterDelete_23_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.contacT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.contacT_Category_ID)("contactTypControl", ctx.formCtrls.contacT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.value)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isPrimary);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isShow);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__.InputComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_6__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_17__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_18__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_contact_type_dropdown_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.ContactTypeDropdownComponent, _shared_components_dropdowns_hr_setup_contact_categories_by_contact_dropdown_categories_by_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.CategoriesByContactTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpContactTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 74155:
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-contact/emp-contact-table/emp-contact-table.component.ts ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContactTableComponent": () => (/* binding */ EmpContactTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpContactTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpContactTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpContactTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpContactTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions)("showFilter", false)("isDialogSize", true)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpContactTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeContactService) {
        super();
        this.employeeContactService = employeeContactService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "contactType",
            "contactCategory",
            "contact",
            "primary",
            "display_in_emp_card",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_contact_address_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeContactService
            .GetList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.empContactDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(contact) {
        this.rowToEdit.emit(contact);
    }
    onDelete(contact) {
        let msg = contact.contact;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(contact);
        });
    }
    delete(contact) {
        let deleteParams = {
            Person_ID: this.employeeId,
            Contact_ID: contact.contact_ID,
        };
        this.showLoading('table');
        this.employeeContactService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(contact);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('table');
        });
    }
}
EmpContactTableComponent.ɵfac = function EmpContactTableComponent_Factory(t) { return new (t || EmpContactTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContactService)); };
EmpContactTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpContactTableComponent, selectors: [["emp-contact-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "showFilter", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "showFilter", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpContactTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpContactTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 43097:
/*!***********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-dependants/emp-dependants-card/emp-dependants-card.component.ts ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDependantsCardComponent": () => (/* binding */ EmployeeDependantsCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_dependants_dialog_emp_dependants_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-dependants-dialog/emp-dependants-dialog.component */ 62483);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_animations_custom_animations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/animations/custom-animations */ 21138);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-dependant.service */ 87181);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-dependants-table/emp-dependants-table.component */ 97035);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ngx-translate/core */ 89461);















function EmployeeDependantsCardComponent_div_0_div_5_span_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](2, "i", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", " ", " ");
} }
function EmployeeDependantsCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "div", 14)(5, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](7, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](8, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](9, "div", 16)(10, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](12, EmployeeDependantsCardComponent_div_0_div_5_span_12_Template, 3, 1, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](2);
    let tmp_4_0;
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("value", ctx_r3.empDependant == null ? null : ctx_r3.empDependant.flower_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("value", ctx_r3.empDependant == null ? null : ctx_r3.empDependant.relationship);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("value", ctx_r3.empDependant == null ? null : ctx_r3.empDependant.birthDate);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](7, 6, _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](8, 8, "phoneNumber")), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", (tmp_4_0 = ctx_r3.empDependant == null ? null : ctx_r3.empDependant.phoneNumber) !== null && tmp_4_0 !== undefined ? tmp_4_0 : "---", " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx_r3.empDependant == null ? null : ctx_r3.empDependant.isEmergcy);
} }
function EmployeeDependantsCardComponent_div_0_app_emp_dependants_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "app-emp-dependants-table", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("afterDelete", function EmployeeDependantsCardComponent_div_0_app_emp_dependants_table_6_Template_app_emp_dependants_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r6.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeDependantsCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onClickIcon", function EmployeeDependantsCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r8.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](5, EmployeeDependantsCardComponent_div_0_div_5_Template, 13, 10, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](6, EmployeeDependantsCardComponent_div_0_app_emp_dependants_table_6_Template, 1, 2, "app-emp-dependants-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("toggleTable", function EmployeeDependantsCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r9); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r10.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isEdit", ctx_r0.empDependant)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmployeeDependantsCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 21);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("rowNo", 4);
} }
class EmployeeDependantsCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeDependantService) {
        super();
        this.employeeDependantService = employeeDependantService;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empDependant = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAllDependant();
        else
            this.isLoaded = true;
    }
    getAllDependant() {
        this.empDependant = null;
        this.employeeDependantService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                // get oldest emergency one
                let employeeDependentFromOld = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_0__.employeeDependentToMap)(res.data);
                this.empDependant =
                    employeeDependentFromOld.find((dependent) => dependent.isEmergcy == true) ?? employeeDependentFromOld[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_dependants_dialog_emp_dependants_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeDependantsDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllDependant();
            }
        });
    }
    afterDelete(Dependant) {
        if (Dependant) {
            this.isLoaded = false;
            this.getAllDependant();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeDependantsCardComponent.ɵfac = function EmployeeDependantsCardComponent_Factory(t) { return new (t || EmployeeDependantsCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeDependantService)); };
EmployeeDependantsCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineComponent"]({ type: EmployeeDependantsCardComponent, selectors: [["emp-dependants-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row"], [1, "col-lg-2", "col-12"], ["cardTitle", "dependants", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "name", 1, "col-6", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "relationship", 1, "col-6", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "dob", 1, "col-6", "col-lg-3", "px-0", "mb-2", 3, "value"], [1, "col-6", "col-lg-3", "px-0", "mb-2"], [1, "view-data-title"], [1, "view-data-value"], [1, "d-inline-block"], [4, "ngIf"], [1, "fas", "fa-bell", "danger"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeDependantsCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](0, EmployeeDependantsCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](1, EmployeeDependantsCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_7__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_8__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_9__.CardRowItemComponent, _emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpDependantsTableComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_11__.SeeMoreBtnComponent, _angular_common__WEBPACK_IMPORTED_MODULE_13__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZGVwZW5kYW50cy1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"], data: { animation: [
            (0,app_shared_animations_custom_animations__WEBPACK_IMPORTED_MODULE_5__.FadeIn)(600),
            (0,app_shared_animations_custom_animations__WEBPACK_IMPORTED_MODULE_5__.fadeOut)(300),
            (0,app_shared_animations_custom_animations__WEBPACK_IMPORTED_MODULE_5__.FadeInOut)(600, 300),
        ] } });


/***/ }),

/***/ 62483:
/*!***************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-dependants/emp-dependants-dialog/emp-dependants-dialog.component.ts ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDependantsDialogComponent": () => (/* binding */ EmployeeDependantsDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-dependant.service */ 87181);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_relationship_dropdown_relationship_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/relationship-dropdown/relationship-dropdown.component */ 88834);
/* harmony import */ var _emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-dependants-table/emp-dependants-table.component */ 97035);




















function EmployeeDependantsDialogComponent_reset_form_btn_21_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeDependantsDialogComponent_reset_form_btn_21_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmployeeDependantsDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    // mandatoryColomns: string[] = [
    //   "Ser",
    //   // "id",
    //   "dependentName",
    //   "relationship",
    //   "birthDate",
    //   "phoneNumber",
    //   "isEmergcy",
    //   "actions",
    // ];
    // optionalColomns: string[] = [];
    // dataSource: MatTableDataSource<IEmployeeDependantModel>;
    // isLoaded: boolean = false;
    constructor(employeeDependantService, dialogRef) {
        super();
        this.employeeDependantService = employeeDependantService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_dependants_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            name: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.whiteSpace]],
            relationship_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            birthDate: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
            phoneNumber: [
                null,
                [
                    _angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(/^(\(?\+?[0-9]*\)?)?[0-9_ \-\(\)\S*$]*$/),
                    app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.MobileStartsWith,
                    app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.mobileLength,
                ],
            ],
            isEmergcy: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeDependantService
    //     .getList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeDependantModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           employeeDependentToMap(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    // this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                employeeData: {
                    person_ID: this.employeeId,
                    id: this.form.value.id,
                    flower_Name: this.form.value.name,
                    relationship_ID: this.form.value.relationship_ID,
                    birthDate: this.form.value.birthDate,
                    phoneNumber: this.form.value.phoneNumber,
                    isEmergcy: this.form.value.isEmergcy ?? false,
                },
            };
            model.employeeData.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading('dialog');
        this.employeeDependantService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('dialog');
        });
    }
    update(model) {
        this.showLoading('dialog');
        this.employeeDependantService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                //   this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('dialog');
        });
    }
    employeeDependantToEdit(employeeDependantInfo) {
        this.form.patchValue(employeeDependantInfo);
        this.formCtrls.name.setValue(employeeDependantInfo.flower_Name);
        this.formCtrls.birthDate.setValue(employeeDependantInfo.originalBirthDateFormat);
        // console.log(this.form.value);
    }
    afterDelete(dependant) {
        if (dependant?.id == this.formCtrls.id.value)
            this.clearForm();
        if (dependant)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmployeeDependantsDialogComponent.ɵfac = function EmployeeDependantsDialogComponent_Factory(t) { return new (t || EmployeeDependantsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeDependantService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmployeeDependantsDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeDependantsDialogComponent, selectors: [["app-employee-dependants-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 23, vars: 18, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "dependants", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "name", 3, "control", "submitted"], [3, "control", "submitted", "filter", "appendTo"], ["label", "birthDate", 3, "control", "submitted"], ["label", "phone", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "emergencyContact", 3, "control"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeeDependantsDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 0)(1, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](2, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](3, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeDependantsDialogComponent_Template_button_click_3_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](4, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](5, "mat-dialog-content", 4, 5)(7, "form", 6)(8, "div", 7)(9, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](10, "app-input", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](11, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](12, "app-relationship-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](13, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](14, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](15, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](16, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](17, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](18, "app-check-box", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](19, "div", 15)(20, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeDependantsDialogComponent_Template_submit_btn_onClick_20_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](21, EmployeeDependantsDialogComponent_reset_form_btn_21_Template, 1, 0, "reset-form-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](22, "app-emp-dependants-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmployeeDependantsDialogComponent_Template_app_emp_dependants_table_rowToEdit_22_listener($event) { return ctx.employeeDependantToEdit($event); })("afterDelete", function EmployeeDependantsDialogComponent_Template_app_emp_dependants_table_afterDelete_22_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.name)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.relationship_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.birthDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.phoneNumber)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isEmergcy);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, _shared_components_dropdowns_personnel_setup_relationship_dropdown_relationship_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.RelationshipDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpDependantsTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZGVwZW5kYW50cy1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 97035:
/*!*************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-dependants/emp-dependants-table/emp-dependants-table.component.ts ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpDependantsTableComponent": () => (/* binding */ EmpDependantsTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-dependant.service */ 87181);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);











function EmpDependantsTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpDependantsTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpDependantsTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpDependantsTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showFilter", false)("showSpaceTop", false);
} }
class EmpDependantsTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeDependantService) {
        super();
        this.employeeDependantService = employeeDependantService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "dependentName",
            "relationship",
            "birthDate",
            "phoneNumber",
            "isEmergcy",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_dependants_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        // this.hasUpdate = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeDependantService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_3__.employeeDependentToMap)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(dependant) {
        this.rowToEdit.emit(dependant);
    }
    onDelete(employeeDependantInfo) {
        let msg = employeeDependantInfo.flower_Name;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeDependantInfo);
        });
    }
    delete(dependant) {
        this.showLoading("table");
        this.employeeDependantService
            .Delete(dependant.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(dependant); // emit to parent
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpDependantsTableComponent.ɵfac = function EmpDependantsTableComponent_Factory(t) { return new (t || EmpDependantsTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeDependantService)); };
EmpDependantsTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpDependantsTableComponent, selectors: [["app-emp-dependants-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpDependantsTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpDependantsTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZGVwZW5kYW50cy10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 84353:
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-documents/emp-documents-card/emp-documents-card.component.ts ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDocumentsCardComponent": () => (/* binding */ EmployeeDocumentsCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_documents_dialog_emp_documents_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-documents-dialog/emp-documents-dialog.component */ 53477);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-documents.service */ 45310);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-documents-table/emp-documents-table.component */ 6181);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-translate/core */ 89461);














function EmployeeDocumentsCardComponent_div_0_div_5_span_10_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "span")(1, "i", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function EmployeeDocumentsCardComponent_div_0_div_5_span_10_Template_i_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r8.fileService.downloadFromServer(ctx_r8.document.attachmentID)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
} }
function EmployeeDocumentsCardComponent_div_0_div_5_ng_template_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](0, " ---");
} }
function EmployeeDocumentsCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 14)(5, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](7, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](8, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](9, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](10, EmployeeDocumentsCardComponent_div_0_div_5_span_10_Template, 2, 0, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](11, EmployeeDocumentsCardComponent_div_0_div_5_ng_template_11_Template, 1, 0, "ng-template", null, 18, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](12);
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.document == null ? null : ctx_r3.document.documentName);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.document == null ? null : ctx_r3.document.dateof_issue);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.document == null ? null : ctx_r3.document.expire_Date);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](7, 6, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](8, 8, "attachment")));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", (ctx_r3.document == null ? null : ctx_r3.document.attachmentID) > 0)("ngIfElse", _r6);
} }
function EmployeeDocumentsCardComponent_div_0_app_emp_documents_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-emp-documents-table", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmployeeDocumentsCardComponent_div_0_app_emp_documents_table_6_Template_app_emp_documents_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r10.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeDocumentsCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmployeeDocumentsCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r12.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmployeeDocumentsCardComponent_div_0_div_5_Template, 13, 10, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmployeeDocumentsCardComponent_div_0_app_emp_documents_table_6_Template, 1, 2, "app-emp-documents-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmployeeDocumentsCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r13); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r14.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.document)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmployeeDocumentsCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 21);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 4);
} }
class EmployeeDocumentsCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeDocumentsService) {
        super();
        this.employeeDocumentsService = employeeDocumentsService;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.document = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isLoaded = true;
    }
    getAll() {
        this.document = null;
        this.employeeDocumentsService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                let sortedList = res.data ?? [];
                // sort by Issuing date (from new to old)
                sortedList.sort((a, b) => new Date(b.employeeData.dateof_issue).getTime() -
                    new Date(a.employeeData.dateof_issue).getTime());
                this.document = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeePersonalDocumentToMap)(sortedList)[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_documents_dialog_emp_documents_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmployeeDocumentsDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    afterDelete(document) {
        if (document) {
            this.isLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeDocumentsCardComponent.ɵfac = function EmployeeDocumentsCardComponent_Factory(t) { return new (t || EmployeeDocumentsCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeDocumentsService)); };
EmployeeDocumentsCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmployeeDocumentsCardComponent, selectors: [["emp-documents-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "employeeDocuments", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "name", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "dateof_issue", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["label", "expire_Date", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], [1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2"], [1, "view-data-title"], [1, "view-data-value"], [4, "ngIf", "ngIfElse"], ["noAttach", ""], [1, "fas", "fa-cloud-download-alt", "font-size-20", "icon-lightGreen", 3, "click"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeDocumentsCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmployeeDocumentsCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmployeeDocumentsCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpDocumentsTableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_12__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZG9jdW1lbnRzLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 53477:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-documents/emp-documents-dialog/emp-documents-dialog.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDocumentsDialogComponent": () => (/* binding */ EmployeeDocumentsDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-documents.service */ 45310);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/prime-ng/file-upload/file-upload.component */ 34292);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_identity_type_dropdown_identity_type_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/identity-type-dropdown/identity-type-dropdown.component */ 61962);
/* harmony import */ var _emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../emp-documents-table/emp-documents-table.component */ 6181);






















function EmployeeDocumentsDialogComponent_reset_form_btn_22_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "reset-form-btn", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmployeeDocumentsDialogComponent_reset_form_btn_22_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} }
class EmployeeDocumentsDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeDocumentsService, dialogRef) {
        super();
        this.employeeDocumentsService = employeeDocumentsService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.removeFiles = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_documents_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            documentId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            issuingDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            expirationDate: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_16__.CustomValidators.date]],
            identity_Number: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_16__.CustomValidators.digits]],
            file: [null],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.compareDates("issuingDate", "expirationDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0) {
    //     this.dataSource = new MatTableDataSource(null);
    //   }
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeDocumentsService
    //     .getList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeDocumentModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           res.data?.length > 0 ? employeePersonalDocumentToMap(res.data) : []
    //         );
    //         this.page.length = res.meta.totalItemCount;
    // this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        this.removeFiles = false;
        if (this.form.valid) {
            const model = {
                personID: this.employeeId,
                empIdentityID: this.form.value.id,
                identity_TypeID: this.form.value.documentId,
                dateof_issue: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.issuingDate),
                expire_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.expirationDate) ?? "",
                identity_Number: this.form.value.identity_Number ?? "",
                files: this.form.value.file,
            };
            const formData = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.objectToFormData(model);
            model.empIdentityID == 0 ? this.create(formData) : this.update(formData);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.employeeDocumentsService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                //   this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        // if file not change
        if (this.formCtrls.file.value?.id > 0)
            model.set("files", null);
        this.showLoading("dialog");
        this.employeeDocumentsService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeDocumentToEdit(document) {
        this.form.patchValue(document);
        this.formCtrls.id.setValue(document.empIdentityID);
        this.formCtrls.documentId.setValue(document.identity_TypeID);
        this.formCtrls.issuingDate.setValue(document.originalIssuingDate);
        this.formCtrls.expirationDate.setValue(document.originalExpirationDate);
        if (document.attachmentID) {
            // get file size && type
            this.showLoading();
            this.fileService
                .downloadByAttachId(document.attachmentID)
                .subscribe((res) => {
                let file = {
                    id: document.attachmentID,
                    path: document.attachment,
                    name: document.attachment_En_Name,
                    type: res.type,
                    size: res.size,
                };
                this.formCtrls.file.setValue(file);
                this.hideLoading();
            });
        }
        else
            this.formCtrls.file.setValue(null);
        // console.log(this.form.value);
    }
    // onDelete(document: IEmployeeDocumentDataModel): void {
    //   let msg = this.msgTranslate(document.documentName);
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) {
    //       this.delete(document);
    //     }
    //   });
    // }
    //
    // delete(document: IEmployeeDocumentDataModel) {
    //   this.showLoading();
    //   this.employeeDocumentsService
    //     .Delete(document.empIdentityID)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         }
    //         else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.hasUpdate = true;
    //         if (document.empIdentityID == this.formCtrls.id.value) {
    //           this.clearForm();
    //         }
    //       }
    //       else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
        this.removeFiles = true;
    }
    // attachIconColumnData: IAttachIconColumnData = {
    //   columnName: "attachment",
    //   icon: "fas fa-file-alt",
    // };
    deleteFile() {
        this.showLoading();
        this.employeeDocumentsService
            .DeleteAttachment(this.formCtrls.id.value)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.hasUpdate = true;
                // this.getList(this.currentPage);
                this.formCtrls.file.reset();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    afterDelete(document) {
        if (document.empIdentityID == this.formCtrls.id.value)
            this.clearForm();
        if (document)
            this.hasUpdate = true;
    }
}
EmployeeDocumentsDialogComponent.ɵfac = function EmployeeDocumentsDialogComponent_Factory(t) { return new (t || EmployeeDocumentsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeDocumentsService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogRef)); };
EmployeeDocumentsDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: EmployeeDocumentsDialogComponent, selectors: [["app-employee-documents-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵInheritDefinitionFeature"]], decls: 24, vars: 23, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "employeeDocuments", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "documentName", 3, "control", "submitted", "filter", "appendTo"], ["label", "dateof_issue", 3, "control", "submitted"], ["label", "expire_Date", 3, "control", "submitted"], ["label", "identity_Number", 3, "control", "submitted"], [1, "col-12"], [3, "control", "submitted", "multiple", "isEdit", "removeFiles", "ondelete"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeeDocumentsDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmployeeDocumentsDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](11, "app-identity-type-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](13, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](15, "app-datepicker", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](16, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](17, "app-input", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](18, "div", 14)(19, "primeng-file-upload", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("ondelete", function EmployeeDocumentsDialogComponent_Template_primeng_file_upload_ondelete_19_listener() { return ctx.deleteFile(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](20, "div", 16)(21, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onClick", function EmployeeDocumentsDialogComponent_Template_submit_btn_onClick_21_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](22, EmployeeDocumentsDialogComponent_reset_form_btn_22_Template, 1, 0, "reset-form-btn", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](23, "app-emp-documents-table", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("rowToEdit", function EmployeeDocumentsDialogComponent_Template_app_emp_documents_table_rowToEdit_23_listener($event) { return ctx.employeeDocumentToEdit($event); })("afterDelete", function EmployeeDocumentsDialogComponent_Template_app_emp_documents_table_afterDelete_23_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.documentId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.issuingDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.expirationDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.identity_Number)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.file)("submitted", ctx.submitted)("multiple", false)("isEdit", ctx.formCtrls.id.value > 0)("removeFiles", ctx.removeFiles);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_18__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__.InputComponent, _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_8__.FileUploadComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_19__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_20__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_identity_type_dropdown_identity_type_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.IdentityTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_15__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormGroupDirective, _emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_13__.EmpDocumentsTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZG9jdW1lbnRzLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 6181:
/*!**********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-documents/emp-documents-table/emp-documents-table.component.ts ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpDocumentsTableComponent": () => (/* binding */ EmpDocumentsTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-documents.service */ 45310);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpDocumentsTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpDocumentsTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpDocumentsTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpDocumentsTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showFilter", false)("showSpaceTop", false)("attachIconColumnData", ctx_r0.attachIconColumnData);
} }
class EmpDocumentsTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeDocumentsService) {
        super();
        this.employeeDocumentsService = employeeDocumentsService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "documentName",
            "dateof_issue",
            "expire_Date",
            "identity_Number",
            "attachment",
            "actions",
        ];
        this.optionalColomns = [];
        this.attachIconColumnData = {
            columnName: "attachment",
            icon: "fas fa-file-alt",
        };
        this.isLoaded = false;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_documents_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0) {
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        }
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeDocumentsService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(res.data?.length > 0 ? (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeePersonalDocumentToMap)(res.data) : []);
                this.page.length = res?.meta?.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    onDelete(document) {
        let msg = this.msgTranslate(document.documentName);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm) {
                this.delete(document);
            }
        });
    }
    toEdit(document) {
        this.rowToEdit.emit(document);
    }
    delete(document) {
        this.showLoading("table");
        this.employeeDocumentsService
            .Delete(document.empIdentityID)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.hasUpdate = true;
                this.afterDelete.emit(document);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpDocumentsTableComponent.ɵfac = function EmpDocumentsTableComponent_Factory(t) { return new (t || EmpDocumentsTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeDocumentsService)); };
EmpDocumentsTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpDocumentsTableComponent, selectors: [["app-emp-documents-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "attachIconColumnData", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "attachIconColumnData", "onChangePage", "editRow", "deleteRow"]], template: function EmpDocumentsTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpDocumentsTableComponent_app_material_table_0_Template, 1, 12, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZG9jdW1lbnRzLXRhYmxlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 83223:
/*!********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-military-data/emp-military-data-card/emp-military-data-card.component.ts ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMilitaryDataCardComponent": () => (/* binding */ EmployeeMilitaryDataCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_military_data_dialog_emp_military_data_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-military-data-dialog/emp-military-data-dialog.component */ 22839);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-military-data.service */ 65635);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-military-table/emp-military-table.component */ 74855);













function EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "card-row-item", 15);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r5.empMilitary == null ? null : ctx_r5.empMilitary.grade);
} }
function EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "card-row-item", 16);
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("label", (ctx_r6.empMilitary == null ? null : ctx_r6.empMilitary.comm_Military_Status.dateMandatory) == 1 ? "date" : "startDate")("value", ctx_r6.empMilitary == null ? null : ctx_r6.empMilitary.statusDate);
} }
function EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "card-row-item", 17);
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r7.empMilitary == null ? null : ctx_r7.empMilitary.endDate);
} }
function EmployeeMilitaryDataCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_2_Template, 1, 1, "card-row-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](3, EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_3_Template, 1, 2, "card-row-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](4, EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_4_Template, 1, 1, "card-row-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empMilitary == null ? null : ctx_r3.empMilitary.status);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r3.empMilitary == null ? null : ctx_r3.empMilitary.comm_Military_Status.showGrade);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r3.empMilitary || (ctx_r3.empMilitary == null ? null : ctx_r3.empMilitary.comm_Military_Status.dateMandatory) > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", (ctx_r3.empMilitary == null ? null : ctx_r3.empMilitary.comm_Military_Status.dateMandatory) == 2);
} }
function EmployeeMilitaryDataCardComponent_div_0_app_emp_military_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-emp-military-table", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmployeeMilitaryDataCardComponent_div_0_app_emp_military_table_6_Template_app_emp_military_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r8.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeMilitaryDataCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmployeeMilitaryDataCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r10.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmployeeMilitaryDataCardComponent_div_0_div_5_Template, 5, 4, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmployeeMilitaryDataCardComponent_div_0_app_emp_military_table_6_Template, 1, 2, "app-emp-military-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmployeeMilitaryDataCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r11); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r12.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.empMilitary)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmployeeMilitaryDataCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 19);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 4);
} }
class EmployeeMilitaryDataCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeMilitaryDataService) {
        super();
        this.employeeMilitaryDataService = employeeMilitaryDataService;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empMilitary = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAllEmpMilitary();
        else
            this.isLoaded = true;
    }
    getAllEmpMilitary() {
        this.empMilitary = null;
        this.employeeMilitaryDataService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                if (res.data.length > 1) {
                    let sortedList = res.data;
                    // get last create date
                    const lastCreateDate = res.data.reduce((prev, current) => new Date(prev.create_Date).getTime() >
                        new Date(current.statusDate).getTime()
                        ? prev
                        : current).create_Date;
                    // get all objects with lastCreateDate
                    sortedList = sortedList.filter((ele) => ele.create_Date == lastCreateDate);
                    // console.log(sortedList);
                    if (sortedList.length == 1)
                        this.empMilitary = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMilitaryStatusToMap)(sortedList)[0];
                    else {
                        // sort by status date
                        sortedList.sort((a, b) => new Date(a.statusDate).getTime() -
                            new Date(b.statusDate).getTime());
                        this.empMilitary = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMilitaryStatusToMap)([
                            sortedList[sortedList.length - 1],
                        ])[0];
                    }
                }
                else
                    this.empMilitary = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMilitaryStatusToMap)(res.data)[0];
            }
            else
                this.errorList(res?.message?.messages);
            this.isLoaded = true;
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_military_data_dialog_emp_military_data_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmployeeMilitaryDataDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllEmpMilitary();
            }
        });
    }
    afterDelete(address) {
        if (address) {
            this.isLoaded = false;
            this.getAllEmpMilitary();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeMilitaryDataCardComponent.ɵfac = function EmployeeMilitaryDataCardComponent_Factory(t) { return new (t || EmployeeMilitaryDataCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeMilitaryDataService)); };
EmployeeMilitaryDataCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmployeeMilitaryDataCardComponent, selectors: [["emp-military-data-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "militaryData", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "status", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], ["class", "col-6 col-md-4 col-lg-3 px-0 mb-2", "label", "grade", 3, "value", 4, "ngIf"], ["class", "col-6 col-md-4 col-lg-3 px-0 mb-2", 3, "label", "value", 4, "ngIf"], ["class", "col-6 col-md-4 col-lg-3 px-0 mb-2", "label", "endDate", 3, "value", 4, "ngIf"], ["label", "grade", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], [1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "label", "value"], ["label", "endDate", 1, "col-6", "col-md-4", "col-lg-3", "px-0", "mb-2", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeMilitaryDataCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmployeeMilitaryDataCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmployeeMilitaryDataCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpMilitaryTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWlsaXRhcnktZGF0YS1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 22839:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-military-data/emp-military-data-dialog/emp-military-data-dialog.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMilitaryDataDialogComponent": () => (/* binding */ EmployeeMilitaryDataDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-military-data.service */ 65635);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_military_status_dropdown_military_status_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/military-status-dropdown/military-status-dropdown.component */ 19634);
/* harmony import */ var _shared_components_dropdowns_hr_setup_military_grade_dropdown_military_grade_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/military-grade-dropdown/military-grade-dropdown.component */ 17503);
/* harmony import */ var _emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-military-table/emp-military-table.component */ 74855);





















function EmployeeMilitaryDataDialogComponent_div_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](1, "app-military-grade-dropdown", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx_r1.formCtrls.gradeID)("submitted", ctx_r1.submitted)("filter", true)("appendTo", _r0);
} }
function EmployeeMilitaryDataDialogComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](1, "app-datepicker", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx_r2.formCtrls.statusDate)("submitted", ctx_r2.submitted)("label", (ctx_r2.selectedStatus == null ? null : ctx_r2.selectedStatus.dateMandatory) == 1 ? "date" : "startDate");
} }
function EmployeeMilitaryDataDialogComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](1, "app-datepicker", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx_r3.formCtrls.endDate)("submitted", ctx_r3.submitted);
} }
function EmployeeMilitaryDataDialogComponent_reset_form_btn_17_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeMilitaryDataDialogComponent_reset_form_btn_17_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r5.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmployeeMilitaryDataDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeMilitaryDataService, dialogRef) {
        super();
        this.employeeMilitaryDataService = employeeMilitaryDataService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.mandatoryColomns = [
            "Ser",
            "status",
            "grade",
            "statusDate",
            "endDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_military_data_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            militaryID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            gradeID: [null],
            statusDate: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
            endDate: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__.CustomValidator.compareDates("statusDate", "endDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getAll();
    //   }
    // }
    // getAll() {
    //   this.employeeMilitaryDataService
    //     .getAll(this.employeeId)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponse<IEmployeeMilitaryModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           employeeMilitaryStatusToMap(res.data)
    //         );
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    PersonID: this.employeeId,
                    militaryID: this.form.value.militaryID,
                },
            };
            if (this.selectedStatus.showGrade)
                model.EmployeeData.gradeID = this.form.value.gradeID;
            if (this.selectedStatus.dateMandatory > 0) {
                model.EmployeeData.statusDate = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.statusDate);
                if (this.selectedStatus.dateMandatory == 2)
                    model.EmployeeData.endDate = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.endDate);
            }
            this.create(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading('dialog');
        this.employeeMilitaryDataService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('dialog');
        });
    }
    // update(model: IEmployeeMilitaryRequest) {
    //   this.showLoading();
    //   this.employeeMilitaryDataService
    //     .update(model)
    //     .subscribe((res: IResponse<IEmployeeMilitaryModel>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.clearForm();
    //         this.updateSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.updated = true;
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    // employeeMilitaryToEdit(employeeMilitaryInfo: IEmployeeMilitaryModel) {
    //   this.form.patchValue(employeeMilitaryInfo);
    //   // console.log(this.form.value);
    // }
    // onDelete(employeeMilitaryInfo: IEmployeeMilitaryModel): void {
    //   let msg = employeeMilitaryInfo.status;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeMilitaryInfo);
    //   });
    // }
    //
    // delete(employeeMilitaryInfo: IEmployeeMilitaryModel) {
    //   let deleteParams: IEmployeeMilitaryDeleteParams = {
    //     PersonID: this.employeeId,
    //     MilitaryID: employeeMilitaryInfo.militaryID,
    //   };
    //   this.showLoading();
    //   this.employeeMilitaryDataService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.hasUpdate = true;
    //         // if (employeeMilitaryInfo.id == this.formCtrls.id.value)
    //         //   this.clearForm();
    //       }
    //       else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    afterDelete(Military) {
        if (Military?.comm_Military_Status.id == this.formCtrls.id.value)
            this.clearForm();
        if (Military)
            this.hasUpdate = true;
    }
    onChangeStatus(values) {
        this.selectedStatus = values?.length > 0 ? values[0] : null;
        if (this.selectedStatus?.showGrade)
            this.formCtrls.gradeID.setValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]);
        else
            this.formCtrls.gradeID.clearValidators();
        this.formCtrls.gradeID.updateValueAndValidity();
    }
}
EmployeeMilitaryDataDialogComponent.ɵfac = function EmployeeMilitaryDataDialogComponent_Factory(t) { return new (t || EmployeeMilitaryDataDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeMilitaryDataService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmployeeMilitaryDataDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeMilitaryDataDialogComponent, selectors: [["app-employee-military-data-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 19, vars: 15, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "militaryData", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo", "change"], ["class", "col-md-4 col-sm-6 col-12", 4, "ngIf"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "afterDelete"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "submitted", "label"], ["label", "endDate", 3, "control", "submitted"], [3, "click"]], template: function EmployeeMilitaryDataDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeMilitaryDataDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9)(11, "app-military-status-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("change", function EmployeeMilitaryDataDialogComponent_Template_app_military_status_dropdown_change_11_listener($event) { return ctx.onChangeStatus($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](12, EmployeeMilitaryDataDialogComponent_div_12_Template, 2, 4, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](13, EmployeeMilitaryDataDialogComponent_div_13_Template, 2, 3, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](14, EmployeeMilitaryDataDialogComponent_div_14_Template, 2, 2, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](15, "div", 12)(16, "submit-btn", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeMilitaryDataDialogComponent_Template_submit_btn_onClick_16_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](17, EmployeeMilitaryDataDialogComponent_reset_form_btn_17_Template, 1, 0, "reset-form-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "app-emp-military-table", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("afterDelete", function EmployeeMilitaryDataDialogComponent_Template_app_emp_military_table_afterDelete_18_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.militaryID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", !ctx.formCtrls.militaryID.value || (ctx.selectedStatus == null ? null : ctx.selectedStatus.showGrade));
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", !ctx.formCtrls.militaryID.value || (ctx.selectedStatus == null ? null : ctx.selectedStatus.dateMandatory) > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", (ctx.selectedStatus == null ? null : ctx.selectedStatus.dateMandatory) == 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_military_status_dropdown_military_status_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.MilitaryStatusDropdownComponent, _shared_components_dropdowns_hr_setup_military_grade_dropdown_military_grade_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.MilitaryGradeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpMilitaryTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWlsaXRhcnktZGF0YS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 74855:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-military-data/emp-military-table/emp-military-table.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMilitaryTableComponent": () => (/* binding */ EmpMilitaryTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-military-data.service */ 65635);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpMilitaryTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpMilitaryTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpMilitaryTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpMilitaryTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpMilitaryTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeMilitaryDataService) {
        super();
        this.employeeMilitaryDataService = employeeMilitaryDataService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "status",
            "grade",
            "statusDate",
            "endDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.employeeId = 0;
        this.isLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_military_data_sec);
    }
    getList(page, pageSize) {
        throw new Error("Method not implemented.");
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getAll();
        // if (this.hideActions) {
        //   let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
        //   this.rowFunctions.basic.splice(editIndex, 1);
        // }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getAll();
        }
    }
    getAll() {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.employeeMilitaryDataService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMilitaryStatusToMap)(res.data));
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    onDelete(employeeMilitaryInfo) {
        let msg = employeeMilitaryInfo.status;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeMilitaryInfo);
        });
    }
    delete(employeeMilitaryInfo) {
        let deleteParams = {
            PersonID: this.employeeId,
            MilitaryID: employeeMilitaryInfo.militaryID,
        };
        this.showLoading('table');
        this.employeeMilitaryDataService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.afterDelete.emit(employeeMilitaryInfo);
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAll();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('table');
        });
    }
    toEdit(Military) {
        this.rowToEdit.emit(Military);
    }
}
EmpMilitaryTableComponent.ɵfac = function EmpMilitaryTableComponent_Factory(t) { return new (t || EmpMilitaryTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeMilitaryDataService)); };
EmpMilitaryTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpMilitaryTableComponent, selectors: [["app-emp-military-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpMilitaryTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpMilitaryTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWlsaXRhcnktdGFibGUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 59897:
/*!***************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-personal-info-core/empl-personal-info-core.component.ts ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePersonalInfoCoreComponent": () => (/* binding */ EmployeePersonalInfoCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _emp_personal_info_emp_personal_info_card_emp_personal_info_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-personal-info/emp-personal-info-card/emp-personal-info-card.component */ 60930);
/* harmony import */ var _emp_address_emp_address_card_emp_address_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-address/emp-address-card/emp-address-card.component */ 68530);
/* harmony import */ var _emp_contact_emp_contact_card_emp_contact_card_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../emp-contact/emp-contact-card/emp-contact-card.component */ 52761);
/* harmony import */ var _emp_dependants_emp_dependants_card_emp_dependants_card_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../emp-dependants/emp-dependants-card/emp-dependants-card.component */ 43097);
/* harmony import */ var _emp_military_data_emp_military_data_card_emp_military_data_card_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../emp-military-data/emp-military-data-card/emp-military-data-card.component */ 83223);
/* harmony import */ var _emp_documents_emp_documents_card_emp_documents_card_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../emp-documents/emp-documents-card/emp-documents-card.component */ 84353);













function EmployeePersonalInfoCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-personal-info-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-contact-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-address-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-dependants-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-military-data-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-documents-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
class EmployeePersonalInfoCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_personal_info_tab);
        //		console.log("personal-info", this.allowedSections);
    }
}
EmployeePersonalInfoCoreComponent.ɵfac = function EmployeePersonalInfoCoreComponent_Factory(t) { return new (t || EmployeePersonalInfoCoreComponent)(); };
EmployeePersonalInfoCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmployeePersonalInfoCoreComponent, selectors: [["emp-personal-info-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 16, vars: 6, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "personalInformation", "color", "font-dark", 1, "emp-card-title"], [1, "container-fluid", "p-0", "px-4"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmployeePersonalInfoCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](7, EmployeePersonalInfoCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](8, "mat-divider");
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](9, EmployeePersonalInfoCoreComponent_div_9_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](10, "mat-divider");
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](11, EmployeePersonalInfoCoreComponent_div_11_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](12, "mat-divider");
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](13, EmployeePersonalInfoCoreComponent_div_13_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](14, EmployeePersonalInfoCoreComponent_div_14_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](15, EmployeePersonalInfoCoreComponent_div_15_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_personal_info_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_contact_address_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_contact_address_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_dependants_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_military_data_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_documents_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCardTitle, _angular_material_divider__WEBPACK_IMPORTED_MODULE_12__.MatDivider, _emp_personal_info_emp_personal_info_card_emp_personal_info_card_component__WEBPACK_IMPORTED_MODULE_3__.EmployeePersonalInfoCardComponent, _emp_address_emp_address_card_emp_address_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpAddressCardComponent, _emp_contact_emp_contact_card_emp_contact_card_component__WEBPACK_IMPORTED_MODULE_5__.EmpContactCardComponent, _emp_dependants_emp_dependants_card_emp_dependants_card_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeDependantsCardComponent, _emp_military_data_emp_military_data_card_emp_military_data_card_component__WEBPACK_IMPORTED_MODULE_7__.EmployeeMilitaryDataCardComponent, _emp_documents_emp_documents_card_emp_documents_card_component__WEBPACK_IMPORTED_MODULE_8__.EmployeeDocumentsCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsLXBlcnNvbmFsLWluZm8tY29yZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 64209:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-personal-info/emp-marital-status-table/emp-marital-status-table.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMaritalStatusTableComponent": () => (/* binding */ EmpMaritalStatusTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-marital-data.service */ 87978);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpMaritalStatusTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpMaritalStatusTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpMaritalStatusTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpMaritalStatusTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showFilter", false)("showSpaceTop", false);
} }
class EmpMaritalStatusTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeMaritalDataService) {
        super();
        this.employeeMaritalDataService = employeeMaritalDataService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter;
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter;
        this.mandatoryColomns = [
            "maritalStatus",
            "statusDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        // marital status index
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_personal_info_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getAllMaritalStatus();
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    getList(page, pageSize) {
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.getAllMaritalStatus();
        }
        else
            this.isLoaded = true;
    }
    getAllMaritalStatus() {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.employeeMaritalDataService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMaritalStatusToMap)(res.data));
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    onDelete(employeeMaritalInfo) {
        let msg = this.msgTranslate(employeeMaritalInfo.comm_Marital_Status?.ar_Name, employeeMaritalInfo.comm_Marital_Status?.en_Name);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeMaritalInfo);
        });
    }
    delete(empMarital) {
        let deleteParams = {
            PersonID: this.employeeId,
            MaritalID: empMarital.comm_Marital_Status?.id,
        };
        this.showLoading('table');
        this.employeeMaritalDataService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAllMaritalStatus();
                this.afterDelete.emit(empMarital); // emit to parent
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('table');
        });
    }
    toEdit(empMarital) {
        this.rowToEdit.emit(empMarital);
    }
}
EmpMaritalStatusTableComponent.ɵfac = function EmpMaritalStatusTableComponent_Factory(t) { return new (t || EmpMaritalStatusTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeMaritalDataService)); };
EmpMaritalStatusTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpMaritalStatusTableComponent, selectors: [["app-emp-marital-status-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpMaritalStatusTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpMaritalStatusTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWFyaXRhbC1zdGF0dXMtdGFibGUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 60930:
/*!********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-personal-info/emp-personal-info-card/emp-personal-info-card.component.ts ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePersonalInfoCardComponent": () => (/* binding */ EmployeePersonalInfoCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_personal_info_dialog_emp_personal_info_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-personal-info-dialog/emp-personal-info-dialog.component */ 17588);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-marital-data.service */ 87978);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var primeng_skeleton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/skeleton */ 32712);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../emp-marital-status-table/emp-marital-status-table.component */ 64209);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);














function EmployeePersonalInfoCardComponent_div_0_div_5_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0, 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "card-row-item", 16)(2, "card-row-item", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r8.employee == null ? null : ctx_r8.employee.person.dob)("isDate", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r8.msgTranslate(ctx_r8.employee == null ? null : ctx_r8.employee.country == null ? null : ctx_r8.employee.country.ar_Name, ctx_r8.employee == null ? null : ctx_r8.employee.country == null ? null : ctx_r8.employee.country.en_NAme));
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_card_row_item_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "card-row-item", 18);
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r9.msgTranslate(ctx_r9.empMarital == null ? null : ctx_r9.empMarital.comm_Marital_Status == null ? null : ctx_r9.empMarital.comm_Marital_Status.ar_Name, ctx_r9.empMarital == null ? null : ctx_r9.empMarital.comm_Marital_Status == null ? null : ctx_r9.empMarital.comm_Marital_Status.en_Name));
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeePersonalInfoCardComponent_div_0_div_5_div_1_Template, 2, 0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](2, EmployeePersonalInfoCardComponent_div_0_div_5_div_2_Template, 2, 0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](3, EmployeePersonalInfoCardComponent_div_0_div_5_div_3_Template, 2, 0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](4, EmployeePersonalInfoCardComponent_div_0_div_5_ng_container_4_Template, 3, 3, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmployeePersonalInfoCardComponent_div_0_div_5_card_row_item_5_Template, 1, 1, "card-row-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r3.isPersonalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r3.isPersonalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r3.isMaritalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r3.isPersonalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r3.isMaritalLoaded);
} }
function EmployeePersonalInfoCardComponent_div_0_app_emp_marital_status_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "app-emp-marital-status-table", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("afterDelete", function EmployeePersonalInfoCardComponent_div_0_app_emp_marital_status_table_6_Template_app_emp_marital_status_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r10.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeePersonalInfoCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmployeePersonalInfoCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r12.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmployeePersonalInfoCardComponent_div_0_div_5_Template, 6, 5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](6, EmployeePersonalInfoCardComponent_div_0_app_emp_marital_status_table_6_Template, 1, 2, "app-emp-marital-status-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("toggleTable", function EmployeePersonalInfoCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r13); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r14.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", ctx_r0.empMarital || (ctx_r0.employee == null ? null : ctx_r0.employee.person.dob) || (ctx_r0.employee == null ? null : ctx_r0.employee.country == null ? null : ctx_r0.employee.country.ar_Name) || (ctx_r0.employee == null ? null : ctx_r0.employee.country == null ? null : ctx_r0.employee.country.en_NAme))("isLoaded", ctx_r0.isPersonalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("employeeId", ctx_r0.employeeId)("isTableView", ctx_r0.isTableView);
} }
function EmployeePersonalInfoCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 20);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 5);
} }
class EmployeePersonalInfoCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(empGeneralInfoService, employeeMaritalDataService) {
        super();
        this.empGeneralInfoService = empGeneralInfoService;
        this.employeeMaritalDataService = employeeMaritalDataService;
        this.isPersonalLoaded = false;
        this.isMaritalLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
            this.personalLoadedFun();
        });
        this.personalLoadedFun();
    }
    personalLoadedFun() {
        this.isPersonalLoaded = false;
        if (this.employee != null && this.employeeId > 0)
            this.isPersonalLoaded = true;
        if (this.employee == null && this.employeeId == 0)
            this.isPersonalLoaded = true;
    }
    onChangeBusinessAndCompanyId() {
        this.empMarital = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isMaritalLoaded = true;
    }
    getAll() {
        this.empMarital = null;
        this.employeeMaritalDataService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                let sortedList = res.data;
                // if at least one with status date sort by status date // else sort by create date
                // from old to new
                if (sortedList.some((ele) => ele.statusDate))
                    sortedList.sort((a, b) => new Date(a.statusDate).getTime() -
                        new Date(b.statusDate).getTime());
                else
                    sortedList.sort((a, b) => new Date(a.create_Date).getTime() -
                        new Date(b.create_Date).getTime());
                // console.log(sortedList);
                this.empMarital = sortedList[sortedList.length - 1];
            }
            else
                this.errorList(res?.message?.messages);
            this.isMaritalLoaded = true;
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_personal_info_dialog_emp_personal_info_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmployeePersonalInfoDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isMaritalLoaded = false;
                this.getAll();
            }
            // if (res?.isPersonal) {
            // 	this.empGeneralInfoService.getEmployee(this.employeeId);
            // } else if (res?.isMarital) {
            // 	this.getEmpAll_Military();
            //   this.empGeneralInfoService.getEmployee(this.employeeId);
            // }
        });
    }
    afterDelete(Marital) {
        if (Marital) {
            this.isMaritalLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeePersonalInfoCardComponent.ɵfac = function EmployeePersonalInfoCardComponent_Factory(t) { return new (t || EmployeePersonalInfoCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeMaritalDataService)); };
EmployeePersonalInfoCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmployeePersonalInfoCardComponent, selectors: [["emp-personal-info-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row"], [1, "col-lg-2", "col-12"], ["cardTitle", "personalInfo", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["class", "col m-auto", 4, "ngIf"], ["class", "row", 4, "ngIf"], ["class", "w-25", "label", "maritalStatus", 3, "value", 4, "ngIf"], [1, "col", "m-auto"], ["width", "7rem", "styleClass", "p-mb-2", "borderRadius", "10px"], ["label", "dob", 1, "w-25", 3, "value", "isDate"], ["label", "placeOfBirth", 1, "w-25", 3, "value"], ["label", "maritalStatus", 1, "w-25", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeePersonalInfoCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmployeePersonalInfoCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeePersonalInfoCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isPersonalLoaded || ctx.isMaritalLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeProfileCardSkeletonComponent, primeng_skeleton__WEBPACK_IMPORTED_MODULE_12__.Skeleton, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent, _emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_8__.EmpMaritalStatusTableComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGVyc29uYWwtaW5mby1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 17588:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-personal-info/emp-personal-info-dialog/emp-personal-info-dialog.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePersonalInfoDialogComponent": () => (/* binding */ EmployeePersonalInfoDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-marital-data.service */ 87978);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_marital_status_dropdown_marital_status_dropdown_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/marital-status-dropdown/marital-status-dropdown.component */ 9316);
/* harmony import */ var _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../employee-general-info/emp-general-info-form/emp-general-info-form.component */ 9442);
/* harmony import */ var _emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../emp-marital-status-table/emp-marital-status-table.component */ 64209);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ngx-translate/core */ 89461);





















function EmployeePersonalInfoDialogComponent_reset_form_btn_27_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("click", function EmployeePersonalInfoDialogComponent_reset_form_btn_27_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} }
class EmployeePersonalInfoDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    // mandatoryColomns: string[] = [
    //   "Ser",
    //   "maritalStatus",
    //   "statusDate",
    //   "actions",
    // ];
    // optionalColomns: string[] = [];
    // dataSource: MatTableDataSource<IEmployeeMaritalModel>;
    // isLoaded: boolean = false;
    // @ViewChild(EmployeePersonalInfoCardComponent, { static: true })
    // personalInfoCard: EmployeePersonalInfoCardComponent;
    constructor(employeeMaritalDataService, dialogRef) {
        super();
        this.employeeMaritalDataService = employeeMaritalDataService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        this.selectedMaritalId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        // marital status index
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_personal_info_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            maritalID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_13__.Validators.required]],
            statusDate: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
    //     this.getAllMaritalStatus();
    //   }
    //   else this.isLoaded = true;
    // }
    // getAllMaritalStatus() {
    //   this.employeeMaritalDataService
    //     .getAll(this.employeeId)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponse<IEmployeeMaritalModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           employeeMaritalStatusToMap(res.data)
    //         );
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.personalInfoCard);
        // if (this.personalInfoCard) this.personalInfoCard?.getEmpAll_Military();
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    personID: this.employeeId,
                    maritalID: this.formCtrls.maritalID.value,
                    statusDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.formCtrls.statusDate.value),
                },
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading('personal-info-dialog');
        this.employeeMaritalDataService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                //  this.getAllMaritalStatus();
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('personal-info-dialog');
        });
    }
    update(model) {
        let editModel = {
            ...model,
            OriginalEmployeeData: {
                PersonID: this.employeeId,
                MaritalID: this.selectedMaritalId,
            },
        };
        this.showLoading('personal-info-dialog');
        this.employeeMaritalDataService
            .update(editModel)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                //   this.getAllMaritalStatus();
                this.getList = true;
                this.hasUpdate = true;
                this.selectedMaritalId = 0;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading('personal-info-dialog');
        });
    }
    employeeMaritalToEdit(employeeMaritalInfo) {
        this.form.patchValue(employeeMaritalInfo);
        this.formCtrls.statusDate.setValue(employeeMaritalInfo.originalDateFormat);
        // not real id >> only to detect edit mode
        this.formCtrls.id.setValue(employeeMaritalInfo.comm_Marital_Status?.id ?? 1);
        // to use in edit request
        this.selectedMaritalId = employeeMaritalInfo.maritalID;
    }
    // onDelete(employeeMaritalInfo: IEmployeeMaritalModel): void {
    //   let msg = this.msgTranslate(
    //     employeeMaritalInfo.comm_Marital_Status?.ar_Name,
    //     employeeMaritalInfo.comm_Marital_Status?.en_Name
    //   );
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeMaritalInfo);
    //   });
    // }
    //
    // delete(employeeMaritalInfo: IEmployeeMaritalModel) {
    //   let deleteParams: IEmployeeMaritalDeleteParams = {
    //     PersonID: this.employeeId,
    //     MaritalID: employeeMaritalInfo.comm_Marital_Status?.id,
    //   };
    //   this.showLoading();
    //   this.employeeMaritalDataService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAllMaritalStatus();
    //         this.updated = true;
    //         if (
    //           employeeMaritalInfo.comm_Marital_Status?.id ==
    //           this.selectedMaritalId &&
    //           // if edit
    //           this.formCtrls.id.value > 0
    //         )
    //           this.clearForm();
    //       }
    //       else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    onSave(data) {
        // this.empGeneralInfoService.getEmployee(this.data.employeeId);
        // this.dialogRef.close(data);
    }
    afterDelete(Marital) {
        if (Marital?.comm_Marital_Status.id == this.formCtrls.id.value)
            this.clearForm();
        if (Marital)
            this.hasUpdate = true;
    }
}
EmployeePersonalInfoDialogComponent.ɵfac = function EmployeePersonalInfoDialogComponent_Factory(t) { return new (t || EmployeePersonalInfoDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeMaritalDataService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__.MatDialogRef)); };
EmployeePersonalInfoDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineComponent"]({ type: EmployeePersonalInfoDialogComponent, selectors: [["app-employee-personal-info-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵInheritDefinitionFeature"]], decls: 29, vars: 25, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "personalInfo", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [1, "divider-title"], [3, "isPersonal", "onSave"], [1, "mtop-20"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "date", 3, "control", "submitted"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeePersonalInfoDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("click", function EmployeePersonalInfoDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](6, "mat-dialog-content", 5)(7, "p", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](9, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](10, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](11, "emp-general-info-form", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onSave", function EmployeePersonalInfoDialogComponent_Template_emp_general_info_form_onSave_11_listener($event) { return ctx.onSave($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](12, "mat-divider", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](13, "div", null, 9)(15, "p", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](16);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](17, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](18, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](19, "form", 10)(20, "div", 11)(21, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](22, "app-marital-status-dropdown", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](23, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](24, "app-datepicker", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](25, "div", 15)(26, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onClick", function EmployeePersonalInfoDialogComponent_Template_submit_btn_onClick_26_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](27, EmployeePersonalInfoDialogComponent_reset_form_btn_27_Template, 1, 0, "reset-form-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](28, "app-emp-marital-status-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("rowToEdit", function EmployeePersonalInfoDialogComponent_Template_app_emp_marital_status_table_rowToEdit_28_listener($event) { return ctx.employeeMaritalToEdit($event); })("afterDelete", function EmployeePersonalInfoDialogComponent_Template_app_emp_marital_status_table_afterDelete_28_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵreference"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("name", "personal-info-dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](9, 17, _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](10, 19, "personalData")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isPersonal", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](17, 21, _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](18, 23, "maritalData")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.maritalID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.statusDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_15__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__.DatepickerComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_16__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_17__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_18__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_marital_status_dropdown_marital_status_dropdown_component__WEBPACK_IMPORTED_MODULE_9__.MaritalStatusDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_13__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_13__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_13__.FormGroupDirective, _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_10__.EmpGeneralInfoFormComponent, _emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_11__.EmpMaritalStatusTableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_15__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGVyc29uYWwtaW5mby1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 23674:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/old-emp-contact-and-address/emp-address-section/emp-address-section.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeAddressDialogComponent": () => (/* binding */ EmployeeAddressDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/country-dropdown/country-dropdown.component */ 59681);
/* harmony import */ var _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/governorate-by-country-dropdown/governorate-by-country-dropdown.component */ 10225);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ngx-translate/core */ 89461);




















function EmployeeAddressDialogComponent_reset_form_btn_18_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeAddressDialogComponent_reset_form_btn_18_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
function EmployeeAddressDialogComponent_app_material_table_19_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "app-material-table", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onChangePage", function EmployeeAddressDialogComponent_app_material_table_19_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r5.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmployeeAddressDialogComponent_app_material_table_19_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r7.employeeAddressToEdit($event)); })("deleteRow", function EmployeeAddressDialogComponent_app_material_table_19_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r8.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("actions", ctx_r2.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r2.page);
} }
class EmployeeAddressDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeAddressService) {
        super();
        this.employeeAddressService = employeeAddressService;
        this.employeeId = 0;
        this.changUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_13__.EventEmitter();
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "country",
            "governorate",
            "address",
            "primary",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_contact_address_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            countryId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            Governorate_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            address: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            primary: [null],
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_15__.MatTableDataSource(null);
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeAddressService
            .GetList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_15__.MatTableDataSource((0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.employeeAddressToMap)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_ID: this.employeeId,
                    Comm_Address: {
                        ID: this.form.value.id,
                        Governorate_ID: this.form.value.Governorate_ID,
                        En_Name: this.form.value.address,
                        IsVaild: this.form.value.primary ?? false,
                    },
                },
            };
            model.EmployeeData.Comm_Address.ID == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeAddressService.create(model).subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.firstPage);
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeAddressService.update(model).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    employeeAddressToEdit(employeeAddressInfo) {
        this.form.patchValue(employeeAddressInfo);
        this.formCtrls.countryId.setValue(employeeAddressInfo.comm_Governorate.comm_Country.id);
        this.formCtrls.Governorate_ID.setValue(employeeAddressInfo.governorate_ID);
    }
    onDelete(employeeAddressInfo) {
        let msg = employeeAddressInfo.address;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeAddressInfo);
        });
    }
    delete(employeeAddressInfo) {
        let deleteParams = {
            Person_ID: this.employeeId,
            ADDRESS_ID: employeeAddressInfo.id,
        };
        this.showLoading();
        this.employeeAddressService.Delete(deleteParams).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.changUpdated.emit(true);
                if (employeeAddressInfo.id == this.formCtrls.id.value)
                    this.clearForm();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmployeeAddressDialogComponent.ɵfac = function EmployeeAddressDialogComponent_Factory(t) { return new (t || EmployeeAddressDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeAddressService)); };
EmployeeAddressDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeAddressDialogComponent, selectors: [["employee-address-section"]], outputs: { changUpdated: "changUpdated" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 20, vars: 24, consts: [["dialogContainer", ""], [1, "divider-title"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "countryControl", "submitted", "filter", "appendTo"], ["label", "address", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "primary", 3, "control"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "onChangePage", "editRow", "deleteRow"]], template: function EmployeeAddressDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", null, 0)(2, "p", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](4, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](5, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "form", 2)(7, "div", 3)(8, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](9, "app-country-dropdown", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](10, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "app-governorate-by-country-dropdown", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-input", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-check-box", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 10)(17, "submit-btn", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeAddressDialogComponent_Template_submit_btn_onClick_17_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](18, EmployeeAddressDialogComponent_reset_form_btn_18_Template, 1, 0, "reset-form-btn", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](19, EmployeeAddressDialogComponent_app_material_table_19_Template, 1, 8, "app-material-table", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](4, 20, _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](5, 22, "address")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.Governorate_ID)("countryControl", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.address)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.primary);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.GovernorateDropdownComponent, _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.GovernorateByCountryDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_16__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYWRkcmVzcy1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 33491:
/*!******************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/old-emp-contact-and-address/emp-contact-and-address-card/emp-contact-and-address-card.component.ts ***!
  \******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContactAndAddressCardComponent": () => (/* binding */ EmployeeContactAndAddressCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_contact_and_address_dialog_emp_contact_and_address_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-contact-and-address-dialog/emp-contact-and-address-dialog.component */ 36888);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var primeng_skeleton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/skeleton */ 32712);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-translate/core */ 89461);














function EmployeeContactAndAddressCardComponent_div_0_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeeContactAndAddressCardComponent_div_0_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeeContactAndAddressCardComponent_div_0_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    const contact_r10 = ctx_r14.$implicit;
    const lst_r11 = ctx_r14.last;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate2"](" ", contact_r10.value, " ", !lst_r11 ? "-" : "", " ");
} }
function EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "span")(1, "a", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](2, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const contact_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("href", contact_r10.value, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵclassMap"](contact_r10.comm_Contact_Category.icon);
} }
function EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_span_1_Template, 2, 2, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](2, EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_span_2_Template, 3, 3, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const contact_r10 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !(contact_r10 == null ? null : contact_r10.comm_Contact_Category == null ? null : contact_r10.comm_Contact_Category.icon));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", contact_r10 == null ? null : contact_r10.comm_Contact_Category == null ? null : contact_r10.comm_Contact_Category.icon);
} }
function EmployeeContactAndAddressCardComponent_div_0_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 13)(1, "div", 14)(2, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](4, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](5, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](6, "div", 16)(7, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](8, EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_Template, 3, 2, "ng-container", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const contactType_r8 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](4, 2, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](5, 4, contactType_r8.key)));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngForOf", contactType_r8.value);
} }
function EmployeeContactAndAddressCardComponent_div_0_card_row_item_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "card-row-item", 21);
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r7.employeeAddressInfo == null ? null : ctx_r7.employeeAddressInfo.allAddress);
} }
function EmployeeContactAndAddressCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmployeeContactAndAddressCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r17); const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r16.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6)(5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](6, EmployeeContactAndAddressCardComponent_div_0_div_6_Template, 2, 0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](7, EmployeeContactAndAddressCardComponent_div_0_div_7_Template, 2, 0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](8, EmployeeContactAndAddressCardComponent_div_0_div_8_Template, 2, 0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](9, EmployeeContactAndAddressCardComponent_div_0_div_9_Template, 9, 6, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](10, "keyvalue");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](11, EmployeeContactAndAddressCardComponent_div_0_card_row_item_11_Template, 1, 1, "card-row-item", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", ctx_r0.empContacts || ctx_r0.employeeAddressInfo)("isLoaded", ctx_r0.isContactLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isContactLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isContactLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isAddressLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind2"](10, 7, ctx_r0.empContacts, ctx_r0.iteration));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r0.isAddressLoaded);
} }
function EmployeeContactAndAddressCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 22);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 5);
} }
class EmployeeContactAndAddressCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeContactService, employeeAddressService) {
        super();
        this.employeeContactService = employeeContactService;
        this.employeeAddressService = employeeAddressService;
        this.isContactLoaded = false;
        this.isAddressLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empContacts = null;
        this.employeeAddressInfo = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.GetAllEmpContacts();
            this.GetAllEmpAddress();
        }
        else {
            this.isContactLoaded = true;
            this.isAddressLoaded = true;
        }
    }
    GetAllEmpContacts() {
        return this.employeeContactService
            .GetAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.isContactLoaded = true;
                this.empContacts = (0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.empContactCard)(res.data);
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    GetAllEmpAddress() {
        return this.employeeAddressService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.isAddressLoaded = true;
                let employeeAddressesFromNewest = (0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.employeeAddressToMap)(res.data).reverse();
                this.employeeAddressInfo =
                    employeeAddressesFromNewest.find((address) => address.primary == true) ?? employeeAddressesFromNewest[0];
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_contact_and_address_dialog_emp_contact_and_address_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeContactAndAddressDialogComponent)
            .afterClosed()
            .subscribe((data) => {
            if (data.isContactUpdated) {
                this.isContactLoaded = false;
                this.GetAllEmpContacts();
            }
            if (data.isAddressUpdated) {
                this.isAddressLoaded = false;
                this.GetAllEmpAddress();
            }
        });
    }
    iteration(a, b) {
        return a.key - b.key;
    }
}
EmployeeContactAndAddressCardComponent.ɵfac = function EmployeeContactAndAddressCardComponent_Factory(t) { return new (t || EmployeeContactAndAddressCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContactService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeAddressService)); };
EmployeeContactAndAddressCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmployeeContactAndAddressCardComponent, selectors: [["emp-contact-and-address-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-2"], ["cardTitle", "contact_Address", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-10"], [1, "view-data-row-container"], ["class", "w-20", 4, "ngIf"], ["class", "w-15", 4, "ngFor", "ngForOf"], ["class", "w-15", "label", "address", 3, "value", 4, "ngIf"], [1, "w-20"], ["width", "7rem", "styleClass", "p-mb-2", "borderRadius", "10px"], [1, "w-15"], [1, "col"], [1, "view-data-title"], [1, "view-data-value"], [1, "d-inline-block"], [4, "ngFor", "ngForOf"], [4, "ngIf"], ["target", "_blank", 1, "mr-1", "ml-1", "font-medium-3", 3, "href"], ["label", "address", 1, "w-15", 3, "value"], [3, "rowNo"]], template: function EmployeeContactAndAddressCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmployeeContactAndAddressCardComponent_div_0_Template, 12, 10, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeeContactAndAddressCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isContactLoaded || ctx.isAddressLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_7__.EmployeeProfileCardSkeletonComponent, primeng_skeleton__WEBPACK_IMPORTED_MODULE_12__.Skeleton, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_8__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_9__.CardRowItemComponent, _angular_common__WEBPACK_IMPORTED_MODULE_11__.TitleCasePipe, _angular_common__WEBPACK_IMPORTED_MODULE_11__.KeyValuePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1hbmQtYWRkcmVzcy1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 36888:
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/old-emp-contact-and-address/emp-contact-and-address-dialog/emp-contact-and-address-dialog.component.ts ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContactAndAddressDialogComponent": () => (/* binding */ EmployeeContactAndAddressDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _emp_contact_section_emp_contact_section_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-contact-section/emp-contact-section.component */ 71767);
/* harmony import */ var _emp_address_section_emp_address_section_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-address-section/emp-address-section.component */ 23674);










class EmployeeContactAndAddressDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(data, dialogRef) {
        super();
        this.data = data;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    contactUpdated(value) {
        this.isContactUpdated = value;
        //  this.data.updateCard();
    }
    addressUpdated(value) {
        this.isAddressUpdated = value;
        //	this.data.updateCard();
    }
    onCloseDialog() {
        this.dialogRef.close({
            isContactUpdated: this.isContactUpdated,
            isAddressUpdated: this.isAddressUpdated,
        });
    }
}
EmployeeContactAndAddressDialogComponent.ɵfac = function EmployeeContactAndAddressDialogComponent_Factory(t) { return new (t || EmployeeContactAndAddressDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MAT_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MatDialogRef)); };
EmployeeContactAndAddressDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmployeeContactAndAddressDialogComponent, selectors: [["app-employee-contact-and-address-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 10, vars: 0, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "contact_Address", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [3, "changUpdated"], [1, "clearfix"], [1, "mtop-20"]], template: function EmployeeContactAndAddressDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](2, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](3, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function EmployeeContactAndAddressDialogComponent_Template_button_click_3_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "mat-dialog-content", 4)(6, "employee-contact-section", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("changUpdated", function EmployeeContactAndAddressDialogComponent_Template_employee_contact_section_changUpdated_6_listener($event) { return ctx.contactUpdated($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](7, "div", 6)(8, "mat-divider", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](9, "employee-address-section", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("changUpdated", function EmployeeContactAndAddressDialogComponent_Template_employee_address_section_changUpdated_9_listener($event) { return ctx.addressUpdated($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    } }, dependencies: [_shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_7__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_8__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MatDialogContent, _emp_contact_section_emp_contact_section_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeContactDialogComponent, _emp_address_section_emp_address_section_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeAddressDialogComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1hbmQtYWRkcmVzcy1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 71767:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/old-emp-contact-and-address/emp-contact-section/emp-contact-section.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContactDialogComponent": () => (/* binding */ EmployeeContactDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contact_type_dropdown_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contact-type-dropdown/contact-type-dropdown.component */ 99167);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contact_categories_by_contact_dropdown_categories_by_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contact-categories-by-contact-dropdown/categories-by-contact-type-dropdown.component */ 58092);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ngx-translate/core */ 89461);




















function EmployeeContactDialogComponent_reset_form_btn_20_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeContactDialogComponent_reset_form_btn_20_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
function EmployeeContactDialogComponent_app_material_table_21_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "app-material-table", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onChangePage", function EmployeeContactDialogComponent_app_material_table_21_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r5.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmployeeContactDialogComponent_app_material_table_21_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r7.employeeContactToEdit($event)); })("deleteRow", function EmployeeContactDialogComponent_app_material_table_21_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r8.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("page", ctx_r2.page)("actions", ctx_r2.rowFunctions)("showFilter", false)("isDialogSize", true);
} }
class EmployeeContactDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeContactService) {
        super();
        this.employeeContactService = employeeContactService;
        this.employeeId = 0;
        this.changUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_13__.EventEmitter();
        this.mandatoryColomns = [
            "Ser",
            "contactType",
            "contactCategory",
            "contact",
            "primary",
            "display_in_emp_card",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_contact_address_sec);
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            contacT_TYPE_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            contacT_Category_ID: [null],
            value: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            isPrimary: [null],
            isShow: [null],
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_15__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeContactService
            .GetList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_15__.MatTableDataSource((0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.empContactDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_ID: this.employeeId,
                    Comm_Contact: {
                        id: this.form.value.id,
                        contacT_TYPE_ID: this.form.value.contacT_TYPE_ID,
                        contacT_Category_ID: this.form.value.contacT_Category_ID,
                        value: this.form.value.value,
                        isVaild: this.form.value.isPrimary ?? false,
                        isShow: this.form.value.isShow ?? false,
                    },
                },
            };
            model.EmployeeData.Comm_Contact.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeContactService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.firstPage);
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeContactService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    employeeContactToEdit(empContacts) {
        this.form.patchValue(empContacts);
        this.formCtrls.value.setValue(empContacts.contact);
        this.formCtrls.id.setValue(empContacts.contact_ID);
        this.formCtrls.isPrimary.setValue(empContacts.primary);
        this.formCtrls.isShow.setValue(empContacts.display_in_emp_card);
        // console.log(this.form.value);
    }
    onDelete(employeeContactInfo) {
        let msg = employeeContactInfo.contact;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeContactInfo);
        });
    }
    delete(employeeContactInfo) {
        let deleteParams = {
            Person_ID: this.employeeId,
            Contact_ID: employeeContactInfo.contact_ID,
        };
        this.showLoading();
        this.employeeContactService.Delete(deleteParams).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.changUpdated.emit(true);
                if (employeeContactInfo.contact_ID == this.formCtrls.id.value)
                    this.clearForm();
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    onChangeContactType(contact) {
        if (contact)
            this.formCtrls.value.setValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(contact[0]?.regularExpression)]);
        else
            this.formCtrls.value.removeValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(contact[0]?.regularExpression)]);
    }
}
EmployeeContactDialogComponent.ɵfac = function EmployeeContactDialogComponent_Factory(t) { return new (t || EmployeeContactDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContactService)); };
EmployeeContactDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeContactDialogComponent, selectors: [["employee-contact-section"]], outputs: { changUpdated: "changUpdated" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 22, vars: 25, consts: [["dialogContainer", ""], [1, "divider-title"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo", "change"], [3, "control", "contactTypControl", "submitted", "filter", "appendTo"], ["label", "contact", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-14", "mtop-14"], ["label", "primary", 3, "control"], ["label", "display_in_emp_card", 3, "control"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "showFilter", "isDialogSize", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "showFilter", "isDialogSize", "onChangePage", "editRow", "deleteRow"]], template: function EmployeeContactDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", null, 0)(2, "p", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](4, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](5, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "form", 2)(7, "div", 3)(8, "div", 4)(9, "app-contact-type-dropdown", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("change", function EmployeeContactDialogComponent_Template_app_contact_type_dropdown_change_9_listener($event) { return ctx.onChangeContactType($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](10, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "contact-categories-by-contact-dropdown", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-input", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-check-box", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](17, "app-check-box", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "div", 11)(19, "submit-btn", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeContactDialogComponent_Template_submit_btn_onClick_19_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](20, EmployeeContactDialogComponent_reset_form_btn_20_Template, 1, 0, "reset-form-btn", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](21, EmployeeContactDialogComponent_app_material_table_21_Template, 1, 8, "app-material-table", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](4, 21, _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](5, 23, "contact")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.contacT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.contacT_Category_ID)("contactTypControl", ctx.formCtrls.contacT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.value)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isPrimary);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isShow);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_dropdowns_hr_setup_contact_type_dropdown_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.ContactTypeDropdownComponent, _shared_components_dropdowns_hr_setup_contact_categories_by_contact_dropdown_categories_by_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.CategoriesByContactTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_16__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 20108:
/*!*********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-erp-integration/emp-erp-integration-card/emp-erp-integration-card.component.ts ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpErpIntegrationCardComponent": () => (/* binding */ EmpErpIntegrationCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_erp_integration_dialog_emp_erp_integration_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-erp-integration-dialog/emp-erp-integration-dialog.component */ 52582);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_erp_integration_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-erp-integration.service */ 11151);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);










function EmpErpIntegrationCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](1, "card-row-item", 9)(2, "card-row-item", 10)(3, "card-row-item", 11)(4, "card-row-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r3.erpIntegration == null ? null : ctx_r3.erpIntegration.SAP_Add_As_Employee)("isBool", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r3.erpIntegration == null ? null : ctx_r3.erpIntegration.SAP_Add_As_Vendor)("isBool", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r3.erpIntegration == null ? null : ctx_r3.erpIntegration.SAP_Add_As_Customer)("isBool", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r3.erpIntegration == null ? null : ctx_r3.erpIntegration.SAP_Add_As_Resource)("isBool", true);
} }
function EmpErpIntegrationCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵlistener"]("onClickIcon", function EmpErpIntegrationCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r4.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](5, EmpErpIntegrationCardComponent_div_0_div_5_Template, 5, 8, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("isEdit", ctx_r0.erpIntegration)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
} }
function EmpErpIntegrationCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 13);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("rowNo", 4);
} }
class EmpErpIntegrationCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeErpIntegrationService) {
        super();
        this.employeeErpIntegrationService = employeeErpIntegrationService;
        // isLoaded: boolean = false;
        // to remove after integration
        this.isLoaded = true;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        // this.employeeInstanceId = EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.erpIntegration = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isLoaded = true;
    }
    getAll() {
        this.erpIntegration = null;
        this.employeeErpIntegrationService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.erpIntegration = res.data[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_erp_integration_dialog_emp_erp_integration_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmpErpIntegrationDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpErpIntegrationCardComponent.ɵfac = function EmpErpIntegrationCardComponent_Factory(t) { return new (t || EmpErpIntegrationCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_erp_integration_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeErpIntegrationService)); };
EmpErpIntegrationCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({ type: EmpErpIntegrationCardComponent, selectors: [["app-emp-erp-integration-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "erpIntegration", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [1, "view-data-row-container"], ["label", "addAsEmployeeSapId", 1, "w-25", 3, "value", "isBool"], ["label", "addAsVendor", 1, "w-25", 3, "value", "isBool"], ["label", "addAsCustomerSapCode", 1, "w-25", 3, "value", "isBool"], ["label", "addAsResourceSapCode", 1, "w-25", 3, "value", "isBool"], [3, "rowNo"]], template: function EmpErpIntegrationCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](0, EmpErpIntegrationCardComponent_div_0_Template, 6, 3, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](1, EmpErpIntegrationCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZXJwLWludGVncmF0aW9uLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 52582:
/*!*************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-erp-integration/emp-erp-integration-dialog/emp-erp-integration-dialog.component.ts ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpErpIntegrationDialogComponent": () => (/* binding */ EmpErpIntegrationDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_erp_integration_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-erp-integration.service */ 11151);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_erp_integration_erp_resource_group_dropdown_erp_resource_group_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/erp-integration/erp-resource-group-dropdown/erp-resource-group-dropdown.component */ 72251);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_erp_integration_erp_group_code_vendor_dropdown_erp_group_code_vendor_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/erp-integration/erp-group-code-vendor-dropdown/erp-group-code-vendor-dropdown.component */ 18240);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_erp_integration_erp_group_code_customer_dropdown_erp_group_code_customer_dropdown_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/erp-integration/erp-group-code-customer-dropdown/erp-group-code-customer-dropdown.component */ 32084);





















function EmpErpIntegrationDialogComponent_reset_form_btn_38_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "reset-form-btn", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpErpIntegrationDialogComponent_reset_form_btn_38_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} }
class EmpErpIntegrationDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeErpIntegrationService, dialogRef) {
        super();
        this.employeeErpIntegrationService = employeeErpIntegrationService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        // employeeInstanceId: number = 0;
        this.hasUpdate = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        // this.employeeInstanceId = EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_ERP_integration_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            addAsEmployeeSapId: [false],
            employeeSapText: [
                null,
                [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required, app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__.CustomValidator.whiteSpace],
            ],
            addAsVendor: [false],
            vendorText: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required, app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__.CustomValidator.whiteSpace]],
            SAP_Vendor_Code: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            addAsCustomerSapCode: [false],
            customerSapCodeText: [
                null,
                [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required, app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__.CustomValidator.whiteSpace],
            ],
            SAP_Customer_Code: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            addAsResourceSapCode: [false],
            resource_Mesaure_Unit: [
                null,
                [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required, app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__.CustomValidator.whiteSpace],
            ],
            resource_Group_Id: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    onChangeBusinessAndCompanyId() {
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getAll();
        }
    }
    getAll() {
        this.showLoading("dialog");
        this.employeeErpIntegrationService
            .getAll(this.employeeId)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.form.patchValue(res.data[0]);
                this.formCtrls.SAP_Vendor_Code.setValue(res.data[0].I_Core_Person_Instance_SAP_ERP_Master_Data.SAP_Vendor_Code);
                this.formCtrls.SAP_Customer_Code.setValue(res.data[0].I_Core_Person_Instance_SAP_ERP_Master_Data.SAP_Customer_Code);
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    submit() {
        console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                perid: this.employeeId,
                SAP_Add_As_Resource: this.form.value.addAsResourceSapCode,
                SAP_Add_As_Employee: this.form.value.addAsEmployeeSapId,
                SAP_Add_As_Vendor: this.form.value.addAsVendor,
                SAP_Add_As_Customer: this.form.value.addAsCustomerSapCode,
                Resource_Group_Id: this.form.value.resource_Group_Id,
                Resource_Mesaure_Unit: this.form.value.resource_Mesaure_Unit,
                I_Core_Person_Instance_SAP_ERP_Master_Data: {
                    SAP_Vendor_Code: this.form.value.SAP_Vendor_Code,
                    SAP_Customer_Code: this.form.value.SAP_Customer_Code,
                }
            };
            // model.perid == 0 ? this.create(model) : this.update(model);
            this.create(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.employeeErpIntegrationService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                // this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    // update(model: IEmployeeErpIntegrationRequest) {
    //   this.showLoading("dialog");
    //   this.employeeErpIntegrationService
    //     .update(model)
    //     .subscribe((res: IResponse<IEmployeeErpIntegrationModel>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         // this.clearForm();
    //         this.updateSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.hasUpdate = true;
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading("dialog");
    //     });
    // }
    clearForm() {
        this.form.reset({
            id: 0,
            addAsEmployeeSapId: false,
            addAsVendor: false,
            addAsCustomerSapCode: false,
            addAsResourceSapCode: false,
        });
        this.submitted = false;
    }
}
EmpErpIntegrationDialogComponent.ɵfac = function EmpErpIntegrationDialogComponent_Factory(t) { return new (t || EmpErpIntegrationDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_erp_integration_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeErpIntegrationService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmpErpIntegrationDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: EmpErpIntegrationDialogComponent, selectors: [["app-emp-erp-integration-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵInheritDefinitionFeature"]], decls: 39, vars: 34, consts: [[3, "name"], ["mat-dialog-title", "", 1, "systemInstance_ID-color", "font-size-20", "m-0"], ["title", "erpIntegration", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "addAsEmployeeSapId", 3, "control"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "disabled"], [1, "d-md-inline-block", "col-sm-none", "col-md-4"], ["label", "addAsVendor", 3, "control"], [3, "control", "submitted", "filter", "appendTo", "disable"], [1, "d-md-none", "col-sm-6", "col-12"], ["label", "addAsCustomerSapCode", 3, "control"], ["label", "addAsResourceSapCode", 3, "control"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "click"]], template: function EmpErpIntegrationDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpErpIntegrationDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](11, "app-check-box", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](13, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](14, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](15, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](16, "app-check-box", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](17, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](18, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](19, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](20, "app-erp-group-code-vendor-dropdown", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](21, "div", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](22, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](23, "app-check-box", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](24, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](25, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](26, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](27, "app-erp-group-code-customer-dropdown", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](28, "div", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](29, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](30, "app-check-box", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](31, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](32, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](33, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](34, "app-erp-resource-group-dropdown", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](35, "div", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](36, "div", 19)(37, "submit-btn", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onClick", function EmpErpIntegrationDialogComponent_Template_submit_btn_onClick_37_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](38, EmpErpIntegrationDialogComponent_reset_form_btn_38_Template, 1, 0, "reset-form-btn", 21);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.addAsEmployeeSapId);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.employeeSapText)("disabled", !ctx.formCtrls.addAsEmployeeSapId.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.addAsVendor);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.vendorText)("disabled", !ctx.formCtrls.addAsVendor.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.SAP_Vendor_Code)("submitted", ctx.submitted)("filter", true)("appendTo", _r0)("disable", !ctx.formCtrls.addAsVendor.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.addAsCustomerSapCode);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.customerSapCodeText)("disabled", !ctx.formCtrls.addAsCustomerSapCode.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.SAP_Customer_Code)("submitted", ctx.submitted)("filter", true)("appendTo", _r0)("disable", !ctx.formCtrls.addAsCustomerSapCode.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.addAsResourceSapCode);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.resource_Mesaure_Unit)("disabled", !ctx.formCtrls.addAsResourceSapCode.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.resource_Group_Id)("submitted", ctx.submitted)("filter", true)("appendTo", _r0)("disable", !ctx.formCtrls.addAsResourceSapCode.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value == 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_personnel_setup_erp_integration_erp_resource_group_dropdown_erp_resource_group_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.ErpResourceGroupDropdownComponent, _shared_components_dropdowns_personnel_setup_erp_integration_erp_group_code_vendor_dropdown_erp_group_code_vendor_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.ErpGroupCodeVendorDropdownComponent, _shared_components_dropdowns_personnel_setup_erp_integration_erp_group_code_customer_dropdown_erp_group_code_customer_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.ErpGroupCodeCustomerDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_15__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZXJwLWludGVncmF0aW9uLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 22718:
/*!*********************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-s4-hana/emp-s4-hana-card/emp-s4-hana-card.component.ts ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpS4HanaCardComponent": () => (/* binding */ EmpS4HanaCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_s4_hana_dialog_emp_s4_hana_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-s4-hana-dialog/emp-s4-hana-dialog.component */ 22331);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-s4-hana.service */ 25199);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_s4_hana_table_emp_s4_hana_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../emp-s4-hana-table/emp-s4-hana-table.component */ 9860);












function EmpS4HanaCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empS4 == null ? null : ctx_r3.empS4.costCenter);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empS4 == null ? null : ctx_r3.empS4.costCenter_Text);
} }
function EmpS4HanaCardComponent_div_0_emp_s4_hana_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "emp-s4-hana-table", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("afterDelete", function EmpS4HanaCardComponent_div_0_emp_s4_hana_table_6_Template_emp_s4_hana_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r5.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpS4HanaCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmpS4HanaCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r7.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmpS4HanaCardComponent_div_0_div_5_Template, 3, 2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](6, EmpS4HanaCardComponent_div_0_emp_s4_hana_table_6_Template, 1, 2, "emp-s4-hana-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("toggleTable", function EmpS4HanaCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r9.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", ctx_r0.empS4)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("employeeId", ctx_r0.employeeInstanceId)("isTableView", ctx_r0.isTableView);
} }
function EmpS4HanaCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 14);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 2);
} }
class EmpS4HanaCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeS4HanaService) {
        super();
        this.employeeS4HanaService = employeeS4HanaService;
        this.isLoaded = false;
        this.isTableView = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
            else
                this.isLoaded = true;
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.empS4 = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getAllByEmployeeId();
    //   else this.isLoaded = true;
    // }
    getAllByEmployeeId() {
        this.empS4 = null;
        this.employeeS4HanaService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                // sort by id (from new to old)
                // res.data.sort(
                //   (a, b) => new Date(b.id) - new Date(a.id)
                // );
                this.empS4 = res.data[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_s4_hana_dialog_emp_s4_hana_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmpS4HanaDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
    afterDelete(s4Hana) {
        if (s4Hana) {
            this.isLoaded = false;
            this.getAllByEmployeeId();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpS4HanaCardComponent.ɵfac = function EmpS4HanaCardComponent_Factory(t) { return new (t || EmpS4HanaCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeS4HanaService)); };
EmpS4HanaCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmpS4HanaCardComponent, selectors: [["app-emp-s4-hana-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "s4Hana", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "costCenter", 1, "w-25", 3, "value"], ["label", "costCenter_Text", 1, "w-25", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpS4HanaCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmpS4HanaCardComponent_div_0_Template, 9, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmpS4HanaCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_8__.SeeMoreBtnComponent, _emp_s4_hana_table_emp_s4_hana_table_component__WEBPACK_IMPORTED_MODULE_9__.EmpS4HanaTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtczQtaGFuYS1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 22331:
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-s4-hana/emp-s4-hana-dialog/emp-s4-hana-dialog.component.ts ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpS4HanaDialogComponent": () => (/* binding */ EmpS4HanaDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-s4-hana.service */ 25199);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_s4_setup_s4_system_instance_dropdown_s4_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/s4-setup/s4-system-instance-dropdown/s4-system-instance-dropdown.component */ 44423);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_cost_center_by_s4_system_instance_dropdown_cost_center_by_s4_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/cost-center-by-s4-system-instance-dropdown/cost-center-by-s4-system-instance-dropdown.component */ 63218);
/* harmony import */ var _emp_s4_hana_table_emp_s4_hana_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-s4-hana-table/emp-s4-hana-table.component */ 9860);


















function EmpS4HanaDialogComponent_reset_form_btn_16_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "reset-form-btn", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function EmpS4HanaDialogComponent_reset_form_btn_16_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} }
class EmpS4HanaDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeS4HanaService, dialogRef) {
        super();
        this.employeeS4HanaService = employeeS4HanaService;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_S4Hana_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            systemInstance_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_12__.Validators.required]],
            costCenter: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_12__.Validators.required]],
            costCenter_Text: [null /* , [Validators.required] */],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeInstanceId > 0) this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeS4HanaService
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeS4HanaModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empS4CostCenterDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //  this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_Instance_ID: this.employeeInstanceId,
                    ID: this.form.value.id,
                    SystemInstance_ID: this.form.value.systemInstance_ID,
                    CostCenter: this.form.value.costCenter,
                    CostCenter_Text: this.form.value.costCenter_Text,
                },
            };
            model.EmployeeData.ID == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.employeeS4HanaService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        this.showLoading("dialog");
        this.employeeS4HanaService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeS4HanaToEdit(employeeS4HanaInfo) {
        this.form.patchValue(employeeS4HanaInfo);
        // console.log(this.form.value);
    }
    // onDelete(employeeS4HanaInfo: IEmployeeS4HanaModel): void {
    //   let msg = employeeS4HanaInfo.s4SystemInstance;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeS4HanaInfo);
    //   });
    // }
    //
    // delete(employeeS4HanaInfo: IEmployeeS4HanaModel) {
    //   this.showLoading();
    //   this.employeeS4HanaService
    //     .Delete(employeeS4HanaInfo.id)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.hasUpdate = true;
    //         if (employeeS4HanaInfo.id == this.formCtrls.id.value)
    //           this.clearForm();
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(s4Hana) {
        if (s4Hana.id == this.formCtrls.id.value)
            this.clearForm();
        if (s4Hana)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    changeCostCenterText(costCenters) {
        this.formCtrls.costCenter_Text.setValue(costCenters[0]?.costCenter_Text ?? null);
    }
}
EmpS4HanaDialogComponent.ɵfac = function EmpS4HanaDialogComponent_Factory(t) { return new (t || EmpS4HanaDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeS4HanaService), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogRef)); };
EmpS4HanaDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpS4HanaDialogComponent, selectors: [["app-emp-s4-hana-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 18, vars: 16, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "s4Hana", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "s4SystemInstanceControl", "submitted", "appendTo", "change"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpS4HanaDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function EmpS4HanaDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](11, "app-s4-system-instance-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](12, "div", 9)(13, "app-cost-center-by-s4-system-instance-dropdown", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("change", function EmpS4HanaDialogComponent_Template_app_cost_center_by_s4_system_instance_dropdown_change_13_listener($event) { return ctx.changeCostCenterText($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](14, "div", 12)(15, "submit-btn", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClick", function EmpS4HanaDialogComponent_Template_submit_btn_onClick_15_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](16, EmpS4HanaDialogComponent_reset_form_btn_16_Template, 1, 0, "reset-form-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](17, "emp-s4-hana-table", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("rowToEdit", function EmpS4HanaDialogComponent_Template_emp_s4_hana_table_rowToEdit_17_listener($event) { return ctx.employeeS4HanaToEdit($event); })("afterDelete", function EmpS4HanaDialogComponent_Template_emp_s4_hana_table_afterDelete_17_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.systemInstance_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.costCenter)("s4SystemInstanceControl", ctx.formCtrls.systemInstance_ID)("submitted", ctx.submitted)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_5__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_6__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_7__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_15__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_16__.NgxSpinnerComponent, _shared_components_dropdowns_s4_setup_s4_system_instance_dropdown_s4_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_8__.S4SystemInstanceDropdownComponent, _shared_components_dropdowns_personnel_setup_cost_center_by_s4_system_instance_dropdown_cost_center_by_s4_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_9__.CostCenterByS4SystemInstanceDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_12__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_12__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_12__.FormGroupDirective, _emp_s4_hana_table_emp_s4_hana_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpS4HanaTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtczQtaGFuYS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 9860:
/*!***********************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-s4-hana/emp-s4-hana-table/emp-s4-hana-table.component.ts ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpS4HanaTableComponent": () => (/* binding */ EmpS4HanaTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-sap-integration */ 74245);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-s4-hana.service */ 25199);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpS4HanaTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpS4HanaTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpS4HanaTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpS4HanaTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpS4HanaTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeS4HanaService) {
        super();
        this.employeeS4HanaService = employeeS4HanaService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "s4SystemInstance",
            "costCenter",
            "costCenter_Text",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeInstanceId = 0;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_S4Hana_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex((e) => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeS4HanaService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_0__.empS4CostCenterDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(s4Hana) {
        this.rowToEdit.emit(s4Hana);
    }
    onDelete(s4Hana) {
        let msg = s4Hana.s4SystemInstance;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(s4Hana);
        });
    }
    delete(s4Hana) {
        this.showLoading("table");
        this.employeeS4HanaService.Delete(s4Hana.id).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(s4Hana);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpS4HanaTableComponent.ɵfac = function EmpS4HanaTableComponent_Factory(t) { return new (t || EmpS4HanaTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeS4HanaService)); };
EmpS4HanaTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpS4HanaTableComponent, selectors: [["emp-s4-hana-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpS4HanaTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpS4HanaTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtczQtaGFuYS10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 14393:
/*!******************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-sap-b1/emp-sap-b1-card/emp-sap-b1-card.component.ts ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSapB1CardComponent": () => (/* binding */ EmpSapB1CardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_sap_b1_dialog_emp_sap_b1_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-sap-b1-dialog/emp-sap-b1-dialog.component */ 93035);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-sap-integration */ 74245);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-sap-b1.service */ 18114);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_sap_b1_table_emp_sap_b1_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-sap-b1-table/emp-sap-b1-table.component */ 80932);













function EmpSapB1CardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 12)(2, "card-row-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empSapB1 == null ? null : ctx_r3.empSapB1.sapSystemInstance);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empSapB1 == null ? null : ctx_r3.empSapB1.projectCode);
} }
function EmpSapB1CardComponent_div_0_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 15)(2, "card-row-item", 16)(3, "card-row-item", 17)(4, "card-row-item", 18)(5, "card-row-item", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r4.empSapB1 == null ? null : ctx_r4.empSapB1.defualtOcrCode1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r4.empSapB1 == null ? null : ctx_r4.empSapB1.defualtOcrCode2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r4.empSapB1 == null ? null : ctx_r4.empSapB1.defualtOcrCode3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r4.empSapB1 == null ? null : ctx_r4.empSapB1.defualtOcrCode4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r4.empSapB1 == null ? null : ctx_r4.empSapB1.defualtOcrCode5);
} }
function EmpSapB1CardComponent_div_0_emp_sap_b1_table_7_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "emp-sap-b1-table", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpSapB1CardComponent_div_0_emp_sap_b1_table_7_Template_emp_sap_b1_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r6.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpSapB1CardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpSapB1CardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r8.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpSapB1CardComponent_div_0_div_5_Template, 3, 2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpSapB1CardComponent_div_0_div_6_Template, 6, 5, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](7, EmpSapB1CardComponent_div_0_emp_sap_b1_table_7_Template, 1, 2, "emp-sap-b1-table", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](8, "div", 4)(9, "see-more-btn", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpSapB1CardComponent_div_0_Template_see_more_btn_toggleTable_9_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r9); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r10.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.empSapB1)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("employeeId", ctx_r0.employeeInstanceId)("isTableView", ctx_r0.isTableView);
} }
function EmpSapB1CardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 21);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 7);
} }
class EmpSapB1CardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeSapB1Service) {
        super();
        this.employeeSapB1Service = employeeSapB1Service;
        this.isLoaded = false;
        this.isTableView = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
            else
                this.isLoaded = true;
        });
    }
    ngOnInit() { }
    // override onChangeBusinessAndCompanyId(): void {
    //   this.empSapB1 = null;
    //   if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
    //     this.getAllByEmployeeId();
    //   else this.isLoaded = true;
    // }
    getAllByEmployeeId() {
        this.empSapB1 = null;
        this.employeeSapB1Service
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                // // sort by id (from new to old)
                // res.data.sort(
                //   (a, b) => new Date(b.id) - new Date(a.id)
                // );
                // this.empSapB1 = empSapCostCenterDisplay(
                //   res.data.reverse().slice(0, 1)
                // )[0];
                this.empSapB1 = (0,app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_4__.empSapCostCenterDisplay)(res.data)[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_sap_b1_dialog_emp_sap_b1_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmpSapB1DialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
    afterDelete(sapB1) {
        if (sapB1) {
            this.isLoaded = false;
            this.getAllByEmployeeId();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpSapB1CardComponent.ɵfac = function EmpSapB1CardComponent_Factory(t) { return new (t || EmpSapB1CardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeSapB1Service)); };
EmpSapB1CardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpSapB1CardComponent, selectors: [["app-emp-sap-b1-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-lg-2", "col-12"], ["cardTitle", "sapB1", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-lg-8", "col-12"], ["class", "view-data-row-container mbottom-20", 4, "ngIf"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "employeeId", "isTableView", "toggleTable"], [1, "view-data-row-container", "mbottom-20"], ["label", "sapSystemInstance", 1, "col-6", "px-0", 3, "value"], ["label", "projectCode", 1, "col-6", "px-0", 3, "value"], [1, "view-data-row-container"], ["label", "defualtOcrCode1", 1, "col-6", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "defualtOcrCode2", 1, "col-6", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "defualtOcrCode3", 1, "col-6", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "defualtOcrCode4", 1, "col-6", "col-lg", "px-0", "mb-2", 3, "value"], ["label", "defualtOcrCode5", 1, "col-6", "col-lg", "px-0", "mb-2", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpSapB1CardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpSapB1CardComponent_div_0_Template, 10, 7, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpSapB1CardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_sap_b1_table_emp_sap_b1_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpSapB1TableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc2FwLWIxLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 93035:
/*!**********************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-sap-b1/emp-sap-b1-dialog/emp-sap-b1-dialog.component.ts ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSapB1DialogComponent": () => (/* binding */ EmpSapB1DialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-sap-b1.service */ 18114);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_sap_business_one_setup_sap_system_instance_dropdown_sap_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/sap-business-one-setup/sap-system-instance-dropdown/sap-system-instance-dropdown.component */ 37034);
/* harmony import */ var _emp_sap_b1_table_emp_sap_b1_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-sap-b1-table/emp-sap-b1-table.component */ 80932);


















function EmpSapB1DialogComponent_reset_form_btn_26_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "reset-form-btn", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function EmpSapB1DialogComponent_reset_form_btn_26_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} }
class EmpSapB1DialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeSapB1Service, dialogRef) {
        super();
        this.employeeSapB1Service = employeeSapB1Service;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.getList = false;
        this.submitted = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_SAPB1_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            systemInstance_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_12__.Validators.required]],
            proj_Code: [null /* , [Validators.required] */],
            ocrCode1: [null],
            ocrCode2: [null],
            ocrCode3: [null],
            ocrCode4: [null],
            ocrCode5: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeInstanceId > 0) this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeSapB1Service
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeSapB1Model[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empSapCostCenterDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    // this.page.meta = res.meta;
    //         this.isLoaded = true;
    //       } else this.errorList(res?.message?.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.getList = false;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_Instance_ID: this.employeeInstanceId,
                    ID: this.form.value.id,
                    SystemInstance_ID: this.form.value.systemInstance_ID,
                    Proj_Code: this.form.value.proj_Code,
                    OcrCode1: this.form.value.ocrCode1,
                    OcrCode2: this.form.value.ocrCode2,
                    OcrCode3: this.form.value.ocrCode3,
                    OcrCode4: this.form.value.ocrCode4,
                    OcrCode5: this.form.value.ocrCode5,
                },
            };
            model.EmployeeData.ID == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading("dialog");
        this.employeeSapB1Service
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.lastPageDialog);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    update(model) {
        this.showLoading("dialog");
        this.employeeSapB1Service
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.getList = true;
                this.hasUpdate = true;
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("dialog");
        });
    }
    employeeSapB1ToEdit(employeeSapB1Info) {
        this.form.patchValue(employeeSapB1Info);
        // console.log(this.form.value);
    }
    // onDelete(employeeSapB1Info: IEmployeeSapB1Display): void {
    //   let msg = employeeSapB1Info.sapSystemInstance;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeSapB1Info);
    //   });
    // }
    //
    // delete(employeeSapB1Info: IEmployeeSapB1Display) {
    //   this.showLoading();
    //   this.employeeSapB1Service
    //     .Delete(employeeSapB1Info.id)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.updated = true;
    //         if (employeeSapB1Info.id == this.formCtrls.id.value) this.clearForm();
    //       } else this.errorList(res?.message?.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(sapB1) {
        if (sapB1.id == this.formCtrls.id.value)
            this.clearForm();
        if (sapB1)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpSapB1DialogComponent.ɵfac = function EmpSapB1DialogComponent_Factory(t) { return new (t || EmpSapB1DialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeSapB1Service), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogRef)); };
EmpSapB1DialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpSapB1DialogComponent, selectors: [["app-emp-sap-b1-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 29, vars: 24, consts: [[3, "name"], ["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "sapB1", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "projectCode", 3, "control", "submitted"], ["label", "defualtOcrCode1", 3, "control", "submitted"], ["label", "defualtOcrCode2", 3, "control", "submitted"], ["label", "defualtOcrCode3", 3, "control", "submitted"], ["label", "defualtOcrCode4", 3, "control", "submitted"], ["label", "defualtOcrCode5", 3, "control", "submitted"], [1, "emp-form-btns-float"], ["icon", "fas fa-save", 3, "id", "color", "disabled", "iconPositionBefore", "onClick"], [3, "click", 4, "ngIf"], [1, "clearfix"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpSapB1DialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "ngx-spinner", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "div", 1)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](3, "page-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function EmpSapB1DialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](6, "mat-dialog-content", 5, 6)(8, "form", 7)(9, "div", 8)(10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](11, "app-sap-system-instance-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](12, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](13, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](15, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](16, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](17, "app-input", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](18, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](19, "app-input", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](20, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](21, "app-input", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](22, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](23, "app-input", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](24, "div", 17)(25, "submit-btn", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClick", function EmpSapB1DialogComponent_Template_submit_btn_onClick_25_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](26, EmpSapB1DialogComponent_reset_form_btn_26_Template, 1, 0, "reset-form-btn", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](27, "div", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](28, "emp-sap-b1-table", 21);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("rowToEdit", function EmpSapB1DialogComponent_Template_emp_sap_b1_table_rowToEdit_28_listener($event) { return ctx.employeeSapB1ToEdit($event); })("afterDelete", function EmpSapB1DialogComponent_Template_emp_sap_b1_table_afterDelete_28_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("name", "dialog");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.systemInstance_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.proj_Code)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode1)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode2)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode3)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode4)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode5)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId)("iconPositionBefore", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("hasUpdate", ctx.getList);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__.InputComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_15__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_16__.NgxSpinnerComponent, _shared_components_dropdowns_sap_business_one_setup_sap_system_instance_dropdown_sap_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_9__.SapSystemInstanceDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_12__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_12__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_12__.FormGroupDirective, _emp_sap_b1_table_emp_sap_b1_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpSapB1TableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc2FwLWIxLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 80932:
/*!********************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-sap-b1/emp-sap-b1-table/emp-sap-b1-table.component.ts ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSapB1TableComponent": () => (/* binding */ EmpSapB1TableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-sap-integration */ 74245);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-sap-b1.service */ 18114);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpSapB1TableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpSapB1TableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpSapB1TableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpSapB1TableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpSapB1TableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeSapB1Service) {
        super();
        this.employeeSapB1Service = employeeSapB1Service;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "sapSystemInstance",
            "projectCode",
            "actions",
        ];
        this.optionalColomns = [
            "defualtOcrCode1",
            "defualtOcrCode2",
            "defualtOcrCode3",
            "defualtOcrCode4",
            "defualtOcrCode5",
        ];
        this.isLoaded = false;
        this.employeeInstanceId = 0;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_SAPB1_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex((e) => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeSapB1Service
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_0__.empSapCostCenterDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.page.meta = res.meta;
                this.isLoaded = true;
            }
            else
                this.errorList(res?.message?.messages);
        });
    }
    toEdit(sapB1) {
        this.rowToEdit.emit(sapB1);
    }
    onDelete(sapB1) {
        let msg = sapB1.sapSystemInstance;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(sapB1);
        });
    }
    delete(sapB1) {
        this.showLoading("table");
        this.employeeSapB1Service.Delete(sapB1.id).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(sapB1);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res?.message?.messages);
            this.hideLoading("table");
        });
    }
}
EmpSapB1TableComponent.ɵfac = function EmpSapB1TableComponent_Factory(t) { return new (t || EmpSapB1TableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeSapB1Service)); };
EmpSapB1TableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpSapB1TableComponent, selectors: [["emp-sap-b1-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "name"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpSapB1TableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpSapB1TableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("name", "table");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc2FwLWIxLXRhYmxlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 56333:
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-sap-integration-core/emp-sap-integration-core.component.ts ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSapIntegrationCoreComponent": () => (/* binding */ EmpSapIntegrationCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_sap_b1_emp_sap_b1_card_emp_sap_b1_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-sap-b1/emp-sap-b1-card/emp-sap-b1-card.component */ 14393);
/* harmony import */ var _emp_s4_hana_emp_s4_hana_card_emp_s4_hana_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-s4-hana/emp-s4-hana-card/emp-s4-hana-card.component */ 22718);
/* harmony import */ var _emp_erp_integration_emp_erp_integration_card_emp_erp_integration_card_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../emp-erp-integration/emp-erp-integration-card/emp-erp-integration-card.component */ 20108);









function EmpSapIntegrationCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](1, "app-emp-sap-b1-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
} }
function EmpSapIntegrationCoreComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](1, "app-emp-s4-hana-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
} }
function EmpSapIntegrationCoreComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](1, "app-emp-erp-integration-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
} }
class EmpSapIntegrationCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_sap_integration_tab);
        //  console.log("sap_integration", this.allowedSections);
    }
}
EmpSapIntegrationCoreComponent.ɵfac = function EmpSapIntegrationCoreComponent_Factory(t) { return new (t || EmpSapIntegrationCoreComponent)(); };
EmpSapIntegrationCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({ type: EmpSapIntegrationCoreComponent, selectors: [["emp-sap-integration-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵInheritDefinitionFeature"]], decls: 10, vars: 3, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "sapIntegration", "color", "font-dark", 1, "emp-card-title"], [1, "container-fluid", "p-0", "px-4"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmpSapIntegrationCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](7, EmpSapIntegrationCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](8, EmpSapIntegrationCoreComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](9, EmpSapIntegrationCoreComponent_div_9_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_SAPB1_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_S4Hana_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_ERP_integration_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_8__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_8__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_8__.MatCardTitle, _emp_sap_b1_emp_sap_b1_card_emp_sap_b1_card_component__WEBPACK_IMPORTED_MODULE_3__.EmpSapB1CardComponent, _emp_s4_hana_emp_s4_hana_card_emp_s4_hana_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpS4HanaCardComponent, _emp_erp_integration_emp_erp_integration_card_emp_erp_integration_card_component__WEBPACK_IMPORTED_MODULE_5__.EmpErpIntegrationCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc2FwLWludGVncmF0aW9uLWNvcmUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 43242:
/*!********************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp-balances.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empPermissionDisplay": () => (/* binding */ empPermissionDisplay),
/* harmony export */   "empVacationDisplay": () => (/* binding */ empVacationDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empVacationDisplay(data) {
    return data.map((vacation) => {
        return {
            ...vacation,
            vacation: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(vacation.vacation_ArName, vacation.vacation_EnName),
            startDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(vacation.opening_balance_date),
            endDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(vacation.closing_balance_date),
            balance: vacation.vacationBalanceOriginal,
            used: vacation.vacation_Done_Balance,
            remaining: vacation.vacation_balance,
        };
    });
}
function empPermissionDisplay(data) {
    return data.map((permission) => {
        return {
            ...permission,
            permission: permission.permission_Setup_Name,
            startDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(permission.opening_balance_date),
            endDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(permission.closing_balance_date),
            balance: permission.permission_balance,
            used: permission.taken_permission_Yearly,
            remaining: permission.remaining_Balance,
            newHireCloseDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(permission.newHireCloseDate),
        };
    });
}


/***/ }),

/***/ 34057:
/*!***************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp-contact-address.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empContactCard": () => (/* binding */ empContactCard),
/* harmony export */   "empContactDisplay": () => (/* binding */ empContactDisplay),
/* harmony export */   "employeeAddressToMap": () => (/* binding */ employeeAddressToMap)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empContactDisplay(empContacts) {
    return empContacts.map((contact) => {
        return {
            contactType: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(contact?.comm_Contact?.comm_Contact_Type?.ar_Name, contact?.comm_Contact?.comm_Contact_Type?.en_Name),
            contactCategory: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(contact?.comm_Contact?.comm_Contact_Category?.ar_Name, contact?.comm_Contact?.comm_Contact_Category?.en_Name),
            contact: contact?.comm_Contact?.value,
            primary: contact?.comm_Contact?.isVaild,
            display_in_emp_card: contact?.comm_Contact?.isShow,
            person_ID: contact.person_ID,
            contact_ID: contact.contact_ID,
            contacT_TYPE_ID: contact.comm_Contact?.contacT_TYPE_ID,
            contacT_Category_ID: contact.comm_Contact?.contacT_Category_ID,
        };
    });
}
function empContactCard(empContacts) {
    let list = [];
    empContacts.map((element) => {
        element.comm_Contact.comm_Contact_Type.displayName = (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(element.comm_Contact?.comm_Contact_Type.ar_Name, element.comm_Contact?.comm_Contact_Type.en_Name);
        if (element.comm_Contact?.isShow)
            list.push(element.comm_Contact);
    });
    let data = list.reduce((g, contact) => {
        g[contact.comm_Contact_Type?.displayName] = g[contact.comm_Contact_Type?.displayName] || [];
        g[contact.comm_Contact_Type?.displayName].push(contact);
        return g;
    }, {});
    return data;
}
function employeeAddressToMap(employeeAddresss) {
    let addresses = employeeAddresss.map((employeeAddress) => {
        return {
            ...employeeAddress.comm_Address,
            country: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(employeeAddress.comm_Address.comm_Governorate?.comm_Country?.ar_Name, employeeAddress.comm_Address.comm_Governorate?.comm_Country?.en_NAme),
            governorate: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(employeeAddress.comm_Address.comm_Governorate?.ar_Name, employeeAddress.comm_Address.comm_Governorate?.en_Name),
            address: employeeAddress.comm_Address.en_Name,
            primary: employeeAddress.comm_Address.isVaild,
        };
    });
    // to display in card as >> value, governorate, country
    addresses.map((employeeAddresss) => {
        employeeAddresss.allAddress = `${employeeAddresss.address}, ${employeeAddresss.governorate ?? "-"}, ${employeeAddresss.country ?? "-"}`;
    });
    return addresses;
}


/***/ }),

/***/ 42562:
/*!*************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp-payments-info.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empBankingAccountDisplay": () => (/* binding */ empBankingAccountDisplay),
/* harmony export */   "empPayrollDisplay": () => (/* binding */ empPayrollDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empBankingAccountDisplay(data) {
    return data.map((bankAccount) => {
        return {
            ...bankAccount,
            bank: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(bankAccount.comm_Bank?.ar_Name, bankAccount.comm_Bank?.en_Name),
            startDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(bankAccount.from_Date),
        };
    });
}
function empPayrollDisplay(data) {
    // global section
    let list = [
        {
            paymentId: 0,
            payment: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)("المتغيرات العامه", "Global Variable"),
            variables: [],
        },
    ];
    // payments section
    data.lstPayments.map((payment) => list.push({
        paymentId: payment.id,
        payment: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(payment.ar_Name, payment.en_Name),
        variables: [],
    }));
    // global variables
    data.lstFixedVAriableGlobal.map((variable) => list[0].variables.push(...getVariableList(variable)));
    // payments variables
    data.perssonPeriodLsts.map((ele) => {
        let paymentIndex = getIndexInList(list, ele.payment?.id);
        ele.lstpersperiodcalculations.forEach((variable) => list[paymentIndex].variables.push(...getVariableList(variable)));
    });
    data.lstFixedVAriable.map((variable) => {
        if ((variable.paY_Variable?.pay_Payment_Variable?.length != 0 &&
            getIndexInList(list, variable.paY_Variable?.pay_Payment_Variable[0].Payment_ID) >= 0) ||
            variable.paY_Variable?.pay_Payment_Variable?.length == 0) {
            let paymentIndex = getIndexInList(list, variable.paY_PeriodCalculation?.payment_ID);
            if (data.lstAuthorize.find((ele) => ele.variable_ID == variable.variable_ID &&
                ele.payment_ID == list[paymentIndex].paymentId))
                list[paymentIndex].variables.push(...getVariableList(variable));
        }
    });
    return list;
}
function getIndexInList(list, paymentId) {
    return list.findIndex((ele) => ele.paymentId == paymentId);
}
function getVariableList(payrollElement) {
    let variables = [];
    variables.push({
        variable: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(payrollElement.paY_Variable?.arName, payrollElement.paY_Variable?.name),
        value: payrollElement.variable_Value,
    });
    return variables;
}


/***/ }),

/***/ 74245:
/*!***************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp-sap-integration.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empS4CostCenterDisplay": () => (/* binding */ empS4CostCenterDisplay),
/* harmony export */   "empSapCostCenterDisplay": () => (/* binding */ empSapCostCenterDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empS4CostCenterDisplay(data) {
    return data.map((s4Item) => {
        return {
            ...s4Item,
            s4SystemInstance: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(s4Item.s4_SystemInstance?.ar_Name, s4Item.s4_SystemInstance?.en_Name),
        };
    });
}
function empSapCostCenterDisplay(data) {
    return data.map((sapItem) => {
        return {
            ...sapItem,
            sapSystemInstance: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(sapItem.saP_SystemInstance?.ar_Name, sapItem.saP_SystemInstance?.en_Name),
            projectCode: sapItem.proj_Code,
            defualtOcrCode1: sapItem.ocrCode1,
            defualtOcrCode2: sapItem.ocrCode2,
            defualtOcrCode3: sapItem.ocrCode3,
            defualtOcrCode4: sapItem.ocrCode4,
            defualtOcrCode5: sapItem.ocrCode5,
        };
    });
}


/***/ }),

/***/ 42637:
/*!***************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp_status_position.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empStatusCardDisplay": () => (/* binding */ empStatusCardDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empStatusCardDisplay(data) {
    return {
        status_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.core_Person_Instance_Status?.core_Status?.ar_Name, data?.core_Person_Instance_Status?.core_Status?.en_Name),
        status_from_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.core_Person_Instance_Status?.from_Date),
        status_to_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.core_Person_Instance_Status?.to_Date),
        status_properties_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.core_Person_Instance_Status?.core_Status_Properties?.ar_Name, data?.core_Person_Instance_Status?.core_Status_Properties?.ar_Name),
        org_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.positions?.core_Org?.ar_Name, data?.positions?.core_Org?.en_Name),
        org_from_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.positions?.orgFromDate),
        job_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.positions?.core_Job_Title?.ar_Name, data?.positions?.core_Job_Title?.en_Name),
        time_in_position: data?.positions?.time_In_Position ?
            `${data?.positions?.time_In_Position?.years} yr, ${data?.positions?.time_In_Position?.months} mon, ${data?.positions?.time_In_Position?.days} days` :
            "---",
        time_in_company: data?.time_In_Company ?
            `${data?.time_In_Company?.years} yr, ${data?.time_In_Company?.months} mon, ${data?.time_In_Company?.days} days` :
            "---",
        contract_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.core_Contract?.contracT_NO),
        contract_duration: data?.core_Contract ? `${app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.core_Contract?.starT_DATE)}, ${app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.core_Contract?.enD_DATE)}` : "---",
        policies: data.policies
    };
}


/***/ }),

/***/ 45875:
/*!******************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/employee-personal-info.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "employeeDependentToMap": () => (/* binding */ employeeDependentToMap),
/* harmony export */   "employeeMaritalStatusToMap": () => (/* binding */ employeeMaritalStatusToMap),
/* harmony export */   "employeeMilitaryStatusToMap": () => (/* binding */ employeeMilitaryStatusToMap),
/* harmony export */   "employeePersonalDocumentToMap": () => (/* binding */ employeePersonalDocumentToMap)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function employeeDependentToMap(maritalStatus) {
    return maritalStatus.map((dependent) => {
        return {
            ...dependent,
            originalBirthDateFormat: dependent.birthDate,
            dependentName: dependent.flower_Name,
            birthDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(dependent.birthDate),
            relationship: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(dependent.corE_Family_Relation?.ar_Name, dependent.corE_Family_Relation?.en_Name),
        };
    });
}
function employeeMaritalStatusToMap(maritalStatus) {
    return maritalStatus.map((status) => {
        return {
            ...status,
            originalDateFormat: status.statusDate,
            statusDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(status.statusDate),
            maritalStatus: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(status.comm_Marital_Status?.ar_Name, status.comm_Marital_Status?.en_Name),
        };
    });
}
function employeeMilitaryStatusToMap(militaryStatus) {
    return militaryStatus.map((military) => {
        return {
            ...military,
            status: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(military.comm_Military_Status?.ar_Name, military.comm_Military_Status?.en_Name),
            grade: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(military.comm_Military_Grade?.ar_Name, military.comm_Military_Grade?.en_Name),
            statusDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(military.statusDate),
            endDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(military.endDate),
        };
    });
}
function employeePersonalDocumentToMap(data) {
    return data.map((doc) => {
        return {
            ...doc.employeeData,
            documentName: doc.employeeData?.core_Personal_Identity_Type?.identity_TypeTital,
            originalIssuingDate: doc.employeeData?.dateof_issue,
            originalExpirationDate: doc.employeeData?.expire_Date,
            dateof_issue: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(doc.employeeData?.dateof_issue),
            expire_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(doc.employeeData?.expire_Date),
            attachment_En_Name: doc.attachment_En_Name,
            attachmentID: doc.attachmentID,
            attachment: doc.attachmentFilePath ? "/" + doc.attachmentFilePath : "",
        };
    });
}


/***/ }),

/***/ 87908:
/*!****************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/employees-activation.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empActivationDisplay": () => (/* binding */ empActivationDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empActivationDisplay(data) {
    return data.map((ele) => {
        return {
            ...ele,
            employee: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(ele.core_Person?.ar_Name, ele.core_Person?.en_Name),
            job: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(ele.core_Person_Instance_Job_Title[0]?.core_Job_Title?.ar_Name, ele.core_Person_Instance_Job_Title[0]?.core_Job_Title?.en_Name),
        };
    });
}


/***/ }),

/***/ 74127:
/*!*******************************************************************!*\
  !*** ./src/app/personnel-setup/personnel-setup-routing.module.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PersonnelSetupRoutingModule": () => (/* binding */ PersonnelSetupRoutingModule)
/* harmony export */ });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ 60124);
/* harmony import */ var app_shared_enums_route_path_match_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/route-path-match.enum */ 36162);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/employees/add-employee/add-employee.component */ 29222);
/* harmony import */ var _components_employees_employees_index_employees_index_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/employees/employees-index/employees-index.component */ 89535);
/* harmony import */ var _components_employees_assign_plan_assign_plan_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/employees/assign-plan/assign-plan.component */ 23589);
/* harmony import */ var _components_employees_activation_employees_activation_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/employees-activation/employees-activation.component */ 91921);
/* harmony import */ var app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/Guards/check-is-allowd.guard */ 3710);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);










const routes = [
    {
        path: "employees",
        data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employees },
        children: [
            {
                path: "",
                redirectTo: "index",
                pathMatch: app_shared_enums_route_path_match_enum__WEBPACK_IMPORTED_MODULE_0__.pathMatch.full,
            },
            {
                path: "index",
                component: _components_employees_employees_index_employees_index_component__WEBPACK_IMPORTED_MODULE_3__.EmployeesIndexComponent,
                data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employees_index },
                canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
            },
            {
                path: "add",
                component: _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_2__.AddEmployeeComponent,
                data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employee_profile },
                canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
            },
            {
                path: "edit/:employeeId",
                component: _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_2__.AddEmployeeComponent,
                data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employee_profile },
                canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
            },
            {
                path: "assign-plan",
                component: _components_employees_assign_plan_assign_plan_component__WEBPACK_IMPORTED_MODULE_4__.AssignPlanComponent,
                data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.assign_plan },
                canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
            },
        ],
    },
    {
        path: "employees-activation",
        component: _components_employees_activation_employees_activation_component__WEBPACK_IMPORTED_MODULE_5__.EmployeesActivationComponent,
        data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employees_activation },
        canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
    },
];
class PersonnelSetupRoutingModule {
}
PersonnelSetupRoutingModule.ɵfac = function PersonnelSetupRoutingModule_Factory(t) { return new (t || PersonnelSetupRoutingModule)(); };
PersonnelSetupRoutingModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({ type: PersonnelSetupRoutingModule });
PersonnelSetupRoutingModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({ imports: [_angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule.forChild(routes), _angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](PersonnelSetupRoutingModule, { imports: [_angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule], exports: [_angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule] }); })();


/***/ }),

/***/ 43578:
/*!***********************************************************!*\
  !*** ./src/app/personnel-setup/personnel-setup.module.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PersonnelSetupModule": () => (/* binding */ PersonnelSetupModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_98__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _personnel_setup_routing_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./personnel-setup-routing.module */ 74127);
/* harmony import */ var _components_employees_employees_index_employees_index_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/employees/employees-index/employees-index.component */ 89535);
/* harmony import */ var app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/shared.module */ 44466);
/* harmony import */ var _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/employees/add-employee/add-employee.component */ 29222);
/* harmony import */ var _components_employees_employee_general_info_emp_general_info_dialog_emp_general_info_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/employees/employee-general-info/emp-general-info-dialog/emp-general-info-dialog.component */ 71125);
/* harmony import */ var _components_employees_employee_general_info_emp_general_info_card_emp_general_info_card_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/employees/employee-general-info/emp-general-info-card/emp-general-info-card.component */ 59330);
/* harmony import */ var _components_employees_card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/employees/card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _components_employees_card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/employees/card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _components_employees_employee_career_emp_career_core_emp_career_core_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/employees/employee-career/emp-career-core/emp-career-core.component */ 70923);
/* harmony import */ var _components_employees_employee_career_emp_work_experience_emp_work_experience_dialog_employee_work_experience_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/employees/employee-career/emp-work-experience/emp-work-experience-dialog/employee-work-experience-dialog.component */ 13619);
/* harmony import */ var _components_employees_employee_general_info_emp_general_info_core_emp_general_info_core_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/employees/employee-general-info/emp-general-info-core/emp-general-info-core.component */ 78392);
/* harmony import */ var _components_employees_personal_information_emp_personal_info_core_empl_personal_info_core_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/employees/personal-information/emp-personal-info-core/empl-personal-info-core.component */ 59897);
/* harmony import */ var _components_employees_personal_information_old_emp_contact_and_address_emp_address_section_emp_address_section_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/employees/personal-information/old-emp-contact-and-address/emp-address-section/emp-address-section.component */ 23674);
/* harmony import */ var _components_employees_personal_information_old_emp_contact_and_address_emp_contact_and_address_card_emp_contact_and_address_card_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/employees/personal-information/old-emp-contact-and-address/emp-contact-and-address-card/emp-contact-and-address-card.component */ 33491);
/* harmony import */ var _components_employees_personal_information_old_emp_contact_and_address_emp_contact_and_address_dialog_emp_contact_and_address_dialog_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/employees/personal-information/old-emp-contact-and-address/emp-contact-and-address-dialog/emp-contact-and-address-dialog.component */ 36888);
/* harmony import */ var _components_employees_personal_information_old_emp_contact_and_address_emp_contact_section_emp_contact_section_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/employees/personal-information/old-emp-contact-and-address/emp-contact-section/emp-contact-section.component */ 71767);
/* harmony import */ var _components_employees_personal_information_emp_dependants_emp_dependants_card_emp_dependants_card_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/employees/personal-information/emp-dependants/emp-dependants-card/emp-dependants-card.component */ 43097);
/* harmony import */ var _components_employees_personal_information_emp_dependants_emp_dependants_dialog_emp_dependants_dialog_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/employees/personal-information/emp-dependants/emp-dependants-dialog/emp-dependants-dialog.component */ 62483);
/* harmony import */ var _components_employees_personal_information_emp_documents_emp_documents_card_emp_documents_card_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/employees/personal-information/emp-documents/emp-documents-card/emp-documents-card.component */ 84353);
/* harmony import */ var _components_employees_personal_information_emp_documents_emp_documents_dialog_emp_documents_dialog_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/employees/personal-information/emp-documents/emp-documents-dialog/emp-documents-dialog.component */ 53477);
/* harmony import */ var _components_employees_personal_information_emp_military_data_emp_military_data_card_emp_military_data_card_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/employees/personal-information/emp-military-data/emp-military-data-card/emp-military-data-card.component */ 83223);
/* harmony import */ var _components_employees_personal_information_emp_military_data_emp_military_data_dialog_emp_military_data_dialog_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/employees/personal-information/emp-military-data/emp-military-data-dialog/emp-military-data-dialog.component */ 22839);
/* harmony import */ var _components_employees_personal_information_emp_personal_info_emp_personal_info_card_emp_personal_info_card_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/employees/personal-information/emp-personal-info/emp-personal-info-card/emp-personal-info-card.component */ 60930);
/* harmony import */ var _components_employees_personal_information_emp_personal_info_emp_personal_info_dialog_emp_personal_info_dialog_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/employees/personal-information/emp-personal-info/emp-personal-info-dialog/emp-personal-info-dialog.component */ 17588);
/* harmony import */ var _components_employees_employee_career_emp_education_emp_education_card_emp_education_card_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/employees/employee-career/emp-education/emp-education-card/emp-education-card.component */ 36355);
/* harmony import */ var _components_employees_employee_career_emp_education_emp_education_dialog_emp_education_dialog_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/employees/employee-career/emp-education/emp-education-dialog/emp-education-dialog.component */ 41864);
/* harmony import */ var _components_employees_employee_career_emp_work_experience_emp_work_experience_card_emp_work_experience_card_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/employees/employee-career/emp-work-experience/emp-work-experience-card/emp-work-experience-card.component */ 5760);
/* harmony import */ var _components_employees_employement_information_employement_info_core_employement_info_core_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/employees/employement-information/employement-info-core/employement-info-core.component */ 20001);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_job_info_card_emp_job_info_card_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-job-info-card/emp-job-info-card.component */ 55813);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_job_info_dialog_emp_job_info_dialog_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-job-info-dialog/emp-job-info-dialog.component */ 73610);
/* harmony import */ var _components_employees_employement_information_emp_work_schedule_emp_work_schedule_card_emp_work_schedule_card_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/employees/employement-information/emp-work-schedule/emp-work-schedule-card/emp-work-schedule-card.component */ 1250);
/* harmony import */ var _components_employees_employement_information_emp_work_schedule_emp_work_schedule_dialog_emp_work_schedule_dialog_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/employees/employement-information/emp-work-schedule/emp-work-schedule-dialog/emp-work-schedule-dialog.component */ 47437);
/* harmony import */ var _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_card_emp_hiring_documents_card_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-card/emp-hiring-documents-card.component */ 78471);
/* harmony import */ var _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_dialog_emp_hiring_documents_dialog_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-dialog/emp-hiring-documents-dialog.component */ 10205);
/* harmony import */ var _components_employees_employement_information_emp_location_emp_location_card_emp_location_card_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./components/employees/employement-information/emp-location/emp-location-card/emp-location-card.component */ 6208);
/* harmony import */ var _components_employees_employement_information_emp_location_emp_location_dialog_emp_location_dialog_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./components/employees/employement-information/emp-location/emp-location-dialog/emp-location-dialog.component */ 50677);
/* harmony import */ var _components_employees_employement_information_emp_custodies_emp_custodies_card_emp_custodies_card_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./components/employees/employement-information/emp-custodies/emp-custodies-card/emp-custodies-card.component */ 63042);
/* harmony import */ var _components_employees_employement_information_emp_custodies_emp_custodies_dialog_emp_custodies_dialog_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./components/employees/employement-information/emp-custodies/emp-custodies-dialog/emp-custodies-dialog.component */ 9228);
/* harmony import */ var _components_employees_employement_information_emp_social_insurance_emp_social_insurance_card_emp_social_insurance_card_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./components/employees/employement-information/emp-social-insurance/emp-social-insurance-card/emp-social-insurance-card.component */ 81988);
/* harmony import */ var _components_employees_employement_information_emp_medical_insurance_emp_medical_insurance_card_emp_medical_insurance_card_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./components/employees/employement-information/emp-medical-insurance/emp-medical-insurance-card/emp-medical-insurance-card.component */ 13881);
/* harmony import */ var _components_employees_employement_information_emp_medical_insurance_emp_medical_insurance_dialog_emp_medical_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./components/employees/employement-information/emp-medical-insurance/emp-medical-insurance-dialog/emp-medical-insurance-dialog.component */ 92545);
/* harmony import */ var _components_employees_employement_information_emp_contract_emp_contract_section_emp_contract_section_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./components/employees/employement-information/emp-contract/emp-contract-section/emp-contract-section.component */ 53765);
/* harmony import */ var _components_employees_employee_balances_emp_vacation_emp_vacation_card_emp_vacation_card_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./components/employees/employee-balances/emp-vacation/emp-vacation-card/emp-vacation-card.component */ 76816);
/* harmony import */ var _components_employees_employee_balances_emp_vacation_emp_vacation_dialog_emp_vacation_dialog_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./components/employees/employee-balances/emp-vacation/emp-vacation-dialog/emp-vacation-dialog.component */ 92915);
/* harmony import */ var _components_employees_employee_balances_emp_permission_emp_permission_card_emp_permission_card_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./components/employees/employee-balances/emp-permission/emp-permission-card/emp-permission-card.component */ 43996);
/* harmony import */ var _components_employees_employee_balances_employee_balances_core_employee_balances_core_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./components/employees/employee-balances/employee-balances-core/employee-balances-core.component */ 21918);
/* harmony import */ var _components_employees_employee_balances_emp_permission_emp_permission_dialog_emp_permission_dialog_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./components/employees/employee-balances/emp-permission/emp-permission-dialog/emp-permission-dialog.component */ 68837);
/* harmony import */ var _components_employees_sap_integration_emp_sap_integration_core_emp_sap_integration_core_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-sap-integration-core/emp-sap-integration-core.component */ 56333);
/* harmony import */ var _components_employees_payments_information_emp_payments_info_core_emp_payments_info_core_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./components/employees/payments-information/emp-payments-info-core/emp-payments-info-core.component */ 61198);
/* harmony import */ var _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_card_emp_sap_b1_card_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-sap-b1/emp-sap-b1-card/emp-sap-b1-card.component */ 14393);
/* harmony import */ var _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_dialog_emp_sap_b1_dialog_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-sap-b1/emp-sap-b1-dialog/emp-sap-b1-dialog.component */ 93035);
/* harmony import */ var _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_card_emp_s4_hana_card_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-s4-hana/emp-s4-hana-card/emp-s4-hana-card.component */ 22718);
/* harmony import */ var _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_dialog_emp_s4_hana_dialog_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-s4-hana/emp-s4-hana-dialog/emp-s4-hana-dialog.component */ 22331);
/* harmony import */ var _components_employees_payments_information_emp_payroll_data_emp_payroll_data_card_emp_payroll_data_card_component__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./components/employees/payments-information/emp-payroll-data/emp-payroll-data-card/emp-payroll-data-card.component */ 80151);
/* harmony import */ var _components_employees_payments_information_emp_payroll_data_emp_payroll_data_dialog_emp_payroll_data_dialog_component__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./components/employees/payments-information/emp-payroll-data/emp-payroll-data-dialog/emp-payroll-data-dialog.component */ 85303);
/* harmony import */ var _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_card_emp_banking_account_data_card_component__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-card/emp-banking-account-data-card.component */ 56275);
/* harmony import */ var _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_dialog_emp_banking_account_data_dialog_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-dialog/emp-banking-account-data-dialog.component */ 19434);
/* harmony import */ var _components_employees_employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./components/employees/employee-general-info/emp-general-info-form/emp-general-info-form.component */ 9442);
/* harmony import */ var _components_employees_employement_information_emp_medical_insurance_emp_blood_type_section_emp_blood_type_section_component__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./components/employees/employement-information/emp-medical-insurance/emp-blood-type-section/emp-blood-type-section.component */ 63612);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-social-insurance/emp-insurance-office-dialog/emp-social-insurance-dialog.component */ 11215);
/* harmony import */ var app_org_management_org_management_module__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! app/org-management/org-management.module */ 90446);
/* harmony import */ var _components_employees_employement_information_emp_contract_emp_contract_attachment_section_emp_contract_attachment_section_component__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./components/employees/employement-information/emp-contract/emp-contract-attachment-section/emp-contract-attachment-section.component */ 68005);
/* harmony import */ var _components_employees_assign_plan_assign_plan_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./components/employees/assign-plan/assign-plan.component */ 23589);
/* harmony import */ var _components_employees_activation_employees_activation_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./components/employees-activation/employees-activation.component */ 91921);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_supervisor_section_emp_supervisor_section_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-supervisor-section/emp-supervisor-section.component */ 56421);
/* harmony import */ var _components_employees_employement_information_emp_job_info_assign_as_org_manager_dialog_assign_as_org_manager_dialog_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/assign-as-org-manager-dialog/assign-as-org-manager-dialog.component */ 57993);
/* harmony import */ var _components_employees_employement_information_emp_job_info_close_job_dialog_close_job_dialog_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/close-job-dialog/close-job-dialog.component */ 27849);
/* harmony import */ var _components_employees_personal_information_emp_dependants_emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./components/employees/personal-information/emp-dependants/emp-dependants-table/emp-dependants-table.component */ 97035);
/* harmony import */ var _components_employees_personal_information_emp_address_emp_address_card_emp_address_card_component__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./components/employees/personal-information/emp-address/emp-address-card/emp-address-card.component */ 68530);
/* harmony import */ var _components_employees_personal_information_emp_address_emp_address_dialog_emp_address_dialog_component__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./components/employees/personal-information/emp-address/emp-address-dialog/emp-address-dialog.component */ 47219);
/* harmony import */ var _components_employees_personal_information_emp_address_emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./components/employees/personal-information/emp-address/emp-address-table/emp-address-table.component */ 62866);
/* harmony import */ var _components_employees_personal_information_emp_contact_emp_contact_card_emp_contact_card_component__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./components/employees/personal-information/emp-contact/emp-contact-card/emp-contact-card.component */ 52761);
/* harmony import */ var _components_employees_personal_information_emp_contact_emp_contact_dialog_emp_contact_dialog_component__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./components/employees/personal-information/emp-contact/emp-contact-dialog/emp-contact-dialog.component */ 56017);
/* harmony import */ var _components_employees_personal_information_emp_contact_emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./components/employees/personal-information/emp-contact/emp-contact-table/emp-contact-table.component */ 74155);
/* harmony import */ var _components_employees_personal_information_emp_personal_info_emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./components/employees/personal-information/emp-personal-info/emp-marital-status-table/emp-marital-status-table.component */ 64209);
/* harmony import */ var _components_employees_card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./components/employees/card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _components_employees_personal_information_emp_military_data_emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./components/employees/personal-information/emp-military-data/emp-military-table/emp-military-table.component */ 74855);
/* harmony import */ var _components_employees_personal_information_emp_documents_emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./components/employees/personal-information/emp-documents/emp-documents-table/emp-documents-table.component */ 6181);
/* harmony import */ var _components_employees_employee_career_emp_education_emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./components/employees/employee-career/emp-education/emp-education-table/emp-education-table.component */ 11806);
/* harmony import */ var _components_employees_employee_career_emp_work_experience_emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ./components/employees/employee-career/emp-work-experience/emp-work-experience-table/emp-work-experience-table.component */ 79371);
/* harmony import */ var _components_employees_employement_information_emp_location_emp_location_table_emp_location_table_component__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./components/employees/employement-information/emp-location/emp-location-table/emp-location-table.component */ 62003);
/* harmony import */ var _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_table_emp_sap_b1_table_component__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-sap-b1/emp-sap-b1-table/emp-sap-b1-table.component */ 80932);
/* harmony import */ var _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_table_emp_s4_hana_table_component__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-s4-hana/emp-s4-hana-table/emp-s4-hana-table.component */ 9860);
/* harmony import */ var _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_table_emp_banking_account_data_table_component__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ./components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-table/emp-banking-account-data-table.component */ 44011);
/* harmony import */ var _components_employees_employement_information_emp_custodies_emp_custodies_table_emp_custodies_table_component__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ./components/employees/employement-information/emp-custodies/emp-custodies-table/emp-custodies-table.component */ 26362);
/* harmony import */ var _components_employees_employement_information_emp_social_insurance_emp_social_insurance_table_emp_social_insurance_table_component__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ./components/employees/employement-information/emp-social-insurance/emp-social-insurance-table/emp-social-insurance-table.component */ 85409);
/* harmony import */ var _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_table_emp_hiring_documents_table_component__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ./components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-table/emp-hiring-documents-table.component */ 57095);
/* harmony import */ var _components_employees_employement_information_emp_contract_emp_contract_card_emp_contract_card_component__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ./components/employees/employement-information/emp-contract/emp-contract-card/emp-contract-card.component */ 83379);
/* harmony import */ var _components_employees_employement_information_emp_contract_emp_contract_table_emp_contract_table_component__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ./components/employees/employement-information/emp-contract/emp-contract-table/emp-contract-table.component */ 55138);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_job_table_emp_job_table_component__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-job-table/emp-job-table.component */ 50991);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_job_info_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-job-info/emp-job-section/emp-job-section.component */ 58319);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_job_info_old_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-job-info/old-emp-job-section/emp-job-section.component */ 45679);
/* harmony import */ var _components_employees_employement_information_emp_work_schedule_emp_work_schedule_table_emp_work_schedule_table_component__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ./components/employees/employement-information/emp-work-schedule/emp-work-schedule-table/emp-work-schedule-table.component */ 76038);
/* harmony import */ var _components_employees_employement_information_emp_work_schedule_emp_workschedule_vacations_cards_emp_workschedule_vacations_cards_component__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ./components/employees/employement-information/emp-work-schedule/emp-workschedule-vacations-cards/emp-workschedule-vacations-cards.component */ 58721);
/* harmony import */ var _components_employees_employee_balances_emp_vacation_emp_vacation_table_emp_vacation_table_component__WEBPACK_IMPORTED_MODULE_94__ = __webpack_require__(/*! ./components/employees/employee-balances/emp-vacation/emp-vacation-table/emp-vacation-table.component */ 77943);
/* harmony import */ var _components_employees_sap_integration_emp_erp_integration_emp_erp_integration_card_emp_erp_integration_card_component__WEBPACK_IMPORTED_MODULE_95__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-erp-integration/emp-erp-integration-card/emp-erp-integration-card.component */ 20108);
/* harmony import */ var _components_employees_sap_integration_emp_erp_integration_emp_erp_integration_dialog_emp_erp_integration_dialog_component__WEBPACK_IMPORTED_MODULE_96__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-erp-integration/emp-erp-integration-dialog/emp-erp-integration-dialog.component */ 52582);
/* harmony import */ var primeng_autofocus__WEBPACK_IMPORTED_MODULE_99__ = __webpack_require__(/*! primeng/autofocus */ 70174);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_97__ = __webpack_require__(/*! @angular/core */ 22560);




































































































class PersonnelSetupModule {
}
PersonnelSetupModule.ɵfac = function PersonnelSetupModule_Factory(t) { return new (t || PersonnelSetupModule)(); };
PersonnelSetupModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_97__["ɵɵdefineNgModule"]({ type: PersonnelSetupModule });
PersonnelSetupModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_97__["ɵɵdefineInjector"]({ imports: [_angular_common__WEBPACK_IMPORTED_MODULE_98__.CommonModule,
        _personnel_setup_routing_module__WEBPACK_IMPORTED_MODULE_0__.PersonnelSetupRoutingModule,
        app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__.SharedModule,
        app_org_management_org_management_module__WEBPACK_IMPORTED_MODULE_60__.OrgManagementModule,
        primeng_autofocus__WEBPACK_IMPORTED_MODULE_99__.AutoFocusModule] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_97__["ɵɵsetNgModuleScope"](PersonnelSetupModule, { declarations: [_components_employees_employees_index_employees_index_component__WEBPACK_IMPORTED_MODULE_1__.EmployeesIndexComponent,
        _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_3__.AddEmployeeComponent,
        _components_employees_employee_general_info_emp_general_info_dialog_emp_general_info_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeGeneralInfoDialogComponent,
        _components_employees_employee_general_info_emp_general_info_card_emp_general_info_card_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeGeneralInfoCardComponent,
        _components_employees_card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent,
        _components_employees_card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent,
        _components_employees_personal_information_emp_personal_info_core_empl_personal_info_core_component__WEBPACK_IMPORTED_MODULE_11__.EmployeePersonalInfoCoreComponent,
        _components_employees_personal_information_emp_personal_info_emp_personal_info_card_emp_personal_info_card_component__WEBPACK_IMPORTED_MODULE_22__.EmployeePersonalInfoCardComponent,
        _components_employees_personal_information_emp_personal_info_emp_personal_info_dialog_emp_personal_info_dialog_component__WEBPACK_IMPORTED_MODULE_23__.EmployeePersonalInfoDialogComponent,
        _components_employees_personal_information_old_emp_contact_and_address_emp_contact_and_address_card_emp_contact_and_address_card_component__WEBPACK_IMPORTED_MODULE_13__.EmployeeContactAndAddressCardComponent,
        _components_employees_personal_information_old_emp_contact_and_address_emp_contact_and_address_dialog_emp_contact_and_address_dialog_component__WEBPACK_IMPORTED_MODULE_14__.EmployeeContactAndAddressDialogComponent,
        _components_employees_personal_information_old_emp_contact_and_address_emp_contact_section_emp_contact_section_component__WEBPACK_IMPORTED_MODULE_15__.EmployeeContactDialogComponent,
        _components_employees_personal_information_emp_address_emp_address_card_emp_address_card_component__WEBPACK_IMPORTED_MODULE_68__.EmpAddressCardComponent,
        _components_employees_personal_information_emp_address_emp_address_dialog_emp_address_dialog_component__WEBPACK_IMPORTED_MODULE_69__.EmpAddressDialogComponent,
        _components_employees_personal_information_emp_address_emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_70__.EmpAddressTableComponent,
        _components_employees_personal_information_emp_contact_emp_contact_card_emp_contact_card_component__WEBPACK_IMPORTED_MODULE_71__.EmpContactCardComponent,
        _components_employees_personal_information_emp_contact_emp_contact_dialog_emp_contact_dialog_component__WEBPACK_IMPORTED_MODULE_72__.EmpContactDialogComponent,
        _components_employees_personal_information_emp_contact_emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_73__.EmpContactTableComponent,
        _components_employees_personal_information_old_emp_contact_and_address_emp_address_section_emp_address_section_component__WEBPACK_IMPORTED_MODULE_12__.EmployeeAddressDialogComponent,
        _components_employees_personal_information_emp_dependants_emp_dependants_card_emp_dependants_card_component__WEBPACK_IMPORTED_MODULE_16__.EmployeeDependantsCardComponent,
        _components_employees_personal_information_emp_dependants_emp_dependants_dialog_emp_dependants_dialog_component__WEBPACK_IMPORTED_MODULE_17__.EmployeeDependantsDialogComponent,
        _components_employees_personal_information_emp_military_data_emp_military_data_card_emp_military_data_card_component__WEBPACK_IMPORTED_MODULE_20__.EmployeeMilitaryDataCardComponent,
        _components_employees_personal_information_emp_military_data_emp_military_data_dialog_emp_military_data_dialog_component__WEBPACK_IMPORTED_MODULE_21__.EmployeeMilitaryDataDialogComponent,
        _components_employees_personal_information_emp_documents_emp_documents_card_emp_documents_card_component__WEBPACK_IMPORTED_MODULE_18__.EmployeeDocumentsCardComponent,
        _components_employees_personal_information_emp_documents_emp_documents_dialog_emp_documents_dialog_component__WEBPACK_IMPORTED_MODULE_19__.EmployeeDocumentsDialogComponent,
        _components_employees_employee_career_emp_career_core_emp_career_core_component__WEBPACK_IMPORTED_MODULE_8__.EmployeeCareerCoreComponent,
        _components_employees_employee_career_emp_education_emp_education_card_emp_education_card_component__WEBPACK_IMPORTED_MODULE_24__.EmployeeEducationCardComponent,
        _components_employees_employee_career_emp_education_emp_education_dialog_emp_education_dialog_component__WEBPACK_IMPORTED_MODULE_25__.EmployeeEducationDialogComponent,
        _components_employees_employee_career_emp_work_experience_emp_work_experience_card_emp_work_experience_card_component__WEBPACK_IMPORTED_MODULE_26__.EmployeeWorkExperienceCardComponent,
        _components_employees_employee_career_emp_work_experience_emp_work_experience_dialog_employee_work_experience_dialog_component__WEBPACK_IMPORTED_MODULE_9__.EmployeeWorkExperienceDialogComponent,
        _components_employees_employee_general_info_emp_general_info_core_emp_general_info_core_component__WEBPACK_IMPORTED_MODULE_10__.EmpGeneralInfoCoreComponent,
        _components_employees_employement_information_employement_info_core_employement_info_core_component__WEBPACK_IMPORTED_MODULE_27__.EmployementInformationComponent,
        _components_employees_employement_information_emp_job_info_emp_job_info_card_emp_job_info_card_component__WEBPACK_IMPORTED_MODULE_28__.EmpJobInfoCardComponent,
        _components_employees_employement_information_emp_work_schedule_emp_work_schedule_card_emp_work_schedule_card_component__WEBPACK_IMPORTED_MODULE_30__.EmpWorkScheduleCardComponent,
        _components_employees_employement_information_emp_work_schedule_emp_work_schedule_dialog_emp_work_schedule_dialog_component__WEBPACK_IMPORTED_MODULE_31__.EmpWorkScheduleDialogComponent,
        _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_card_emp_hiring_documents_card_component__WEBPACK_IMPORTED_MODULE_32__.EmpHiringDocumentsCardComponent,
        _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_dialog_emp_hiring_documents_dialog_component__WEBPACK_IMPORTED_MODULE_33__.EmpHiringDocumentsDialogComponent,
        _components_employees_employement_information_emp_location_emp_location_card_emp_location_card_component__WEBPACK_IMPORTED_MODULE_34__.EmpLocationCardComponent,
        _components_employees_employement_information_emp_location_emp_location_dialog_emp_location_dialog_component__WEBPACK_IMPORTED_MODULE_35__.EmpLocationDialogComponent,
        _components_employees_employement_information_emp_custodies_emp_custodies_card_emp_custodies_card_component__WEBPACK_IMPORTED_MODULE_36__.EmpCustodiesCardComponent,
        _components_employees_employement_information_emp_custodies_emp_custodies_dialog_emp_custodies_dialog_component__WEBPACK_IMPORTED_MODULE_37__.EmpCustodiesDialogComponent,
        _components_employees_employement_information_emp_social_insurance_emp_social_insurance_card_emp_social_insurance_card_component__WEBPACK_IMPORTED_MODULE_38__.EmpSocialInsuranceCardComponent,
        app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_59__.EmpSocialInsuranceDialogComponent,
        _components_employees_employement_information_emp_medical_insurance_emp_medical_insurance_card_emp_medical_insurance_card_component__WEBPACK_IMPORTED_MODULE_39__.EmpMedicalInsuranceCardComponent,
        _components_employees_employement_information_emp_medical_insurance_emp_medical_insurance_dialog_emp_medical_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_40__.EmpMedicalInsuranceDialogComponent,
        _components_employees_employement_information_emp_job_info_emp_job_info_dialog_emp_job_info_dialog_component__WEBPACK_IMPORTED_MODULE_29__.EmpJobInfoDialogComponent,
        _components_employees_employement_information_emp_contract_emp_contract_section_emp_contract_section_component__WEBPACK_IMPORTED_MODULE_41__.EmpContractDetailsDialogComponent,
        _components_employees_employee_balances_employee_balances_core_employee_balances_core_component__WEBPACK_IMPORTED_MODULE_45__.EmployeeBalancesCoreComponent,
        _components_employees_employee_balances_emp_vacation_emp_vacation_card_emp_vacation_card_component__WEBPACK_IMPORTED_MODULE_42__.EmpVacationCardComponent,
        _components_employees_employee_balances_emp_vacation_emp_vacation_dialog_emp_vacation_dialog_component__WEBPACK_IMPORTED_MODULE_43__.EmpVacationDialogComponent,
        _components_employees_employee_balances_emp_permission_emp_permission_card_emp_permission_card_component__WEBPACK_IMPORTED_MODULE_44__.EmpPermissionCardComponent,
        _components_employees_employee_balances_emp_permission_emp_permission_dialog_emp_permission_dialog_component__WEBPACK_IMPORTED_MODULE_46__.EmpPermissionDialogComponent,
        _components_employees_sap_integration_emp_sap_integration_core_emp_sap_integration_core_component__WEBPACK_IMPORTED_MODULE_47__.EmpSapIntegrationCoreComponent,
        _components_employees_payments_information_emp_payments_info_core_emp_payments_info_core_component__WEBPACK_IMPORTED_MODULE_48__.EmpPaymentsInfoCoreComponent,
        _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_card_emp_sap_b1_card_component__WEBPACK_IMPORTED_MODULE_49__.EmpSapB1CardComponent,
        _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_dialog_emp_sap_b1_dialog_component__WEBPACK_IMPORTED_MODULE_50__.EmpSapB1DialogComponent,
        _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_card_emp_s4_hana_card_component__WEBPACK_IMPORTED_MODULE_51__.EmpS4HanaCardComponent,
        _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_dialog_emp_s4_hana_dialog_component__WEBPACK_IMPORTED_MODULE_52__.EmpS4HanaDialogComponent,
        _components_employees_payments_information_emp_payroll_data_emp_payroll_data_card_emp_payroll_data_card_component__WEBPACK_IMPORTED_MODULE_53__.EmpPayrollDataCardComponent,
        _components_employees_payments_information_emp_payroll_data_emp_payroll_data_dialog_emp_payroll_data_dialog_component__WEBPACK_IMPORTED_MODULE_54__.EmpPayrollDataDialogComponent,
        _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_card_emp_banking_account_data_card_component__WEBPACK_IMPORTED_MODULE_55__.EmpBankingAccountDataCardComponent,
        _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_dialog_emp_banking_account_data_dialog_component__WEBPACK_IMPORTED_MODULE_56__.EmpBankingAccountDataDialogComponent,
        _components_employees_employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_57__.EmpGeneralInfoFormComponent,
        _components_employees_employement_information_emp_medical_insurance_emp_blood_type_section_emp_blood_type_section_component__WEBPACK_IMPORTED_MODULE_58__.EmpMedicalAndBloodTypeDialogComponent,
        app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_59__.EmpSocialInsuranceDialogComponent,
        _components_employees_employement_information_emp_contract_emp_contract_attachment_section_emp_contract_attachment_section_component__WEBPACK_IMPORTED_MODULE_61__.EmpContractAttachmentSectionComponent,
        _components_employees_assign_plan_assign_plan_component__WEBPACK_IMPORTED_MODULE_62__.AssignPlanComponent,
        _components_employees_activation_employees_activation_component__WEBPACK_IMPORTED_MODULE_63__.EmployeesActivationComponent,
        _components_employees_employement_information_emp_job_info_emp_supervisor_section_emp_supervisor_section_component__WEBPACK_IMPORTED_MODULE_64__.EmpSupervisorSectionComponent,
        _components_employees_employement_information_emp_job_info_assign_as_org_manager_dialog_assign_as_org_manager_dialog_component__WEBPACK_IMPORTED_MODULE_65__.AssignAsOrgManagerDialogComponent,
        _components_employees_employement_information_emp_job_info_close_job_dialog_close_job_dialog_component__WEBPACK_IMPORTED_MODULE_66__.CloseJobDialogComponent,
        _components_employees_personal_information_emp_dependants_emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_67__.EmpDependantsTableComponent,
        _components_employees_personal_information_emp_personal_info_emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_74__.EmpMaritalStatusTableComponent,
        _components_employees_card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_75__.SeeMoreBtnComponent,
        _components_employees_personal_information_emp_military_data_emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_76__.EmpMilitaryTableComponent,
        _components_employees_personal_information_emp_documents_emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_77__.EmpDocumentsTableComponent,
        _components_employees_employee_career_emp_education_emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_78__.EmpEducationTableComponent,
        _components_employees_employee_career_emp_work_experience_emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_79__.EmpWorkExperienceTableComponent,
        _components_employees_employement_information_emp_location_emp_location_table_emp_location_table_component__WEBPACK_IMPORTED_MODULE_80__.EmpLocationTableComponent,
        _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_table_emp_sap_b1_table_component__WEBPACK_IMPORTED_MODULE_81__.EmpSapB1TableComponent,
        _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_table_emp_s4_hana_table_component__WEBPACK_IMPORTED_MODULE_82__.EmpS4HanaTableComponent,
        _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_table_emp_banking_account_data_table_component__WEBPACK_IMPORTED_MODULE_83__.EmpBankingAccountDataTableComponent,
        _components_employees_employement_information_emp_custodies_emp_custodies_table_emp_custodies_table_component__WEBPACK_IMPORTED_MODULE_84__.EmpCustodiesTableComponent,
        _components_employees_employement_information_emp_social_insurance_emp_social_insurance_table_emp_social_insurance_table_component__WEBPACK_IMPORTED_MODULE_85__.EmpSocialInsuranceTableComponent,
        _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_table_emp_hiring_documents_table_component__WEBPACK_IMPORTED_MODULE_86__.EmpHiringDocumentsTableComponent,
        _components_employees_employement_information_emp_contract_emp_contract_card_emp_contract_card_component__WEBPACK_IMPORTED_MODULE_87__.EmpContractCardComponent,
        _components_employees_employement_information_emp_contract_emp_contract_table_emp_contract_table_component__WEBPACK_IMPORTED_MODULE_88__.EmpContractTableComponent,
        app_personnel_setup_components_employees_employement_information_emp_job_info_old_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_91__.OLDEmpJobDataDialogComponent,
        _components_employees_employement_information_emp_job_info_emp_job_table_emp_job_table_component__WEBPACK_IMPORTED_MODULE_89__.EmpJobTableComponent,
        app_personnel_setup_components_employees_employement_information_emp_job_info_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_90__.EmpJobSectionComponent,
        _components_employees_employement_information_emp_work_schedule_emp_work_schedule_table_emp_work_schedule_table_component__WEBPACK_IMPORTED_MODULE_92__.EmpWorkScheduleTableComponent,
        _components_employees_employement_information_emp_work_schedule_emp_workschedule_vacations_cards_emp_workschedule_vacations_cards_component__WEBPACK_IMPORTED_MODULE_93__.EmpWorkscheduleVacationsCardsComponent,
        _components_employees_employee_balances_emp_vacation_emp_vacation_table_emp_vacation_table_component__WEBPACK_IMPORTED_MODULE_94__.EmpVacationTableComponent,
        _components_employees_sap_integration_emp_erp_integration_emp_erp_integration_card_emp_erp_integration_card_component__WEBPACK_IMPORTED_MODULE_95__.EmpErpIntegrationCardComponent,
        _components_employees_sap_integration_emp_erp_integration_emp_erp_integration_dialog_emp_erp_integration_dialog_component__WEBPACK_IMPORTED_MODULE_96__.EmpErpIntegrationDialogComponent], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_98__.CommonModule,
        _personnel_setup_routing_module__WEBPACK_IMPORTED_MODULE_0__.PersonnelSetupRoutingModule,
        app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__.SharedModule,
        app_org_management_org_management_module__WEBPACK_IMPORTED_MODULE_60__.OrgManagementModule,
        primeng_autofocus__WEBPACK_IMPORTED_MODULE_99__.AutoFocusModule] }); })();


/***/ }),

/***/ 92570:
/*!**************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees-activation.service.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeesActivationService": () => (/* binding */ EmployeesActivationService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeesActivationService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    getList(params) {
        return this.get("Personnel/EmployeeActivation/GetNonActivationEmployeesList", {
            params: params,
        });
    }
    activate(id) {
        return this.post("Personnel/EmployeeActivation/Activate", null, {
            params: { id: id },
        });
    }
    exportExcel() {
        // return this.getAll();
    }
}
EmployeesActivationService.ɵfac = function EmployeesActivationService_Factory(t) { return new (t || EmployeesActivationService)(); };
EmployeesActivationService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeesActivationService, factory: EmployeesActivationService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 63875:
/*!***********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/career/employee-work-experience.service.ts ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeWorkExperienceService": () => (/* binding */ EmployeeWorkExperienceService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeWorkExperienceService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeWorkExperience", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeWorkExperience", data);
    }
    getList(Person_Instance_ID, params) {
        return this.get("Personnel/Employees/GetList_EmployeeWorkExperience", {
            params: {
                ...params,
                $filter: `Person_Instance_ID  eq ${Person_Instance_ID}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.Core_Person_Instance}/${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.Core_Person}`,
            },
        });
    }
    getAll(Person_Instance_ID) {
        return this.get("Personnel/Employees/GetAll_EmployeeWorkExperience", {
            params: {
                $filter: `Person_Instance_ID  eq ${Person_Instance_ID}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.Core_Person_Instance}/${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.Core_Person}`,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeWorkExperience", {
            params: { ID: Id },
        });
    }
}
EmployeeWorkExperienceService.ɵfac = function EmployeeWorkExperienceService_Factory(t) { return new (t || EmployeeWorkExperienceService)(); };
EmployeeWorkExperienceService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeWorkExperienceService, factory: EmployeeWorkExperienceService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 84241:
/*!*****************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employee-balances/employee-permission.service.ts ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePermissionService": () => (/* binding */ EmployeePermissionService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeePermissionService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    // create(data: IEmpPermissionRequest) {
    //   return this.post<IResponse<IEmpPermissionModel>>(
    //     "Personnel/Employees/Create_Permission",
    //     data
    //   );
    // }
    // update(data: IEmpPermissionRequest) {
    //   return this.post<IResponse<IEmpPermissionModel>>(
    //     "Personnel/Employees/Edit_Permission",
    //     data
    //   );
    // }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeePermission", {
            params: {
                ...params,
                person_instance_id: employeeInstanceId,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeePermission", {
            params: {
                person_instance_id: employeeInstanceId,
            },
        });
    }
}
EmployeePermissionService.ɵfac = function EmployeePermissionService_Factory(t) { return new (t || EmployeePermissionService)(); };
EmployeePermissionService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeePermissionService, factory: EmployeePermissionService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 56379:
/*!***************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employee-balances/employee-vacation.service.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeVacationService": () => (/* binding */ EmployeeVacationService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeeVacationService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeVacationBalance", data);
    }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeVacationBalance", {
            params: {
                ...params,
                PersonInstanceID: employeeInstanceId,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeeVacationBalance", {
            params: {
                person_instance_id: employeeInstanceId,
            },
        });
    }
    Delete(data) {
        return this.delete("Personnel/Employees/Delete_EmployeeVacationBalance", {
            body: data,
        });
    }
    getCard(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAllCard_LastVactionBalance", {
            params: {
                person_instance_id: employeeInstanceId,
            },
        });
    }
    regenerateBalance(employeeInstanceId) {
        return this.post("Personnel/Employees/RegenerateBalance", null, {
            params: {
                person_instance_id: employeeInstanceId,
            },
        });
    }
}
EmployeeVacationService.ɵfac = function EmployeeVacationService_Factory(t) { return new (t || EmployeeVacationService)(); };
EmployeeVacationService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeeVacationService, factory: EmployeeVacationService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 37707:
/*!********************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-contract-attachment.service.ts ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContractAttachmentService": () => (/* binding */ EmployeeContractAttachmentService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeeContractAttachmentService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeContract_Attachments", data);
    }
    getAll(contractId) {
        return this.get("Personnel/Employees/GetAll_EmployeeContract_Attachments", {
            params: {
                Contract_ID: contractId,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeContract_Attachments", {
            params: params,
        });
    }
}
EmployeeContractAttachmentService.ɵfac = function EmployeeContractAttachmentService_Factory(t) { return new (t || EmployeeContractAttachmentService)(); };
EmployeeContractAttachmentService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeeContractAttachmentService, factory: EmployeeContractAttachmentService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 28634:
/*!*****************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-contract-details.service.ts ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContractDetailsService": () => (/* binding */ EmployeeContractDetailsService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeContractDetailsService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeContract", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeContract", data);
    }
    getList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeContract", {
            params: {
                ...params,
                $filter: `Person_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.core_Contract_Type,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeContract", {
            params: {
                $filter: `Person_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.core_Contract_Type,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeContract", {
            params: { ID: Id },
        });
    }
}
EmployeeContractDetailsService.ɵfac = function EmployeeContractDetailsService_Factory(t) { return new (t || EmployeeContractDetailsService)(); };
EmployeeContractDetailsService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeContractDetailsService, factory: EmployeeContractDetailsService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 41769:
/*!*********************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-location.service.ts ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeLocationService": () => (/* binding */ EmployeeLocationService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeLocationService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeLocation", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeLocation", data);
    }
    getList(personInstancId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeLocation", {
            params: {
                ...params,
                $filter: `Person_Instance_ID eq ${personInstancId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.Core_Location,
            },
        });
    }
    getAll(personInstancId) {
        return this.get("Personnel/Employees/GetAll_EmployeeLocation", {
            params: {
                $filter: `Person_Instance_ID eq ${personInstancId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.Core_Location,
            },
        });
    }
    close(params) {
        return this.delete("Personnel/Employees/Close_EmployeeLocation", {
            params: params,
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeLocation", {
            params: params,
        });
    }
}
EmployeeLocationService.ɵfac = function EmployeeLocationService_Factory(t) { return new (t || EmployeeLocationService)(); };
EmployeeLocationService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeLocationService, factory: EmployeeLocationService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 25018:
/*!******************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-medical-insurance.service.ts ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMedicalInsuranceService": () => (/* binding */ EmployeeMedicalInsuranceService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeeMedicalInsuranceService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_dependant", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_dependant", data);
    }
    getAllByEmployeeId(employeeId) {
        return this.get("Personnel/Employees/GetAll_dependant", {
            params: {
                $filter: `id eq ${employeeId}`,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_dependant", {
            params: { Id: Id },
        });
    }
}
EmployeeMedicalInsuranceService.ɵfac = function EmployeeMedicalInsuranceService_Factory(t) { return new (t || EmployeeMedicalInsuranceService)(); };
EmployeeMedicalInsuranceService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeeMedicalInsuranceService, factory: EmployeeMedicalInsuranceService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 88331:
/*!*****************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-social-insurance.service.ts ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeSocialInsuranceService": () => (/* binding */ EmployeeSocialInsuranceService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeSocialInsuranceService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeInsurance", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeInsurance", data);
    }
    getList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeInsurance", {
            params: {
                ...params,
                $filter: `Person_ID  eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.core_Insurance_Office,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeInsurance", {
            params: {
                $filter: `Person_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.core_Insurance_Office,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeInsurance", {
            params: params,
        });
    }
}
EmployeeSocialInsuranceService.ɵfac = function EmployeeSocialInsuranceService_Factory(t) { return new (t || EmployeeSocialInsuranceService)(); };
EmployeeSocialInsuranceService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeSocialInsuranceService, factory: EmployeeSocialInsuranceService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 77950:
/*!***********************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-supervisor.service.ts ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeSupervisorService": () => (/* binding */ EmployeeSupervisorService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeeSupervisorService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeSupervisor", data);
    }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeSupervisor", {
            params: {
                ...params,
                prtid: employeeInstanceId,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeeSupervisor", {
            params: {
                prtid: employeeInstanceId,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeSupervisor", {
            params: params,
        });
    }
}
EmployeeSupervisorService.ɵfac = function EmployeeSupervisorService_Factory(t) { return new (t || EmployeeSupervisorService)(); };
EmployeeSupervisorService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeeSupervisorService, factory: EmployeeSupervisorService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 89320:
/*!**************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-work-schedule.service.ts ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeWorkScheduleService": () => (/* binding */ EmployeeWorkScheduleService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeWorkScheduleService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeAttendencePlan", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeAttendencePlan", data);
    }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeAttendencePlan", {
            params: {
                ...params,
                $filter: `Person_Instance_ID eq ${employeeInstanceId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.att_Plan,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeeAttendencePlan", {
            params: {
                $filter: `Person_Instance_ID eq ${employeeInstanceId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.att_Plan,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeAttendencePlan", {
            params: params,
        });
    }
    getCard(employeeInstanceId, StartDate) {
        return this.get("Personnel/Employees/Get_AttendancePlanCard", {
            params: {
                Person_Instance_ID: employeeInstanceId,
                StartDate: StartDate,
            },
        });
    }
    getAnnualCasualDashboard(employeeInstanceId) {
        return this.get("Dashboards/VacationSummary/GetAnnualCasualSummery", {
            params: {
                Person_Instance_ID: employeeInstanceId,
            },
        });
    }
    getSickLeaveDashboard(employeeInstanceId) {
        return this.get("Dashboards/VacationSummary/GetSickLeaveSummery", {
            params: {
                Person_Instance_ID: employeeInstanceId,
            },
        });
    }
    getWorkingHoursDashboard(employeeInstanceId) {
        return this.get("Dashboards/WorkingHoursSummary/GetCurrentMonthWorkingHoursSummary", {
            params: {
                Person_Instance_ID: employeeInstanceId,
            },
        });
    }
}
EmployeeWorkScheduleService.ɵfac = function EmployeeWorkScheduleService_Factory(t) { return new (t || EmployeeWorkScheduleService)(); };
EmployeeWorkScheduleService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeWorkScheduleService, factory: EmployeeWorkScheduleService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 38242:
/*!******************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/payments-info/employee-banking-account.service.ts ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeBankingAccountService": () => (/* binding */ EmployeeBankingAccountService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeBankingAccountService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeBank", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeBank", data);
    }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeBank", {
            params: {
                ...params,
                $filter: `Person_Instance_ID  eq ${employeeInstanceId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Bank,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeeBank", {
            params: {
                $filter: `Person_Instance_ID  eq ${employeeInstanceId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Bank,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeBank", {
            params: params,
        });
    }
}
EmployeeBankingAccountService.ɵfac = function EmployeeBankingAccountService_Factory(t) { return new (t || EmployeeBankingAccountService)(); };
EmployeeBankingAccountService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeBankingAccountService, factory: EmployeeBankingAccountService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 80374:
/*!**********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/payments-info/employee-payroll.service.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePayrollService": () => (/* binding */ EmployeePayrollService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeePayrollService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    // create(data: IEmployeePayrollRequest) {
    //   return this.post<IResponse<IEmployeePayrollModel>>(
    //     "Personnel/Employees/Create_address",
    //     data
    //   );
    // }
    // update(data: IEmployeePayrollRequest) {
    //   return this.post<IResponse<IEmployeePayrollModel>>(
    //     "Personnel/Employees/Edit_address",
    //     data
    //   );
    // }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeePayment", {
            params: {
                person_id: employeeId,
            },
        });
    }
}
EmployeePayrollService.ɵfac = function EmployeePayrollService_Factory(t) { return new (t || EmployeePayrollService)(); };
EmployeePayrollService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeePayrollService, factory: EmployeePayrollService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 52608:
/*!**********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-address.service.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeAddressService": () => (/* binding */ EmployeeAddressService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeAddressService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeAddress", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeAddress", data);
    }
    GetList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeAddress", {
            params: {
                ...params,
                $filter: `Person_ID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Address}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Governorate}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Country}`,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeAddress", {
            params: {
                $filter: `Person_ID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Address}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Governorate}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Country}`,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeAddress", {
            params: params,
        });
    }
}
EmployeeAddressService.ɵfac = function EmployeeAddressService_Factory(t) { return new (t || EmployeeAddressService)(); };
EmployeeAddressService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeAddressService, factory: EmployeeAddressService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 55284:
/*!**********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-contact.service.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContactService": () => (/* binding */ EmployeeContactService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeContactService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeContactType", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeContactType", data);
    }
    GetList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeContactType", {
            params: {
                ...params,
                $filter: `Person_ID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact_Type},${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact_Category}`,
            },
        });
    }
    GetAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeContactType", {
            params: {
                $filter: `Person_ID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact_Type},${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact_Category}`,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeContactType", {
            params: params,
        });
    }
}
EmployeeContactService.ɵfac = function EmployeeContactService_Factory(t) { return new (t || EmployeeContactService)(); };
EmployeeContactService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeContactService, factory: EmployeeContactService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 45310:
/*!************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-documents.service.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDocumentsService": () => (/* binding */ EmployeeDocumentsService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeDocumentsService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeIdentityInformation", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeIdentityInformation", data);
    }
    getList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeIdentityInformation", {
            params: {
                ...params,
                $filter: `PersonID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.Core_Personal_Identity_Type,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeIdentityInformation", {
            params: {
                $filter: `PersonID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.Core_Personal_Identity_Type,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeIdentityInformation", {
            params: { Id: Id },
        });
    }
    // delete by emp_attach id
    DeleteAttachment(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeIdentityInformation_Attachment", {
            params: { ID: Id },
        });
    }
}
EmployeeDocumentsService.ɵfac = function EmployeeDocumentsService_Factory(t) { return new (t || EmployeeDocumentsService)(); };
EmployeeDocumentsService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeDocumentsService, factory: EmployeeDocumentsService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 87978:
/*!***************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-marital-data.service.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMaritalDataService": () => (/* binding */ EmployeeMaritalDataService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeMaritalDataService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeMaritalStatus", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeMaritalStatus", data);
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeMaritalStatus", {
            params: {
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.comm_Marital_Status,
                $filter: `PersonID eq ${employeeId}`,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeMaritalStatus", {
            params: params,
        });
    }
}
EmployeeMaritalDataService.ɵfac = function EmployeeMaritalDataService_Factory(t) { return new (t || EmployeeMaritalDataService)(); };
EmployeeMaritalDataService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeMaritalDataService, factory: EmployeeMaritalDataService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 65635:
/*!****************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-military-data.service.ts ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMilitaryDataService": () => (/* binding */ EmployeeMilitaryDataService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeMilitaryDataService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeMilitaryStatus", data);
    }
    // update(data: IEmployeeMilitaryRequest) {
    //   return this.post<IResponse<IEmployeeMilitaryModel>>(
    //     "Personnel/Employees/Edit_EmployeeMilitaryStatus",
    //     data
    //   );
    // }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeMilitaryStatus", {
            params: {
                $filter: `PersonID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.comm_Military_Status},${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.comm_Military_Grade}`,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeMilitaryStatus", {
            params: params,
        });
    }
}
EmployeeMilitaryDataService.ɵfac = function EmployeeMilitaryDataService_Factory(t) { return new (t || EmployeeMilitaryDataService)(); };
EmployeeMilitaryDataService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeMilitaryDataService, factory: EmployeeMilitaryDataService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 18114:
/*!***********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/sap-integration/employee-sap-b1.service.ts ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeSapB1Service": () => (/* binding */ EmployeeSapB1Service)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeSapB1Service extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeSapCostCenter", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeSapCostCenter", data);
    }
    getList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeSapCostCenter", {
            params: {
                ...params,
                $filter: `Person_Instance_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.saP_SystemInstance,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeSapCostCenter", {
            params: {
                $filter: `Person_Instance_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.saP_SystemInstance,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeSapCostCenter", {
            params: { Id: Id },
        });
    }
}
EmployeeSapB1Service.ɵfac = function EmployeeSapB1Service_Factory(t) { return new (t || EmployeeSapB1Service)(); };
EmployeeSapB1Service.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeSapB1Service, factory: EmployeeSapB1Service.ɵfac, providedIn: "root" });


/***/ }),

/***/ 21138:
/*!********************************************************!*\
  !*** ./src/app/shared/animations/custom-animations.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FadeIn": () => (/* binding */ FadeIn),
/* harmony export */   "FadeInOut": () => (/* binding */ FadeInOut),
/* harmony export */   "SlideInOutAnimation": () => (/* binding */ SlideInOutAnimation),
/* harmony export */   "fadeOut": () => (/* binding */ fadeOut),
/* harmony export */   "slideInOut": () => (/* binding */ slideInOut)
/* harmony export */ });
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/animations */ 24851);

const slideInOut = [
    (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("slideInOut", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.state)("1", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({ height: "*" })),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.state)("0", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({ height: "0px" })),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)("1 <=> 0", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(200))
    ])
];
function FadeIn(timingIn, height = false) {
    return (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("fadeIn", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)(":enter", [
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 0, height: 0, } : { opacity: 0, }),
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(timingIn, (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 1, height: "fit-content" } : { opacity: 1, })),
        ]),
    ]);
}
function fadeOut(timingOut, height = false) {
    return (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("fadeOut", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)(":leave", [
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(timingOut, (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 0, height: 0, } : { opacity: 0, })),
        ])
    ]);
}
function FadeInOut(timingIn, timingOut, height = false) {
    return (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("fadeInOut", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)(":enter", [
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 0, height: 0, } : { opacity: 0, }),
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(timingIn, (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 1, height: "fit-content" } : { opacity: 1, })),
        ]),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)(":leave", [
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(timingOut, (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 0, height: 0, } : { opacity: 0, })),
        ])
    ]);
}
const SlideInOutAnimation = [
    (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("slideInOut", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.state)("in", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
            "max-height": "500px", "opacity": "1", "visibility": "visible"
        })),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.state)("out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
            "max-height": "0px", "opacity": "0", "visibility": "hidden"
        })),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)("in => out", [(0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.group)([
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("400ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "opacity": "0"
                })),
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("600ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "max-height": "0px"
                })),
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("700ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "visibility": "hidden"
                }))
            ])]),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)("out => in", [(0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.group)([
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("1ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "visibility": "visible"
                })),
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("600ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "max-height": "500px"
                })),
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("800ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "opacity": "1"
                }))
            ])])
    ]),
];


/***/ })

}]);
//# sourceMappingURL=src_app_personnel-setup_personnel-setup_module_ts.js.map