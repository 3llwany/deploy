"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[62],{3710:(j,Z,r)=>{r.d(Z,{r:()=>l});var b=r(94650),P=r(67579),x=r(24280),p=r(80458);let l=(()=>{class c{constructor(y,v){this.viewsService=y,this.router=v,this.loadingService=(0,b.f3M)(P.b),this.UserModules=this.viewsService.UserModules$.getValue(),this.loading=document.getElementById("page-loading")}canActivate(y,v){let g=y.data?.view;if(this.showLoading(),this.UserModules?.length>0){if(this.viewsService.isViewAllowed(g))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}else this.viewsService.UserModules$.subscribe(T=>{if(T?.length>0){if(this.viewsService.isViewAllowed(g))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}})}showLoading(){this.loading.style.display="block",this.loading.style.opacity="1",this.loading.style.zIndex="998"}hideLoading(){this.loading.style.display="none",this.loading.style.opacity="0",this.loading.style.zIndex="0"}}return c.\u0275fac=function(y){return new(y||c)(b.LFG(x.Z),b.LFG(p.F0))},c.\u0275prov=b.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},39062:(j,Z,r)=>{r.r(Z),r.d(Z,{AttendanceSetupModule:()=>Ye});var b=r(36895),P=r(80458),x=r(39709),p=r(30671),l=r(15602),c=r(95751),e=r(94650),y=r(96391),v=r(93410),g=r(46896),T=r(29721),m=r(73546);let V=(()=>{class i extends c.U{constructor(t){super(),this.permissionService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","name","num_Permission_Per_Month","num_Permission_Per_Year","enable_Validation","actions"],this.optionalColomns=["warningInsertAction","stopInsertAction","total_Hour_Per_Permission","total_Hour_Per_Month"]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.permissionService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==l.u.Success){if(0==s.data.length&&t>1)return void this.getList(t-1);this.dataSource=new p.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.name);this.deleteDialog(a).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.permissionService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("permissionTypeRemoved"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(y.l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-permission-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","permissionType","TitleHasGlobalFunc","",3,"globalFunctions"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.permissionService)("actions",a.rowFunctions))},dependencies:[v.I,g.T,T.X,m.a8,m.n5]}),i})();var R=r(73495),X=r(97986),K=r(37343);let $=(()=>{class i extends c.U{constructor(t){super(),this.vacationService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","en_Name","allow_Post","max_Post_Days","offecial_Vaction_Included","actions"],this.optionalColomns=["display_In_Result","variableCode","defaultBalance","day_Off_Included","isRenew","renew_Day","renew_Month","renew_Period","number_of_Earning","isDefault","is_Paid","requestedDayString","maxRelatedBal","deductible_Value","relatedVacationId","relatedVacationPriority","hasAttashment","calculate_Balance","calculate_Balance_By_Contract","number_Days_month","reportOrder","gender"]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.vacationService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType===l.u.Success?(this.dataSource=new p.by((0,X.U)(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta):this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.vacationService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("vacationTypeRemoved"),this.getList(1==this.dataSource.data.length&&this.page.pageIndex>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(K.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vacation-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","vacationType","TitleHasGlobalFunc","",3,"globalFunctions"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.vacationService)("actions",a.rowFunctions))},dependencies:[v.I,g.T,T.X,m.a8,m.n5]}),i})();var d=r(24006),f=r(78937),M=r(25470),L=r(25273),k=r(12613),O=r(61064),ee=r(47383),te=r(52682),ae=r(56500),S=r(57566);function ie(i,o){if(1&i&&e._UZ(0,"app-add-new-btn",40),2&i){const t=e.oxw();e.MGl("url","/attendance-setup/",t.moduleId,"/shifts/add"),e.Q6J("params",t.pageParams)}}function se(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearForm())}),e.qZA()}}let q=(()=>{class i extends c.U{constructor(t){super(),this.shiftsService=t,this.shiftId=0,this.submitted=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.shiftId=Number(t.get("shiftId"))??0}),this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[d.kI.required,f.w.whiteSpace]],en_Name:[null,[d.kI.required,f.w.whiteSpace]],is_Just_Attend:[!1],is_Target:[!1],hour_Number:[null,[d.kI.required,d.kI.min(0)]],ovt_Target_Factor:[null,d.kI.min(0)],ovt_Target_Max_Limit:[null,d.kI.min(0)],delay_Tolerance:[null,d.kI.min(0)],across_Mid_Night:[!1],isNight:[!1],is_DefaultAttend:[!1],calc_Delay_From:[null],calc_Departure_From:[null],start_Time_Lower_Limit:[null],start_Time_Upper_Limit:[null],end_Time_Lower_Limit:[null],end_Time_Upper_Limit:[null],start_Time:[null],end_Time:[null]},{validator:[f.w.timeAfter("end_Time","start_Time"),f.w.timeBefore("start_Time_Lower_Limit","start_Time"),f.w.timeBefore("start_Time_Lower_Limit","end_Time"),f.w.timeAfter("calc_Departure_From","calc_Delay_From"),f.w.timeAfter("calc_Delay_From","start_Time"),f.w.timeBefore("calc_Departure_From","end_Time"),f.w.timeAfter("start_Time_Upper_Limit","start_Time_Lower_Limit"),f.w.timeAfter("end_Time_Upper_Limit","end_Time_Lower_Limit"),f.w.timeAfter("end_Time_Upper_Limit","end_Time"),f.w.timeAfter("start_Time_Upper_Limit","start_Time"),f.w.timeBefore("start_Time_Upper_Limit","end_Time")]}),this.formCtrls.start_Time.valueChanges.subscribe(t=>{this.calcHourNumber()}),this.formCtrls.end_Time.valueChanges.subscribe(t=>{this.calcHourNumber()})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.shiftId>0&&this.getShiftsById()}onchangeJustAttend(t){["hour_Number","ovt_Target_Factor","ovt_Target_Max_Limit","across_Mid_Night","delay_Tolerance","isNight","is_DefaultAttend","end_Time","calc_Delay_From","calc_Departure_From","start_Time"].forEach(n=>{t?(this.formCtrls.is_Target.setValue(!1),this.form.get(n).disable(),this.form.get(n).reset()):this.form.get(n).enable()})}onchangeTarget(t){["start_Time","end_Time","calc_Delay_From","calc_Departure_From","isNight","is_DefaultAttend"].forEach(n=>{t?(this.formCtrls.is_Just_Attend.setValue(!1),this.form.get(n).disable(),this.form.get(n).reset(),this.formCtrls.hour_Number.enable(),this.formCtrls.ovt_Target_Max_Limit.enable(),this.formCtrls.ovt_Target_Factor.enable(),this.formCtrls.across_Mid_Night.enable(),this.formCtrls.delay_Tolerance.enable()):this.form.get(n).enable()})}calcHourNumber(){this.formCtrls?.hour_Number?.disable();let t=new Date("01/01/2000 "+this.formCtrls.start_Time.value),a=new Date("01/01/2000 "+this.formCtrls.end_Time.value);var n=t.getHours(),s=a.getHours(),E=t.getMinutes();let W=s-n+(a.getMinutes()-E)/60;this.formCtrls.hour_Number.setValue(W||null)}changeStartTimeUpperLimit(){this.formCtrls.end_Time_Lower_Limit.disable();let t=new Date("01/01/2000 "+this.formCtrls.start_Time_Upper_Limit.value);t.setSeconds(t.getSeconds()+1);var a=t.toTimeString().split(" ")[0];this.formCtrls.end_Time_Lower_Limit.setValue(a),this.formCtrls.end_Time_Lower_Limit.disable()}submit(){if(this.submitted=!0,this.form.valid){const t={id:this.formCtrls.id.value,ar_Name:this.formCtrls.ar_Name.value,en_Name:this.formCtrls.en_Name.value,start_Time:this.formCtrls.start_Time.value,end_Time:this.formCtrls.end_Time.value,across_Mid_Night:this.formCtrls.across_Mid_Night.value??!1,is_Target:this.formCtrls.is_Target.value??!1,ovt_Target_Factor:this.formCtrls.ovt_Target_Factor.value,delay_Tolerance:this.formCtrls.delay_Tolerance.value,calc_Delay_From:this.formCtrls.calc_Delay_From.value,calc_Departure_From:this.formCtrls.calc_Departure_From.value,is_Just_Attend:this.formCtrls.is_Just_Attend.value??!1,is_DefaultAttend:this.formCtrls.is_DefaultAttend.value??!1,hour_Number:this.formCtrls.hour_Number.value,isNight:this.formCtrls.isNight.value??!1,ovt_Target_Max_Limit:this.formCtrls.ovt_Target_Max_Limit.value,start_Time_Lower_Limit:this.formCtrls.start_Time_Lower_Limit.value,start_Time_Upper_Limit:this.formCtrls.start_Time_Upper_Limit.value,end_Time_Lower_Limit:this.formCtrls.end_Time_Lower_Limit.value,end_Time_Upper_Limit:this.formCtrls.end_Time_Upper_Limit.value};0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.shiftsService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newShiftAdded"),this.shiftId=a.data.id,this.formCtrls.id.setValue(this.shiftId),this.navigateTo(`/attendance-setup/${this.moduleId}/shifts/edit/${this.shiftId}`)):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.shiftsService.update(t).subscribe(a=>{a.message.messageType==l.u.Success?(this.shiftId=a.data.id,this.updateSuccessfullyMsg("shiftUpdated")):this.errorList(a?.message?.messages),this.hideLoading()})}getShiftsById(){this.shiftsService.getById(this.shiftId).subscribe(t=>{t.message.messageType==l.u.Success&&this.form.patchValue(t.data[0])})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(M.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-shifts"]],features:[e.qOj],decls:58,vars:46,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","shifts","editTitle","editShifts",3,"id"],["label","addshifts",3,"url","params",4,"ngIf"],[3,"url","params"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","ar_Name",3,"control","submitted"],["label","en_Name",3,"control","submitted"],[1,"row","mb-2"],[1,"col-md-6","col-6"],["label","is_Just_Attend",3,"control","onChange"],["label","is_Target",3,"control","onChange"],[1,"row","mt-3"],[1,"col-md-3","col-12"],["label","hour_Number","type","number",3,"control","submitted","disabled"],["type","number","label","ovtTargetFactor",3,"control","submitted","disabled"],["type","number","label","ovtTargetMaxLimit",3,"control","submitted","disabled"],[1,"col-md-3","col-6"],["label","delay_Tolerance","type","number",3,"control","submitted","disabled"],[1,"row","mt-2"],[1,"col-md-4","col-6"],["label","acrossMidNight",3,"control"],[1,"col-md-4","col-12"],["label","isNight",3,"control"],[1,"col-md-4"],["label","is_DefaultAttend",3,"control"],["label","start_Time",3,"control","submitted"],["label","end_Time",3,"control","submitted"],["label","calc_Delay_From",3,"control","submitted"],["label","calc_Departure_From",3,"control","submitted"],["label","start_Time_Lower_Limit",3,"control","submitted"],["label","start_Time_Upper_Limit",3,"control","submitted","change"],["label","end_Time_Lower_Limit",3,"control","submitted","disabled"],["label","end_Time_Upper_Limit",3,"control","submitted"],["align","end",1,"m-2"],[3,"id","onClick"],[3,"click",4,"ngIf"],["label","addshifts",3,"url","params"],[3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.YNc(5,ie,1,2,"app-add-new-btn",4),e._UZ(6,"app-back-btn",5),e.qZA(),e.TgZ(7,"mat-card-content",6)(8,"form",7)(9,"div",0)(10,"div",8),e._UZ(11,"app-input",9),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"app-input",10),e.qZA()(),e.TgZ(14,"div",11)(15,"div",12)(16,"app-check-box",13),e.NdJ("onChange",function(s){return a.onchangeJustAttend(s)}),e.qZA()(),e.TgZ(17,"div",12)(18,"app-check-box",14),e.NdJ("onChange",function(s){return a.onchangeTarget(s)}),e.qZA()()(),e.TgZ(19,"div",15)(20,"div",16),e._UZ(21,"app-input",17),e.qZA(),e.TgZ(22,"div",16),e._UZ(23,"app-input",18),e.qZA(),e.TgZ(24,"div",16),e._UZ(25,"app-input",19),e.qZA(),e.TgZ(26,"div",20),e._UZ(27,"app-input",21),e.qZA()(),e.TgZ(28,"div",22)(29,"div",23),e._UZ(30,"app-check-box",24),e.qZA(),e.TgZ(31,"div",25),e._UZ(32,"app-check-box",26),e.qZA(),e.TgZ(33,"div",27),e._UZ(34,"app-check-box",28),e.qZA()(),e.TgZ(35,"div",22)(36,"div",8),e._UZ(37,"app-timepicker",29),e.qZA(),e.TgZ(38,"div",8),e._UZ(39,"app-timepicker",30),e.qZA()(),e.TgZ(40,"div",22)(41,"div",8),e._UZ(42,"app-timepicker",31),e.qZA(),e.TgZ(43,"div",8),e._UZ(44,"app-timepicker",32),e.qZA()(),e.TgZ(45,"div",0)(46,"div",8),e._UZ(47,"app-timepicker",33),e.qZA(),e.TgZ(48,"div",8)(49,"app-timepicker",34),e.NdJ("change",function(){return a.changeStartTimeUpperLimit()}),e.qZA()()(),e.TgZ(50,"div",0)(51,"div",8),e._UZ(52,"app-timepicker",35),e.qZA(),e.TgZ(53,"div",8),e._UZ(54,"app-timepicker",36),e.qZA()()()(),e.TgZ(55,"mat-card-actions",37)(56,"submit-btn",38),e.NdJ("onClick",function(){return a.submit()}),e.qZA(),e.YNc(57,se,1,0,"reset-form-btn",39),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("id",a.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",a.shiftId>0),e.xp6(1),e.MGl("url","/attendance-setup/",a.moduleId,"/shifts/index"),e.Q6J("params",a.pageParams),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.ar_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.en_Name)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.is_Just_Attend),e.xp6(2),e.Q6J("control",a.formCtrls.is_Target),e.xp6(3),e.Q6J("control",a.formCtrls.hour_Number)("submitted",a.submitted)("disabled",!a.formCtrls.is_Target.value),e.xp6(2),e.Q6J("control",a.formCtrls.ovt_Target_Factor)("submitted",a.submitted)("disabled",a.formCtrls.is_Just_Attend.value),e.xp6(2),e.Q6J("control",a.formCtrls.ovt_Target_Max_Limit)("submitted",a.submitted)("disabled",a.formCtrls.is_Just_Attend.value),e.xp6(2),e.Q6J("control",a.formCtrls.delay_Tolerance)("submitted",a.submitted)("disabled",!0)("disabled",a.formCtrls.is_Just_Attend.value),e.xp6(3),e.Q6J("control",a.formCtrls.across_Mid_Night),e.xp6(2),e.Q6J("control",a.formCtrls.isNight),e.xp6(2),e.Q6J("control",a.formCtrls.is_DefaultAttend),e.xp6(3),e.Q6J("control",a.formCtrls.start_Time)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.end_Time)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.calc_Delay_From)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.calc_Departure_From)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.start_Time_Lower_Limit)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.start_Time_Upper_Limit)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.end_Time_Lower_Limit)("submitted",a.submitted)("disabled",!0),e.xp6(2),e.Q6J("control",a.formCtrls.end_Time_Upper_Limit)("submitted",a.submitted),e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",a.formCtrls.id.value>0))},dependencies:[b.O5,L.a,k.u,O.a,ee.E,te.J,ae.J,S.p,g.T,m.a8,m.dn,m.n5,m.hq,d._Y,d.JL,d.sg]}),i})();var C=r(35478);let oe=(()=>{class i extends c.U{constructor(t){super(),this.shiftsService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","start_Time","end_Time","isNight","is_Just_Attend","actions"],this.optionalColomns=["end_Time_Lower_Limit","end_Time_Upper_Limit","calc_Delay_From","calc_Departure_From","is_Target","ovt_Target_Factor","ovt_Target_Max_Limit","start_Time_Lower_Limit","start_Time_Upper_Limit","delay_Tolerance","hour_Number","is_DefaultAttend","shift_Type_ID"],this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.shiftsService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==l.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new p.by(function ne(i){return i.map(o=>({...o,start_Time:C.M6.mapTime(o.start_Time),end_Time:C.M6.mapTime(o.end_Time),start_Time_Lower_Limit:C.M6.mapTime(o.start_Time_Lower_Limit),start_Time_Upper_Limit:C.M6.mapTime(o.start_Time_Upper_Limit),end_Time_Lower_Limit:C.M6.mapTime(o.end_Time_Lower_Limit),end_Time_Upper_Limit:C.M6.mapTime(o.end_Time_Upper_Limit),calc_Departure_From:C.M6.mapTime(o.calc_Departure_From),calc_Delay_From:C.M6.mapTime(o.calc_Delay_From)}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages);this.hideLoading()})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.shiftsService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("shiftRemoved"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}downloadRuleEngine(t){"downloadRuleEngine"==t.name&&window.open(this.shiftsService.downloadRuleEngine())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(M.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-shifts-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","shifts","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(s){return a.downloadRuleEngine(s)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.shiftsService)("actions",a.rowFunctions))},dependencies:[v.I,g.T,T.X,m.a8,m.n5]}),i})();var I=r(86280);let de=(()=>{class i extends c.U{constructor(t){super(),this.planService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","actions"],this.optionalColomns=["start_date","end_date","group_Days","description"],this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.planService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==l.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new p.by(function re(i){return i.map(o=>({...o,start_date:C.M6.mapDate(o.start_Date),end_date:C.M6.mapDate(o.end_Date)}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages);this.hideLoading()})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.planService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg("attendancePlanRemoved")):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-plan-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","attendance_Plans","TitleHasGlobalFunc","",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","exportService","actions","dataSource","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.planService)("actions",a.rowFunctions)("dataSource",a.dataSource))},dependencies:[v.I,g.T,T.X,m.a8,m.n5]}),i})();var Q=r(32521),w=r(43949),A=r(18521);let me=(()=>{class i extends A.K{constructor(){super()}create(t){return this.post("AttendanceSetup/AttendancePeriodSetup/Create",t)}update(t){return this.post("AttendanceSetup/AttendancePeriodSetup/Edit",t)}getObject(){return this.get("AttendanceSetup/AttendancePeriodSetup/GetObject")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ce=(()=>{class i extends c.U{constructor(t){super(),this.periodSetupServ=t,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNallable:!0}],startDay:[null,[d.kI.required,w.dN.lte(31),w.dN.gt(0)]],startMonth:[null,[d.kI.required,w.dN.lte(12),w.dN.gt(0)]]})}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.getObject()}get formCtrls(){return this.form.controls}create(t){this.showLoading(),this.periodSetupServ.create(t).subscribe(a=>{a.message.messageType==l.u.Success?this.addSuccessfullyMsg("newAttendancePeriodAdded"):this.errorList(a?.message?.messages),this.hideLoading()})}submit(){if(this.form.valid){const t={month_setup:{id:this.form.value.id,startDay:this.form.value.startDay,startMonth:this.form.value.startMonth}};0==t.month_setup.id?this.create(t):this.update(t)}}update(t){this.showLoading(),this.periodSetupServ.update(t).subscribe(a=>{a.message.messageType==l.u.Success?this.updateSuccessfullyMsg("attendancePeriodUpdated"):this.errorList(a?.message?.messages),this.hideLoading()})}getObject(){this.showLoading(),this.periodSetupServ.getObject().subscribe(t=>{t.message.messageType==l.u.Success?this.form.patchValue(t.data.month_setup):this.errorList(t?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(me))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-period"]],features:[e.qOj],decls:14,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","attendancePeriod","editTitle","editattendancePeriod",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-4","col-12"],["type","number","label","startDay",3,"control","submitted"],["type","number","label","startMonth",3,"control","submitted"],["align","end"],[3,"id","onClick"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"form",5)(7,"div",0)(8,"div",6),e._UZ(9,"app-input",7),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"app-input",8),e.qZA()()()(),e.TgZ(12,"mat-card-actions",9)(13,"submit-btn",10),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("id",a.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.startDay)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.startMonth)("submitted",a.submitted),e.xp6(2),e.Q6J("id",a.formCtrls.id.value))},dependencies:[L.a,S.p,g.T,m.a8,m.dn,m.n5,m.hq,d._Y,d.JL,d.sg]}),i})(),pe=(()=>{class i extends A.K{constructor(){super()}create(t){return this.post("AttendanceSetup/AttendancePenaltyDeductionSetup/Create",t)}update(t){return this.post("AttendanceSetup/AttendancePenaltyDeductionSetup/Edit",t)}getObject(){return this.get("AttendanceSetup/AttendancePenaltyDeductionSetup/GetObject")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ue=(()=>{class i extends c.U{constructor(t){super(),this.penaltySetupServ=t,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNallable:!0}],maxDeductionLimitDays:[null,[w.dN.gt(0)]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.getObject()}getObject(){this.showLoading(),this.penaltySetupServ.getObject().subscribe(t=>{t.message.messageType==l.u.Success?this.form.patchValue(t.data):this.errorList(t?.message?.messages),this.hideLoading()})}submit(){if(this.form.valid){const t={id:this.form.value.id,maxDeductionLimitDays:this.form.value.maxDeductionLimitDays};0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.penaltySetupServ.create(t).subscribe(a=>{a.message.messageType==l.u.Success?this.addSuccessfullyMsg("newAttendancePenaltySetupAdded"):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.penaltySetupServ.update(t).subscribe(a=>{a.message.messageType==l.u.Success?this.updateSuccessfullyMsg("attendancePenaltySetupUpdated"):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(pe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-penalty-setup"]],features:[e.qOj],decls:12,vars:5,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","attendancePenaltySetup","editTitle","editattendancePenaltySetup",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["type","number","label","maxDeductionLimitDays",3,"control","submitted"],["align","end"],[3,"id","onClick"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"form",5)(7,"div",0)(8,"div",6),e._UZ(9,"app-input",7),e.qZA()()()(),e.TgZ(10,"mat-card-actions",8)(11,"submit-btn",9),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("id",a.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.maxDeductionLimitDays)("submitted",a.submitted),e.xp6(2),e.Q6J("id",a.formCtrls.id.value))},dependencies:[L.a,S.p,g.T,m.a8,m.dn,m.n5,m.hq,d._Y,d.JL,d.sg]}),i})();var J=r(6782);let he=(()=>{class i extends c.U{constructor(t){super(),this.planService=t}ngOnInit(){}submit(t){delete t.plan.description,delete t.plan.group_Days,delete t.Att_Plan_ShiftList,t.plan.id&&this.create(t)}create(t){this.showLoading(),this.planService.createShrink(t).subscribe(a=>{a?.message?.messageType==l.u.Success?this.updateSuccessfullyMsg("shrinkUpdated"):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-shrink"]],features:[e.qOj],decls:1,vars:2,consts:[["pageTitle","shrink",3,"showDaysTable","disabelControls","onSubmit"]],template:function(t,a){1&t&&(e.TgZ(0,"app-plan-form",0),e.NdJ("onSubmit",function(s){return a.submit(s)}),e.qZA()),2&t&&e.Q6J("showDaysTable",!1)("disabelControls",!0)},dependencies:[J.d]}),i})(),ge=(()=>{class i extends c.U{constructor(t){super(),this.planService=t}ngOnInit(){}submit(t){delete t.plan.description,delete t.plan.group_Days,delete t.Att_Plan_ShiftList,t.plan.id&&this.create(t)}create(t){this.showLoading(),this.planService.createExtendWithoutChange(t).subscribe(a=>{a?.message?.messageType==l.u.Success?this.updateSuccessfullyMsg("extendWithoutChangeUpdated"):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-extendwithoutchange"]],features:[e.qOj],decls:1,vars:2,consts:[["pageTitle","extendWithoutChange",3,"showDaysTable","disabelControls","onSubmit"]],template:function(t,a){1&t&&(e.TgZ(0,"app-plan-form",0),e.NdJ("onSubmit",function(s){return a.submit(s)}),e.qZA()),2&t&&e.Q6J("showDaysTable",!1)("disabelControls",!0)},dependencies:[J.d]}),i})(),fe=(()=>{class i extends c.U{constructor(t){super(),this.planService=t}ngOnInit(){}submit(t){t?.plan?.id>=0&&this.create(t)}create(t){this.showLoading(),this.planService.createExtendWithChange(t).subscribe(a=>{a?.message?.messageType==l.u.Success?this.updateSuccessfullyMsg("extndWithChangeUpdated"):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-extendwithchange"]],features:[e.qOj],decls:1,vars:2,consts:[["pageTitle","extendWithChange",3,"disabelControls","isExtendWithChange","onSubmit"]],template:function(t,a){1&t&&(e.TgZ(0,"app-plan-form",0),e.NdJ("onSubmit",function(s){return a.submit(s)}),e.qZA()),2&t&&e.Q6J("disabelControls",!0)("isExtendWithChange",!0)},dependencies:[J.d]}),i})();var F=r(37084),_e=r(17489),ve=r(1997),Ce=r(49274);function be(i,o){if(1&i&&(e.TgZ(0,"div",2)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA()(),e._UZ(7,"app-material-table",9),e.qZA()()),2&i){const t=o.$implicit,a=e.oxw(2);e.xp6(4),e.AsE(" ",e.lcZ(5,8,e.lcZ(6,10,"iteration"))," ",t.key," "),e.xp6(3),e.Q6J("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("showPaginator",!1)("showFilter",!1)("showLoader",!1)("dataSource",t.value)}}function Te(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,be,8,12,"div",7),e.ALo(2,"keyvalue"),e.TgZ(3,"p-paginator",8),e.NdJ("onPageChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.getPlansDetailsById(n.page+1,n.rows))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,9,t.groupedPlans,t.iterationNumberAscending)),e.xp6(2),e.Q6J("rows",t.page.pageSize)("totalRecords",t.page.length)("rowsPerPageOptions",t.page.pageSizeOptions)("pageLinkSize",t.page.numberOfNavs)("showJumpToPageDropdown",!0)("showJumpToPageInput",!1)("first",(t.page.pageIndex-1)*t.page.pageSize)("currentPageReportTemplate",t.primeCurrentPageReport())}}function Se(i,o){1&i&&e._UZ(0,"p-skeleton",11)}const ye=function(){return[]};function Le(i,o){1&i&&(e.TgZ(0,"div"),e.YNc(1,Se,1,0,"p-skeleton",10),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,ye).constructor(5)))}let Ae=(()=>{class i extends c.U{constructor(t){super(),this.planServ=t,this.groupedPlans={},this.mandatoryColomns=["date","dayName","is_Basic","is_WeekEnd"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.planId=t.planId}),this.page.pageSize=50,this.getPlansDetailsById(this.firstPage)}getPlansDetailsById(t,a){this.isLoaded=!1,this.groupedPlans={},this.page.pageIndex=t,a&&(this.page.pageSize=a),this.planServ.getDetailsById({PageNumber:t,pageSize:this.page.pageSize},this.planId).pipe(this.cancelRequest()).subscribe(s=>{s?.message?.messageType==l.u.Success?(this.groupedPlans=this.groupPlansByIterationNumber(function le(i){return i.map(o=>({...o,dayName:C.M6.getDayName(new Date(o.date)),date:C.M6.mapDate(o.date)}))}(s.data)),this.page.length=s.meta.totalItemCount,this.page.meta=s.meta,this.isLoaded=!0):this.errorList(s?.message?.messages)})}iterationNumberAscending(t,a){return t.key-a.key}groupPlansByIterationNumber(t){let a={};for(let n of t){let s=n.iterationNumber;a[s]||(a[s]=[]),a[s].push(n)}return a}primeCurrentPageReport(){return`${this.page.pageIndex}\n     ${this.languageService.translate("of")}\n     ${this.page?.meta?.pageCount||Math.ceil(this.page.length/this.page.pageSize)}`}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-plan-details"]],inputs:{planId:"planId"},features:[e.qOj],decls:10,vars:4,consts:[[1,"row"],[1,"col-12"],[1,"mb-2"],["title","attendancePlansDetails"],[3,"url","params"],[4,"ngIf","ngIfElse"],["loading",""],["class","mb-2",4,"ngFor","ngForOf"],["styleClass","justify-content-center",3,"rows","totalRecords","rowsPerPageOptions","pageLinkSize","showJumpToPageDropdown","showJumpToPageInput","first","currentPageReportTemplate","onPageChange"],[3,"mandatoryColomns","optionalColomns","showPaginator","showFilter","showLoader","dataSource"],["styleClass","mb-2","borderRadius","10px","height","80px",4,"ngFor","ngForOf"],["styleClass","mb-2","borderRadius","10px","height","80px"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"div"),e._UZ(5,"page-title",3)(6,"app-back-btn",4),e.qZA()()(),e.YNc(7,Te,4,12,"ng-container",5),e.YNc(8,Le,2,2,"ng-template",null,6,e.W1O),e.qZA()()),2&t){const n=e.MAs(9);e.xp6(6),e.MGl("url","/attendance-setup/",a.moduleId,"/plan/index"),e.Q6J("params",a.pageParams),e.xp6(1),e.Q6J("ngIf",a.isLoaded)("ngIfElse",n)}},dependencies:[b.sg,b.O5,v.I,O.a,g.T,m.a8,m.n5,F.ib,F.yz,F.yK,_e.O,ve.D,b.rS,b.Nd,Ce.X$]}),i})();var N=r(36162),u=r(74513),h=r(3710),_=r(65938);let H=(()=>{class i extends A.K{constructor(){super()}create(t){return this.post("AttendanceSetup/AttDevice/Create",t)}update(t){return this.post("AttendanceSetup/AttDevice/Edit",t)}getList(t){return this.get("AttendanceSetup/AttDevice/GetList",{params:t})}getAll(){return this.get("AttendanceSetup/AttDevice/GetAll")}Delete(t){return this.delete("AttendanceSetup/AttDevice/Delete",{params:{Id:t}})}exportExcel(){this.getAll()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var D=r(26873);let Ie=(()=>{class i extends c.U{constructor(t,a,n){super(),this.attendanceDeviceService=t,this.dialogRef=a,this.data=n,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],name:[null,[d.kI.required,f.w.whiteSpace]],machineIP:[null,[d.kI.required,f.w.whiteSpace]]}),null!=this.data&&this.attendanceDeviceTOEdit(this.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={ID:this.form.value.id,Name:this.form.value.name,MachineIP:this.form.value.machineIP};0==t.ID?this.create(t):this.update(t)}}create(t){this.showLoading(),this.attendanceDeviceService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newDeviceAdded"),this.dialogRef.close({isUpdate:!0})):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.attendanceDeviceService.update(t).subscribe(a=>{a.message.messageType==l.u.Success?(this.updateSuccessfullyMsg("updateDevice","successfulEdit"),this.dialogRef.close({isUpdate:!0})):this.errorList(a?.message?.messages),this.hideLoading()})}attendanceDeviceTOEdit(t){this.form.patchValue(t)}clearForm(){this.form.reset({id:0}),this.submitted=!1}onCloseDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(H),e.Y36(_.so),e.Y36(_.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-device"]],features:[e.qOj],decls:15,vars:7,consts:[["mat-dialog-title","",1,"primary-color","font-size-20","m-0","ml-3"],["parentTitle","attendanceDevices","addTitle","add","editTitle","update",1,"d-inline-block","mtop-10",3,"id"],[1,"container-fluid","mx-0","h-100","mtop-2"],["dialogContainer",""],[3,"formGroup"],[1,"row"],[1,"col-md-12","col-12"],["label","name",3,"control","submitted"],["label","machineIP",3,"control","submitted"],["align","end"],[3,"click"],[3,"id","onClick"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._UZ(2,"page-title",1),e.qZA()(),e.TgZ(3,"mat-dialog-content",2,3)(5,"form",4,3)(7,"div",5)(8,"div",6),e._UZ(9,"app-input",7),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"app-input",8),e.qZA()()(),e.TgZ(12,"mat-card-actions",9)(13,"discard-dialog-btn",10),e.NdJ("click",function(){return a.onCloseDialog()}),e.qZA(),e.TgZ(14,"submit-btn",11),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(3),e.Q6J("formGroup",a.form),e.xp6(4),e.Q6J("control",a.formCtrls.name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.machineIP)("submitted",a.submitted),e.xp6(3),e.Q6J("id",a.formCtrls.id.value))},dependencies:[L.a,S.p,g.T,D.E,m.hq,_.uh,_.xY,d._Y,d.JL,d.sg]}),i})(),we=(()=>{class i extends c.U{constructor(t){super(),this.attendanceDeviceService=t,this.mandatoryColomns=["Ser","name","machineIP","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.attendanceDeviceService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==l.u.Success?(this.dataSource=new p.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta):this.errorList(s?.message?.messages)})}onDelete(t){this.deleteDialog(t.name).subscribe(a=>{a&&this.delete(t)})}delete(t){this.showLoading(),this.attendanceDeviceService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("deleteDevice","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}openAddDeviceDialog(t){this.dialogsService.addEditDialog(Ie,t,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(a=>{a?.isUpdate&&this.getList(this.firstPage)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(H))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-device-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","attendanceDevices","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return a.openAddDeviceDialog(null)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("editRow",function(s){return a.openAddDeviceDialog(s)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.attendanceDeviceService)("actions",a.rowFunctions))},dependencies:[v.I,g.T,T.X,m.a8,m.n5]}),i})();var U=r(26315);let z=(()=>{class i extends A.K{constructor(){super()}create(t){return this.post("AttendanceSetup/Element/Create",t)}update(t){return this.post("AttendanceSetup/Element/Edit",t)}getList(t){return this.get("AttendanceSetup/Element/GetList",{params:{...t,$expand:`${U.db.Att_Attendance_Element},${U.db.PAY_Variable}`}})}getAll(){return this.get("AttendanceSetup/Element/GetAll")}Delete(t){return this.delete("AttendanceSetup/Element/Delete",{params:{Id:t}})}exportExcel(){this.getAll()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ze=(()=>{class i extends c.U{constructor(t,a,n){super(),this.attendanceElementService=t,this.dialogRef=a,this.data=n,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],arName:[null,[d.kI.required,f.w.whiteSpace]],name:[null,[d.kI.required,f.w.whiteSpace]],code:[null,[d.kI.required]],display_In_Result:[!1]}),null!=this.data&&this.attendanceElementToEdit(this.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={element:{id:this.form.value.id,en_Name:this.form.value.name,ar_Name:this.form.value.arName,code:this.form.value.code},display_In_Result:this.form.value.display_In_Result};0==t.element.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.attendanceElementService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","addElement"),this.dialogRef.close({isUpdate:!0})):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.attendanceElementService.update(t).subscribe(a=>{a.message.messageType==l.u.Success?(this.updateSuccessfullyMsg("updateElement","successfulEdit"),this.dialogRef.close({isUpdate:!0})):this.errorList(a?.message?.messages),this.hideLoading()})}attendanceElementToEdit(t){this.form.patchValue(t)}clearForm(){this.form.reset({id:0,display_In_Result:!1}),this.submitted=!1}onCloseDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z),e.Y36(_.so),e.Y36(_.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-element"]],features:[e.qOj],decls:19,vars:10,consts:[["mat-dialog-title","",1,"primary-color","font-size-20","m-0","ml-3"],["parentTitle","attendance_Element","addTitle","add","editTitle","update",1,"d-inline-block","mtop-10",3,"id"],[1,"container-fluid","mx-0","h-100","mtop-2"],["dialogContainer",""],[3,"formGroup"],[1,"row"],[1,"col-md-12","col-12"],["label","ar_Name",3,"control","submitted"],["label","en name",3,"control","submitted"],["label","code",3,"control","submitted"],[1,"col-md-12","col-12","align-text-center"],["label","display_In_Result",3,"control"],["align","end"],[3,"click"],[3,"id","onClick"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._UZ(2,"page-title",1),e.qZA()(),e.TgZ(3,"mat-dialog-content",2,3)(5,"form",4)(6,"div",5)(7,"div",6),e._UZ(8,"app-input",7),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"app-input",8),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"app-input",9),e.qZA()(),e.TgZ(13,"div",5)(14,"div",10),e._UZ(15,"app-check-box",11),e.qZA()()(),e.TgZ(16,"mat-card-actions",12)(17,"discard-dialog-btn",13),e.NdJ("click",function(){return a.onCloseDialog()}),e.qZA(),e.TgZ(18,"submit-btn",14),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(3),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.arName)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.code)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.display_In_Result),e.xp6(3),e.Q6J("id",a.formCtrls.id.value))},dependencies:[L.a,k.u,S.p,g.T,D.E,m.hq,_.uh,_.xY,d._Y,d.JL,d.sg]}),i})(),Pe=(()=>{class i extends c.U{constructor(t){super(),this.attendanceElementService=t,this.mandatoryColomns=["Ser","id","arName","name","code","actions"],this.optionalColomns=["display_In_Result"],this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.attendanceElementService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==l.u.Success?(this.dataSource=new p.by(function De(i){return i.map(o=>({...o,arName:o.att_Attendance_Element?.ar_Name,name:o.att_Attendance_Element?.en_Name,code:o.att_Attendance_Element?.code,id:o.att_Attendance_Element?.id,display_In_Result:o.paY_Variable?.display_In_Result}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta):this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.arName,t.name);this.deleteDialog(a).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.attendanceElementService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("deleteElement","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}openAddElementDialog(t){this.dialogsService.addEditDialog(Ze,t,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(a=>{a?.isUpdate&&this.getList(this.firstPage)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-element-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","attendance_Element","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","deleteRow","editRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return a.openAddElementDialog(null)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)})("editRow",function(s){return a.openAddElementDialog(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.attendanceElementService)("actions",a.rowFunctions))},dependencies:[v.I,g.T,T.X,m.a8,m.n5]}),i})();var xe=r(84120),Ne=r(43747);let Oe=(()=>{class i extends c.U{constructor(t){super(),this.locationService=t,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.locationService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==l.u.Success?(this.dataSource=new p.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta):this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.locationService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("deleteLocation","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages)})}openLocationDialog(t){this.dialogsService.addEditDialog(xe.t,{data:t},{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(a=>{a?.isUpdate&&this.getList(this.firstPage)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ne.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-location-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","location","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","exportService","onChangePage","editRow","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return a.openLocationDialog(null)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("editRow",function(s){return a.openLocationDialog(s)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions)("exportService",a.locationService))},dependencies:[v.I,g.T,T.X,m.a8,m.n5]}),i})(),Y=(()=>{class i extends A.K{constructor(){super()}create(t){return this.post("AttendanceSetup/OverTimeType/Create",t)}update(t){return this.post("AttendanceSetup/OverTimeType/Edit",t)}getList(t){return this.get("AttendanceSetup/OverTimeType/GetList",{params:t})}getAll(){return this.get("AttendanceSetup/OverTimeType/GetAll")}Delete(t){return this.delete("AttendanceSetup/OverTimeType/Delete",{params:{Id:t}})}exportExcel(){this.getAll()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Je=(()=>{class i extends c.U{constructor(t,a,n){super(),this.overTimeTypeService=t,this.dialogRef=a,this.data=n,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],name:[null,[d.kI.required,f.w.whiteSpace]],ar_Name:[null,[d.kI.required,f.w.whiteSpace]]}),null!=this.data&&this.attendanceElementToEdit(this.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={ID:this.form.value.id,Ar_Name:this.form.value.ar_Name,Name:this.form.value.name};0==t.ID?this.create(t):this.update(t)}}create(t){this.showLoading(),this.overTimeTypeService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","addOverTime"),this.dialogRef.close({isUpdate:!0})):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.overTimeTypeService.update(t).subscribe(a=>{a.message.messageType==l.u.Success?(this.updateSuccessfullyMsg("updateOverTime","successfulEdit"),this.dialogRef.close({isUpdate:!0})):this.errorList(a?.message?.messages),this.hideLoading()})}attendanceElementToEdit(t){this.form.patchValue(t)}clearForm(){this.form.reset({id:0}),this.submitted=!1}onCloseDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Y),e.Y36(_.so),e.Y36(_.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-over-time-type"]],features:[e.qOj],decls:14,vars:7,consts:[["mat-dialog-title","",1,"primary-color","font-size-20","m-0","ml-3"],["parentTitle","overtimetype","addTitle","add","editTitle","update",1,"d-inline-block","mtop-10",3,"id"],[1,"container-fluid","mx-0","h-100","mtop-2"],["dialogContainer",""],[3,"formGroup"],[1,"row"],[1,"col-md-12","col-12"],["label","name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["align","end"],[3,"click"],[3,"id","onClick"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._UZ(2,"page-title",1),e.qZA()(),e.TgZ(3,"mat-dialog-content",2,3)(5,"form",4)(6,"div",5)(7,"div",6),e._UZ(8,"app-input",7),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"app-input",8),e.qZA()()(),e.TgZ(11,"mat-card-actions",9)(12,"discard-dialog-btn",10),e.NdJ("click",function(){return a.onCloseDialog()}),e.qZA(),e.TgZ(13,"submit-btn",11),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(3),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.ar_Name)("submitted",a.submitted),e.xp6(3),e.Q6J("id",a.formCtrls.id.value))},dependencies:[L.a,S.p,g.T,D.E,m.hq,_.uh,_.xY,d._Y,d.JL,d.sg]}),i})(),Fe=(()=>{class i extends c.U{constructor(t){super(),this.overTimeTypeService=t,this.mandatoryColomns=["Ser","id","name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.overTimeTypeService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==l.u.Success?(this.dataSource=new p.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta):this.errorList(s?.message?.messages)})}onDelete(t){this.deleteDialog(t.name).subscribe(a=>{a&&this.delete(t)})}delete(t){this.showLoading(),this.overTimeTypeService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("deleteOverTime","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}openOverTimeDialog(t){this.dialogsService.addEditDialog(Je,t,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(a=>{a?.isUpdate&&this.getList(this.firstPage)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-over-time-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","overtimetype","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","exportService","onChangePage","editRow","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return a.openOverTimeDialog(null)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("editRow",function(s){return a.openOverTimeDialog(s)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions)("exportService",a.overTimeTypeService))},dependencies:[v.I,g.T,T.X,m.a8,m.n5]}),i})();var B=r(48934);let Ue=(()=>{class i extends c.U{constructor(t,a,n){super(),this.holidayService=t,this.dialogRef=a,this.data=n,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[d.kI.required,f.w.whiteSpace]],en_Name:[null,[d.kI.required,f.w.whiteSpace]]}),null!=this.data&&this.holidayToEdit(this.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={ID:this.form.value.id,Ar_Name:this.form.value.ar_Name,En_Name:this.form.value.en_Name};0==t.ID?this.create(t):this.update(t)}}create(t){this.showLoading(),this.holidayService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","addOfficialHoliday"),this.dialogRef.close({isUpdate:!0})):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.holidayService.update(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.updateSuccessfullyMsg("updateOfficialHoliday","successfulEdit"),this.dialogRef.close({isUpdate:!0})):this.errorList(a?.message?.messages),this.hideLoading()})}holidayToEdit(t){this.form.patchValue(t)}navigateToCalendar(t){this.router.navigate([`attendance-setup/${this.moduleId}/holidays-calendar/${t.id}`])}clearForm(){this.form.reset({id:0}),this.submitted=!1}onCloseDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.b),e.Y36(_.so),e.Y36(_.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-official-holidays"]],features:[e.qOj],decls:14,vars:7,consts:[["mat-dialog-title","",1,"primary-color","font-size-20","m-0","ml-3"],["parentTitle","officialHolidays","addTitle","add","editTitle","update",1,"d-inline-block","mtop-10",3,"id"],[1,"container-fluid","mx-0","h-100","mtop-2"],["dialogContainer",""],[3,"formGroup"],[1,"row"],[1,"col-md-12","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["align","end"],[3,"click"],[3,"id","onClick"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._UZ(2,"page-title",1),e.qZA()(),e.TgZ(3,"mat-dialog-content",2,3)(5,"form",4)(6,"div",5)(7,"div",6),e._UZ(8,"app-input",7),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"app-input",8),e.qZA()()(),e.TgZ(11,"mat-card-actions",9)(12,"discard-dialog-btn",10),e.NdJ("click",function(){return a.onCloseDialog()}),e.qZA(),e.TgZ(13,"submit-btn",11),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(3),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.en_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.ar_Name)("submitted",a.submitted),e.xp6(3),e.Q6J("id",a.formCtrls.id.value))},dependencies:[L.a,S.p,g.T,D.E,m.hq,_.uh,_.xY,d._Y,d.JL,d.sg]}),i})(),Ee=(()=>{class i extends c.U{constructor(t){super(),this.holidayService=t,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.dataSource=new p.by(null),this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.holidayService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==l.u.Success?(this.dataSource=new p.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta):this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.holidayService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("deleteOfficialHoliday","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages)})}openAddOfficialHolidayDialog(t){this.dialogsService.addEditDialog(Ue,t,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(a=>{a?.isUpdate&&this.getList(this.firstPage)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-official-holidays-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","officialHolidays","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","exportService","onChangePage","editRow","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return a.openAddOfficialHolidayDialog(null)}),e.qZA()(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("editRow",function(s){return a.openAddOfficialHolidayDialog(s)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions)("exportService",a.holidayService))},dependencies:[v.I,g.T,T.X,m.a8,m.n5]}),i})(),G=(()=>{class i extends A.K{constructor(){super()}create(t){return this.post("AttendanceSetup/OfficialHolidayCalendar/Create",t)}getList(t,a){return this.get("AttendanceSetup/OfficialHolidayCalendar/GetList",{params:{...t,expand:`${U.db.Att_official_holiday}`,$filter:`officialHolidayID eq ${a}`}})}getAll(){return this.get("AttendanceSetup/OfficialHolidayCalendar/GetAll")}Delete(t,a){return this.delete("AttendanceSetup/OfficialHolidayCalendar/Delete",{params:{OfficialHolidayID:t,HolidayDate:a}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Re=r(70137);let Me=(()=>{class i extends c.U{constructor(t,a,n){super(),this.calendarService=t,this.dialogRef=a,this.OfficialHolidayId=n,this.submitted=!1}ngOnInit(){this.form=this.fb.group({date:[null,[d.kI.required]]})}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={officialHolidayID:this.OfficialHolidayId,holiday_Date:C.M6.mapDateReverse(this.form.value.date)};this.create(t)}}create(t){this.showLoading(),this.calendarService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","addHolidaysCalendar"),this.dialogRef.close({isUpdate:!0})):this.errorList(a?.message?.messages),this.hideLoading()})}onCloseDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G),e.Y36(_.so),e.Y36(_.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-holiday-calender"]],features:[e.qOj],decls:11,vars:4,consts:[["mat-dialog-title","",1,"primary-color","font-size-20","m-0","ml-3"],["parentTitle","holidaysCalendar","title","add",1,"d-inline-block","mtop-10",3,"id"],[1,"container-fluid","mx-0","h-100","mtop-2"],["dialogContainer",""],[3,"formGroup"],[1,"row"],[1,"col-md-12","col-12"],["label","date",3,"control","submitted"],["align","end"],[3,"click"],[3,"onClick"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"page-title",1),e.qZA(),e.TgZ(2,"mat-dialog-content",2,3)(4,"form",4)(5,"div",5)(6,"div",6),e._UZ(7,"app-datepicker",7),e.qZA()()(),e.TgZ(8,"mat-card-actions",8)(9,"discard-dialog-btn",9),e.NdJ("click",function(){return a.onCloseDialog()}),e.qZA(),e.TgZ(10,"submit-btn",10),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("id",0),e.xp6(3),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.date)("submitted",a.submitted))},dependencies:[Re.Q,S.p,g.T,D.E,m.hq,_.uh,_.xY,d._Y,d.JL,d.sg]}),i})();const Qe=[{path:"attendance-devices",component:we,data:{view:u.S.device_index},canActivate:[h.r]},{path:"official-holidays",component:Ee,data:{view:u.S.official_holidays},canActivate:[h.r]},{path:"holidays-calendar/:id",component:(()=>{class i extends c.U{constructor(t){super(),this.calendarService=t,this.mandatoryColomns=["Ser","en_Name","ar_Name","date","actions"],this.isLoaded=!1,this.optionalColomns=[],this.activatedRoute.params.subscribe(a=>{this.OfficialHolidayId=Number(a.id)})}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new p.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.dataSource=new p.by(null),this.page.pageIndex=t,a&&(this.page.pageSize=a),this.calendarService.getList({PageNumber:t,pageSize:this.page.pageSize},this.OfficialHolidayId).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==l.u.Success){const E=function ke(i){return i.map(o=>({...o,id:o?.officialHolidayID,en_Name:o.att_Official_Holiday?.ar_Name,ar_Name:o.att_Official_Holiday?.en_Name,date:C.M6.mapDateReverse(o.holiday_Date)}))}(s.data);this.dataSource=new p.by(E),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}onDelete(t){let a=`${this.msgTranslate(t.ar_Name,t.en_Name)} - ${t.date}`;this.deleteDialog(a).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.calendarService.Delete(t.id,t.date).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("deleteHolidaysCalendar","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages)})}openAddOfficialHolidayDialog(){this.dialogsService.addEditDialog(Me,this.OfficialHolidayId,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(t=>{t?.isUpdate&&this.getList(this.firstPage)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-holiday-calender-index"]],features:[e.qOj],decls:7,vars:9,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","holidaysCalendar",3,"globalFunctions","action"],[1,"mt-0",3,"url","params"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),e.NdJ("action",function(){return a.openAddOfficialHolidayDialog()}),e.qZA(),e._UZ(5,"app-back-btn",4),e.qZA(),e.TgZ(6,"app-material-table",5),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",a.subGlobalFunctions),e.xp6(1),e.MGl("url","/attendance-setup/",a.moduleId,"/official-holidays"),e.Q6J("params",a.pageParams),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions))},dependencies:[v.I,O.a,g.T,m.a8,m.n5]}),i})(),data:{view:u.S.holidays_calendar},canActivate:[h.r]},{path:"location",component:Oe,data:{view:u.S.location_index},canActivate:[h.r]},{path:"attendance-element",component:Pe,data:{view:u.S.element_index},canActivate:[h.r]},{path:"over-time-type",component:Fe,data:{view:u.S.over_time_type_index},canActivate:[h.r]},{path:"permissions",children:[{path:"",redirectTo:"index",pathMatch:N.U.full},{path:"index",component:V,data:{view:u.S.permission_index},canActivate:[h.r]},{path:"add",component:x.j,data:{view:u.S.add_permission},canActivate:[h.r]},{path:"edit/:permissionId",component:x.j,data:{view:u.S.add_permission},canActivate:[h.r]}]},{path:"vacations",children:[{path:"",redirectTo:"index",pathMatch:N.U.full},{path:"index",component:$,data:{view:u.S.vacation_index},canActivate:[h.r]},{path:"add",component:R.W,data:{view:u.S.add_vacation},canActivate:[h.r]},{path:"edit/:vacationId",component:R.W,data:{view:u.S.add_vacation},canActivate:[h.r]}]},{path:"shifts",children:[{path:"",redirectTo:"index",pathMatch:N.U.full},{path:"index",component:oe,data:{view:u.S.shifts_index},canActivate:[h.r]},{path:"add",component:q,data:{view:u.S.add_shift},canActivate:[h.r]},{path:"edit/:shiftId",component:q,data:{view:u.S.add_shift},canActivate:[h.r]}]},{path:"plan",children:[{path:"",redirectTo:"index",pathMatch:N.U.full},{path:"index",component:de,data:{view:u.S.plan_index},canActivate:[h.r]},{path:"add",component:Q.f,data:{view:u.S.add_plan},canActivate:[h.r]},{path:"edit/:planId",component:Q.f,data:{view:u.S.add_plan},canActivate:[h.r]},{path:"shrink/:planId",component:he,data:{view:u.S.shrink},canActivate:[h.r]},{path:"extend-without-change/:planId",component:ge,data:{view:u.S.extend_without_change},canActivate:[h.r]},{path:"extend-with-change/:planId",component:fe,data:{view:u.S.extend_with_change},canActivate:[h.r]},{path:"details/:planId",component:Ae,data:{view:u.S.plan_details},canActivate:[h.r]}]},{path:"attendance-period",component:ce,data:{view:u.S.attendance_period},canActivate:[h.r]},{path:"attendance-penalty-setup",component:ue,data:{view:u.S.attendance_penalty_setup},canActivate:[h.r]}];let He=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[P.Bz.forChild(Qe),P.Bz]}),i})();var ze=r(92634);let Ye=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[b.ez,He,ze.m]}),i})()}}]);