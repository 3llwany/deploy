"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[47],{3710:(z,_,r)=>{r.d(_,{r:()=>p});var g=r(94650),T=r(67579),b=r(24280);let p=(()=>{class l{constructor(m){this.viewsService=m,this.loadingService=(0,g.f3M)(T.b),this.UserModules=this.viewsService.UserModules$.getValue(),this.loading=document.getElementById("page-loading")}canActivate(m,h){return!0}showLoading(){this.loading.style.display="block",this.loading.style.opacity="1",this.loading.style.zIndex="998"}hideLoading(){this.loading.style.display="none",this.loading.style.opacity="0",this.loading.style.zIndex="0"}}return l.\u0275fac=function(m){return new(m||l)(g.LFG(b.Z))},l.\u0275prov=g.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},77047:(z,_,r)=>{r.r(_),r.d(_,{GeneralSetupModule:()=>fe});var g=r(36895),T=r(80458),b=r(36162),p=r(74513),l=r(24006),u=r(30671),m=r(15602),h=r(95751),N=r(78937),e=r(94650),I=r(1903);let k=(()=>{class a extends I.K{constructor(){super()}create(s){return this.post("GeneralSetup/ActivationSetup/Create",s)}update(s){return this.post("GeneralSetup/ActivationSetup/Edit",s)}getList(s){return this.get("GeneralSetup/ActivationSetup/GetList",{params:s})}getAll(){return this.get("GeneralSetup/ActivationSetup/GetAll")}Delete(s){return this.delete("GeneralSetup/ActivationSetup/Delete",{params:{id:s}})}exportExcel(){this.getAll()}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var S=r(25273),P=r(92393),v=r(57566),f=r(46896),d=r(73546);let B=(()=>{class a extends h.U{constructor(s){super(),this.activationService=s,this.submitted=!1,this.mandatoryColomns=["Ser","id","object_Name","require_Activation","actions"],this.isLoaded=!1,this.optionalColomns=[],this.radioList=[{label:"yes",value:!0,cssClass:"col-6"},{label:"no",value:!1,cssClass:"col-6"}]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],object_Name:[null,[l.kI.required,N.w.whiteSpace]],require_Activation:[!1]}),this.formCtrls.object_Name.disable()}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new u.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(s,t){this.isLoaded=!1,this.page.pageIndex=s,t&&(this.page.pageSize=t),this.activationService.getList({PageNumber:s,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(this.dataSource=new u.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta,this.form.patchValue(i.data[0])):this.errorList(i?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const s={id:this.formCtrls.id.value,object_Name:this.formCtrls.object_Name.value,require_Activation:this.formCtrls.require_Activation.value};0==s.id?this.create(s):this.update(s)}}create(s){this.showLoading(),this.activationService.create(s).subscribe(t=>{t?.message?.messageType==m.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}update(s){this.showLoading(),this.activationService.update(s).subscribe(t=>{t.message.messageType==m.u.Success?this.updateSuccessfullyMsg(t?.message?.messageTypeName):this.errorList(t?.message?.messages),this.hideLoading()})}onDelete(s){let t=this.msgTranslate(s.object_Name);this.deleteDialog(t).subscribe(o=>{o&&this.Delete(s)})}Delete(s){this.showLoading(),this.activationService.Delete(s.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(t?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),s.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(t?.message?.messages),this.hideLoading()})}activationSetupToEdit(s){this.form.patchValue(s)}clearForm(){this.form.reset({id:0,require_Activation:!1}),this.submitted=!1}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(k))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-activation-setup"]],features:[e.qOj],decls:14,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["title","activation_setup"],[1,"container-fluid"],[3,"formGroup"],[1,"row","justify-content-between"],[1,"col-md-3","col-12"],["label","object_Name",3,"control","submitted","disabled"],[1,"col-md-8","col-12"],["label","require_Activation",3,"radioList","control"],["align","end"],["label","General.save",3,"onClick"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"form",5)(7,"div",6)(8,"div",7),e._UZ(9,"app-input",8),e.qZA(),e.TgZ(10,"div",9),e._UZ(11,"app-radio-button",10),e.qZA()()()(),e.TgZ(12,"mat-card-actions",11)(13,"submit-btn",12),e.NdJ("onClick",function(){return t.submit()}),e.qZA()()()()()),2&s&&(e.xp6(6),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.object_Name)("submitted",t.submitted)("disabled",!0),e.xp6(2),e.Q6J("radioList",t.radioList)("control",t.formCtrls.require_Activation))},dependencies:[S.a,P._,v.p,f.T,d.a8,d.dn,d.n5,d.hq,l._Y,l.JL,l.sg]}),a})();var a,C=(()=>{return(a=C||(C={}))[a.male=1]="male",a[a.female=2]="female",a[a.allofThem=3]="allofThem",C;var a})();(a=C||(C={})).getValue=function n(s){switch(s){case a.male:return"male";case a.female:return"female";case a.allofThem:return"allofThem";default:return""}};var R=r(48440),y=r(93410),Z=r(56500),x=r(44850);function Y(a,n){if(1&a){const s=e.EpF();e.TgZ(0,"reset-form-btn",14),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let j=(()=>{class a extends h.U{constructor(s){super(),this.attachmentTypsService=s,this.submitted=!1,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","genderName","actions"],this.isLoaded=!1,this.optionalColomns=[],this.genderList=[{value:C.male,label:"male",cssClass:"col-md-4 col-12"},{value:C.female,label:"female",cssClass:"col-md-4 col-12"},{value:C.allofThem,label:"allofThem",cssClass:"col-md-4 col-12"}]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[l.kI.required,N.w.whiteSpace]],en_Name:[null,[l.kI.required,N.w.whiteSpace]],gender:[3]})}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new u.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}get formCtrls(){return this.form.controls}getList(s,t){this.isLoaded=!1,this.page.pageIndex=s,t&&(this.page.pageSize=t),this.attachmentTypsService.getList({PageNumber:s,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==m.u.Success?(i.data.map(O=>{O.genderName=this.translate(C.getValue(O.gender))}),this.dataSource=new u.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const s={Id:this.formCtrls.id.value,ar_Name:this.formCtrls.ar_Name.value,en_Name:this.formCtrls.en_Name.value,gender:this.formCtrls.gender.value};0==s.Id?this.create(s):this.update(s)}}create(s){this.showLoading(),this.attachmentTypsService.create(s).subscribe(t=>{t?.message?.messageType==m.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}update(s){this.showLoading(),this.attachmentTypsService.update(s).subscribe(t=>{t.message.messageType==m.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}onDelete(s){let t=this.msgTranslate(s.ar_Name,s.en_Name);this.deleteDialog(t).subscribe(o=>{o&&this.Delete(s)})}Delete(s){this.showLoading(),this.attachmentTypsService.Delete(s.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(t?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),s.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(t?.message?.messages),this.hideLoading()})}attachmentTypsToEdit(s){this.form.patchValue(s)}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(R.w))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-attachment-types"]],features:[e.qOj],decls:20,vars:18,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","attachment_types","editTitle","edit_attachment_types",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],[3,"control","submitted","radioList"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"form",5)(7,"div",0)(8,"div",6),e._UZ(9,"app-input",7),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"app-input",8),e.qZA()(),e.TgZ(12,"div",0)(13,"div",1),e._UZ(14,"app-radio-button",9),e.qZA()()()(),e.TgZ(15,"mat-card-actions",10)(16,"submit-btn",11),e.NdJ("onClick",function(){return t.submit()}),e.qZA(),e.YNc(17,Y,1,0,"reset-form-btn",12),e.qZA(),e._UZ(18,"mat-divider"),e.TgZ(19,"app-material-table",13),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.attachmentTypsToEdit(i)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&s&&(e.xp6(4),e.Q6J("id",t.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.ar_Name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.en_Name)("submitted",t.submitted),e.xp6(3),e.Q6J("control",t.formCtrls.gender)("submitted",t.submitted)("radioList",t.genderList),e.xp6(2),e.Q6J("id",t.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",t.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.attachmentTypsService)("actions",t.rowFunctions))},dependencies:[g.O5,S.a,P._,y.I,Z.J,v.p,f.T,d.a8,d.dn,d.n5,d.hq,x.d,l._Y,l.JL,l.sg]}),a})(),V=(()=>{class a extends I.K{constructor(){super()}create(s){return this.post("GeneralSetup/CompanyCode/Create",s)}update(s){return this.post("GeneralSetup/CompanyCode/Edit",s)}getCodeStatus(s){return this.get("GeneralSetup/CompanyCode/GetCodeStatus",{params:{compId:`${s}`}})}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var E=r(12613),X=r(83163);let H=(()=>{class a extends h.U{constructor(s){super(),this._companyCodeService=s,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNallable:!0}],isHasCode:[!1,l.kI.required],company_ID:[,l.kI.required]}),this.formCtrls.company_ID.valueChanges.subscribe(s=>{s>0&&this.getCodeStatus()})}get formCtrls(){return this.form?.controls}getCodeStatus(){this.showLoading(),this._companyCodeService.getCodeStatus(this.formCtrls.company_ID.value).subscribe(s=>{s.message.messageType==m.u.Success&&(null==s.data?(this.formCtrls.id.setValue(0),this.formCtrls.isHasCode.setValue(!1)):(this.formCtrls.id.setValue(s.data.id),this.formCtrls.isHasCode.setValue(s.data.isHasCode)))})}submit(){if(this.submitted=!0,this.form.valid){const s={id:this.formCtrls.id.value,isHasCode:this.formCtrls.isHasCode.value,company_ID:this.formCtrls.company_ID.value};0==s.id?this.create(s):this.update(s)}}create(s){this.showLoading(),this._companyCodeService.create(s).subscribe(t=>{t?.message?.messageType==m.u.Success?this.addSuccessfullyMsg(t.message.messageTypeName):this.errorList(t?.message?.messages),this.hideLoading()})}update(s){this.showLoading(),this._companyCodeService.update(s).subscribe(t=>{t?.message?.messageType==m.u.Success?this.updateSuccessfullyMsg(t.message.messageTypeName):this.errorList(t?.message?.messages),this.hideLoading()})}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(V))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-company-code"]],features:[e.qOj],decls:16,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","companyCode","editTitle","editcompanyCode",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],[3,"control","submitted"],[1,"col-md-6","col-12","p-2"],["label","isHasCode",3,"control"],["align","end"],[3,"id","click"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"div",0)(7,"div",1)(8,"form",5)(9,"div",0)(10,"div",6),e._UZ(11,"company-by-businessId-dropdown",7),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"app-check-box",9),e.qZA()()()()()(),e.TgZ(14,"mat-card-actions",10)(15,"submit-btn",11),e.NdJ("click",function(){return t.submit()}),e.qZA()()()()()),2&s&&(e.xp6(4),e.Q6J("id",t.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.company_ID)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.isHasCode),e.xp6(2),e.Q6J("id",t.formCtrls.id.value))},dependencies:[E.u,v.p,f.T,d.a8,d.dn,d.n5,d.hq,X._,l._Y,l.JL,l.sg],changeDetection:0}),a})();var w=r(68575),J=r(61064),U=r(52682),D=r(40445),L=r(3848),G=r(49274);function K(a,n){if(1&a&&e._UZ(0,"app-add-new-btn",20),2&a){const s=e.oxw();e.MGl("url","/general-setup/",s.moduleId,"/groups/add"),e.Q6J("params",s.pageParams)}}function W(a,n){if(1&a){const s=e.EpF();e.TgZ(0,"reset-form-btn",21),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let Q=(()=>{class a extends h.U{constructor(s){super(),this._groupsService=s,this.groupId=0,this.submitted=!1}ngOnInit(){this.activatedRoute.params.subscribe(s=>{this.groupId=s.groupId??0}),this.form=this.fb.group({id:[0,{nonNullable:!0}],engName:[null,[l.kI.required]],arbName:[null,[l.kI.required]],engDescription:[null,[l.kI.required]],arbDescription:[null,[l.kI.required]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.groupId>0&&this.getGroupById()}submit(){if(this.submitted=!0,this.form.valid){const s={id:this.form.value.id,engName:this.form.value.engName,arbName:this.form.value.arbName,engDescription:this.form.value.engDescription,arbDescription:this.form.value.arbDescription};0==s.id?this.create(s):this.update(s)}}create(s){this.showLoading(),this._groupsService.create(s).subscribe(t=>{t?.message?.messageType==m.u.Success?(this.addSuccessfullyMsg(t?.message?.messageTypeName),this.formCtrls.id.setValue(t.data.id),this.groupId=t.data.id,this.navigateTo(`/general-setup/${this.moduleId}/groups/edit/${this.groupId}`)):this.errorList(t?.message?.messages),this.hideLoading()})}update(s){this.showLoading(),this._groupsService.update(s).subscribe(t=>{t?.message?.messageType==m.u.Success?this.updateSuccessfullyMsg(t?.message?.messageTypeName):this.errorList(t?.message?.messages),this.hideLoading()})}getGroupById(){this._groupsService.getGroupById(this.groupId).subscribe(s=>{(s.message.messageType=m.u.Success)&&this.form.patchValue(s.data[0])})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(w.J))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-group"]],features:[e.qOj],decls:32,vars:25,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["title","groups"],["label","addgroup",3,"url","params",4,"ngIf"],[3,"url","params"],[1,"col-12","w-100",3,"dir"],[1,"w-100",3,"label"],[1,"container-fluid","mt-3"],[1,"col-12","w-100"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","engDescription",3,"control","submitted"],["label","arbDescription",3,"control","submitted"],[1,"m-2"],["align","end"],[3,"click",4,"ngIf"],[3,"id","onClick"],["label","addgroup",3,"url","params"],[3,"click"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"div"),e._UZ(5,"page-title",3),e.YNc(6,K,1,2,"app-add-new-btn",4),e._UZ(7,"app-back-btn",5),e.qZA()(),e.TgZ(8,"mat-tab-group",6)(9,"mat-tab",7),e.ALo(10,"titlecase"),e.ALo(11,"translate"),e.TgZ(12,"mat-card-content",8)(13,"div",0)(14,"div",9)(15,"form",10)(16,"div",0)(17,"div",11),e._UZ(18,"app-input",12),e.qZA(),e.TgZ(19,"div",11),e._UZ(20,"app-input",13),e.qZA(),e.TgZ(21,"div",11),e._UZ(22,"app-input",14),e.qZA(),e.TgZ(23,"div",11),e._UZ(24,"app-input",15),e.qZA()()()()()(),e.TgZ(25,"div",16)(26,"mat-card-actions",17),e.YNc(27,W,1,0,"reset-form-btn",18),e.TgZ(28,"submit-btn",19),e.NdJ("onClick",function(){return t.submit()}),e.qZA()()()(),e._UZ(29,"mat-tab",7),e.ALo(30,"titlecase"),e.ALo(31,"translate"),e.qZA()()()()),2&s&&(e.xp6(6),e.Q6J("ngIf",t.groupId>0),e.xp6(1),e.MGl("url","/general-setup/",t.moduleId,"/groups/index"),e.Q6J("params",t.pageParams),e.xp6(1),e.Q6J("dir",t.languageService.isArabic?"rtl":"ltr"),e.xp6(1),e.s9C("label",e.lcZ(10,17,e.lcZ(11,19,"userGroups"))),e.xp6(6),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.engName)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.arbName)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.engDescription)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.arbDescription)("submitted",t.submitted),e.xp6(3),e.Q6J("ngIf",t.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",t.formCtrls.id.value),e.xp6(1),e.s9C("label",e.lcZ(30,21,e.lcZ(31,23,"privileges"))))},dependencies:[g.O5,S.a,J.a,U.J,Z.J,v.p,f.T,D.Lv,L.SP,L.uX,d.a8,d.dn,d.n5,d.hq,l._Y,l.JL,l.sg,g.rS,G.X$]}),a})(),ee=(()=>{class a extends h.U{constructor(s){super(),this._groupsService=s,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new u.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(s,t){this.isLoaded=!1,this.page.pageIndex=s,t&&(this.page.pageSize=t),this._groupsService.getList({PageNumber:s,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{if(i.message.messageType==m.u.Success){if(0==i.data.length&&s>1)return void this.getList(this.prevPage);this.dataSource=new u.by(function $(a){return a.map(n=>({...n,ar_Name:n.arbName,en_Name:n.engName}))}(i.data)),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta}else this.errorList(i?.message?.messages)})}onDelete(s){let t=this.msgTranslate(s.engName,s.arbName);this.deleteDialog(t).subscribe(o=>{o&&this.delete(s)})}delete(s){this.showLoading(),this._groupsService.Delete(s.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(t?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(t?.message?.messages),this.hideLoading()})}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(w.J))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-groups-index"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","groups",3,"globalFunctions"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","deleteRow"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&s&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t._groupsService)("actions",t.rowFunctions))},dependencies:[y.I,f.T,d.a8,d.n5]}),a})();var te=r(19771),se=r(8364);function ae(a,n){if(1&a){const s=e.EpF();e.TgZ(0,"reset-form-btn",10),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let ie=(()=>{class a extends h.U{constructor(s){super(),this.isoCodeService=s,this.submitted=!1}ngOnInit(){this.form=this.fb.group({reportId:[null,[l.kI.required]],iso:[null,[l.kI.required]]})}get formCtrls(){return this.form.controls}submit(){this.submitted=!0,this.form.valid&&this.update({id:this.formCtrls.reportId.value,iso:this.formCtrls.iso.value})}onSelectReport(s){this.formCtrls.iso.setValue(s?s.iso:null)}update(s){this.showLoading(),this.isoCodeService.Edit(s).subscribe(t=>{t?.message?.messageType==m.u.Success?(this.isoChanged=!0,this.clearForm(),this.addSuccessfullyMsg(t.message.messageTypeName)):this.errorList(t?.message?.messages)})}clearForm(){this.form.reset(),this.submitted=!1}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(te.J))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-iso-code"]],features:[e.qOj],decls:13,vars:7,consts:[[1,"form-card"],["title","isoCode"],[3,"formGroup"],[1,"row"],[1,"col-md-6","col-12"],[3,"control","submitted","isoChanged","select"],["label","isoCode",3,"control","submitted"],["align","end"],[3,"onClick"],[3,"click",4,"ngIf"],[3,"click"]],template:function(s,t){1&s&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title"),e._UZ(2,"page-title",1),e.qZA(),e.TgZ(3,"mat-card-content")(4,"form",2)(5,"div",3)(6,"div",4)(7,"reports-dropdown",5),e.NdJ("select",function(i){return t.onSelectReport(i)}),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"app-input",6),e.qZA()()(),e.TgZ(10,"mat-card-actions",7)(11,"submit-btn",8),e.NdJ("onClick",function(){return t.submit()}),e.qZA(),e.YNc(12,ae,1,0,"reset-form-btn",9),e.qZA()()()),2&s&&(e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.reportId)("submitted",t.submitted)("isoChanged",t.isoChanged),e.xp6(2),e.Q6J("control",t.formCtrls.iso)("submitted",t.submitted),e.xp6(3),e.Q6J("ngIf",t.formCtrls.reportId.value||t.formCtrls.iso.value))},dependencies:[g.O5,S.a,Z.J,v.p,f.T,d.a8,d.dn,d.n5,d.hq,se.z,l._Y,l.JL,l.sg]}),a})(),A=(()=>{class a extends I.K{constructor(){super()}getList(s){return this.get("GeneralSetup/PersonalNotification/GetList",{params:s})}Delete(s){return this.delete("",{params:s})}createPersonalNotification(s,t){return this.post("",s,{params:t})}updatePersonalNotificationy(s,t){return this.post("",s,{params:t})}getNotificationDetails(s){return this.get("",{params:s})}createNotificationDetails(s,t){return this.post("",s,{params:t})}getAll(){return this.get("GeneralSetup/PersonalNotification/GetAll")}exportExcel(){this.getAll()}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var F=r(68506);let oe=(()=>{class a extends h.U{constructor(s){super(),this.personalNotificationService=s,this.PersonalId=0,this.submitted=!1,this.mandatoryColomns=["Ser","NotificationType","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.checkNoBusinessOrCompany()&&this.PersonalId>0&&this.getList(1),this.form=this.fb.group({id:[0,{nonNallable:!0}],notificationType:[null,[l.kI.required]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.PersonalId>0&&this.getList(1)}getList(s,t){this.page.pageIndex=s,t&&(this.page.pageSize=t),this.removePageParams(),this.personalNotificationService.getNotificationDetails({PageNumber:s,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{if(i.message.messageType==m.u.Success){if(0==i.data.length&&s>1)return void this.getList(this.prevPage);this.dataSource=new u.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta}else this.errorList(i?.message?.messages)})}submit(){this.submitted=!0}create(s){this.showLoading(),this.personalNotificationService.createPersonalNotification(s,this.businessCompanyParams).subscribe(t=>{t?.message?.messageType==m.u.Success?this.addSuccessfullyMsg(t.message.messageTypeName):this.errorList(t?.message?.messages),this.hideLoading()})}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(A))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-notification-details"]],inputs:{PersonalId:"PersonalId"},features:[e.qOj],decls:14,vars:11,consts:[[1,"row"],[1,"col-12"],["addTitle","addNotificationDetails","editTitle","editNotificationDetails",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-12","col-md-6"],[3,"submitted","control"],["align","end"],[3,"id","onClick"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","onChangePage"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card-subtitle"),e._UZ(3,"page-title",2),e.qZA(),e.TgZ(4,"mat-card-content",3)(5,"form",4)(6,"div",0)(7,"div",5),e._UZ(8,"app-prime-dropdown",6),e.qZA()(),e.TgZ(9,"div",0)(10,"div",1)(11,"mat-card-actions",7)(12,"submit-btn",8),e.NdJ("onClick",function(){return t.submit()}),e.qZA()()()()()(),e.TgZ(13,"app-material-table",9),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)}),e.qZA()()()),2&s&&(e.xp6(3),e.Q6J("id",t.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("submitted",t.submitted)("control",t.formCtrls.notificationType),e.xp6(4),e.Q6J("id",t.formCtrls.id.value),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("actions",t.rowFunctions)("dataSource",t.dataSource))},dependencies:[y.I,v.p,f.T,d.dn,d.$j,d.hq,F.t,l._Y,l.JL,l.sg]}),a})();function ne(a,n){if(1&a&&e._UZ(0,"app-add-new-btn",16),2&a){const s=e.oxw();e.MGl("url","/attendance-setup/",s.moduleId,"/personal_notification/add"),e.Q6J("params",s.pageParams)}}let q=(()=>{class a extends h.U{constructor(s){super(),this.personalNotificationService=s,this.PersonalId=0,this.submitted=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(s=>{this.PersonalId=Number(s.get("PersonalId"))??0,this.checkNoBusinessOrCompany()&&this.PersonalId>0&&this.getPersonById()}),this.form=this.fb.group({Personid:[null],id:[0,{nonNallable:!0}],Name:[null,[l.kI.required]],PassWord:[null,[l.kI.required]],Is_Active:[!1]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.PersonalId>0&&this.getPersonById()}submit(){this.submitted=!0}create(s){this.showLoading(),this.personalNotificationService.createPersonalNotification(s,this.businessCompanyParams).subscribe(t=>{t?.message?.messageType==m.u.Success?this.addSuccessfullyMsg(t.message.messageTypeName):this.errorList(t?.message?.messages),this.hideLoading()})}update(s){this.showLoading(),this.personalNotificationService.updatePersonalNotificationy(s,this.businessCompanyParams).subscribe(t=>{t.message.messageType==m.u.Success?this.updateSuccessfullyMsg(t.message.messageTypeName):this.errorList(t?.message?.messages),this.hideLoading()})}getPersonById(){}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(A))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-personal-notification"]],features:[e.qOj],decls:29,vars:26,consts:[["title","personal_Notification"],["label","addPersonal_Notification",3,"url","params",4,"ngIf"],[3,"url","params"],[3,"dir"],[3,"label"],["addTitle","addPersonal_notification","editTitle","editPersonal_notification",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"row"],[1,"col-md-6","col-12"],["label","arName",3,"submitted","control"],["label","enName",3,"submitted","control"],[3,"submitted","control"],["align","end"],[3,"id","onClick"],[3,"PersonalId"],["label","addPersonal_Notification",3,"url","params"]],template:function(s,t){1&s&&(e.TgZ(0,"mat-card")(1,"mat-card-title"),e._UZ(2,"page-title",0),e.YNc(3,ne,1,2,"app-add-new-btn",1),e._UZ(4,"app-back-btn",2),e.qZA(),e.TgZ(5,"mat-tab-group",3)(6,"mat-tab",4),e.ALo(7,"titlecase"),e.ALo(8,"translate"),e.TgZ(9,"mat-card-subtitle"),e._UZ(10,"page-title",5),e.qZA(),e.TgZ(11,"mat-card-content",6)(12,"form",7)(13,"div",8)(14,"div",9),e._UZ(15,"app-input",10),e.qZA(),e.TgZ(16,"div",9),e._UZ(17,"app-input",11),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9),e._UZ(20,"app-prime-dropdown",12),e.qZA(),e.TgZ(21,"div",9),e._UZ(22,"app-prime-dropdown",12),e.qZA()()()(),e.TgZ(23,"mat-card-actions",13)(24,"submit-btn",14),e.NdJ("onClick",function(){return t.submit()}),e.qZA()()(),e.TgZ(25,"mat-tab",4),e.ALo(26,"titlecase"),e.ALo(27,"translate"),e._UZ(28,"app-notification-details",15),e.qZA()()()),2&s&&(e.xp6(3),e.Q6J("ngIf",t.PersonalId>0),e.xp6(1),e.MGl("url","/general-setup/",t.moduleId,"/personal_notification/index"),e.Q6J("params",t.pageParams),e.xp6(1),e.Q6J("dir",t.languageService.isArabic?"rtl":"ltr"),e.xp6(1),e.s9C("label",e.lcZ(7,18,e.lcZ(8,20,"personal_notification"))),e.xp6(4),e.Q6J("id",t.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("submitted",t.submitted)("control",t.formCtrls.Name),e.xp6(2),e.Q6J("submitted",t.submitted)("control",t.formCtrls.Name),e.xp6(3),e.Q6J("submitted",t.submitted)("control",t.formCtrls.Name),e.xp6(2),e.Q6J("submitted",t.submitted)("control",t.formCtrls.Name),e.xp6(2),e.Q6J("id",t.formCtrls.id.value),e.xp6(1),e.s9C("label",e.lcZ(26,22,e.lcZ(27,24,"Notification Details"))),e.xp6(3),e.Q6J("PersonalId",t.PersonalId))},dependencies:[g.O5,S.a,J.a,U.J,v.p,f.T,D.Lv,L.SP,L.uX,d.a8,d.dn,d.n5,d.$j,d.hq,F.t,l._Y,l.JL,l.sg,oe,g.rS,G.X$]}),a})(),re=(()=>{class a extends h.U{constructor(s){super(),this.personalNotificationService=s,this.submitted=!1,this.mandatoryColomns=["Ser","English Name","Group","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(s,t){this.isLoaded=!1,this.page.pageIndex=s,t&&(this.page.pageSize=t),this.removePageParams(),this.personalNotificationService.getList({PageNumber:s,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{if(i.message.messageType==m.u.Success){if(0==i.data.length&&s>1)return void this.getList(this.prevPage);this.dataSource=new u.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta}else this.errorList(i?.message?.messages)})}onDelete(s){let t=this.msgTranslate(s.name);this.deleteDialog(t).subscribe(o=>{o&&this.delete(s)})}delete(s){let t={...this.businessCompanyParams,id:s.id};this.showLoading(),this.personalNotificationService.Delete(t).subscribe(o=>{o.message.messageType==m.u.Success?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(o?.message?.messageTypeName)):this.errorList(o?.message?.messages),this.hideLoading()})}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(A))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-personal-notification"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","personal_Notification",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","exportService","actions","dataSource","onChangePage","deleteRow"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&s&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.personalNotificationService)("actions",t.rowFunctions)("dataSource",t.dataSource))},dependencies:[y.I,f.T,d.a8,d.n5]}),a})();var M=r(78250),le=r(5858),de=r(76237),me=r(60544),pe=r(91373);let ce=(()=>{class a extends h.U{constructor(s){super(),this.userService=s,this.submitted=!1,this.mandatoryColomns=["Ser","id","name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new u.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(s,t){this.isLoaded=!1,this.page.pageIndex=s,t&&(this.page.pageSize=t),this.removePageParams(),this.userService.getList({PageNumber:s,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{if(i.message.messageType==m.u.Success){if(0==i.data.length&&s>1)return void this.getList(this.prevPage);this.dataSource=new u.by((0,le._)(i.data)),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta}else this.errorList(i?.message?.messages)})}onDelete(s){let t=this.msgTranslate(s.name);this.deleteDialog(t).subscribe(o=>{o&&this.delete(s)})}delete(s){this.showLoading(),this.userService.Delete(s.id).subscribe(t=>{t.message.messageType==m.u.Success?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}ngOnDestroy(){}}return a.\u0275fac=function(s){return new(s||a)(e.Y36(de.f))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-user-index"]],features:[e.qOj],decls:8,vars:9,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","users",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"serviceId"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()(),e.TgZ(6,"side-helping-menu"),e._UZ(7,"app-dashboard-display",5),e.qZA()),2&s&&(e.xp6(4),e.Q6J("globalFunctions",t.globalFunctions),e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("actions",t.rowFunctions)("dataSource",t.dataSource)("exportService",t.userService),e.xp6(2),e.Q6J("serviceId",t.getCurrentServiceId()))},dependencies:[y.I,f.T,me.c,pe.b,d.a8,d.n5]}),a})();var c=r(3710);const ue=[{path:"activation-setup",component:B,data:{view:p.S.activation_setup},canActivate:[c.r]},{path:"attachment-types",component:j,data:{view:p.S.attachment_types},canActivate:[c.r]},{path:"users",children:[{path:"",redirectTo:"index",pathMatch:b.U.full},{path:"index",component:ce,data:{view:p.S.users_index},canActivate:[c.r]},{path:"add",component:M.J,data:{view:p.S.add_user},canActivate:[c.r]},{path:"edit/:userId",component:M.J,data:{view:p.S.add_user},canActivate:[c.r]}]},{path:"personal-notification",children:[{path:"",redirectTo:"index",pathMatch:b.U.full},{path:"index",component:re,data:{view:p.S.personal_notification_index},canActivate:[c.r]},{path:"add",component:q,data:{view:p.S.add_personal_notification},canActivate:[c.r]},{path:"edit/:PersonalId",component:q,data:{view:p.S.add_personal_notification},canActivate:[c.r]}]},{path:"iso-code",component:ie,data:{view:p.S.iso_code},canActivate:[c.r]},{path:"company-code",component:H,data:{view:p.S.company_code},canActivate:[c.r]},{path:"groups",children:[{path:"",redirectTo:"index",pathMatch:b.U.full},{path:"index",component:ee,data:{view:p.S.groups_index},canActivate:[c.r]},{path:"add",component:Q,data:{view:p.S.add_group},canActivate:[c.r]},{path:"edit/:groupId",component:Q,data:{view:p.S.add_group},canActivate:[c.r]}]}];let ge=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[T.Bz.forChild(ue),T.Bz]}),a})();var he=r(66393);let fe=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[g.ez,ge,he.m]}),a})()}}]);