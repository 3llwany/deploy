"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[860],{18860:(sa,N,r)=>{r.r(N),r.d(N,{RecruitmentModule:()=>oa});var p=r(36895),S=r(80458),h=r(3710),D=r(36162),m=r(74513),c=r(15602),u=r(95751),f=r(35478),e=r(94650),b=r(65938),ie=r(71812),oe=r(86405),v=r(49274);let se=(()=>{class n extends u.U{constructor(t){super(),this.dialogRef=t,t.backdropClick().subscribe(()=>this.backToHome())}backToHome(){location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-candidate-done-dialog"]],features:[e.qOj],decls:12,vars:9,consts:[[3,"name"],["mat-dialog-title",""],[1,"done-title"],[1,"container-fluid","mx-0"],[1,"done-content"],["alt","done",3,"src"],["label","backToHome","mat-dialog-close","",3,"color","onClick"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"mat-dialog-content",3)(6,"div",4)(7,"div"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"img",5),e.TgZ(11,"app-button",6),e.NdJ("onClick",function(){return a.backToHome()}),e.qZA()()()),2&t&&(e.Q6J("name","dialog"),e.xp6(3),e.hij(" ",e.lcZ(4,5,"finallyAllIsDone")," "),e.xp6(5),e.hij(" ",e.lcZ(9,7,"justWaitOurReplyViaYourEmail")," "),e.xp6(2),e.Q6J("src",a.svg.done,e.LSH),e.xp6(1),e.Q6J("color",a.btn.darkBlue))},dependencies:[ie.r,b.ZT,b.uh,b.xY,oe.Ro,v.X$],styles:[".candidate-done-dialog .mat-dialog-container{padding:40px 90px;border-radius:10px}  .candidate-done-dialog .done-title{text-align:center;font-size:30px;color:#374761}  .candidate-done-dialog .mat-dialog-content{padding:0}  .candidate-done-dialog .done-content{display:flex;flex-direction:column;gap:30px}  .candidate-done-dialog .done-content>div{align-self:center;color:#5c5c5c;font-size:18px;margin:0}  .candidate-done-dialog .done-content img{width:320px;height:320px;margin-bottom:25px}  .candidate-done-dialog .done-content app-button{align-self:center}  .candidate-done-dialog .done-content app-button .btn{padding:2px 40px}"]}),n})();var Z=r(61076),w=r(71180),L=r(61064),R=r(52682),C=r(46896),O=r(20957),d=r(73546),T=r(86257),_=r(37084),U=r(17489),re=r(20150),de=r(21508),A=r(44850),l=r(24006),y=r(33975),I=r(78937),Q=r(43949),P=r(70137),J=r(25273),le=r(57566),j=r(2023),ce=r(59678),pe=r(2161),me=r(77900);function ue(n,i){if(1&n&&(e.ynx(0,13),e._uU(1),e.BQk()),2&n){const t=e.oxw();let a;e.xp6(1),e.hij(" ",(null!==(a=null==t.formCtrls.national_Id.value?null:t.formCtrls.national_Id.value.length)&&void 0!==a?a:0)+"/"+t.constants.nationalId," ")}}function ge(n,i){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"religion-dropdown",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("control",t.formCtrls.religioN_ID)("submitted",t.submitted)("filter",!0)}}function he(n,i){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"app-sourcing-type-dropdown",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("control",t.formCtrls.resource_Type)("submitted",t.submitted)("filter",!0)}}function fe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"submit-btn",15),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.update())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("id",t.formCtrls.id.value)("color",t.btn.darkBlue)("iconPositionBefore",!1)}}let M=(()=>{class n extends u.U{constructor(t){super(),this.candidateService=t,this.changeDescriptionInfo=new e.vpe,this.isUpdate=new e.vpe,this.candidateId=0,this.submitted=!1,this.constants=y.g,this.isInternal=!0,this.isEgyptian=!1,this.mainNationalidValidators=[l.kI.required,I.w.whiteSpace],this.candidateService.submitted$.subscribe(a=>this.submitted=a),this.candidateId=Z.L.candidateId$.getValue(),this.activatedRoute.params.subscribe(a=>{Number(a.requestId)>0&&(this.isInternal=!1)})}onChangeBusinessAndCompanyId(){this.candidateId>0&&this.checkNoBusinessOrCompany()?this.getCandidateById():this.invalidRequiredCount()}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[l.kI.required,I.w.whiteSpace]],en_Name:[null,[l.kI.required,I.w.whiteSpace]],code:[null],selectedCountry:[null],national_Id:[null,this.mainNationalidValidators],birthDate:[null],hireDate:[null,[l.kI.required]],gender_ID:[null],religioN_ID:[null],resource_Type:[null],resource_Name:[null]}),this.candidateId||this.form.valueChanges.subscribe(t=>{this.invalidRequiredCount(),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),GeneralData:this.getGeneralData()})})}get formCtrls(){return this.form.controls}getCandidateById(){this.showLoading(),this.candidateService.candidate$.subscribe(t=>{this.form.patchValue(t),console.log("candidate",t),this.formCtrls.selectedCountry.setValue(t.nationality?.id),this.formCtrls.gender_ID.setValue(t.gender?.id),this.formCtrls.religioN_ID.setValue(t.religion?.id),this.formCtrls.resource_Type.setValue(t.resource_Type?.id),this.changeDescription(!0,0),this.hideLoading()})}getGeneralData(){let t={Core_Person:{ar_Name:this.form.value.ar_Name,en_Name:this.form.value.en_Name,code:this.form.value.code??Math.floor(1e4*Math.random()).toString(),nationalid:this.form.value.national_Id,dob:f.M6.mapDateReverse(this.form.value.birthDate),hireDate:f.M6.mapDateReverse(this.form.value.hireDate),gender_ID:this.form.value.gender_ID,religioN_ID:this.form.value.religioN_ID},selectedCountry:this.form.value.selectedCountry,resource_Type:this.form.value.resource_Type,resource_Name:this.form.value.resource_Name};return this.candidateId>0&&(t.Core_Person.id=this.form.value.id),t}update(){this.submitted=!0,this.form.valid&&(this.showLoading(),this.candidateService.update(this.getGeneralData()).subscribe(t=>{t.message.messageType==c.u.Success?(this.updateSuccessfullyMsg("candidateUpdated"),this.isUpdate.emit(!1)):this.errorList(t?.message?.messages),this.hideLoading()}))}changeDescription(t,a){this.changeDescriptionInfo.emit({isDone:t,noOfRequiredInputs:a})}invalidRequiredCount(){let t=f.M6.noOfInvalidAndRequiredInputs(this.form);this.changeDescription(0==t,t),this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),GeneralData:0==t})}onChangeNationality(t){t.length>0&&(t[0].ar_Name.includes("\u0645\u0635\u0631")||t[0].en_NAme.toLowerCase().includes("egypt"))?(this.isEgyptian=!0,this.formCtrls.national_Id.setValidators([...this.mainNationalidValidators,Q.dN.number,I.w.Length(y.g.nationalId)])):(this.isEgyptian=!1,this.formCtrls.national_Id.setValidators(this.mainNationalidValidators)),this.formCtrls.national_Id.updateValueAndValidity()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-general-info-form"]],outputs:{changeDescriptionInfo:"changeDescriptionInfo",isUpdate:"isUpdate"},features:[e.qOj],decls:23,vars:22,consts:[[1,"candidate-form",2,"margin-bottom","-20px",3,"formGroup"],[1,"row","ptop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],["label","ar_Name",3,"control","submitted"],["label","en_Name",3,"control","submitted"],[3,"control","submitted","filter","change"],["label","nationalid",3,"control","submitted"],["class","msg-after",4,"ngIf"],["label","dob",3,"control","submitted"],["label","registrationDate",3,"control","submitted"],[3,"control","submitted"],["class","col-lg-3 col-md-4 col-sm-6 col-12",4,"ngIf"],["label","sourcingName",3,"control","submitted"],[1,"msg-after"],[3,"control","submitted","filter"],["icon","fas fa-pen fa-rotate-270","styleClass","btn-block mt-1","label","update",3,"id","color","iconPositionBefore","onClick"]],template:function(t,a){1&t&&(e.TgZ(0,"form",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"app-input",3),e.qZA(),e.TgZ(5,"div",2),e._UZ(6,"app-input",4),e.qZA(),e.TgZ(7,"div",2)(8,"app-nationality-dropdown",5),e.NdJ("change",function(s){return a.onChangeNationality(s)}),e.qZA()(),e.TgZ(9,"div",2)(10,"app-input",6),e.YNc(11,ue,2,1,"ng-container",7),e.qZA()(),e.TgZ(12,"div",2),e._UZ(13,"app-datepicker",8),e.qZA(),e.TgZ(14,"div",2),e._UZ(15,"app-datepicker",9),e.qZA(),e.TgZ(16,"div",2),e._UZ(17,"app-gender-dropdown",10),e.qZA(),e.YNc(18,ge,2,3,"div",11),e.YNc(19,he,2,3,"div",11),e.TgZ(20,"div",2),e._UZ(21,"app-input",12),e.qZA(),e.YNc(22,fe,2,3,"div",11),e.qZA(),e.BQk(),e.qZA()),2&t&&(e.Q6J("formGroup",a.form),e.xp6(4),e.Q6J("control",a.formCtrls.ar_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.en_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.selectedCountry)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.national_Id)("submitted",a.submitted),e.xp6(1),e.Q6J("ngIf",a.isEgyptian),e.xp6(2),e.Q6J("control",a.formCtrls.birthDate)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.hireDate)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.gender_ID)("submitted",a.submitted),e.xp6(1),e.Q6J("ngIf",a.isInternal),e.xp6(1),e.Q6J("ngIf",a.isInternal),e.xp6(2),e.Q6J("control",a.formCtrls.resource_Name)("submitted",a.submitted),e.xp6(1),e.Q6J("ngIf",a.candidateId>0))},dependencies:[p.O5,P.Q,J.a,le.p,j.a,ce.w,pe.O,me.$,l._Y,l.JL,l.sg]}),n})();var _e=r(51170);function Ce(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",2,3)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"candidate-tab-description",4),e.qZA(),e.TgZ(7,"candidate-general-info-form",5),e.NdJ("changeDescriptionInfo",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changeDescriptionInfo(o))}),e.qZA()()}if(2&n){const t=e.MAs(1),a=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,4,"generalInfo"),""),e.xp6(2),e.Q6J("isClosedTab",!t.expanded)("isDone",null==a.descriptionInfo?null:a.descriptionInfo.isDone)("noOfRequiredInputs",null==a.descriptionInfo?null:a.descriptionInfo.noOfRequiredInputs)}}function ve(n,i){1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-title"),e._uU(2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"mat-divider"),e.TgZ(6,"mat-card-content",6),e._UZ(7,"candidate-general-info-form"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,e.lcZ(4,3,"generalInfo")),""))}let be=(()=>{class n extends u.U{constructor(){super(),this.isView=!1}ngOnInit(){}changeDescriptionInfo(t){this.descriptionInfo={isDone:t.isDone,noOfRequiredInputs:t.noOfRequiredInputs}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-general-info"]],inputs:{isView:"isView"},features:[e.qOj],decls:2,vars:2,consts:[["expanded","",4,"ngIf"],[4,"ngIf"],["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"changeDescriptionInfo"],[1,"mt-5"]],template:function(t,a){1&t&&(e.YNc(0,Ce,8,6,"mat-expansion-panel",0),e.YNc(1,ve,8,5,"mat-card",1)),2&t&&(e.Q6J("ngIf",!a.isView),e.xp6(1),e.Q6J("ngIf",a.isView))},dependencies:[p.O5,d.a8,d.dn,d.n5,A.d,_.ib,_.yz,_.yK,M,_e.X,p.rS,v.X$]}),n})();var Ie=r(8574),Te=r(82498),xe=r(30278),Ze=r(80192),Ae=r(28322),ye=r(9271),qe=r(24238);const De=["stepper"];function we(n,i){if(1&n&&(e.TgZ(0,"div",14)(1,"div",15)(2,"span",16),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",17),e._uU(6),e.qZA()(),e.TgZ(7,"div",18)(8,"span",16),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",17),e._uU(12),e.ALo(13,"date"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,4,"jobVacancy")," "),e.xp6(3),e.hij(": ",t.jobTitle,""),e.xp6(3),e.hij(" ",e.lcZ(10,6,"validTill")," "),e.xp6(3),e.hij(" : ",e.xi3(13,8,t.requestEndData,"d MMM y")," ")}}function Se(n,i){1&n&&(e.TgZ(0,"div",14)(1,"div",15),e._UZ(2,"p-skeleton",19)(3,"p-skeleton",20),e.qZA(),e.TgZ(4,"div",18),e._UZ(5,"p-skeleton",19)(6,"p-skeleton",20),e.qZA()())}function Le(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"page-title",12),e.ALo(3,"translate"),e.qZA(),e.YNc(4,we,14,11,"div",13),e.YNc(5,Se,7,0,"div",13),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.hYB("parentTitle","",e.lcZ(3,5,"vacancies")," / ",t.jobTitle,""),e.Q6J("id",0),e.xp6(2),e.Q6J("ngIf",t.isLoaded),e.xp6(1),e.Q6J("ngIf",!t.isLoaded)}}function Re(n,i){if(1&n&&(e._UZ(0,"page-title",21),e.ALo(1,"translate"),e.ALo(2,"translate")),2&n){const t=e.oxw();e.hYB("parentTitle","",e.lcZ(1,5,"recruitment")," / ",e.lcZ(2,7,"candidates"),""),e.MGl("parentTitleLink","/recruitment/",t.moduleId,"/candidate"),e.Q6J("id",0)("parentLinkParams",t.pageParams)}}function Pe(n,i){if(1&n&&e._UZ(0,"app-add-new-btn",23),2&n){const t=e.oxw(2);e.MGl("url","/recruitment/",t.moduleId,"/candidate/add"),e.Q6J("params",t.parentParam)}}function Je(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Pe,1,2,"app-add-new-btn",22),e._UZ(2,"app-back-btn",23),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.requestId>0),e.xp6(1),e.MGl("url","/recruitment/",t.moduleId,"/candidate"),e.Q6J("params",t.pageParams)}}function Ne(n,i){1&n&&e._UZ(0,"i",24)}function Oe(n,i){1&n&&e._UZ(0,"i",24)}function Ue(n,i){1&n&&e._UZ(0,"i",24)}function Qe(n,i){1&n&&e._UZ(0,"candidate-related-requests-info")}function je(n,i){1&n&&e._UZ(0,"candidate-reference-info")}let G=(()=>{class n extends u.U{constructor(t,a,o){super(),this.candidateService=t,this.recruitmentRequestService=a,this.dialog=o,this.requestId=0,this.isInternal=!0,this.isGeneralCompleted=!1,this.isEducationCompleted=!1,this.isWorkExperienceCompleted=!1,this.isLoaded=!1,this.candidateService.isDone$.subscribe(s=>{this.isGeneralCompleted=s.GeneralData&&s.MaritalData&&s.MilitaryData&&s.AddressData&&s.ContactData,this.isEducationCompleted=s.EducationData&&s.TrainingData&&s.CertificationData,this.isWorkExperienceCompleted=s.WorkExperincesData&&s.relatedData&&s.RefrenceData&&s.DocumentData})}onChangeBusinessAndCompanyId(){this.requestId>0&&this.checkNoBusinessOrCompany()&&this.getRequestIdById()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.requestId=Number(t.requestId??0),this.requestId>0&&(this.isInternal=!1,this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),relatedData:!0,RefrenceData:!0}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),relatedData:[{request_ID:this.requestId}]}))})}stepChanged(){this.stepper.selected.interacted=!1}submit(){this.candidateService.submitted$.next(!0);let t=this.candidateService.isDone$.getValue();if(console.log("CreatCandidateRequest=>",this.candidateService.candidateData$.getValue()),Object.keys(t).every(a=>1==t[a])){let a=this.candidateService.candidateData$.getValue(),o=f.M6.objectToFormData(a);this.saveGeneral(o)}else this.warning("pleaseEnterAllRequiredData")}saveGeneral(t){this.showLoading(),this.candidateService.createGeneral(t).subscribe(a=>{a?.message?.messageType==c.u.Success?this.isInternal?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newCandidateAdded"),this.router.navigate([`/recruitment/${this.moduleId}/candidate`])):this.openDoneDialog():this.errorList(a.message.messages),this.hideLoading()})}openDoneDialog(){return this.dialog.open(se,{autoFocus:!1,disableClose:!0,panelClass:"candidate-done-dialog"}).afterClosed()}getRequestIdById(){this.isLoaded=!1,this.recruitmentRequestService.getById(this.requestId).subscribe(t=>{t.message.messageType==c.u.Success?(this.jobTitle=this.msgTranslate(t.data[0].job_Title.ar_Name,t.data[0].job_Title.en_Name),this.requestEndData=t.data[0].request.to_Date,this.isLoaded=!0):this.errorList(t?.message?.messages)})}refreshPage(){location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.L),e.Y36(w.O),e.Y36(b.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-candidate-core"]],viewQuery:function(t,a){if(1&t&&e.Gf(De,5),2&t){let o;e.iGM(o=e.CRH())&&(a.stepper=o.first)}},features:[e.qOj],decls:34,vars:29,consts:[[1,"add-candidate","title-no-margin","title-section","fixed-title"],[4,"ngIf","ngIfElse"],["internal",""],[4,"ngIf"],[1,"has-fixed-title"],[1,"candidate-stepper",3,"linear","disableRipple","selectionChange"],["stepper",""],[3,"label","completed"],["matStepperIcon","edit"],["multi","",1,"expantion-add-forms"],[3,"stepper","parentParam","showCancel","returnAfterFinish","finish"],[2,"margin","0 20px"],["addTitle","","title","apply",3,"id","parentTitle"],["class","candidate-header-container",4,"ngIf"],[1,"candidate-header-container"],[1,"header-item","start-value"],[1,"header-title"],[1,"header-value"],[1,"header-item","center-value"],["width","8rem","height","2rem"],["width","12rem","height","2rem",1,"value"],["addTitle","addCandidate","title","add",3,"id","parentTitle","parentTitleLink","parentLinkParams"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"fas","fa-check"]],template:function(t,a){if(1&t&&(e.TgZ(0,"mat-card-title",0),e.YNc(1,Le,6,7,"ng-container",1),e.YNc(2,Re,3,9,"ng-template",null,2,e.W1O),e.YNc(4,Je,3,3,"ng-container",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"mat-stepper",5,6),e.NdJ("selectionChange",function(){return a.stepChanged()}),e.TgZ(8,"mat-step",7),e.ALo(9,"titlecase"),e.ALo(10,"translate"),e.YNc(11,Ne,1,0,"ng-template",8),e.TgZ(12,"mat-accordion",9),e._UZ(13,"candidate-general-info")(14,"candidate-basic-info")(15,"candidate-contact-info"),e.qZA()(),e.TgZ(16,"mat-step",7),e.ALo(17,"titlecase"),e.ALo(18,"translate"),e.YNc(19,Oe,1,0,"ng-template",8),e.TgZ(20,"mat-accordion",9),e._UZ(21,"candidate-education-info")(22,"candidate-training-info")(23,"candidate-certification-info"),e.qZA()(),e.TgZ(24,"mat-step",7),e.ALo(25,"titlecase"),e.ALo(26,"translate"),e.YNc(27,Ue,1,0,"ng-template",8),e.TgZ(28,"mat-accordion",9),e._UZ(29,"candidate-work-experience-info"),e.YNc(30,Qe,1,0,"candidate-related-requests-info",3),e.YNc(31,je,1,0,"candidate-reference-info",3),e._UZ(32,"candidate-document-info"),e.qZA()()()(),e.TgZ(33,"steps-footer",10),e.NdJ("finish",function(){return a.submit()}),e.qZA()),2&t){const o=e.MAs(3),s=e.MAs(7);e.xp6(1),e.Q6J("ngIf",!a.isInternal)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",a.isInternal),e.xp6(2),e.Q6J("linear",!1)("disableRipple",!0),e.xp6(2),e.s9C("label",e.lcZ(9,17,e.lcZ(10,19,"general"))),e.Q6J("completed",a.isGeneralCompleted),e.xp6(8),e.s9C("label",e.lcZ(17,21,e.lcZ(18,23,"education"))),e.Q6J("completed",a.isEducationCompleted),e.xp6(8),e.s9C("label",e.lcZ(25,25,e.lcZ(26,27,a.isInternal?"jobInfo":"workExperience"))),e.Q6J("completed",a.isWorkExperienceCompleted),e.xp6(6),e.Q6J("ngIf",a.isInternal),e.xp6(1),e.Q6J("ngIf",a.isInternal),e.xp6(2),e.Q6J("stepper",s)("parentParam",a.parentParam)("showCancel",!!a.isInternal)("returnAfterFinish",!1)}},dependencies:[p.O5,L.a,R.J,C.T,O.j,d.dn,d.n5,T.C0,T.Vq,T.z9,_.pp,U.O,re.Y,de.g,be,Ie.g,Te.d,xe.$,Ze.o,Ae.l,ye.y,qe.L,p.rS,p.uU,v.X$],styles:[".fixed-title[_ngcontent-%COMP%]{display:block}  .candidate-stepper.candidate-stepper.mat-stepper-horizontal .mat-horizontal-content-container{padding:5px}  .candidate-stepper{padding-bottom:30px}  .add-candidate .mat-card-title .page-title{padding-left:20px!important}  .add-candidate .candidate-header-container{display:flex;gap:30px;margin:0 20px}  .add-candidate .candidate-header-container .header-item{display:inline-block}  .add-candidate .candidate-header-container .header-item .header-title{font-size:20px;color:#4e4e4e}  .add-candidate .candidate-header-container .header-item .header-value{font-size:20px;color:#101317}  .add-candidate .candidate-header-container .center-value{margin:auto}  .add-candidate .candidate-header-container p-skeleton div{display:inline-block}  .add-candidate .candidate-header-container p-skeleton.value{margin:0 30px}  .add-candidate.title-no-margin #back_btn,   .add-candidate.title-no-margin #add_new_btn{margin-right:20px}"]}),n})();var g=r(30671),F=r(87181),x=r(93410),B=r(60544),Y=r(65731),q=r(29721);let Me=(()=>{class n extends u.U{constructor(t){super(),this.recruitmentRequestService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","jobTitle","vacantPlaces","fromDateExpected","toDateExpected","notes","actions"],this.optionalColomns=[]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,a){this.dataSource=new g.by(null),this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.recruitmentRequestService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==c.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new g.by((0,F.j)(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}onDelete(t){this.deleteDialog(`${t.jobTitle} - ${t.fromDateExpected} - ${t.toDateExpected}`).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.recruitmentRequestService.Delete(t.id).subscribe(a=>{a.message.messageType==c.u.Success?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg("requestDeleted")):this.errorList(a?.message?.messages),this.hideLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recruitment-request-index"]],features:[e.qOj],decls:8,vars:13,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","JobRequisitions","parentTitle","recruitment","TitleHasGlobalFunc","",3,"globalFunctions"],[1,"index-card"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId","moduleId"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.qZA(),e.TgZ(2,"mat-card",2)(3,"mat-card-content")(4,"app-material-table",3),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()(),e.TgZ(5,"side-helping-menu",4),e.ALo(6,"translate"),e._UZ(7,"app-dashboard-display",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(3),e.Q6J("isLoaded",a.isLoaded)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions)("dataSource",a.dataSource)("exportService",a.recruitmentRequestService),e.xp6(1),e.s9C("title",e.lcZ(6,11,"Dashboard")),e.xp6(2),e.Q6J("serviceId",a.getCurrentServiceId())("moduleId",a.moduleId))},dependencies:[x.I,C.T,B.c,Y.b,q.X,d.a8,d.dn,d.n5,v.X$]}),n})();function k(n){return n.map(i=>({...i,fullName:(0,f._f)(i.ar_Name,i.en_Name),jobTitleName:(0,f._f)(i.jobTitleNameAr,i.jobTitleName),organization:(0,f._f)(i.organizationAr,i.organization),statusProperty:(0,f._f)(i.statusPropertyAr,i.statusProperty),phone:i.contacts?.map(t=>t.value).join(", "),photo:i.img?"/"+i.img:""}))}var z=r(28255);function Ge(n,i){1&n&&(e.TgZ(0,"mat-card-title",10)(1,"div",11)(2,"span",12),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",12),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",12),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",12),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"span",13),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"span",14),e._uU(18),e.ALo(19,"translate"),e.qZA()()()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,6,"JobRequisitions")," "),e.xp6(3),e.hij(" ",e.lcZ(7,8,"OpenVacances")," "),e.xp6(3),e.hij(" ",e.lcZ(10,10,"NoOfCandidates")," "),e.xp6(3),e.hij(" ",e.lcZ(13,12,"Pending")," "),e.xp6(3),e.hij(" ",e.lcZ(16,14,"Accepted")," "),e.xp6(3),e.hij(" ",e.lcZ(19,16,"Rejected")," "))}function Fe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-material-table",17),e.NdJ("onChangePage",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.getList(o.pageIndex+1,o.pageSize))})("deleteRow",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDelete(o))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("isLoaded",t.isLoaded)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("dataSource",t.dataSource)("actions",t.rowFunctions)("exportService",t.candidateService)}}function Be(n,i){if(1&n&&(e.TgZ(0,"mat-card",15),e.YNc(1,Fe,1,7,"app-material-table",16),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isTable)}}function Ye(n,i){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function ke(n,i){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.phone," ")}}const ze=function(n){return{"border-color":n}},Ve=function(n){return{parentView:n}},Ee=function(n){return{"background-color":n}};function Xe(n,i){if(1&n&&(e.TgZ(0,"div",28)(1,"mat-card",29),e._UZ(2,"img",30),e.TgZ(3,"div",31),e._UZ(4,"i",32)(5,"mat-menu",33,34),e.qZA(),e.TgZ(7,"mat-card-content")(8,"h4"),e._uU(9),e.qZA(),e._UZ(10,"mat-divider",35),e.YNc(11,Ye,2,1,"p",9),e.YNc(12,ke,2,1,"p",9),e.qZA(),e.TgZ(13,"mat-card-footer",36),e._UZ(14,"i",37),e._uU(15),e.qZA()()()),2&n){const t=i.$implicit,a=e.MAs(6),o=e.oxw(3);e.xp6(1),e.hYB("routerLink","/recruitment/",o.moduleId,"/candidate/view/",t.id,""),e.Q6J("ngStyle",e.VKq(11,ze,"1"==t.status?"#258f6e":"7"==t.status?"#da0000":"#374761"))("queryParams",e.VKq(13,Ve,o.getViewName)),e.xp6(1),e.Q6J("src",o.fileService.preview(t.img),e.LSH),e.xp6(1),e.Q6J("matMenuTriggerFor",a),e.xp6(6),e.Oqu(t.fullName),e.xp6(2),e.Q6J("ngIf",t.email),e.xp6(1),e.Q6J("ngIf",t.phone),e.xp6(1),e.Q6J("ngStyle",e.VKq(15,Ee,"1"==t.status?"#258f6e":"7"==t.status?"#da0000":"#374761")),e.xp6(2),e.hij(" ",t.statusProperty," ")}}function He(n,i){if(1&n&&(e.TgZ(0,"mat-expansion-panel",20,21)(2,"mat-expansion-panel-header")(3,"mat-panel-title",22)(4,"h4",12),e._uU(5),e.qZA(),e.TgZ(6,"h4",23),e._uU(7),e.qZA(),e.TgZ(8,"h4",23),e._uU(9),e.qZA(),e.TgZ(10,"h4",23),e._uU(11),e.qZA(),e.TgZ(12,"h4",24),e._uU(13),e.qZA(),e.TgZ(14,"h4",25),e._uU(15),e.qZA()()(),e.TgZ(16,"div",26),e.YNc(17,Xe,16,17,"div",27),e.qZA()()),2&n){const t=i.$implicit,a=i.index,o=e.oxw(2);e.Q6J("expanded",0==a),e.xp6(5),e.hij(" ",o.msgTranslate(t.jobTitleNameAr,t.jobTitleName)," "),e.xp6(2),e.hij(" ",t.openVacances," "),e.xp6(2),e.hij(" ",t.numOfCandidates," "),e.xp6(2),e.hij(" ",t.pendingNum," "),e.xp6(2),e.hij(" ",t.acceptededNum," "),e.xp6(2),e.hij(" ",t.rejectedNum," "),e.xp6(2),e.Q6J("ngForOf",t.candidateList)}}function $e(n,i){1&n&&(e.TgZ(0,"div",40),e._UZ(1,"p-skeleton",41),e.qZA())}const We=function(){return[]};function Ke(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",38),e.YNc(2,$e,2,0,"div",39),e.qZA(),e.BQk()),2&n&&(e.xp6(2),e.Q6J("ngForOf",e.DdM(1,We).constructor(6)))}function et(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",18),e.YNc(2,He,18,8,"mat-expansion-panel",19),e.qZA(),e.YNc(3,Ke,3,2,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.candidateList),e.xp6(1),e.Q6J("ngIf",!t.isCardLoaded)}}let tt=(()=>{class n extends u.U{constructor(t,a){super(),this.candidateService=t,this.dialog=a,this.isLoaded=!1,this.isCardLoaded=!1,this.isTable=!0,this.mandatoryColomns=["id","code","photo","fullName","organization","jobTitleName","phone","email","actions"],this.optionalColomns=[],this.candidateList=[]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&(this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage),this.getListCard())}ngOnInit(){}getList(t,a){this.dataSource=new g.by(null),this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.candidateService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==c.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new g.by(k(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}getListCard(){this.isCardLoaded=!1,this.candidateService.getListCard().pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==c.u.Success?t.data.forEach(a=>{this.candidateList.push({requestID:a.requestID,jobTitleName:a.jobTitleName,jobTitleNameAr:a.jobTitleNameAr,candidateList:k(a.candidateList),numOfCandidates:a.numOfCandidates,pendingNum:a.pendingNum,rejectedNum:a.rejectedNum,acceptededNum:a.acceptededNum,openVacances:a.openVacances}),this.isCardLoaded=!0}):this.errorList(t?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.candidateService.Delete(t.id).subscribe(a=>{a.message.messageType==c.u.Success?(this.isTable?this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize):(this.candidateList=[],this.getListCard()),this.deleteSuccessfullyMsg("candidateDeleted")):this.errorList(a?.message?.messages),this.hideLoading()})}switchTable(t){this.isTable=t,0==this.candidateList.length&&this.getListCard()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.L),e.Y36(b.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-candidate-index"]],features:[e.qOj],decls:11,vars:6,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","candidates","parentTitle","recruitment","TitleHasGlobalFunc","",3,"globalFunctions"],["data-toggle","buttons",1,"btn-group","btn-group-toggle","float-right","candidate-btn-group","mr-2","ml-2"],[3,"ngClass","click"],[1,"pi","pi-list"],[1,"fa","fa-bars"],[1,"clearfix"],["class","title-section second-section my-2",4,"ngIf"],["class","index-card mt-2",4,"ngIf"],[4,"ngIf"],[1,"title-section","second-section","my-2"],[1,"row","has-title","text-center"],[1,"col-6","col-md-2"],[1,"col-6","col-md-2","accepted"],["color","#da0000",1,"col-6","col-md-2","danger"],[1,"index-card","mt-2"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","dataSource","actions","exportService","onChangePage","deleteRow",4,"ngIf"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","dataSource","actions","exportService","onChangePage","deleteRow"],[1,"candidate-index-cards"],["class","mt-2",3,"expanded",4,"ngFor","ngForOf"],[1,"mt-2",3,"expanded"],["tab",""],[1,"row","text-center"],[1,"col-3","col-md-2"],[1,"col-3","col-md-2","accepted"],[1,"col-3","col-md-2","danger"],[1,"cards-container","row","mt-3","mb-2"],["class","col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 pbottom-15",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","col-xl-2","pbottom-15"],[1,"card","mb-5","text-center",3,"ngStyle","routerLink","queryParams"],["mat-card-image","",3,"src"],[1,"card-icon","text-center",3,"matMenuTriggerFor"],[1,"ft-more-vertical"],["xPosition","before",1,"text-center"],["menuRow","matMenu"],[1,"mbottom-7"],[3,"ngStyle"],[1,"pi","pi-circle-on"],[1,"row"],["class","col-2",4,"ngFor","ngForOf"],[1,"col-2"],["size","15rem"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.TgZ(2,"div",2)(3,"button",3),e.NdJ("click",function(){return a.switchTable(!0)}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return a.switchTable(!1)}),e._UZ(6,"i",5),e.qZA()(),e._UZ(7,"div",6),e.qZA(),e.YNc(8,Ge,20,18,"mat-card-title",7),e.YNc(9,Be,2,1,"mat-card",8),e.YNc(10,et,4,2,"div",9)),2&t&&(e.xp6(1),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(2),e.Q6J("ngClass",a.isTable?"btn btn-darkBlue float-right":"btn float-right"),e.xp6(2),e.Q6J("ngClass",a.isTable?"btn float-right":"btn  btn-darkBlue float-right"),e.xp6(3),e.Q6J("ngIf",!a.isTable),e.xp6(1),e.Q6J("ngIf",a.isTable),e.xp6(1),e.Q6J("ngIf",!a.isTable))},dependencies:[p.mk,p.sg,p.O5,p.PC,S.rH,x.I,C.T,q.X,d.a8,d.dn,d.n5,d.rt,d.G2,A.d,_.ib,_.yz,_.yK,z.VK,z.p6,U.O,v.X$],styles:[".has-fixed-title[_ngcontent-%COMP%]{margin-top:45px!important}.sub-fixed-section[_ngcontent-%COMP%]{margin-top:115px!important}.has-title[_ngcontent-%COMP%]{color:#5e6366;font-size:23px;font-weight:500}.second-section[_ngcontent-%COMP%], .candidate-index-cards[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{border-radius:10px}.candidate-index-cards[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding-bottom:40px;padding-top:40px;height:-moz-fit-content;height:fit-content}.candidate-index-cards[_ngcontent-%COMP%]   .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{border-radius:0;border-bottom:2px solid #eaeaea}.candidate-index-cards[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{font-size:24px;font-weight:300;color:#374761}.candidate-index-cards[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow-x:auto}.candidate-index-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:3px solid #374761;padding:16px 7px!important;height:100%;margin-bottom:0!important;margin-top:0!important;position:relative;cursor:pointer}.candidate-index-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14.8px;text-align:center;color:#101317}.candidate-index-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12.2px;text-align:start;color:#555}.candidate-index-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:160px;margin-bottom:8px}.candidate-index-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:9px;width:30px;height:30px;border-radius:50%;background-color:#0009;padding:5px;color:#f0f8ff;cursor:pointer}.candidate-index-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mat-card-image[_ngcontent-%COMP%]{width:calc(100% + 14px);margin:-16px -7px 8px}.candidate-index-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{margin-bottom:30px}.candidate-index-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]{background-color:#374761;color:#f0f8ff;padding:10px;margin:0 -7px -16px;bottom:16px;width:100%;position:absolute;border-radius:0 0 7px 7px}.candidate-index-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px;margin-right:3px}.candidate-index-cards[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{color:#f0f8ff;margin:10px}  .candidate-index-cards .mat-expansion-indicator:after{padding:4px!important;border-width:0px 3px 3px 0px!important;color:#374761}  .candidate-index-cards .mat-menu-panel{background-color:#0009;border-radius:18px!important;margin-right:40px;margin-top:-28px}  .candidate-index-cards mat-divider{color:#eaeaea}.accepted[_ngcontent-%COMP%]{color:#258f6e}@media (min-width: 500px) and (max-width: 1550px){.sub-fixed-section[_ngcontent-%COMP%]{margin-top:165px!important}.mat-expansion-panel-header[_ngcontent-%COMP%]{height:120px!important;padding-bottom:30px}.has-fixed-title[_ngcontent-%COMP%]{margin-top:55px!important}}.danger[_ngcontent-%COMP%]{color:#da0000!important}.title-no-margin[_ngcontent-%COMP%]{padding-left:42px!important;padding-right:40px!important;font-size:27}.btn[_ngcontent-%COMP%]{border:solid 1.5px #374761}@media (min-width: 500px){.candidate-btn-group[_ngcontent-%COMP%]{position:relative;top:-42px;right:180px}.candidate-btn-group[_ngcontent-%COMP%] ~ div[_ngcontent-%COMP%]{height:0}}"]}),n})();var V=r(2456),nt=r(93268),it=r(7214);let ot=(()=>{class n extends u.U{constructor(t){super(),this.activitySetupService=t,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","totalScore","scoreToPass","activityType","cost","actions"],this.isLoaded=!1,this.optionalColomns=["description"]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.dataSource=new g.by(null),this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.activitySetupService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==c.u.Success?(this.dataSource=new g.by(function at(n){return n.map(i=>({...i,activityType:(0,f._f)(i.rec_ActivityType?.ar_Name,i.rec_ActivityType?.en_Name)}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta):this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.activitySetupService.Delete(t.id).subscribe(a=>{a.message.messageType==c.u.Success?(this.deleteSuccessfullyMsg("activityRemoved"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}openAddEditDialog(t,a){this.dialogsService.addEditDialog(nt.Y,{data:t},{width:"55vw",minWidth:"400px",maxWidth:"1000px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(o=>{o&&this.getList(a?this.lastPage:this.currentPage)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(it.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-activity-setup-index"]],features:[e.qOj],decls:4,vars:8,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","activitySetup","parentTitle","recruitment","TitleHasGlobalFunc","",3,"globalFunctions","action"],[1,"index-card"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card-title",0)(1,"page-title",1),e.NdJ("action",function(){return a.openAddEditDialog(null,!0)}),e.qZA()(),e.TgZ(2,"mat-card",2)(3,"app-material-table",3),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("editRow",function(s){return a.openAddEditDialog(s,!1)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(2),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.activitySetupService)("actions",a.rowFunctions))},dependencies:[x.I,C.T,q.X,d.a8,d.n5]}),n})();var E=r(26680);let rt=(()=>{class n extends u.U{constructor(t){super(),this.recruitmentPlanService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","from_Date","to_Date","noOfRequisitions","vacantPlaces","actions"],this.optionalColomns=[]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,a){this.dataSource=new g.by(null),this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.recruitmentPlanService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==c.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new g.by(function st(n){return n.map(i=>({...i.rec_Plan,noOfRequisitions:i.noOfRequisition,from_Date:f.M6.mapDate(i.rec_Plan?.from_Date),to_Date:f.M6.mapDate(i.rec_Plan?.to_Date),vacantPlaces:i.vacantPlaces}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.recruitmentPlanService.Delete(t.id).subscribe(a=>{a.message.messageType==c.u.Success?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg("recruitmentPlanRemoved")):this.errorList(a?.message?.messages),this.hideLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recruitment-plan-index"]],features:[e.qOj],decls:8,vars:13,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","recruitmentPlans","parentTitle","recruitment","TitleHasGlobalFunc","",3,"globalFunctions"],[1,"index-card"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId","moduleId"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.qZA(),e.TgZ(2,"mat-card",2)(3,"mat-card-content")(4,"app-material-table",3),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()(),e.TgZ(5,"side-helping-menu",4),e.ALo(6,"translate"),e._UZ(7,"app-dashboard-display",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(3),e.Q6J("isLoaded",a.isLoaded)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions)("dataSource",a.dataSource)("exportService",a.recruitmentPlanService),e.xp6(1),e.s9C("title",e.lcZ(6,11,"Dashboard")),e.xp6(2),e.Q6J("serviceId",a.getCurrentServiceId())("moduleId",a.moduleId))},dependencies:[x.I,C.T,B.c,Y.b,q.X,d.a8,d.dn,d.n5,v.X$]}),n})(),X=(()=>{class n extends u.U{constructor(){super(),this.planId=0,this.submitted=!1}onChangeBusinessAndCompanyId(){}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[l.kI.required,I.w.whiteSpace]],en_Name:[null,[l.kI.required,I.w.whiteSpace]],from_Date:[null,[l.kI.required]],to_Date:[null,[l.kI.required]],note:[null]},{validator:[I.w.compareDates("from_Date","to_Date")]})}get formCtrls(){return this.form.controls}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-recruitment-plan-general-info"]],inputs:{planId:"planId",submitted:"submitted"},features:[e.qOj],decls:13,vars:11,consts:[[3,"formGroup"],[1,"row","ptop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","start_date",3,"control","submitted"],["label","end_date",3,"control","submitted"],["label","notes",3,"control","submitted"]],template:function(t,a){1&t&&(e.TgZ(0,"form",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"app-input",3),e.qZA(),e.TgZ(5,"div",2),e._UZ(6,"app-input",4),e.qZA(),e.TgZ(7,"div",2),e._UZ(8,"app-datepicker",5),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-datepicker",6),e.qZA(),e.TgZ(11,"div",2),e._UZ(12,"app-input",7),e.qZA()(),e.BQk(),e.qZA()),2&t&&(e.Q6J("formGroup",a.form),e.xp6(4),e.Q6J("control",a.formCtrls.en_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.ar_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.from_Date)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.to_Date)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.note)("submitted",a.submitted))},dependencies:[P.Q,J.a,l._Y,l.JL,l.sg]}),n})();const dt=function(){return[]};let H=(()=>{class n extends u.U{constructor(t){super(),this.recruitmentRequestService=t,this.planId=0,this.isLoaded=!1,this.displayedColumns=["jobTitle","organization","vacantPlaces","startDate","endDate","employmentType",y.g.selectAllColumnName]}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.getAllRequests()}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],requestIds:[[],[l.kI.required]]}),this.page.pageSize=5}ngOnChanges(t){}get formCtrls(){return this.form.controls}getAllRequests(){this.recruitmentRequestService.getAll().subscribe(t=>{t.message.messageType==c.u.Success?(this.allRequests=(0,F.y)(t.data),this.page.length=this.allRequests.length,this.isLoaded=!0):this.errorList(t?.message?.messages)})}getSelectedEmployees(t){this.formCtrls.requestIds.setValue(t.map(a=>a.id)??[])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-recruitment-plan-requests"]],inputs:{planId:"planId"},features:[e.qOj,e.TTD],decls:1,vars:9,consts:[[1,"table-in-forms",3,"isLoaded","mandatoryColomns","optionalColomns","allDataTable","page","showFilter","isCenterPaginator","showSpaceTop","selectedItems"]],template:function(t,a){1&t&&(e.TgZ(0,"app-material-table",0),e.NdJ("selectedItems",function(s){return a.getSelectedEmployees(s)}),e.qZA()),2&t&&e.Q6J("isLoaded",a.isLoaded)("mandatoryColomns",a.displayedColumns)("optionalColomns",e.DdM(8,dt))("allDataTable",a.allRequests)("page",a.page)("showFilter",!0)("isCenterPaginator",!0)("showSpaceTop",!1)},dependencies:[x.I]}),n})();var lt=r(78192);function ct(n,i){if(1&n&&e._UZ(0,"app-add-new-btn",3),2&n){const t=e.oxw();e.MGl("url","/recruitment/",t.moduleId,"/plan/add"),e.Q6J("params",t.parentParam)}}let pt=(()=>{class n extends u.U{constructor(t){super(),this.recruitmentPlanService=t,this.isAdd=!0,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,0==this.requestsComponent.formCtrls.requestIds.value.length)return this.warning("selectOneJobRequisition","validation");let t=this.generalInfoComponent.formCtrls;if(this.generalInfoComponent.form.valid){let a={rec_Plan:{ar_Name:t.ar_Name.value,en_Name:t.en_Name.value,from_Date:t.from_Date.value,to_Date:t.to_Date.value,note:t.note.value},rec_Plan_Requests:[]};this.requestsComponent.formCtrls.requestIds.value.forEach(o=>{a.rec_Plan_Requests.push({request_ID:o})}),this.create(a)}}create(t){this.showLoading(),this.recruitmentPlanService.create(t).subscribe(a=>{a?.message?.messageType==c.u.Success?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newRecruitmentPlanAdded"),this.router.navigate([`/recruitment/${this.moduleId}/plan`],{queryParams:this.pageParams})):this.errorList(a?.message?.messages),this.hideLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-recruitment-plan-core"]],viewQuery:function(t,a){if(1&t&&(e.Gf(X,5),e.Gf(H,5)),2&t){let o;e.iGM(o=e.CRH())&&(a.generalInfoComponent=o.first),e.iGM(o=e.CRH())&&(a.requestsComponent=o.first)}},features:[e.qOj],decls:20,vars:23,consts:[[1,"title-no-margin","title-section","fixed-title"],["addTitle","addRecruitmentPlan","editTitle","editRecruitmentPlan",3,"id","parentTitle","parentTitleLink","title","parentLinkParams"],[3,"url","params",4,"ngIf"],[3,"url","params"],["multi","",1,"add-forms-expansions"],["expanded","",1,"mtop-20"],[3,"submitted"],["expanded","",1,"mtop-20","mbottom-30"],["saveLabel","add",3,"id","url","pageParams","submit"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.YNc(4,ct,1,2,"app-add-new-btn",2),e._UZ(5,"app-back-btn",3),e.qZA(),e.TgZ(6,"mat-accordion",4)(7,"mat-expansion-panel",5)(8,"mat-expansion-panel-header")(9,"mat-panel-title"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e._UZ(12,"app-add-recruitment-plan-general-info",6),e.qZA(),e.TgZ(13,"mat-expansion-panel",7)(14,"mat-expansion-panel-header")(15,"mat-panel-title"),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e._UZ(18,"app-add-recruitment-plan-requests"),e.qZA()(),e.TgZ(19,"app-fixed-card-actions",8),e.NdJ("submit",function(){return a.submit()}),e.qZA()),2&t&&(e.xp6(1),e.hYB("parentTitle","",e.lcZ(2,15,"recruitment")," / ",e.lcZ(3,17,"recruitmentPlans"),""),e.MGl("parentTitleLink","/recruitment/",a.moduleId,"/plan"),e.Q6J("id",a.isAdd?0:1)("title",a.isAdd?"add":"edit")("parentLinkParams",a.pageParams),e.xp6(3),e.Q6J("ngIf",!a.isAdd),e.xp6(1),e.MGl("url","/recruitment/",a.moduleId,"/plan/index"),e.Q6J("params",a.pageParams),e.xp6(5),e.hij(" ",e.lcZ(11,19,"generalInfo"),""),e.xp6(2),e.Q6J("submitted",a.submitted),e.xp6(4),e.hij(" ",e.lcZ(17,21,"JobRequisition"),""),e.xp6(3),e.MGl("url","/recruitment/",a.moduleId,"/plan"),e.Q6J("id",a.isAdd?0:1)("pageParams",a.pageParams))},dependencies:[p.O5,L.a,R.J,C.T,lt.C,d.n5,_.pp,_.ib,_.yz,_.yK,X,H,v.X$]}),n})();var mt=r(77998),ut=r(49054);let gt=(()=>{class n extends u.U{constructor(t){super(),this.recTemplatesService=t,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","relatedJobTitles","activities","actions"],this.isLoaded=!1,this.optionalColomns=[],this.cellWithDifferentHoverList=[{col:"relatedJobTitles",hoverProperty:"hoverJobTitles",checkProperty:"showJobTitlesHover"},{col:"activities",hoverProperty:"hoverActivities",checkProperty:"showActivitiesHover"}]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,a){this.dataSource=new g.by(null),this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.recTemplatesService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==c.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new g.by((0,mt.X)(s.data,this.languageService)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.en_Name,t.ar_Name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.recTemplatesService.Delete(t.id).subscribe(a=>{a.message.messageType==c.u.Success?(this.deleteSuccessfullyMsg("activityTemplateRemoved"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ut.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-activity-templates-index"]],features:[e.qOj],decls:5,vars:9,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","activityTemplates","parentTitle","recruitment","TitleHasGlobalFunc","",3,"globalFunctions"],[1,"index-card"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","cellWithDifferentHoverList","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.qZA(),e.TgZ(2,"mat-card",2)(3,"mat-card-content")(4,"app-material-table",3),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(3),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.recTemplatesService)("actions",a.rowFunctions)("cellWithDifferentHoverList",a.cellWithDifferentHoverList))},dependencies:[x.I,C.T,q.X,d.a8,d.dn,d.n5]}),n})();var $=r(61875),ht=r(88613);let W=(()=>{class n extends u.U{constructor(){super(),this.completed=new e.vpe,this.submitted=!1,this.customColorList=[{color:"#26789c",label:"mandatory",isDefault:!0},{color:"#cc6d2c",label:"optional"}]}ngOnChanges(t){t.request&&this.request&&(this.formCtrls.jobDescription.setValue(this.request.request?.req_Job_Descriptrion),this.formCtrls.requirements.setValue(this.request.request?.requirements))}ngOnInit(){this.form=this.fb.group({jobDescription:[null,[l.kI.required]],requirements:[null,[l.kI.required]]}),this.form.valueChanges.subscribe(t=>{let a=f.M6.noOfInvalidAndRequiredInputs(this.form);this.completed.emit(0==a)})}get formCtrls(){return this.form.controls}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-rec-request-description"]],inputs:{request:"request"},outputs:{completed:"completed"},features:[e.qOj,e.TTD],decls:12,vars:7,consts:[[1,"title-no-margin"],["title","descriptionInformation",1,"stepper-section-title"],[1,"mt-2"],[1,"clearfix"],[1,"container-fluid","mtop-40"],[3,"formGroup"],[1,"row"],[1,"col-12"],["label","jobDescription","height","120",3,"control","submitted","customColorListWithLabels"],["label","requirements","height","300",3,"control","submitted","customColorListWithLabels"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-title",0),e._UZ(2,"page-title",1),e.qZA(),e._UZ(3,"mat-divider",2)(4,"div",3),e.TgZ(5,"mat-card-content",4)(6,"form",5)(7,"div",6)(8,"div",7),e._UZ(9,"app-text-editor",8),e.qZA(),e.TgZ(10,"div",7),e._UZ(11,"app-text-editor",9),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.jobDescription)("submitted",a.submitted)("customColorListWithLabels",a.customColorList),e.xp6(2),e.Q6J("control",a.formCtrls.requirements)("submitted",a.submitted)("customColorListWithLabels",a.customColorList))},dependencies:[C.T,ht.d,d.a8,d.dn,d.n5,A.d,l._Y,l.JL,l.sg]}),n})();var ft=r(59273),_t=r(85443),Ct=r(15362),vt=r(50260),bt=r(51456),It=r(60887),Tt=r(25677),xt=r(24275),Zt=r(52814),At=r(53854),yt=r(14040);let K=(()=>{class n extends u.U{constructor(t){super(),this.employeeAssignAsOrgManagerService=t,this.changeRequestId=new e.vpe,this.completed=new e.vpe,this.changeJobTitleId=new e.vpe,this.changeOrgId=new e.vpe,this.submitted=!1,this.constants=y.g,this.managerId=0,this.getManagerFromSelectedOrg=!0}ngOnChanges(t){t.request&&this.request&&(this.getManagerFromSelectedOrg=!1,this.form.patchValue(this.request),this.form.patchValue(this.request.request),this.formCtrls.gender_ID.setValue(this.request.gender_ID>0?this.request.gender_ID:null),this.formCtrls.org_type_ID.setValue(this.request.orgTypeId),this.formCtrls.org_ID.setValue(this.request.org?.id),this.formCtrls.job_Title_ID.setValue(this.request.job_Title?.id),this.managerId=this.request.hiring_Manager?.core_Person?.id,this.formCtrls.hiringManager.setValue(this.msgTranslate(this.request.hiring_Manager?.core_Person?.ar_Name,this.request.hiring_Manager?.core_Person?.en_Name)),setTimeout(()=>{this.getManagerFromSelectedOrg=!0},3e3))}ngOnInit(){this.form=this.fb.group({org_type_ID:[null,[l.kI.required]],org_ID:[null,[l.kI.required]],job_Title_ID:[null,[l.kI.required]],job_Level_ID:[null,[l.kI.required]],hiringManager:[null],technical_Assessor_ID:[null],periorty_ID:[null,[l.kI.required]],request_Reason_ID:[null,[l.kI.required]],employementType_ID:[null,[l.kI.required]],emp_No:[null,[Q.dN.gte(1)]],workPlace_ID:[null,[l.kI.required]],locationID:[null,[l.kI.required]],gender_ID:[null],from_Date:[null,[l.kI.required]],other_requirment:[null],note:[null]}),this.form.valueChanges.subscribe(t=>{let a=f.M6.noOfInvalidAndRequiredInputs(this.form);this.completed.emit(0==a)})}get formCtrls(){return this.form.controls}onChangeOrg(t){this.getManagerFromSelectedOrg&&(this.formCtrls.hiringManager.setValue(null),t?.length>0&&this.employeeAssignAsOrgManagerService.getOrgManager(t[0].id).subscribe(a=>{a?.message?.messageType==c.u.Success?a.data.length>0?(this.formCtrls.hiringManager.setValue(this.msgTranslate(a.data[0].core_Person_Instance?.core_Person?.ar_Name,a.data[0].core_Person_Instance?.core_Person?.en_Name)),this.managerId=a.data[0].core_Person_Instance?.core_Person?.id):this.managerId=0:this.errorList(a?.message?.messages)})),this.changeOrgId.emit(t?.length>0?t[0].id:0)}onChangeJobTitle(t){this.changeJobTitleId.emit(t?.length>0?t[0].id:0)}onChangeWorkplace(t){t?.length>0&&t[0].id==y.g.remoteWorkPlaceId&&this.formCtrls.locationID.setValue(null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ft.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-recruitment-request"]],inputs:{request:"request"},outputs:{changeRequestId:"changeRequestId",completed:"completed",changeJobTitleId:"changeJobTitleId",changeOrgId:"changeOrgId"},features:[e.qOj,e.TTD],decls:35,vars:52,consts:[[1,"container-fluid","mtop-40"],[3,"formGroup"],[1,"row"],[1,"col-md-6","col-lg-3","col-12"],[3,"control","submitted","filter"],[3,"control","orgTypeControl","submitted","filter","change"],[3,"control","organizationControl","organizationControlRequired","submitted","filter","change"],["label","hiringManager",3,"control","submitted","disabled"],[3,"control","submitted","filter","managerId","jobId","disable"],["type","number","label","vacantPlaces",3,"control","submitted"],[3,"control","submitted","filter","change"],[3,"control","submitted","filter","disable"],[3,"control","submitted","inculdeBoth"],["label","fromDateExpected",3,"control","submitted"],["label","otherRequirment",3,"control","submitted"],["label","note",3,"control","submitted"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card-content",0)(1,"form",1)(2,"div",2)(3,"div",3),e._UZ(4,"app-org-types-dropdown-current-structure",4),e.qZA(),e.TgZ(5,"div",3)(6,"app-organization-by-org-type-dropdown",5),e.NdJ("change",function(s){return a.onChangeOrg(s)}),e.qZA()(),e.TgZ(7,"div",3)(8,"app-job-title-by-org-dropdown",6),e.NdJ("change",function(s){return a.onChangeJobTitle(s)}),e.qZA()(),e.TgZ(9,"div",3),e._UZ(10,"app-request-level-dropdown",4),e.qZA(),e.TgZ(11,"div",3),e._UZ(12,"app-input",7),e.qZA(),e.TgZ(13,"div",3),e._UZ(14,"app-request-technical-assessor-dropdown",8),e.qZA(),e.TgZ(15,"div",3),e._UZ(16,"app-request-priority-dropdown",4),e.qZA(),e.TgZ(17,"div",3),e._UZ(18,"app-request-reason-dropdown",4),e.qZA(),e.TgZ(19,"div",3),e._UZ(20,"app-employment-type-dropdown",4),e.qZA(),e.TgZ(21,"div",3),e._UZ(22,"app-input",9),e.qZA(),e.TgZ(23,"div",3)(24,"app-work-place-dropdown",10),e.NdJ("change",function(s){return a.onChangeWorkplace(s)}),e.qZA()(),e.TgZ(25,"div",3),e._UZ(26,"org-location-dropdown",11),e.qZA(),e.TgZ(27,"div",3),e._UZ(28,"app-gender-dropdown",12),e.qZA(),e.TgZ(29,"div",3),e._UZ(30,"app-datepicker",13),e.qZA(),e.TgZ(31,"div",3),e._UZ(32,"app-input",14),e.qZA(),e.TgZ(33,"div",3),e._UZ(34,"app-input",15),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.org_type_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.org_ID)("orgTypeControl",a.formCtrls.org_type_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.job_Title_ID)("organizationControl",a.formCtrls.org_ID)("organizationControlRequired",!0)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.job_Level_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.hiringManager)("submitted",a.submitted)("disabled",!0),e.xp6(2),e.Q6J("control",a.formCtrls.technical_Assessor_ID)("submitted",a.submitted)("filter",!0)("managerId",a.managerId)("jobId",a.formCtrls.job_Title_ID.value)("disable",!a.formCtrls.job_Title_ID.value&&!a.managerId),e.xp6(2),e.Q6J("control",a.formCtrls.periorty_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.request_Reason_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.employementType_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.emp_No)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.workPlace_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.locationID)("submitted",a.submitted)("filter",!0)("disable",a.formCtrls.workPlace_ID.value==a.constants.remoteWorkPlaceId),e.xp6(2),e.Q6J("control",a.formCtrls.gender_ID)("submitted",a.submitted)("inculdeBoth",!1),e.xp6(2),e.Q6J("control",a.formCtrls.from_Date)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.other_requirment)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.note)("submitted",a.submitted))},dependencies:[P.Q,J.a,d.dn,_t.A,Ct.s,j.a,vt.v,bt.v,It.p,Tt.W,xt.P,Zt.C,At.g,yt.k,l._Y,l.JL,l.sg]}),n})();var qt=r(50377),ee=r(6314),Dt=r(92972),wt=r(34748),te=r(93665),St=r(38368),Lt=r(40445),ae=r(3848),Rt=r(76838);function Pt(n,i){if(1&n&&(e.TgZ(0,"div",7),e._UZ(1,"app-view-data-row-item",8)(2,"app-view-data-row-item",9)(3,"app-view-data-row-item",10)(4,"app-view-data-row-item",11)(5,"app-view-data-row-item",12)(6,"app-view-data-row-item",13)(7,"app-view-data-row-item",14)(8,"app-view-data-row-item",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.ar_Name),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.en_Name),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.jobFamily),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.parentJobTitleName),e.xp6(1),e.Q6J("value",t.remainingVacentPlaces),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Grade?null:t.jobTitle.core_Grade.miN_SALARY),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Grade?null:t.jobTitle.core_Grade.middel_Salary),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Grade?null:t.jobTitle.core_Grade.maX_SALARY)}}function Jt(n,i){1&n&&e._UZ(0,"app-view-card-row-skeleton")}function Nt(n,i){if(1&n&&(e.TgZ(0,"div",7),e._UZ(1,"app-view-data-row-item",16)(2,"app-view-data-row-item",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.joB_PURPOSE)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.responsibilitieS_DUTIES)("textEditor",!0)}}function Ot(n,i){1&n&&e._UZ(0,"app-view-card-row-skeleton")}function Ut(n,i){if(1&n&&(e.TgZ(0,"div",7),e._UZ(1,"app-view-data-row-item",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.knowledgE_SKILLS)("textEditor",!0)}}function Qt(n,i){1&n&&e._UZ(0,"app-view-card-row-skeleton")}let jt=(()=>{class n extends u.U{constructor(t,a,o){super(),this.jobTitleService=t,this.assignJobToOrgService=a,this.dialog=o,this.jobTitleId=0,this.orgId=0,this.isLoaded=!1,this.kpiMandatoryColomns=["kpi"],this.kpiOptionalColomns=[]}ngOnInit(){}ngOnChanges(t){t.jobTitleId?.currentValue>0&&(this.getDetailsById(),this.orgId>0&&this.getRemainVacentPlaces())}onChangeBusinessAndCompanyId(){this.jobTitleId>0&&this.checkNoBusinessOrCompany()&&(this.getDetailsById(),this.orgId>0&&this.getRemainVacentPlaces())}getDetailsById(){this.jobTitle=null,this.kpiDataSource=new g.by(null),this.isLoaded=!1,this.jobTitleService.getDetailsById(this.jobTitleId).subscribe(t=>{t.message.messageType==c.u.Success?(this.jobTitle=(0,ee.gc)(t.data)[0],this.kpiDataSource=new g.by((0,ee.Uh)(t.data[0].core_Job_Title_KPI)),this.isLoaded=!0):this.errorList(t?.message?.messages)})}getRemainVacentPlaces(){this.remainingVacentPlaces=null,this.assignJobToOrgService.getAllByOrgId(this.orgId,this.jobTitleId).subscribe(t=>{if(t.message.messageType==c.u.Success){let a=t.data[0];this.remainingVacentPlaces=0==a.max_Employee?this.translate("unlimited"):a.remaining}else this.errorList(t?.message?.messages)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Dt._),e.Y36(wt.z),e.Y36(b.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-recruitment-job-details"]],inputs:{jobTitleId:"jobTitleId",orgId:"orgId"},features:[e.qOj,e.TTD],decls:24,vars:29,consts:[[1,"mtop-20"],[1,"col-12","w-100","view-tabs-group",3,"dir"],[3,"label"],[1,"ptop-10"],["class","view-data-row-container",4,"ngIf"],[4,"ngIf"],[3,"jobId","showIndexOnly"],[1,"view-data-row-container"],["label","ar_Name",1,"w-md-20","mb-2",3,"value"],["label","en_Name",1,"w-md-20","mb-2",3,"value"],["label","jobFamily",1,"w-md-20","mb-2",3,"value"],["label","parentJobTitle",1,"w-md-20","mb-2",3,"value"],["label","remainingVacentPlaces",1,"w-md-20","mb-2",3,"value"],["label","miN_SALARY",1,"w-md-20","mb-2",3,"value"],["label","middel_Salary",1,"w-md-20","mb-2",3,"value"],["label","maX_SALARY",1,"w-md-20","mb-2",3,"value"],["label","jobPurpose",1,"col-12","px-0","mb-2",3,"value","textEditor"],["label","responsibilitiesDuties",1,"col-12","px-0","mb-2",3,"value","textEditor"],["label","knowledgeSkills",1,"col-12","px-0","mb-2",3,"value","textEditor"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-tab-group",1)(2,"mat-tab",2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.TgZ(5,"mat-card-content",3),e.YNc(6,Pt,9,8,"div",4),e.YNc(7,Jt,1,0,"app-view-card-row-skeleton",5),e.qZA()(),e.TgZ(8,"mat-tab",2),e.ALo(9,"titlecase"),e.ALo(10,"translate"),e.TgZ(11,"mat-card-content",3),e.YNc(12,Nt,3,4,"div",4),e.YNc(13,Ot,1,0,"app-view-card-row-skeleton",5),e.qZA()(),e.TgZ(14,"mat-tab",2),e.ALo(15,"titlecase"),e.ALo(16,"translate"),e.TgZ(17,"mat-card-content",3),e.YNc(18,Ut,2,2,"div",4),e.YNc(19,Qt,1,0,"app-view-card-row-skeleton",5),e.qZA()(),e.TgZ(20,"mat-tab",2),e.ALo(21,"titlecase"),e.ALo(22,"translate"),e._UZ(23,"app-job-competences",6),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("dir",a.languageService.isArabic?"rtl":"ltr"),e.xp6(1),e.s9C("label",e.lcZ(3,13,e.lcZ(4,15,"generalInfo"))),e.xp6(4),e.Q6J("ngIf",a.isLoaded),e.xp6(1),e.Q6J("ngIf",!a.isLoaded),e.xp6(1),e.s9C("label",e.lcZ(9,17,e.lcZ(10,19,"jobDescription"))),e.xp6(4),e.Q6J("ngIf",a.isLoaded),e.xp6(1),e.Q6J("ngIf",!a.isLoaded),e.xp6(1),e.s9C("label",e.lcZ(15,21,e.lcZ(16,23,"jobRequirements"))),e.xp6(4),e.Q6J("ngIf",a.isLoaded),e.xp6(1),e.Q6J("ngIf",!a.isLoaded),e.xp6(1),e.s9C("label",e.lcZ(21,25,e.lcZ(22,27,"competences"))),e.xp6(3),e.Q6J("jobId",a.jobTitleId)("showIndexOnly",!0))},dependencies:[p.O5,te.l,St.I,Lt.Lv,ae.SP,ae.uX,d.a8,d.dn,Rt.T,p.rS,v.X$]}),n})();const Mt=["stepper"];function Gt(n,i){if(1&n&&e._UZ(0,"app-add-new-btn",3),2&n){const t=e.oxw();e.MGl("url","/recruitment/",t.moduleId,"/request/add"),e.Q6J("params",t.parentParam)}}function Ft(n,i){1&n&&e._UZ(0,"i",17)}function Bt(n,i){if(1&n&&e._UZ(0,"app-add-recruitment-job-details",18),2&n){const t=e.oxw();e.Q6J("jobTitleId",t.jobTitleID)("orgId",t.orgId)}}function Yt(n,i){1&n&&e._UZ(0,"i",17)}let ne=(()=>{class n extends u.U{constructor(t,a){super(),this.recruitmentRequestService=t,this.organizationTypesService=a,this.requestId=0,this.isGeneraCompleted=!1,this.isDescriptionCompleted=!1,this.jobTitleID=0,this.orgId=0}onChangeBusinessAndCompanyId(){this.requestId>0&&this.checkNoBusinessOrCompany()&&this.getRequestById()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.requestId=Number(t.id??0)})}stepChanged(){this.stepper.selected.interacted=!1}getRequestId(t){this.requestId=t}getRequestById(){this.showLoading(),this.recruitmentRequestService.getById(this.requestId).subscribe(t=>{t.message.messageType==c.u.Success?(this.getOrgTypeByOrgId(t.data[0]),this.jobTitleID=t.data[0].job_Title?.id):(this.errorList(t?.message?.messages),this.hideLoading())})}getOrgTypeByOrgId(t){this.organizationTypesService.GetAll_CurrentStructure(t.org.id).subscribe(a=>{a.message.messageType==c.u.Success?(t.orgTypeId=a.data[0].id,this.request=t,this.hideLoading()):this.errorList(a?.message?.messages)})}submit(){if(this.generalInfoComponent.submitted=!0,this.descriptionComponent.submitted=!0,this.generalInfoComponent.form.valid&&this.descriptionComponent.form.valid){let t=this.generalInfoComponent.formCtrls,a=this.descriptionComponent.formCtrls,o={org_ID:t.org_ID.value,job_Title_ID:t.job_Title_ID.value,gender_ID:t.gender_ID.value,job_Level_ID:t.job_Level_ID.value,technical_Assessor_ID:t.technical_Assessor_ID.value,hiring_Manager_ID:this.generalInfoComponent.managerId,rec_Request:{id:this.requestId,emp_No:t.emp_No.value,from_Date:t.from_Date.value,request_Reason_ID:t.request_Reason_ID.value,employementType_ID:t.employementType_ID.value,other_requirment:t.other_requirment.value,periorty_ID:t.periorty_ID.value,workPlace_ID:t.workPlace_ID.value,note:t.note.value,req_Job_Descriptrion:a.jobDescription.value,requirements:a.requirements.value}};0==o.rec_Request.id?this.create(o):this.update(o)}}create(t){this.showLoading(),this.recruitmentRequestService.create(t).subscribe(a=>{a?.message?.messageType==c.u.Success?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newRequestAdded"),this.requestId=a.data.rec_Request.id,this.router.navigate([`/recruitment/${this.moduleId}/request`],{queryParams:this.pageParams})):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.recruitmentRequestService.update(t).subscribe(a=>{a?.message?.messageType==c.u.Success?this.updateSuccessfullyMsg("requestUpdated"):this.errorList(a?.message?.messages),this.hideLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.O),e.Y36(qt.w))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-rec-request-core"]],viewQuery:function(t,a){if(1&t&&(e.Gf(Mt,5),e.Gf(K,5),e.Gf(W,5)),2&t){let o;e.iGM(o=e.CRH())&&(a.stepper=o.first),e.iGM(o=e.CRH())&&(a.generalInfoComponent=o.first),e.iGM(o=e.CRH())&&(a.descriptionComponent=o.first)}},features:[e.qOj],decls:26,vars:35,consts:[[1,"title-no-margin","title-section","fixed-title"],["addTitle","addJobRequisition","editTitle","addJobRequisition",3,"id","parentTitle","parentTitleLink","title","parentLinkParams"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"has-fixed-title"],[3,"linear","disableRipple","selectionChange"],["stepper",""],[3,"label","completed"],["matStepperIcon","edit"],[1,"title-no-margin"],["title","jobOpeningInformation",1,"stepper-section-title"],[1,"mt-2"],[1,"clearfix"],[3,"request","changeRequestId","completed","changeJobTitleId","changeOrgId"],[3,"jobTitleId","orgId",4,"ngIf"],[3,"request","completed"],[3,"stepper","parentParam","url","pageParams","returnAfterFinish","finish"],[1,"fas","fa-check"],[3,"jobTitleId","orgId"]],template:function(t,a){if(1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.YNc(4,Gt,1,2,"app-add-new-btn",2),e._UZ(5,"app-back-btn",3),e.qZA(),e.TgZ(6,"mat-card-content",4)(7,"mat-stepper",5,6),e.NdJ("selectionChange",function(){return a.stepChanged()}),e.TgZ(9,"mat-step",7),e.ALo(10,"titlecase"),e.ALo(11,"translate"),e.YNc(12,Ft,1,0,"ng-template",8),e.TgZ(13,"mat-card")(14,"mat-card-title",9),e._UZ(15,"page-title",10),e.qZA(),e._UZ(16,"mat-divider",11)(17,"div",12),e.TgZ(18,"app-add-recruitment-request",13),e.NdJ("changeRequestId",function(s){return a.getRequestId(s)})("completed",function(s){return a.isGeneraCompleted=s})("changeJobTitleId",function(s){return a.jobTitleID=s})("changeOrgId",function(s){return a.orgId=s}),e.qZA()(),e.YNc(19,Bt,1,2,"app-add-recruitment-job-details",14),e.qZA(),e.TgZ(20,"mat-step",7),e.ALo(21,"titlecase"),e.ALo(22,"translate"),e.YNc(23,Yt,1,0,"ng-template",8),e.TgZ(24,"app-add-rec-request-description",15),e.NdJ("completed",function(s){return a.isDescriptionCompleted=s}),e.qZA()()()(),e.TgZ(25,"steps-footer",16),e.NdJ("finish",function(){return a.submit()}),e.qZA()),2&t){const o=e.MAs(8);e.xp6(1),e.hYB("parentTitle","",e.lcZ(2,23,"recruitment")," / ",e.lcZ(3,25,"JobRequisition"),""),e.MGl("parentTitleLink","/recruitment/",a.moduleId,"/request"),e.Q6J("id",a.requestId)("title",a.requestId>0?"edit":"add")("parentLinkParams",a.pageParams),e.xp6(3),e.Q6J("ngIf",a.requestId>0),e.xp6(1),e.MGl("url","/recruitment/",a.moduleId,"/request/index"),e.Q6J("params",a.pageParams),e.xp6(2),e.Q6J("linear",!1)("disableRipple",!0),e.xp6(2),e.s9C("label",e.lcZ(10,27,e.lcZ(11,29,"jobOpeningInformation"))),e.Q6J("completed",a.isGeneraCompleted),e.xp6(9),e.Q6J("request",a.request),e.xp6(1),e.Q6J("ngIf",a.jobTitleID),e.xp6(1),e.s9C("label",e.lcZ(21,31,e.lcZ(22,33,"descriptionInformation"))),e.Q6J("completed",a.isDescriptionCompleted),e.xp6(4),e.Q6J("request",a.request),e.xp6(1),e.MGl("url","/recruitment/",a.moduleId,"/request"),e.Q6J("stepper",o)("parentParam",a.parentParam)("pageParams",a.pageParams)("returnAfterFinish",!1)}},dependencies:[p.O5,L.a,R.J,C.T,O.j,d.a8,d.dn,d.n5,A.d,T.C0,T.Vq,T.z9,K,jt,W,p.rS,v.X$]}),n})();const kt=[{path:"request",data:{view:m.S.request},children:[{path:"",redirectTo:"index",pathMatch:D.U.full},{path:"index",component:Me,data:{view:m.S.request_index},canActivate:[h.r]},{path:"add",component:ne,data:{view:m.S.add_request},canActivate:[h.r]},{path:"edit/:id",component:ne,data:{view:m.S.add_request},canActivate:[h.r]}]},{path:"candidate",data:{view:m.S.candidate},children:[{path:"",redirectTo:"index",pathMatch:D.U.full},{path:"index",component:tt,data:{view:m.S.candidate_index},canActivate:[h.r]},{path:"add",component:G,data:{view:m.S.add_candidate},canActivate:[h.r]},{path:"add/:requestId",component:G,data:{view:m.S.add_candidate},canActivate:[h.r]},{path:"view/:candidateId",component:V.G,data:{view:m.S.view_candidate},canActivate:[h.r]}]},{path:"activity-templates",data:{view:m.S.activity_templates},children:[{path:"",redirectTo:"index",pathMatch:D.U.full},{path:"index",component:gt,data:{view:m.S.activity_templates_index},canActivate:[h.r]},{path:"add",component:$.I,data:{view:m.S.add_activity_template},canActivate:[h.r]},{path:"edit/:id",component:$.I,data:{view:m.S.add_activity_template},canActivate:[h.r]}]},{path:"activity-setup",component:ot,data:{view:m.S.activity_setup_index},canActivate:[h.r]},{path:"plan",data:{view:m.S.recruitment_plans},children:[{path:"",redirectTo:"index",pathMatch:D.U.full},{path:"index",component:rt,data:{view:m.S.recruitment_plan_index},canActivate:[h.r]},{path:"add",component:pt,data:{view:m.S.add_recruitment_plan},canActivate:[h.r]}]}];let zt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[S.Bz.forChild(kt),S.Bz]}),n})();var Vt=r(92634),Et=r(49495),Xt=r(51762),Ht=r(95981),$t=r(4859);function Wt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.isUpdate=!0)}),e._UZ(1,"i",8),e.qZA()}}function Kt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.isUpdate=!1)}),e._UZ(1,"i",9),e.qZA()}}function ea(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",10)(2,"div",11),e._UZ(3,"app-view-data-row-item",12),e.qZA(),e.TgZ(4,"div",11),e._UZ(5,"app-view-data-row-item",13),e.qZA(),e.TgZ(6,"div",11),e._UZ(7,"app-view-data-row-item",14),e.qZA(),e.TgZ(8,"div",11),e._UZ(9,"app-view-data-row-item",15),e.qZA(),e.TgZ(10,"div",11),e._UZ(11,"app-view-data-row-item",16),e.qZA(),e.TgZ(12,"div",11),e._UZ(13,"app-view-data-row-item",17),e.qZA()(),e.TgZ(14,"div",10)(15,"div",18),e._UZ(16,"app-view-data-row-item",19),e.qZA(),e.TgZ(17,"div",18),e._UZ(18,"app-view-data-row-item",20),e.qZA(),e.TgZ(19,"div",18),e._UZ(20,"app-view-data-row-item",21),e.qZA(),e.TgZ(21,"div",18),e._UZ(22,"app-view-data-row-item",22),e.qZA(),e.TgZ(23,"div",11),e._UZ(24,"app-view-data-row-item",23),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("isDate",!1)("isBool",!1)("value",null==t.candidate?null:t.candidate.code),e.xp6(2),e.Q6J("isDate",!1)("isBool",!1)("value",null==t.candidate?null:t.candidate.ar_Name),e.xp6(2),e.Q6J("isDate",!1)("isBool",!1)("value",null==t.candidate?null:t.candidate.en_Name),e.xp6(2),e.Q6J("isDate",!1)("isBool",!1)("value",t.msgTranslate(null==t.candidate||null==t.candidate.nationality?null:t.candidate.nationality.ar_Name,null==t.candidate||null==t.candidate.nationality?null:t.candidate.nationality.en_NAme)),e.xp6(2),e.Q6J("isDate",!1)("isBool",!1)("value",null==t.candidate?null:t.candidate.national_Id),e.xp6(2),e.Q6J("isDate",!0)("isBool",!1)("value",null==t.candidate?null:t.candidate.birthDate),e.xp6(3),e.Q6J("isDate",!0)("isBool",!1)("value",null==t.candidate?null:t.candidate.hireDate),e.xp6(2),e.Q6J("isDate",!1)("isBool",!1)("value",t.msgTranslate(null==t.candidate||null==t.candidate.gender?null:t.candidate.gender.ar_Name,null==t.candidate||null==t.candidate.gender?null:t.candidate.gender.en_NAme)),e.xp6(2),e.Q6J("isDate",!1)("isBool",!1)("value",t.msgTranslate(null==t.candidate||null==t.candidate.religion?null:t.candidate.religion.ar_Name,null==t.candidate||null==t.candidate.religion?null:t.candidate.religion.en_Name)),e.xp6(2),e.Q6J("isDate",!1)("isBool",!1)("value",t.msgTranslate(null==t.candidate||null==t.candidate.resource_Type?null:t.candidate.resource_Type.ar_Name,null==t.candidate||null==t.candidate.resource_Type?null:t.candidate.resource_Type.en_Name)),e.xp6(2),e.Q6J("isDate",!1)("isBool",!1)("value",null==t.candidate?null:t.candidate.resource_Name)}}function ta(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"candidate-general-info-form",24),e.NdJ("isUpdate",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.backToView(o))}),e.qZA(),e.BQk()}}function aa(n,i){if(1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-title"),e._UZ(2,"page-title",2),e.YNc(3,Wt,2,0,"button",3),e.YNc(4,Kt,2,0,"button",3),e.qZA(),e._UZ(5,"mat-divider",4),e.TgZ(6,"mat-card-content",5),e.YNc(7,ea,25,33,"ng-container",6),e.YNc(8,ta,2,0,"ng-container",6),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.isUpdate),e.xp6(1),e.Q6J("ngIf",t.isUpdate),e.xp6(3),e.Q6J("ngIf",!t.isUpdate),e.xp6(1),e.Q6J("ngIf",t.isUpdate)}}function na(n,i){1&n&&e._UZ(0,"app-employee-profile-card-skeleton",25),2&n&&e.Q6J("rowNo",8)}let ia=(()=>{class n extends u.U{constructor(t,a){super(),this.candidateService=t,this.viewCandidateComponent=a,this.isUpdate=!1,this.isLoaded=!1}ngOnInit(){this.candidateService.candidate$.subscribe(t=>{this.candidate=t,null!=this.candidate&&(this.isLoaded=!0)})}onModulesChanged(){this.allowedSections=this.getCustomViewChildren(this.getParentViewName,m.S.candidate_general_info_tab)}backToView(t){this.isUpdate=t,this.viewCandidateComponent.getById()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.L),e.Y36(V.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-general-info-card"]],features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notLoaded",""],["title","generalInfo","color","font-dark"],["mat-button","","class","float-right section-edit-btn pright-6 pleft-6 darkBlue",3,"click",4,"ngIf"],[1,"mt-2"],[1,"mt-5"],[4,"ngIf"],["mat-button","",1,"float-right","section-edit-btn","pright-6","pleft-6","darkBlue",3,"click"],[1,"fas","fa-pen","font-size-15"],[1,"ft-corner-up-left","font-size-18"],[1,"view-data-row-container","mtop-20"],[1,"col-4","col-lg","mb-2"],["label","code",1,"emp-custom-view",3,"isDate","isBool","value"],["label","ar_Name",1,"emp-custom-view",3,"isDate","isBool","value"],["label","en_Name",1,"emp-custom-view",3,"isDate","isBool","value"],["label","nationality",1,"emp-custom-view",3,"isDate","isBool","value"],["label","nationalid",1,"emp-custom-view",3,"isDate","isBool","value"],["label","birthDate",1,"emp-custom-view",3,"isDate","isBool","value"],[1,"col-4","col-lg-2","mb-2"],["label","registrationDate",1,"emp-custom-view",3,"isDate","isBool","value"],["label","gender",1,"emp-custom-view",3,"isDate","isBool","value"],["label","religion",1,"emp-custom-view",3,"isDate","isBool","value"],["label","sourcingType",1,"emp-custom-view",3,"isDate","isBool","value"],["label","sourcingName",1,"emp-custom-view",3,"isDate","isBool","value"],[3,"isUpdate"],[3,"rowNo"]],template:function(t,a){if(1&t&&(e.YNc(0,aa,9,4,"mat-card",0),e.YNc(1,na,1,1,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",a.isLoaded)("ngIfElse",o)}},dependencies:[p.O5,C.T,Ht.E,te.l,$t.lW,d.a8,d.dn,d.n5,A.d,M]}),n})(),oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,zt,Vt.m,Et.OrgManagementModule]}),n})();e.B6R(Xt.H,[p.O5,ia],[])}}]);