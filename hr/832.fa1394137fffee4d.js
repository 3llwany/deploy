"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[832],{3710:(se,U,r)=>{r.d(U,{r:()=>d});var h=r(94650),Q=r(67579),c=r(24280);let d=(()=>{class p{constructor(b){this.viewsService=b,this.loadingService=(0,h.f3M)(Q.b),this.UserModules=this.viewsService.UserModules$.getValue(),this.loading=document.getElementById("page-loading")}canActivate(b,e){return!0}showLoading(){this.loading.style.display="block",this.loading.style.opacity="1",this.loading.style.zIndex="998"}hideLoading(){this.loading.style.display="none",this.loading.style.opacity="0",this.loading.style.zIndex="0"}}return p.\u0275fac=function(b){return new(b||p)(h.LFG(c.Z))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},30832:(se,U,r)=>{r.r(U),r.d(U,{TrainingModule:()=>zt});var h=r(36895),Q=r(80458),c=r(74513),d=r(30671),p=r(15602),g=r(95751),b=r(98949),e=r(94650),R=r(15881),I=r(93410),_=r(46896),S=r(60544),Z=r(91373),l=r(73546),v=r(49274);let re=(()=>{class a extends g.U{constructor(t){super(),this.courseService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","courseCode","ar_Name","en_Name","abbrevation","courseCategory","courseType","actions"],this.optionalColomns=["isFree","courseValue","isHolding","holdingYears","penaletyPercentege","threeMontheEvalution","sixMontheEvalution"]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,n){this.dataSource=new d.by(null),this.isLoaded=!1,this.page.pageIndex=t,n&&(this.page.pageSize=n),this.removePageParams(),this.courseService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType=p.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new d.by((0,b.o)(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}delete(t){this.showLoading(),this.courseService.Delete(t.id).subscribe(n=>{(n.message.messageType=p.u.Success)?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(n.message.messageTypeName)):this.errorList(n?.message?.messages),this.hideLoading()})}onDelete(t){let n=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(n).subscribe(o=>{o&&this.delete(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(R.N))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-course-index"]],features:[e.qOj],decls:8,vars:12,consts:[[1,"index-card"],["title","courses",1,"mb-10",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title"),e._UZ(2,"page-title",1),e.qZA(),e.TgZ(3,"mat-card-content")(4,"app-material-table",2),e.NdJ("onChangePage",function(s){return n.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return n.onDelete(s)}),e.qZA()()(),e.TgZ(5,"side-helping-menu",3),e.ALo(6,"translate"),e._UZ(7,"app-dashboard-display",4),e.qZA()),2&t&&(e.xp6(2),e.Q6J("globalFunctions",n.globalFunctions),e.xp6(2),e.Q6J("isLoaded",n.isLoaded)("mandatoryColomns",n.mandatoryColomns)("optionalColomns",n.optionalColomns)("page",n.page)("actions",n.rowFunctions)("dataSource",n.dataSource)("exportService",n.courseService),e.xp6(1),e.s9C("title",e.lcZ(6,10,"Dashboard")),e.xp6(2),e.Q6J("serviceId",n.getCurrentServiceId()))},dependencies:[I.I,_.T,S.c,Z.b,l.a8,l.dn,l.n5,v.X$]}),a})();var x=r(36162),le=r(41944);let me=(()=>{class a extends g.U{constructor(t){super(),this.tspService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","breif_Name","en_Name","ar_Name","location","webSite_URL","actions"],this.optionalColomns=["address","email","mobile","phone","fax","contactPersonName","contactPersonEmail","contactPersonMobile","contactPersonPhone","i_M_C_Code","note"]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,n){this.dataSource=new d.by(null),this.isLoaded=!1,this.page.pageIndex=t,n&&(this.page.pageSize=n),this.removePageParams(),this.tspService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType=p.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new d.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}delete(t){this.showLoading(),this.tspService.Delete(t.id).subscribe(n=>{(n.message.messageType=p.u.Success)?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(n.message.messageTypeName)):this.errorList(n?.message?.messages),this.hideLoading()})}onDelete(t){let n=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(n).subscribe(o=>{o&&this.delete(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(le.D))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-tsp-index"]],features:[e.qOj],decls:8,vars:12,consts:[[1,"index-card"],["title","TSP",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title"),e._UZ(2,"page-title",1),e.qZA(),e.TgZ(3,"mat-card-content")(4,"app-material-table",2),e.NdJ("onChangePage",function(s){return n.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return n.onDelete(s)}),e.qZA()()(),e.TgZ(5,"side-helping-menu",3),e.ALo(6,"translate"),e._UZ(7,"app-dashboard-display",4),e.qZA()),2&t&&(e.xp6(2),e.Q6J("globalFunctions",n.globalFunctions),e.xp6(2),e.Q6J("isLoaded",n.isLoaded)("mandatoryColomns",n.mandatoryColomns)("optionalColomns",n.optionalColomns)("page",n.page)("actions",n.rowFunctions)("dataSource",n.dataSource)("exportService",n.tspService),e.xp6(1),e.s9C("title",e.lcZ(6,10,"Dashboard")),e.xp6(2),e.Q6J("serviceId",n.getCurrentServiceId()))},dependencies:[I.I,_.T,S.c,Z.b,l.a8,l.dn,l.n5,v.X$]}),a})();var G=r(25646),pe=r(37763);let de=(()=>{class a extends g.U{constructor(t){super(),this.instructorService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","en_Name","ar_Name","job","is_TOT","mobile","actions"],this.optionalColomns=["code","phone","email","qualification","note"]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,n){this.dataSource=new d.by(null),this.isLoaded=!1,this.page.pageIndex=t,n&&(this.page.pageSize=n),this.removePageParams(),this.instructorService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType=p.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new d.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}delete(t){this.showLoading(),this.instructorService.Delete(t.id).subscribe(n=>{(n.message.messageType=p.u.Success)?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(n.message.messageTypeName)):this.errorList(n?.message?.messages),this.hideLoading()})}onDelete(t){let n=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(n).subscribe(o=>{o&&this.delete(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(pe.u))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-instructor-index"]],features:[e.qOj],decls:8,vars:12,consts:[[1,"index-card"],["title","instructors",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title"),e._UZ(2,"page-title",1),e.qZA(),e.TgZ(3,"mat-card-content")(4,"app-material-table",2),e.NdJ("onChangePage",function(s){return n.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return n.onDelete(s)}),e.qZA()()(),e.TgZ(5,"side-helping-menu",3),e.ALo(6,"translate"),e._UZ(7,"app-dashboard-display",4),e.qZA()),2&t&&(e.xp6(2),e.Q6J("globalFunctions",n.globalFunctions),e.xp6(2),e.Q6J("isLoaded",n.isLoaded)("mandatoryColomns",n.mandatoryColomns)("optionalColomns",n.optionalColomns)("page",n.page)("actions",n.rowFunctions)("dataSource",n.dataSource)("exportService",n.instructorService),e.xp6(1),e.s9C("title",e.lcZ(6,10,"Dashboard")),e.xp6(2),e.Q6J("serviceId",n.getCurrentServiceId()))},dependencies:[I.I,_.T,S.c,Z.b,l.a8,l.dn,l.n5,v.X$]}),a})();var O=r(91523),Y=r(94343),D=r(61064),J=r(52682),j=r(20957),A=r(86257),w=r(86405),m=r(24006),u=r(35478),N=r(1903),C=r(26315);let ue=(()=>{class a extends N.K{constructor(){super()}create(t){return this.post("Training/course/AddCompetenceDetailToCourse",t)}getAllByCourseId(t){return this.get("Training/Course/GetAllCourseCompetenceData",{params:{$filter:`course_id eq ${t}`,$expand:`${C.db.core_Competence_Detail}.${C.db.core_Competence},${C.db.core_Competence_Detail}.${C.db.core_Competence_Level}`}})}Delete(t){return this.delete("Training/Course/DeleteCourseCompetenceDetail",{params:t})}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var y=r(57566),T=r(44850),ge=r(18969),he=r(52945);function _e(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"app-material-table",14),e.NdJ("deleteRow",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onDelete(o))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)("showSpaceTop",!1)}}let fe=(()=>{class a extends g.U{constructor(t){super(),this.courseCompetenceService=t,this.completed=new e.vpe,this.submitted=!1,this.mandatoryColomns=["competence","competenceLevel","actions"],this.optionalColomns=[],this.isLoaded=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],competenceId:[null,[m.kI.required]],competenceLevelId:[null,[m.kI.required]]})}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.courseId>0?this.getAll():this.isLoaded=!0}get formCtrls(){return this.form.controls}getAll(){this.dataSource=new d.by(null),this.isLoaded=!1,this.courseCompetenceService.getAllByCourseId(this.courseId).pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==p.u.Success?(this.dataSource=new d.by(function ce(a){return a.map(i=>({...i,competence:(0,u._)(i.core_Competence_Detail?.core_Competence?.ar_Name,i.core_Competence_Detail?.core_Competence?.en_Name),competenceLevel:(0,u._)(i.core_Competence_Detail?.core_Competence_Level?.ar_Name,i.core_Competence_Detail?.core_Competence_Level?.en_Name)}))}(t.data)),this.isLoaded=!0):this.errorList(t?.message?.messages)})}submit(){this.submitted=!0,this.form.valid&&this.create({course_ID:this.courseId,competence_ID:this.form.value.competenceId,competence_Level_ID:this.form.value.competenceLevelId})}create(t){this.showLoading("competence"),this.courseCompetenceService.create(t).subscribe(n=>{n?.message?.messageType==p.u.Success?(this.clearForm(),this.addSuccessfullyMsg(n?.message?.messageTypeName),this.getAll(),this.completed.emit(!0)):this.errorList(n?.message?.messages),this.hideLoading("competence")})}onDelete(t){this.deleteDialog(t.competence+" - "+t.competenceLevel).subscribe(o=>{o&&this.delete(t)})}delete(t){let n={CourseId:this.courseId,CompetenceDetailId:t.competence_Detail_ID};this.showLoading("competence"),this.courseCompetenceService.Delete(n).subscribe(o=>{o.message.messageType==p.u.Success?(this.deleteSuccessfullyMsg(o?.message?.messageTypeName),this.getAll()):this.errorList(o?.message?.messages),this.hideLoading("competence")})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(ue))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-course-competence"]],inputs:{courseId:"courseId"},outputs:{completed:"completed"},features:[e.qOj],decls:20,vars:13,consts:[[3,"name"],[1,"row"],[1,"col-12"],["container",""],["title","courseCompetence"],[1,"container-fluid","mtop-40"],[3,"formGroup"],[1,"row","justify-content-between"],[1,"col-md-4","col-12"],[3,"control","submitted","filter"],[3,"control","competenceControl","submitted","filter"],[1,"col-md-3","col-12"],["icon","pi pi-plus-circle",1,"btn-large","mt-1","line-height-3",3,"disabled","color","iconPositionBefore","onClick"],["class","table-in-forms small-table",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","showSpaceTop","deleteRow",4,"ngIf"],[1,"table-in-forms","small-table",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","showSpaceTop","deleteRow"]],template:function(t,n){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",null,3)(5,"mat-card-title"),e._UZ(6,"page-title",4),e.qZA(),e._UZ(7,"mat-divider"),e.TgZ(8,"mat-card-content",5)(9,"div",1)(10,"div",2)(11,"form",6)(12,"div",7)(13,"div",8),e._UZ(14,"app-competence-dropdown",9),e.qZA(),e.TgZ(15,"div",8),e._UZ(16,"app-competence-level-by-competence-dropdown",10),e.qZA(),e.TgZ(17,"div",11)(18,"submit-btn",12),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()()()(),e.YNc(19,_e,1,8,"app-material-table",13),e.qZA()()()),2&t&&(e.Q6J("name","competence"),e.xp6(11),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.competenceId)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.competenceLevelId)("competenceControl",n.formCtrls.competenceId)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("disabled",!n.courseId)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",n.courseId>0))},dependencies:[h.O5,I.I,y.p,_.T,l.a8,l.dn,l.n5,T.d,w.Ro,ge.y,he.f,m._Y,m.JL,m.sg]}),a})();var z=r(47941),H=r(19822);function Ce(a,i){if(1&a&&(e.ynx(0),e._UZ(1,"app-material-table",14),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.tspDataSource)("mandatoryColomns",t.mandatoryTspColomns)("optionalColomns",t.optionalTspColomns)("showPaginator",!1)("showFilter",!1)("showSpaceTop",!1)}}function Ie(a,i){if(1&a&&(e.ynx(0),e._UZ(1,"app-material-table",14),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.instructorDataSource)("mandatoryColomns",t.mandatoryIsnstructorColomns)("optionalColomns",t.optionalIsnstructorColomns)("showPaginator",!1)("showFilter",!1)("showSpaceTop",!1)}}let be=(()=>{class a extends g.U{constructor(t,n){super(),this.courseService=t,this.courseGeneralService=n,this.completed=new e.vpe,this.isLoaded=!0,this.submitted=!1,this.mandatoryTspColomns=["Name","location"],this.optionalTspColomns=[],this.mandatoryIsnstructorColomns=["Name","jobTitle"],this.optionalIsnstructorColomns=[],this.course=this.courseGeneralService.course$.getValue()}ngOnInit(){this.tspform=this.fb.group({tsP_IDs:[[],[m.kI.required]]}),this.intstrucorForm=this.fb.group({instructor_IDs:[[],[m.kI.required]]})}onChangeBusinessAndCompanyId(){this.tspDataSource?.data?.length>0&&(this.tspDataSource=new d.by(null)),this.instructorDataSource?.data?.length>0&&(this.instructorDataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.courseId>0?this.getCourseById():this.isLoaded=!0}submitTsp(){if(this.submitted=!0,this.tspform.valid){let t={};t.Course_ID=this.courseId,t.TSP_IDs=this.tspform.controls.tsP_IDs.value,this.showLoading("tsp"),this.courseService.addTSPToCourse(t).subscribe(n=>{n.message.messageType==p.u.Success?(this.addSuccessfullyMsg(n.message.messageTypeName),this.getCourseById(),this.submitted=!1,this.completed.emit(!0)):this.errorList(n?.message?.messages),this.hideLoading("tsp")})}}submitInstructor(){if(this.submitted=!0,this.intstrucorForm.valid){let t={};t.Course_ID=this.courseId,t.Instructor_IDs=this.intstrucorForm.controls.instructor_IDs.value,this.showLoading("tsp"),this.courseService.addInstructorToCourse(t).subscribe(n=>{n.message.messageType==p.u.Success?(this.addSuccessfullyMsg(n.message.messageTypeName),this.getCourseById(),this.completed.emit(!0),this.submitted=!1):this.errorList(n?.message?.messages),this.hideLoading("tsp")})}}getCourseById(){this.tspDataSource=new d.by(null),this.instructorDataSource=new d.by(null),this.isLoaded=!1,this.courseService.getById(this.courseId).subscribe(t=>{t.message.messageType==p.u.Success?(this.course=(0,b.o)(t.data)[0],this.instructorDataSource=new d.by(this.course.trA_Instructor_Course),this.tspDataSource=new d.by(this.course.trA_TSP_Course)):this.errorList(t?.message?.messages)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(R.N),e.Y36(Y.b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-course-tsp-and-instructor"]],inputs:{courseId:"courseId"},outputs:{completed:"completed"},features:[e.qOj],decls:33,vars:19,consts:[[3,"name"],[1,"row"],[1,"col-12"],["tspContainer",""],["title","TSP"],[3,"formGroup"],[1,"container-fluid","mtop-25"],[1,"row","justify-content-between"],[1,"col-md-4","col-12"],[3,"control","multi","filter","submitted"],["icon","pi pi-plus-circle",1,"btn-large","mt-1","line-height-3",3,"color","disabled","iconPositionBefore","onClick"],[4,"ngIf"],[1,"col-12","mt-3"],["title","instructors"],[1,"table-in-forms","small-table",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","showPaginator","showFilter","showSpaceTop"]],template:function(t,n){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",null,3)(5,"mat-card-title"),e._UZ(6,"page-title",4),e.qZA(),e._UZ(7,"mat-divider"),e.TgZ(8,"div",1)(9,"div",2)(10,"form",5)(11,"mat-card-content",6)(12,"div",7)(13,"div",8),e._UZ(14,"app-tsp-dropdown",9),e.qZA(),e.TgZ(15,"div",8)(16,"submit-btn",10),e.NdJ("onClick",function(){return n.submitTsp()}),e.qZA()()()(),e.YNc(17,Ce,2,7,"ng-container",11),e.qZA()()()()(),e.TgZ(18,"div",12)(19,"mat-card")(20,"mat-card-title"),e._UZ(21,"page-title",13),e.qZA(),e._UZ(22,"mat-divider"),e.TgZ(23,"div",1)(24,"div",2)(25,"form",5)(26,"mat-card-content",6)(27,"div",7)(28,"div",8),e._UZ(29,"app-instructor-dropdown",9),e.qZA(),e.TgZ(30,"div",8)(31,"submit-btn",10),e.NdJ("onClick",function(){return n.submitInstructor()}),e.qZA()()()(),e.YNc(32,Ie,2,7,"ng-container",11),e.qZA()()()()()()),2&t&&(e.Q6J("name","tsp"),e.xp6(10),e.Q6J("formGroup",n.tspform),e.xp6(4),e.Q6J("control",n.tspform.controls.tsP_IDs)("multi",!0)("filter",!0)("submitted",n.submitted),e.xp6(2),e.Q6J("color",n.btn.darkBlue)("disabled",!n.courseId)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",n.courseId),e.xp6(8),e.Q6J("formGroup",n.intstrucorForm),e.xp6(4),e.Q6J("control",n.intstrucorForm.controls.instructor_IDs)("multi",!0)("filter",!0)("submitted",n.submitted),e.xp6(2),e.Q6J("color",n.btn.darkBlue)("disabled",!n.courseId)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",n.courseId))},dependencies:[h.O5,I.I,y.p,_.T,l.a8,l.dn,l.n5,T.d,w.Ro,z.M,H.W,m._Y,m.JL,m.sg]}),a})();var ve=r(12054);const Te=["stepper"];function we(a,i){if(1&a&&e._UZ(0,"app-add-new-btn",4),2&a){const t=e.oxw();e.MGl("url","/training/",t.moduleId,"/course/add"),e.Q6J("params",t.parentParam)}}function ye(a,i){1&a&&e._UZ(0,"i",14)}function Se(a,i){1&a&&e._UZ(0,"i",14)}function Ze(a,i){1&a&&e._UZ(0,"i",14)}function xe(a,i){1&a&&e._UZ(0,"i",14)}let $=(()=>{class a extends g.U{constructor(t,n){super(),this.courseService=t,this.courseGeneralService=n,this.courseId=0,this.isloaded=!1,this.isGeneraCompleted=!1,this.isTspInstructor=!1,this.isCompetence=!1,this.isOutline=!1,this.courseGeneralService.course$.next(null)}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.courseId=Number(t.get("id"))??0}),this.courseId>0&&this.checkNoBusinessOrCompany()?this.getCourseById():this.isloaded=!0}getCourseById(){this.showLoading("core"),this.courseService.getById(this.courseId).subscribe(t=>{t.message.messageType==p.u.Success?(this.course=(0,b.o)(t.data)[0],this.courseGeneralService.course$.next(this.course),this.isloaded=!0):this.errorList(t?.message?.messages),this.hideLoading("core")})}getCourseId(t){this.courseId=t}OnDestroy(){this.courseGeneralService.course$.next(null)}stepChanged(){this.stepper.selected.interacted=!1}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(R.N),e.Y36(Y.b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-course"]],viewQuery:function(t,n){if(1&t&&e.Gf(Te,5),2&t){let o;e.iGM(o=e.CRH())&&(n.stepper=o.first)}},features:[e.qOj],decls:30,vars:39,consts:[[3,"name"],[1,"title-no-margin","title-section","fixed-title"],["title","addCourse"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"has-fixed-title"],[3,"linear","disableRipple","selectionChange"],["stepper",""],[3,"label","completed"],["matStepperIcon","edit"],[3,"isGeneral","changeCourseId","completed"],[3,"courseId","completed"],[3,"isOutline","courseId","completed"],[3,"stepper","parentParam","url","pageParams"],[1,"fas","fa-check"]],template:function(t,n){if(1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"mat-card-title",1),e._UZ(2,"page-title",2),e.YNc(3,we,1,2,"app-add-new-btn",3),e._UZ(4,"app-back-btn",4),e.qZA(),e.ynx(5),e.TgZ(6,"mat-card-content",5)(7,"mat-stepper",6,7),e.NdJ("selectionChange",function(){return n.stepChanged()}),e.TgZ(9,"mat-step",8),e.ALo(10,"titlecase"),e.ALo(11,"translate"),e.YNc(12,ye,1,0,"ng-template",9),e.TgZ(13,"app-add-course-form",10),e.NdJ("changeCourseId",function(s){return n.getCourseId(s)})("completed",function(s){return n.isGeneraCompleted=s}),e.qZA()(),e.TgZ(14,"mat-step",8),e.ALo(15,"titlecase"),e.ALo(16,"translate"),e.YNc(17,Se,1,0,"ng-template",9),e.TgZ(18,"app-course-tsp-and-instructor",11),e.NdJ("completed",function(s){return n.isTspInstructor=s}),e.qZA()(),e.TgZ(19,"mat-step",8),e.ALo(20,"titlecase"),e.ALo(21,"translate"),e.YNc(22,Ze,1,0,"ng-template",9),e.TgZ(23,"app-course-competence",11),e.NdJ("completed",function(s){return n.isCompetence=s}),e.qZA()(),e.TgZ(24,"mat-step",8),e.ALo(25,"titlecase"),e.ALo(26,"translate"),e.YNc(27,xe,1,0,"ng-template",9),e.TgZ(28,"app-add-course-form",12),e.NdJ("completed",function(s){return n.isOutline=s}),e.qZA()()()(),e._UZ(29,"steps-footer",13),e.BQk()),2&t){const o=e.MAs(8);e.Q6J("name","core"),e.xp6(3),e.Q6J("ngIf",n.courseId>0),e.xp6(1),e.MGl("url","/training/",n.moduleId,"/course/index"),e.Q6J("params",n.pageParams),e.xp6(3),e.Q6J("linear",!1)("disableRipple",!0),e.xp6(2),e.s9C("label",e.lcZ(10,23,e.lcZ(11,25,"general"))),e.Q6J("completed",n.isGeneraCompleted),e.xp6(4),e.Q6J("isGeneral",!0),e.xp6(1),e.s9C("label",e.lcZ(15,27,e.lcZ(16,29,"tspAndInstructor"))),e.Q6J("completed",n.isTspInstructor),e.xp6(4),e.Q6J("courseId",n.courseId),e.xp6(1),e.s9C("label",e.lcZ(20,31,e.lcZ(21,33,"courseCompetence"))),e.Q6J("completed",n.isCompetence),e.xp6(4),e.Q6J("courseId",n.courseId),e.xp6(1),e.s9C("label",e.lcZ(25,35,e.lcZ(26,37,"outlineAndAttachments"))),e.Q6J("completed",n.isOutline),e.xp6(4),e.Q6J("isOutline",!0)("courseId",n.courseId),e.xp6(1),e.MGl("url","/training/",n.moduleId,"/course"),e.Q6J("stepper",o)("parentParam",n.parentParam)("pageParams",n.pageParams)}},dependencies:[h.O5,D.a,J.J,_.T,j.j,l.dn,l.n5,A.C0,A.Vq,A.z9,w.Ro,fe,be,ve.F,h.rS,v.X$]}),a})();var Ae=r(34879),K=r(24714);let Le=(()=>{class a extends g.U{constructor(t){super(),this.trainingRequestService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","course_name","reason","fromDate","toDate","actions"],this.optionalColomns=["note"]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,n){this.dataSource=new d.by(null),this.isLoaded=!1,this.page.pageIndex=t,n&&(this.page.pageSize=n),this.removePageParams(),this.trainingRequestService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType=p.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new d.by((0,Ae.x)(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}delete(t){this.showLoading(),this.trainingRequestService.Delete(t.id).subscribe(n=>{(n.message.messageType=p.u.Success)?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(n.message.messageTypeName)):this.errorList(n?.message?.messages),this.hideLoading()})}onDelete(t){let n=this.msgTranslate(t.course_name);this.deleteDialog(n).subscribe(o=>{o&&this.delete(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(K.M))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-training-request-index"]],features:[e.qOj],decls:8,vars:12,consts:[[1,"index-card"],["title","trainingRequest",1,"mb-10",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title"),e._UZ(2,"page-title",1),e.qZA(),e.TgZ(3,"mat-card-content")(4,"app-material-table",2),e.NdJ("onChangePage",function(s){return n.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return n.onDelete(s)}),e.qZA()()(),e.TgZ(5,"side-helping-menu",3),e.ALo(6,"translate"),e._UZ(7,"app-dashboard-display",4),e.qZA()),2&t&&(e.xp6(2),e.Q6J("globalFunctions",n.globalFunctions),e.xp6(2),e.Q6J("isLoaded",n.isLoaded)("mandatoryColomns",n.mandatoryColomns)("optionalColomns",n.optionalColomns)("page",n.page)("actions",n.rowFunctions)("dataSource",n.dataSource)("exportService",n.trainingRequestService),e.xp6(1),e.s9C("title",e.lcZ(6,10,"Dashboard")),e.xp6(2),e.Q6J("serviceId",n.getCurrentServiceId()))},dependencies:[I.I,_.T,S.c,Z.b,l.a8,l.dn,l.n5,v.X$]}),a})();var q=r(78937),E=r(70137),V=r(25273),k=r(56500),De=r(70502),Je=r(91621),Ne=r(92826),Pe=r(16177),Ue=r(8815);function Qe(a,i){if(1&a&&e._UZ(0,"app-add-new-btn",7),2&a){const t=e.oxw();e.MGl("url","/training/",t.moduleId,"/training-request/add"),e.Q6J("params",t.parentParam)}}function qe(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"reset-form-btn",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let X=(()=>{class a extends g.U{constructor(t){super(),this.trainingRequestService=t,this.trainingRequestId=0,this.submitted=!1,this.allowBusinessObjective=!1,this.activatedRoute.params.subscribe(n=>{this.trainingRequestId=Number(n.id??0)})}onChangeBusinessAndCompanyId(){this.trainingRequestId>0&&this.checkNoBusinessOrCompany()&&this.getTrainingRequestById()}ngOnInit(){this.form=this.fb.group({id:[this.trainingRequestId,{nonNullable:!0}],course_Category_ID:[null,m.kI.required],course_ID:[null,[m.kI.required]],reason_ID:[null,[m.kI.required]],from_Date:[null,m.kI.required],to_Date:[null,m.kI.required],note:[null],employee_id:[null,m.kI.required],SelectedBusinessObjectiveIDs:[]},{validator:q.w.compareDates("from_Date","to_Date")})}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){let t={training_request:{id:this.formCtrls.id.value,course_ID:this.formCtrls.course_ID.value,reason_ID:this.formCtrls.reason_ID.value,from_Date:u.M.mapDateReverse(this.formCtrls.from_Date.value),to_Date:u.M.mapDateReverse(this.formCtrls.to_Date.value),note:this.formCtrls.note.value},SelectedSubOrdenateEmployeeInstanceIDs:this.formCtrls.employee_id.value,SelectedBusinessObjectiveIDs:this.formCtrls.SelectedBusinessObjectiveIDs.value};t.training_request.id>0?this.update(t):this.create(t)}}getTrainingRequestById(){this.showLoading(),this.trainingRequestService.getById(this.trainingRequestId).subscribe(t=>{(t.message.messageType=p.u.Success)&&(this.formCtrls.course_Category_ID.setValue(t.data.training_request.trA_Course.course_Category_ID),this.form.patchValue(t.data.training_request),this.formCtrls.SelectedBusinessObjectiveIDs.setValue(t.data.selectedBusinessObjectiveIDs),this.formCtrls.employee_id.setValue(t.data.selectedSubOrdenateEmployeeInstanceIDs),this.onReasonChange([t.data.training_request.trA_Reason])),this.errorList(t?.message?.messages),this.hideLoading()})}create(t){this.showLoading(),this.trainingRequestService.create(t).subscribe(n=>{n?.message?.messageType==p.u.Success?(this.addSuccessfullyMsg(n?.message?.messageTypeName),this.trainingRequestId=n.data.training_request.id,this.formCtrls.id.setValue(this.trainingRequestId),this.navigateTo(`/training/${this.moduleId}/training-request/edit/${this.trainingRequestId}`)):this.errorList(n?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.trainingRequestService.update(t).subscribe(n=>{n?.message?.messageType==p.u.Success?this.updateSuccessfullyMsg(n?.message?.messageTypeName):this.errorList(n?.message?.messages),this.hideLoading()})}onReasonChange(t){t[0]?.hasBusinessObjectives?(this.allowBusinessObjective=!0,this.formCtrls?.SelectedBusinessObjectiveIDs.addValidators([m.kI.required])):(this.allowBusinessObjective=!1,this.formCtrls?.SelectedBusinessObjectiveIDs.setValue([]),this.formCtrls?.SelectedBusinessObjectiveIDs.removeValidators([m.kI.required]))}clearForm(){this.form.reset(),this.submitted=!1}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(K.M))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-training-request"]],features:[e.qOj],decls:33,vars:35,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["container",""],[1,"title-no-margin"],["title","trainingRequest"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"container-fluid","mt-2"],[3,"formGroup"],[1,"col-md-4","col-12"],["label","employees",3,"control","submitted","multi","filter"],[3,"control","submitted","filter"],[3,"control","courseCategoryControl","submitted","filter"],[1,"col-md-4","col-12","ptop-15"],[3,"control","submitted","filter","multi","change"],[3,"control","submitted","filter","multi","disable"],["label","froM_DATE",3,"control","submitted"],["label","tO_DATE",3,"control","submitted"],["label","notes",3,"control","submitted"],["align","end"],[3,"click",4,"ngIf"],["icon","pi pi-plus-circle",3,"id","color","iconPositionBefore","onClick"],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2,3)(4,"mat-card-title",4),e._UZ(5,"page-title",5),e.ynx(6),e.YNc(7,Qe,1,2,"app-add-new-btn",6),e._UZ(8,"app-back-btn",7),e.BQk(),e.qZA(),e.TgZ(9,"mat-card-content",8)(10,"div",0)(11,"div",1)(12,"form",9)(13,"div",0)(14,"div",10),e._UZ(15,"app-employee-dropdown",11),e.qZA(),e.TgZ(16,"div",10),e._UZ(17,"app-course-category-dropdown",12),e.qZA(),e.TgZ(18,"div",10),e._UZ(19,"app-course-by-course-category-dropdown",13),e.qZA(),e.TgZ(20,"div",14)(21,"app-reason-dropdown",15),e.NdJ("change",function(s){return n.onReasonChange(s)}),e.qZA()(),e.TgZ(22,"div",14),e._UZ(23,"business-objective-dropdown",16),e.qZA(),e.TgZ(24,"div",14),e._UZ(25,"app-datepicker",17),e.qZA(),e.TgZ(26,"div",14),e._UZ(27,"app-datepicker",18),e.qZA(),e.TgZ(28,"div",14),e._UZ(29,"app-input",19),e.qZA()()()()()(),e.TgZ(30,"mat-card-actions",20),e.YNc(31,qe,1,0,"reset-form-btn",21),e.TgZ(32,"submit-btn",22),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",n.trainingRequestId>0),e.xp6(1),e.MGl("url","/training/",n.moduleId,"/training-request/index"),e.Q6J("params",n.pageParams),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.employee_id)("submitted",n.submitted)("multi",!0)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.course_Category_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.course_ID)("courseCategoryControl",n.formCtrls.course_Category_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.reason_ID)("submitted",n.submitted)("filter",!0)("multi",!1),e.xp6(2),e.Q6J("control",n.formCtrls.SelectedBusinessObjectiveIDs)("submitted",n.submitted)("filter",!0)("multi",!0)("disable",!n.allowBusinessObjective),e.xp6(2),e.Q6J("control",n.formCtrls.from_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.to_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.note)("submitted",n.submitted),e.xp6(2),e.Q6J("ngIf",0==n.formCtrls.id.value),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1)("id",n.formCtrls.id.value))},dependencies:[h.O5,E.Q,V.a,D.a,J.J,k.J,y.p,_.T,De.J,l.a8,l.dn,l.n5,l.hq,Je.Z,Ne.r,Pe.P,Ue.W,m._Y,m.JL,m.sg]}),a})();var W=r(84656);let Ve=(()=>{class a extends g.U{constructor(t){super(),this.TrainingPlanIndexService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","from_Date","to_Date","budget","count_Courses","count_Persons","actions"],this.optionalColomns=["note"]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,n){this.dataSource=new d.by(null),this.isLoaded=!1,this.page.pageIndex=t,n&&(this.page.pageSize=n),this.removePageParams(),this.TrainingPlanIndexService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType=p.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);s.data.map(L=>{L.id=L.plan_ID,L.from_Date=u.M.mapDate(L.from_Date),L.to_Date=u.M.mapDate(L.to_Date)}),this.dataSource=new d.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}delete(t){this.showLoading(),this.TrainingPlanIndexService.Delete(t.id).subscribe(n=>{(n.message.messageType=p.u.Success)?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(n.message.messageTypeName)):this.errorList(n?.message?.messages),this.hideLoading()})}onDelete(t){let n=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(n).subscribe(o=>{o&&this.delete(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(W.H))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-training-plan-index"]],features:[e.qOj],decls:8,vars:13,consts:[[1,"index-card"],["title","trainingPlanIndex",1,"mb-10",3,"globalFunctions"],[3,"isRowClickable","isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title"),e._UZ(2,"page-title",1),e.qZA(),e.TgZ(3,"mat-card-content")(4,"app-material-table",2),e.NdJ("onChangePage",function(s){return n.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return n.onDelete(s)}),e.qZA()()(),e.TgZ(5,"side-helping-menu",3),e.ALo(6,"translate"),e._UZ(7,"app-dashboard-display",4),e.qZA()),2&t&&(e.xp6(2),e.Q6J("globalFunctions",n.globalFunctions),e.xp6(2),e.Q6J("isRowClickable",!0)("isLoaded",n.isLoaded)("mandatoryColomns",n.mandatoryColomns)("optionalColomns",n.optionalColomns)("page",n.page)("actions",n.rowFunctions)("dataSource",n.dataSource)("exportService",n.TrainingPlanIndexService),e.xp6(1),e.s9C("title",e.lcZ(6,11,"Dashboard")),e.xp6(2),e.Q6J("serviceId",n.getCurrentServiceId()))},dependencies:[I.I,_.T,S.c,Z.b,l.a8,l.dn,l.n5,v.X$]}),a})();var Re=r(20430),Ee=r(8656),ke=r(70486),ee=r(93665),te=r(38368),P=r(4859),Be=r(84724);function Fe(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isUpdate=!0)}),e._UZ(1,"i",10),e.qZA()}}function Me(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isUpdate=!1)}),e._UZ(1,"i",11),e.qZA()}}function Ge(a,i){if(1&a&&(e.TgZ(0,"div",15),e._UZ(1,"app-view-data-row-item",16)(2,"app-view-data-row-item",17)(3,"app-view-data-row-item",18)(4,"app-view-data-row-item",19)(5,"app-view-data-row-item",20)(6,"app-view-data-row-item",21),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("value",null==t.plan?null:t.plan.en_Name),e.xp6(1),e.Q6J("value",null==t.plan?null:t.plan.ar_Name),e.xp6(1),e.Q6J("value",null==t.plan?null:t.plan.from_Date)("isDate",!0),e.xp6(1),e.Q6J("value",null==t.plan?null:t.plan.to_Date)("isDate",!0),e.xp6(1),e.Q6J("value",null==t.plan?null:t.plan.budget),e.xp6(1),e.Q6J("value",null==t.plan?null:t.plan.note)}}function Oe(a,i){1&a&&e._UZ(0,"app-view-card-row-skeleton")}function Ye(a,i){if(1&a&&(e.TgZ(0,"div",12),e.YNc(1,Ge,7,8,"div",13),e.YNc(2,Oe,1,0,"app-view-card-row-skeleton",14),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoaded),e.xp6(1),e.Q6J("ngIf",!t.isLoaded)}}function je(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"app-plan-general-data",22),e.NdJ("closeAfterUpdate",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.returnToView(o))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("plan",t.plan)}}let ze=(()=>{class a extends g.U{constructor(t){super(),this.trainingPlanIndexService=t,this.isUpdate=!1,this.planId=0,this.isLoaded=!1}onChangeBusinessAndCompanyId(){this.planId>0&&this.checkNoBusinessOrCompany()&&this.getPlanById()}ngOnInit(){}getPlanById(){this.isLoaded=!1,this.trainingPlanIndexService.getById(this.planId).subscribe(t=>{(t.message.messageType=p.u.Success)?(this.plan=t.data[0],this.isLoaded=!0):this.errorList(t?.message?.messages)})}returnToView(t){this.isUpdate=!1,this.plan=t}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(W.H))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-general-info-plan-view"]],inputs:{planId:"planId"},features:[e.qOj],decls:13,vars:4,consts:[[1,"row"],[1,"col-12"],["container",""],[1,"title-no-margin"],["title","generalInfo",1,"stepper-section-title"],["mat-button","","class","float-right section-edit-btn pright-6 pleft-6 darkBlue","id","section_edit_btn",3,"click",4,"ngIf"],[1,"mt-2"],["class","mtop-30",4,"ngIf","ngIfElse"],["form",""],["mat-button","","id","section_edit_btn",1,"float-right","section-edit-btn","pright-6","pleft-6","darkBlue",3,"click"],[1,"ft-edit-1","font-medium-3"],[1,"ft-corner-up-left","font-medium-3"],[1,"mtop-30"],["class","view-data-row-container",4,"ngIf"],[4,"ngIf"],[1,"view-data-row-container"],["label","en_Name",1,"col-4","col-md",3,"value"],["label","ar_Name",1,"col-4","col-md",3,"value"],["label","froM_DATE",1,"col-4","col-md",3,"value","isDate"],["label","tO_DATE",1,"col-4","col-md",3,"value","isDate"],["label","budget",1,"col-4","col-md",3,"value"],["label","notes",1,"col-4","col-md",3,"value"],[3,"plan","closeAfterUpdate"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",null,2)(4,"mat-card-title",3),e._UZ(5,"page-title",4),e.YNc(6,Fe,2,0,"button",5),e.YNc(7,Me,2,0,"button",5),e.qZA(),e._UZ(8,"mat-divider",6),e.TgZ(9,"mat-card-content"),e.YNc(10,Ye,3,2,"div",7),e.YNc(11,je,1,1,"ng-template",null,8,e.W1O),e.qZA()()()()),2&t){const o=e.MAs(12);e.xp6(6),e.Q6J("ngIf",!n.isUpdate),e.xp6(1),e.Q6J("ngIf",n.isUpdate),e.xp6(3),e.Q6J("ngIf",!n.isUpdate)("ngIfElse",o)}},dependencies:[h.O5,_.T,ee.l,te.I,P.lW,l.a8,l.dn,l.n5,T.d,Be.Q]}),a})(),He=(()=>{class a extends g.U{constructor(){super(),this.showTna=!1,this.showCourses=!1,this.updateCourseDropdown=!1,this.viewsManager=c.S}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.planId=Number(t.id)??0})}scrollToSection(t){const n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-plan-view-core"]],features:[e.qOj],decls:8,vars:18,consts:[[1,"title-no-margin","title-section"],["title","planViewcore"],[3,"url","params"],[3,"planId"],[3,"id","isView","planId","updateViewDisplay","updateCourseDropdown"],[3,"id","isView","planId","updateCourseDropdown","updateViewDisplay"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ynx(2),e._UZ(3,"app-add-new-btn",2)(4,"app-back-btn",2),e.BQk(),e.qZA(),e._UZ(5,"app-general-info-plan-view",3),e.TgZ(6,"app-training-needs-analysis",4),e.NdJ("updateViewDisplay",function(s){return n.showTna=s,n.scrollToSection(n.viewsManager.plan_tna)})("updateCourseDropdown",function(){return n.updateCourseDropdown=!n.updateCourseDropdown}),e.qZA(),e.TgZ(7,"app-plan-courses-and-expensis",5),e.NdJ("updateViewDisplay",function(s){return n.showCourses=s,n.scrollToSection(n.viewsManager.plan_course)}),e.qZA()),2&t&&(e.xp6(3),e.MGl("url","/training/",n.moduleId,"/training-plan/add"),e.Q6J("params",n.parentParam),e.xp6(1),e.MGl("url","/training/",n.moduleId,"/training-plan/index"),e.Q6J("params",n.pageParams),e.xp6(1),e.ekj("hidden",n.showCourses||n.showTna),e.Q6J("planId",n.planId),e.xp6(1),e.ekj("hidden",n.showCourses),e.Q6J("id",n.viewsManager.plan_tna)("isView",!0)("planId",n.planId),e.xp6(1),e.ekj("hidden",n.showTna),e.Q6J("id",n.viewsManager.plan_course)("isView",!0)("planId",n.planId)("updateCourseDropdown",n.updateCourseDropdown))},dependencies:[D.a,J.J,_.T,l.n5,Ee.j,ke.j,ze],styles:[".title-section[_ngcontent-%COMP%]{border-radius:10px!important;margin-bottom:20px!important}"]}),a})();function ne(a){return a.map(i=>({...i,plan:(0,u._)(i.trA_Plan_Course?.trA_PLan?.ar_Name,i.trA_Plan_Course?.trA_PLan?.en_Name),course:i.trA_Plan_Course?.name,fromDate:u.M.mapDate(i.from_Date),toDate:u.M.mapDate(i.to_Date),instructor:(0,u._)(i.trA_Instructor?.ar_Name,i.trA_Instructor?.en_Name),tsp:(0,u._)(i.trA_TSP?.ar_Name,i.trA_TSP?.en_Name)}))}var et=r(24850);let B=(()=>{class a extends N.K{constructor(){super()}create(t){return this.post("training/Implementation/Create",t)}update(t){return this.post("training/Implementation/Edit",t)}getAll(){return this.get("training/Implementation/GetAll",{params:{$expand:`${C.db.TRA_plan_course}.${C.db.trA_PLan},${C.db.TRA_plan_course}.${C.db.TRA_Course}`}})}getById(t){return this.get("Training/Implementation/GetAll",{params:{$filter:`ID eq ${t}`,$expand:`${C.db.TRA_plan_course}.${C.db.trA_PLan},${C.db.Tra_Instructor},${C.db.TRA_TSP}`}})}getList(t){return this.get("training/Implementation/GetList",{params:t})}Delete(t){return this.delete("training/Implementation/Delete",{params:{Id:t}})}exportExcel(){return this.getAll().pipe((0,et.U)(t=>(t.data=ne(t.data),t)))}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),tt=(()=>{class a extends g.U{constructor(t){super(),this.implementationService=t,this.mandatoryColomns=["Ser","id","planName","course","from_Date","to_Date","count_Employees","actions"],this.optionalColomns=[],this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,n){this.dataSource=new d.by(null),this.isLoaded=!1,this.removePageParams(),this.page.pageIndex=t,n&&(this.page.pageSize=n),this.implementationService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(1==s.message.messageType){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new d.by(function $e(a){return a.map(i=>({...i,id:i.impelementation_ID,planName:(0,u._)(i.plan?.ar_Name,i.plan?.en_Name),course:i.plan_Course?.name,from_Date:u.M.mapDate(i.from_Date),to_Date:u.M.mapDate(i.to_Date)}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}onDelete(t){this.deleteDialog(t.planName+" - "+t.course).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.implementationService.Delete(t.id).subscribe(n=>{1==n.message.messageType?(this.deleteSuccessfullyMsg(n?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(n?.message?.messages),this.hideLoading()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(B))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-implementation-index"]],features:[e.qOj],decls:9,vars:13,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","implementation",3,"globalFunctions"],[3,"isRowClickable","isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"app-material-table",4),e.NdJ("onChangePage",function(s){return n.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return n.onDelete(s)}),e.qZA()()()(),e.TgZ(6,"side-helping-menu",5),e.ALo(7,"translate"),e._UZ(8,"app-dashboard-display",6),e.qZA()),2&t&&(e.xp6(4),e.Q6J("globalFunctions",n.globalFunctions),e.xp6(1),e.Q6J("isRowClickable",!0)("isLoaded",n.isLoaded)("dataSource",n.dataSource)("mandatoryColomns",n.mandatoryColomns)("optionalColomns",n.optionalColomns)("page",n.page)("actions",n.rowFunctions)("exportService",n.implementationService),e.xp6(1),e.s9C("title",e.lcZ(7,11,"Dashboard")),e.xp6(2),e.Q6J("serviceId",n.getCurrentServiceId()))},dependencies:[I.I,_.T,S.c,Z.b,l.a8,l.n5,v.X$]}),a})(),nt=(()=>{class a extends N.K{constructor(){super()}create(t){return this.post("training/ImplementationEmployees/Create",t)}getAll(t){return this.get("Training/ImplementationEmployees/GetEmployees",{params:{Implementation_ID:t}})}Delete(t){return this.delete("Training/ImplementationEmployees/Delete",{params:t})}DeleteAll(t){return this.delete("Training/ImplementationEmployees/DeleteAll",{params:{implementation_id:t}})}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var at=r(71812);function it(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.isViewUpdate=!0)}),e._UZ(1,"i",12),e.qZA()}}function ot(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.isViewUpdate=!1)}),e._UZ(1,"i",13),e.qZA()}}function st(a,i){if(1&a&&(e.ynx(0),e.YNc(1,it,2,0,"button",10),e.YNc(2,ot,2,0,"button",10),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isViewUpdate),e.xp6(1),e.Q6J("ngIf",t.isViewUpdate)}}function rt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"app-button",14),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClearAll())}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("color",t.btn.darkBlueBorder)("disabled",!t.isLoaded||!t.dataSourceSelected||0==(null==t.dataSourceSelected||null==t.dataSourceSelected.data?null:t.dataSourceSelected.data.length))}}function lt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"submit-btn",15),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("color",t.btn.darkBlue)("disabled",!t.implementationId)}}let F=(()=>{class a extends g.U{constructor(t){super(),this.implementationEmployeeService=t,this.implementationId=0,this.isView=!1,this.completed=new e.vpe,this.mandatoryColomns=["code","employee","department","job","selectAll"],this.mandatoryColomnsView=["code","employee","department","job","actions"],this.isLoaded=!1,this.optionalColomns=[],this.isViewUpdate=!0}ngOnInit(){}ngOnChanges(t){t.implementationId.currentValue>0&&!t.implementationId.previousValue&&!t.implementationId.firstChange&&this.checkNoBusinessOrCompany()&&this.getAll()}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.implementationId>0?this.getAll():this.isLoaded=!0}onModulesChanged(){this.rowFunctions=this.getSubRowFunctions(this.getParentViewName,c.S.implementation_employees)}getAll(){this.dataSource=new d.by(null),this.dataSourceSelected=new d.by(null),this.isLoaded=!1,this.implementationEmployeeService.getAll(this.implementationId).pipe(this.cancelRequest()).subscribe(t=>{if(t.message.messageType==p.u.Success){t.data.sort((o,s)=>o.isSelected===s.isSelected?0:o.isSelected?-1:1);let n=function Xe(a){return a.map(i=>({...i,code:i.person?.code,employee:(0,u._)(i.person?.ar_Name,i.person?.en_Name),department:(0,u._)(i.org?.ar_Name,i.org?.en_Name),job:(0,u._)(i.job_Title?.ar_Name,i.job_Title?.en_Name)}))}(t.data);this.dataSource=new d.by(n),this.dataSourceSelected=new d.by(n.filter(o=>o.isSelected)),this.isLoaded=!0}else this.errorList(t?.message?.messages)})}submit(){const t={Implementation_ID:this.implementationId,SelectedEmployees:[]};this.dataSource.data.filter(n=>n.isSelected).forEach(n=>{t.SelectedEmployees.push(n.person.core_Person_Instance[0].id)}),0!=t.SelectedEmployees.length?this.create(t):this.warning("selectOneEmployee")}create(t){this.showLoading(),this.implementationEmployeeService.create(t).subscribe(n=>{n?.message?.messageType==p.u.Success?(this.addSuccessfullyMsg(n?.message?.messageTypeName),this.getAll(),this.isView&&(this.isViewUpdate=!1),this.completed.emit(!0)):this.errorList(n?.message?.messages),this.hideLoading()})}onDelete(t){this.deleteDialog(t.employee).subscribe(o=>{o&&this.delete(t)})}delete(t){let n={implementation_id:this.implementationId,person_instance_id:t.person.id};this.showLoading(),this.implementationEmployeeService.Delete(n).subscribe(o=>{o.message.messageType==p.u.Success?(this.deleteSuccessfullyMsg(o?.message?.messageTypeName),this.getAll()):this.errorList(o?.message?.messages),this.hideLoading()})}onClearAll(){let t=this.translate("allEmployees");this.deleteDialog(t).subscribe(n=>{n&&this.clearAll()})}clearAll(){this.showLoading(),this.implementationEmployeeService.DeleteAll(this.implementationId).subscribe(t=>{t.message.messageType==p.u.Success?(this.deleteSuccessfullyMsg(t?.message?.messageTypeName),this.dataSourceSelected=new d.by([]),this.dataSource.data.map(n=>n.isSelected=!1)):this.errorList(t?.message?.messages),this.hideLoading()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(nt))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-implementation-employees"]],inputs:{implementationId:"implementationId",isView:"isView"},outputs:{completed:"completed"},features:[e.qOj,e.TTD],decls:13,vars:10,consts:[[1,"row"],[1,"col-12"],["container",""],["title","employees",1,"stepper-section-title"],[4,"ngIf"],[1,"container-fluid","mtop-45","p-0"],["checkboxColumnName","isSelected",1,"table-in-forms",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showSpaceTop","deleteRow"],["align","end"],["label","clearAll",3,"color","disabled","onClick",4,"ngIf"],["icon","pi pi-plus-circle",3,"color","disabled","onClick",4,"ngIf"],["mat-button","","class","float-right section-edit-btn pright-6 pleft-6 darkBlue","id","section_edit_btn",3,"click",4,"ngIf"],["mat-button","","id","section_edit_btn",1,"float-right","section-edit-btn","pright-6","pleft-6","darkBlue",3,"click"],[1,"fas","fa-pen","font-size-15"],[1,"ft-corner-up-left","font-size-18"],["label","clearAll",3,"color","disabled","onClick"],["icon","pi pi-plus-circle",3,"color","disabled","onClick"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",null,2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.YNc(6,st,3,2,"ng-container",4),e.qZA(),e._UZ(7,"mat-divider"),e.TgZ(8,"mat-card-content",5)(9,"app-material-table",6),e.NdJ("deleteRow",function(s){return n.onDelete(s)}),e.qZA()(),e.TgZ(10,"mat-card-actions",7),e.YNc(11,rt,1,2,"app-button",8),e.YNc(12,lt,1,2,"submit-btn",9),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",n.isView),e.xp6(3),e.Q6J("isLoaded",n.isLoaded)("dataSource",n.isViewUpdate?n.dataSource:n.dataSourceSelected)("mandatoryColomns",n.isViewUpdate?n.mandatoryColomns:n.mandatoryColomnsView)("optionalColomns",n.optionalColomns)("actions",n.rowFunctions)("showPaginator",!1)("showSpaceTop",!1),e.xp6(2),e.Q6J("ngIf",n.isView&&!(n.isLoaded&&0==(null==n.dataSource||null==n.dataSource.data?null:n.dataSource.data.length))),e.xp6(1),e.Q6J("ngIf",n.isViewUpdate))},dependencies:[h.O5,I.I,y.p,_.T,at.r,P.lW,l.a8,l.dn,l.n5,l.hq,T.d]}),a})();var mt=r(29521),M=r(43949),pt=r(48036),dt=r(44221);function ct(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"reset-form-btn",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let ae=(()=>{class a extends g.U{constructor(t){super(),this.implementationService=t,this.submitted=!1,this.implementationId=0,this.changeImplementationId=new e.vpe,this.updateEmployeeIndex=new e.vpe,this.completed=new e.vpe,this.closeAfterUpdate=new e.vpe}onChangeBusinessAndCompanyId(){this.implementationId>0&&this.checkNoBusinessOrCompany()&&this.getImplementationById()}ngOnInit(){this.form=this.fb.group({id:[this.implementationId,{nonNullable:!0}],plan_ID:[null,[m.kI.required]],plan_Course_ID:[null,[m.kI.required]],instructor_ID:[null,[m.kI.required]],tsP_ID:[null,[m.kI.required]],from_Date:[null,[m.kI.required]],to_Date:[null,[m.kI.required]],attendance_Percentage:[null,[m.kI.required,M.dN.gte(0),M.dN.lte(100)]],note:[null]},{validator:q.w.compareDates("from_Date","to_Date")}),this.implementation&&(this.implementationId=this.implementation.id)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){let t={id:this.formCtrls.id.value,plan_Course_ID:this.formCtrls.plan_Course_ID.value,instructor_ID:this.formCtrls.instructor_ID.value,tsP_ID:this.formCtrls.tsP_ID.value,from_Date:u.M.mapDateReverse(this.formCtrls.from_Date.value),to_Date:u.M.mapDateReverse(this.formCtrls.to_Date.value),attendance_Percentage:this.formCtrls.attendance_Percentage.value,note:this.formCtrls.note.value};0==t.id?this.create(t):this.update(t)}}getImplementationById(){this.implementation?(this.formCtrls.plan_ID.setValue(this.implementation.trA_Plan_Course.plan_ID),this.form.patchValue(this.implementation)):(this.showLoading("general"),this.implementationService.getById(this.implementationId).subscribe(t=>{(t.message.messageType=p.u.Success)?(this.form.patchValue(t.data[0]),this.formCtrls.plan_ID.setValue(t.data[0].trA_Plan_Course?.plan_ID),this.formCtrls.plan_Course_ID.setValue(t.data[0].plan_Course_ID)):this.errorList(t?.message?.messages),this.hideLoading("general")}))}create(t){this.showLoading("general"),this.implementationService.create(t).subscribe(n=>{n?.message?.messageType==p.u.Success?(this.addSuccessfullyMsg(n?.message?.messageTypeName),this.implementationId=n.data.id,this.formCtrls.id.setValue(this.implementationId),this.navigateTo(`/training/${this.moduleId}/implementation/edit/${this.implementationId}`),this.changeImplementationId.emit(this.implementationId),this.completed.emit(!0)):this.errorList(n?.message?.messages),this.hideLoading("general")})}update(t){this.showLoading("general"),this.implementationService.update(t).subscribe(n=>{n?.message?.messageType==p.u.Success?(this.updateSuccessfullyMsg(n?.message?.messageTypeName),this.closeAfterUpdate.emit(!0),this.updateEmployeeIndex.emit(),this.completed.emit(!0)):this.errorList(n?.message?.messages),this.hideLoading("general")})}clearForm(){this.form.reset(),this.submitted=!1}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(B))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-implementation-general-data"]],inputs:{implementationId:"implementationId",implementation:"implementation"},outputs:{changeImplementationId:"changeImplementationId",updateEmployeeIndex:"updateEmployeeIndex",completed:"completed",closeAfterUpdate:"closeAfterUpdate"},features:[e.qOj],decls:26,vars:27,consts:[[3,"name"],[1,"container-fluid","mtop-40"],[1,"row"],[1,"col-12"],[3,"formGroup"],[1,"col-md-4","col-lg-3","col-12"],[3,"control","submitted","filter"],[3,"control","planControl","submitted","filter"],["label","from_Date",3,"control","submitted"],["label","to_Date",3,"control","submitted"],["label","attendance_Percentage","type","number",3,"control","submitted"],["label","notes",3,"control","submitted"],["align","end",1,"mb-0"],[3,"click",4,"ngIf"],["icon","pi pi-plus-circle",3,"id","color","iconPositionBefore","onClick"],[1,"clearfix"],[3,"click"]],template:function(t,n){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"mat-card-content",1)(2,"div",2)(3,"div",3)(4,"form",4)(5,"div",2)(6,"div",5),e._UZ(7,"app-training-plan-dropdown",6),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"app-course-by-training-plan-dropdown",7),e.qZA(),e.TgZ(10,"div",5),e._UZ(11,"app-instructor-dropdown",6),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"app-tsp-dropdown",6),e.qZA(),e.TgZ(14,"div",5),e._UZ(15,"app-datepicker",8),e.qZA(),e.TgZ(16,"div",5),e._UZ(17,"app-datepicker",9),e.qZA(),e.TgZ(18,"div",5),e._UZ(19,"app-input",10),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"app-input",11),e.qZA()()()()()(),e.TgZ(22,"mat-card-actions",12),e.YNc(23,ct,1,0,"reset-form-btn",13),e.TgZ(24,"submit-btn",14),e.NdJ("onClick",function(){return n.submit()}),e.qZA(),e._UZ(25,"div",15),e.qZA()),2&t&&(e.Q6J("name","general"),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.plan_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.plan_Course_ID)("planControl",n.formCtrls.plan_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.instructor_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.tsP_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.from_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.to_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.attendance_Percentage)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.note)("submitted",n.submitted),e.xp6(2),e.Q6J("ngIf",0==n.formCtrls.id.value),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1))},dependencies:[h.O5,E.Q,V.a,k.J,y.p,l.dn,l.hq,w.Ro,z.M,H.W,pt._,dt.O,m._Y,m.JL,m.sg]}),a})(),ut=(()=>{class a extends N.K{constructor(){super()}getAll(t){return this.get("Training/ImplementationLecture/GetAll",{params:{$filter:`Implementation_ID eq ${t}`}})}create(t){return this.post("Training/ImplementationLecture/Create",t)}update(t){return this.post("Training/ImplementationLecture/Edit",t)}Delete(t){return this.delete("Training/ImplementationLecture/Delete",{params:{lecture_id:t}})}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var gt=r(12613),ht=r(47383),_t=r(93054);function ft(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.changeIsViewUpdate(!0))}),e._UZ(1,"i",8),e.qZA()}}function Ct(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.changeIsViewUpdate(!1))}),e._UZ(1,"i",9),e.qZA()}}function It(a,i){if(1&a&&(e.ynx(0),e.YNc(1,ft,2,0,"button",6),e.YNc(2,Ct,2,0,"button",6),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isViewUpdate),e.xp6(1),e.Q6J("ngIf",t.isViewUpdate)}}function bt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"reset-form-btn",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearForm())}),e.qZA()}}function vt(a,i){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content",10)(2,"div",1)(3,"div",2)(4,"courseForm",11)(5,"div",1)(6,"div",12),e._UZ(7,"app-input",13),e.qZA(),e.TgZ(8,"div",12),e._UZ(9,"app-input",14),e.qZA(),e.TgZ(10,"div",15)(11,"app-datepicker",16),e.ynx(12,17),e._UZ(13,"app-check-box",18),e.BQk(),e.qZA()(),e.TgZ(14,"div",12),e._UZ(15,"app-datepicker",19),e.qZA(),e.TgZ(16,"div",20),e._UZ(17,"weekdays-checkboxes",21),e.qZA(),e.TgZ(18,"div",12),e._UZ(19,"app-timepicker",22),e.qZA(),e.TgZ(20,"div",12),e._UZ(21,"app-timepicker",23),e.qZA(),e.TgZ(22,"div",12),e._UZ(23,"app-input",24),e.qZA(),e.TgZ(24,"div",12),e._UZ(25,"app-input",25),e.qZA()()()()()(),e.TgZ(26,"mat-card-actions",26),e.YNc(27,bt,1,0,"reset-form-btn",27),e.TgZ(28,"submit-btn",28),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e.qZA()(),e.BQk()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.ar_Name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.en_Name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.day_Date)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.isRepeated),e.xp6(2),e.Q6J("control",t.formCtrls.repeatEndDate)("submitted",t.submitted)("disabled",!t.formCtrls.isRepeated.value),e.xp6(1),e.ekj("hidden",!t.formCtrls.isRepeated.value),e.xp6(1),e.Q6J("control",t.formCtrls.days)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.start_Houre)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.end_Houre)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.location)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.note)("submitted",t.submitted),e.xp6(2),e.Q6J("ngIf",t.formCtrls.id.value>0),e.xp6(1),e.Q6J("disabled",!t.implementationId)("id",t.formCtrls.id.value)("color",t.btn.darkBlue)("iconPositionBefore",!1)}}function Tt(a,i){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",30),e.TgZ(3,"app-material-table",31),e.NdJ("editRow",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.lectureToEdit(o))})("deleteRow",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onDelete(o))}),e.qZA()(),e.BQk()}if(2&a){const t=e.oxw();e.xp6(3),e.Q6J("isRowClickable",!1)("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showFilter",!1)("showPaginator",!1)}}let ie=(()=>{class a extends g.U{constructor(t){super(),this.implementationLectureService=t,this.implementationId=0,this.isView=!1,this.completed=new e.vpe,this.submitted=!1,this.mandatoryColomns=["ar_Name","en_Name","dayDate","startHour","endHour","location","notes","actions"],this.optionalColomns=[],this.isLoaded=!1,this.isViewUpdate=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNallable:!0}],ar_Name:[null,[m.kI.required]],en_Name:[null,[m.kI.required]],day_Date:[null,[m.kI.required]],start_Houre:[null,[m.kI.required]],end_Houre:[null,[m.kI.required]],location:[null],note:[null],isRepeated:[null],repeatEndDate:[null],days:[[]]},{validator:[q.w.timeBefore("start_Houre","end_Houre"),q.w.compareDates("day_Date","repeatEndDate")]}),this.formCtrls.isRepeated.valueChanges.subscribe(t=>this.onChangeIsRepeated(t)),this.isView&&this.changeIsViewUpdate(!1)}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.implementationId>0?this.getAll():this.isLoaded=!0}onModulesChanged(){this.rowFunctions=this.getSubRowFunctions(this.getParentViewName,c.S.implementation_lecture)}get formCtrls(){return this.form.controls}getAll(){this.dataSource=new d.by(null),this.isLoaded=!1,this.implementationLectureService.getAll(this.implementationId).pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==p.u.Success?(this.dataSource=new d.by(function We(a){return a.map(i=>({...i,dayDate:u.M.mapDate(i.day_Date),startHour:u.M.mapTime(i.start_Houre),endHour:u.M.mapTime(i.end_Houre),notes:i.note}))}(t.data)),this.isLoaded=!0):this.errorList(t?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const t={implementation_ID:this.implementationId,id:this.form.value.id,ar_Name:this.form.value.ar_Name,en_Name:this.form.value.en_Name,day_Date:u.M.mapDateReverse(this.form.value.day_Date),start_Houre:this.form.value.start_Houre,end_Houre:this.form.value.end_Houre,location:this.form.value.location,note:this.form.value.note,isRepeated:this.form.value.isRepeated??!1,repeatEndDate:null,weekDays:[]};t.isRepeated&&(t.repeatEndDate=u.M.mapDateReverse(this.form.value.repeatEndDate),t.weekDays=this.form.value.days??[]),0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading("lecture"),this.implementationLectureService.create(t).subscribe(n=>{n?.message?.messageType==p.u.Success?(this.addSuccessfullyMsg(n?.message?.messageTypeName),this.clearForm(),this.getAll(),this.completed.emit(!0)):this.errorList(n?.message?.messages),this.hideLoading("lecture")})}update(t){this.showLoading("lecture"),this.implementationLectureService.update(t).subscribe(n=>{n?.message?.messageType==p.u.Success?(this.updateSuccessfullyMsg(n?.message?.messageTypeName),this.clearForm(),this.getAll(),this.completed.emit(!0)):this.errorList(n?.message?.messages),this.hideLoading("lecture")})}lectureToEdit(t){this.form.patchValue(t)}onDelete(t){let n=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(n).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading("lecture"),this.implementationLectureService.Delete(t.id).subscribe(n=>{n.message.messageType==p.u.Success?(this.deleteSuccessfullyMsg(n?.message?.messageTypeName),this.getAll()):this.errorList(n?.message?.messages),this.hideLoading("lecture")})}clearForm(){this.form.reset({id:0,days:[],isRepeated:!1}),this.submitted=!1}onChangeIsRepeated(t){t?(this.formCtrls.repeatEndDate.addValidators([m.kI.required]),this.formCtrls.days.addValidators([m.kI.required])):(this.formCtrls.repeatEndDate.clearValidators(),this.formCtrls.days.clearValidators()),this.formCtrls.repeatEndDate.updateValueAndValidity(),this.formCtrls.days.updateValueAndValidity()}changeIsViewUpdate(t){this.isViewUpdate=t;let n=this.mandatoryColomns.findIndex(s=>"actions"==s),o=this.mandatoryColomns.slice();t&&n<0?o.push("actions"):!t&&n>=0&&o.pop(),this.mandatoryColomns=o}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(ut))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-implementation-lectures"]],inputs:{implementationId:"implementationId",isView:"isView"},outputs:{completed:"completed"},features:[e.qOj],decls:11,vars:4,consts:[[3,"name"],[1,"row"],[1,"col-12"],["container",""],["title","lectures",1,"stepper-section-title"],[4,"ngIf"],["mat-button","","class","float-right section-edit-btn pright-6 pleft-6 darkBlue","id","section_edit_btn",3,"click",4,"ngIf"],["mat-button","","id","section_edit_btn",1,"float-right","section-edit-btn","pright-6","pleft-6","darkBlue",3,"click"],[1,"fas","fa-pen","font-size-15"],[1,"ft-corner-up-left","font-size-18"],[1,"container-fluid","mtop-45"],[3,"formGroup"],[1,"col-md-4","col-lg-3","col-12"],["label","ar_Name",3,"control","submitted"],["label","en_Name",3,"control","submitted"],[1,"col-md-4","col-lg-3","col-12","mb-2"],["label","dayDate",1,"display-in-msg",3,"control","submitted"],[1,"msg"],["label","isRepeated","labelPosition","before",1,"p-0","m-0",3,"control"],["label","repeatEndDate",3,"control","submitted","disabled"],[1,"col-12","pright-15","pleft-15","mbottom-15","mt-2"],[3,"control","submitted"],["label","startHour",3,"control","submitted"],["label","endHour",3,"control","submitted"],["label","location",3,"control","submitted"],["label","notes",3,"control","submitted"],["align","end"],[3,"click",4,"ngIf"],["icon","pi pi-plus-circle",3,"disabled","id","color","iconPositionBefore","onClick"],[3,"click"],[1,"w-75","m-auto"],[1,"table-in-forms",3,"isRowClickable","isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showFilter","showPaginator","editRow","deleteRow"]],template:function(t,n){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",null,3)(5,"mat-card-title"),e._UZ(6,"page-title",4),e.YNc(7,It,3,2,"ng-container",5),e.qZA(),e._UZ(8,"mat-divider"),e.YNc(9,vt,29,28,"ng-container",5),e.YNc(10,Tt,4,8,"ng-container",5),e.qZA()()()),2&t&&(e.Q6J("name","lecture"),e.xp6(7),e.Q6J("ngIf",n.isView),e.xp6(2),e.Q6J("ngIf",!n.isView||n.isViewUpdate),e.xp6(1),e.Q6J("ngIf",n.implementationId>0))},dependencies:[h.O5,E.Q,V.a,I.I,gt.u,ht.E,k.J,y.p,_.T,_t.M,P.lW,l.a8,l.dn,l.n5,l.hq,T.d,w.Ro,m.JL,m.sg],styles:[".mat-checkbox-inner-container{margin-right:2px!important;margin-left:2px!important}"]}),a})(),wt=(()=>{class a extends N.K{constructor(){super()}getAll(t){return this.get("Training/ImplementationExpenses/GetAll",{params:{$filter:`Implementation_ID eq ${t}`,$expand:`${C.db.TRA_expense}`}})}create(t){return this.post("Training/ImplementationExpenses/Create",t)}Delete(t){return this.delete("Training/ImplementationExpenses/Delete",{params:t})}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var yt=r(85917);function St(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.changeIsViewUpdate(!0))}),e._UZ(1,"i",8),e.qZA()}}function Zt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.changeIsViewUpdate(!1))}),e._UZ(1,"i",9),e.qZA()}}function xt(a,i){if(1&a&&(e.ynx(0),e.YNc(1,St,2,0,"button",6),e.YNc(2,Zt,2,0,"button",6),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isViewUpdate),e.xp6(1),e.Q6J("ngIf",t.isViewUpdate)}}function At(a,i){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content",10)(2,"div",1)(3,"div",2)(4,"courseForm",11)(5,"div",1)(6,"div",12),e._UZ(7,"app-expenses-dropdown",13),e.qZA(),e.TgZ(8,"div",12),e._UZ(9,"app-input",14),e.qZA(),e.TgZ(10,"div",15)(11,"submit-btn",16),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e.qZA()()()()()()(),e.BQk()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.expenseId)("submitted",t.submitted)("filter",!0),e.xp6(2),e.Q6J("control",t.formCtrls.budget)("submitted",t.submitted),e.xp6(2),e.Q6J("disabled",!t.implementationId)("color",t.btn.darkBlue)("iconPositionBefore",!1)}}function Lt(a,i){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",17),e.TgZ(3,"app-material-table",18),e.NdJ("deleteRow",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onDelete(o))}),e.qZA()(),e.BQk()}if(2&a){const t=e.oxw();e.xp6(3),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)}}let oe=(()=>{class a extends g.U{constructor(t){super(),this.implementationExpensesService=t,this.implementationId=0,this.isView=!1,this.completed=new e.vpe,this.submitted=!1,this.mandatoryColomns=["expense","value","actions"],this.optionalColomns=[],this.isLoaded=!1,this.isViewUpdate=!1}ngOnInit(){this.form=this.fb.group({expenseId:[null,[m.kI.required]],budget:[null,[m.kI.required,M.dN.gte(0)]]}),this.isView&&this.changeIsViewUpdate(!1)}ngOnChanges(t){t.implementationId?.currentValue>0&&this.checkNoBusinessOrCompany()&&this.getAll()}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new d.by(null)),this.checkNoBusinessOrCompany()&&this.implementationId>0?this.getAll():this.isLoaded=!0}onModulesChanged(){this.rowFunctions=this.getSubRowFunctions(this.getParentViewName,c.S.implementation_expense)}get formCtrls(){return this.form.controls}getAll(){this.dataSource=new d.by(null),this.isLoaded=!1,this.implementationExpensesService.getAll(this.implementationId).pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==p.u.Success?(this.dataSource=new d.by(function Ke(a){return a.map(i=>({...i,expense:(0,u._)(i.trA_Expense?.ar_Name,i.trA_Expense?.en_Name),value:i.expense_Value}))}(t.data)),this.isLoaded=!0):this.errorList(t?.message?.messages)})}submit(){this.submitted=!0,this.form.valid&&this.create({implementation_ID:this.implementationId,expense_ID:this.form.value.expenseId,expense_Value:this.form.value.budget})}create(t){this.showLoading("expenses"),this.implementationExpensesService.create(t).subscribe(n=>{n?.message?.messageType==p.u.Success?(this.addSuccessfullyMsg(n?.message?.messageTypeName),this.clearForm(),this.getAll(),this.completed.emit(!0)):this.errorList(n?.message?.messages),this.hideLoading("expenses")})}onDelete(t){this.deleteDialog(t.expense+" - "+t.value).subscribe(o=>{o&&this.delete(t)})}delete(t){let n={implementation_id:t.implementation_ID,expense_id:t.expense_ID};this.showLoading("expenses"),this.implementationExpensesService.Delete(n).subscribe(o=>{o.message.messageType==p.u.Success?(this.deleteSuccessfullyMsg(o?.message?.messageTypeName),this.getAll()):this.errorList(o?.message?.messages),this.hideLoading("expenses")})}clearForm(){this.form.reset(),this.submitted=!1}changeIsViewUpdate(t){this.isViewUpdate=t;let n=this.mandatoryColomns.findIndex(s=>"actions"==s),o=this.mandatoryColomns.slice();t&&n<0?o.push("actions"):!t&&n>=0&&o.pop(),this.mandatoryColomns=o}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(wt))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-implementation-expenses"]],inputs:{implementationId:"implementationId",isView:"isView"},outputs:{completed:"completed"},features:[e.qOj,e.TTD],decls:11,vars:4,consts:[[3,"name"],[1,"row"],[1,"col-12"],["container",""],["title","expenses",1,"stepper-section-title"],[4,"ngIf"],["mat-button","","class","float-right section-edit-btn pright-6 pleft-6 darkBlue","id","section_edit_btn",3,"click",4,"ngIf"],["mat-button","","id","section_edit_btn",1,"float-right","section-edit-btn","pright-6","pleft-6","darkBlue",3,"click"],[1,"fas","fa-pen","font-size-15"],[1,"ft-corner-up-left","font-size-18"],[1,"container-fluid","mtop-45"],[3,"formGroup"],[1,"col-md-4","col-12"],[3,"control","submitted","filter"],["label","budget","type","number",3,"control","submitted"],[1,"col-md-3","col-12"],["icon","pi pi-plus-circle",1,"btn-large","mt-1","line-height-3",3,"disabled","color","iconPositionBefore","onClick"],[1,"w-75","m-auto"],[1,"table-in-forms","small-table","no-margin",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","deleteRow"]],template:function(t,n){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",null,3)(5,"mat-card-title"),e._UZ(6,"page-title",4),e.YNc(7,xt,3,2,"ng-container",5),e.qZA(),e._UZ(8,"mat-divider"),e.YNc(9,At,12,9,"ng-container",5),e.YNc(10,Lt,4,7,"ng-container",5),e.qZA()()()),2&t&&(e.Q6J("name","expenses"),e.xp6(7),e.Q6J("ngIf",n.isView),e.xp6(2),e.Q6J("ngIf",!n.isView||n.isViewUpdate),e.xp6(1),e.Q6J("ngIf",n.implementationId>0))},dependencies:[h.O5,V.a,I.I,y.p,_.T,P.lW,l.a8,l.dn,l.n5,T.d,w.Ro,yt.b,m.JL,m.sg]}),a})();const Dt=["stepper"];function Jt(a,i){if(1&a&&e._UZ(0,"app-add-new-btn",3),2&a){const t=e.oxw();e.MGl("url","/training/",t.moduleId,"/implementation/add"),e.Q6J("params",t.parentParam)}}function Nt(a,i){1&a&&e._UZ(0,"i",18)}function Pt(a,i){1&a&&e._UZ(0,"i",18)}function Ut(a,i){1&a&&e._UZ(0,"i",18)}function Qt(a,i){1&a&&e._UZ(0,"i",18)}let qt=(()=>{class a extends g.U{constructor(){super(),this.implementationId=0,this.isGeneraCompleted=!1,this.isEmployeesCompleted=!1,this.isLecturesCompleted=!1,this.isExpensesCompleted=!1,this.PRINT_SCREEN=mt.sd}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.implementationId=Number(t.id??0)})}pr(){console.log("isGeneraCompleted",this.isGeneraCompleted)}stepChanged(){this.stepper.selected.interacted=!1}getImplementationId(t){this.implementationId=t}updateEmployeeIndex(){this.implementationEmployeesComponent.getAll()}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-implementation-core"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Dt,5),e.Gf(F,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.stepper=o.first),e.iGM(o=e.CRH())&&(n.implementationEmployeesComponent=o.first)}},features:[e.qOj],decls:37,vars:38,consts:[[1,"title-no-margin","title-section","fixed-title"],["addTitle","addImplementation","editTitle","editImplementation",3,"id"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"has-fixed-title"],[3,"linear","disableRipple","selectionChange"],["stepper",""],[3,"label","completed"],["matStepperIcon","edit"],[1,"row"],[1,"col-12"],[1,"title-no-margin"],["title","generalInfo",1,"stepper-section-title"],[1,"mt-2"],[1,"clearfix"],[3,"implementationId","changeImplementationId","updateEmployeeIndex","completed"],[3,"implementationId","completed"],[3,"stepper","parentParam","url","pageParams"],[1,"fas","fa-check"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ynx(2),e.YNc(3,Jt,1,2,"app-add-new-btn",2),e._UZ(4,"app-back-btn",3),e.BQk(),e.qZA(),e.ynx(5),e.TgZ(6,"mat-card-content",4)(7,"mat-stepper",5,6),e.NdJ("selectionChange",function(){return n.stepChanged()}),e.TgZ(9,"mat-step",7),e.ALo(10,"titlecase"),e.ALo(11,"translate"),e.YNc(12,Nt,1,0,"ng-template",8),e.TgZ(13,"div",9)(14,"div",10)(15,"mat-card")(16,"mat-card-title",11),e._UZ(17,"page-title",12),e.qZA(),e._UZ(18,"mat-divider",13)(19,"div",14),e.TgZ(20,"app-implementation-general-data",15),e.NdJ("changeImplementationId",function(s){return n.getImplementationId(s)})("updateEmployeeIndex",function(){return n.updateEmployeeIndex()})("completed",function(s){return n.isGeneraCompleted=s}),e.qZA()()()()(),e.TgZ(21,"mat-step",7),e.ALo(22,"titlecase"),e.ALo(23,"translate"),e.YNc(24,Pt,1,0,"ng-template",8),e.TgZ(25,"app-implementation-employees",16),e.NdJ("completed",function(s){return n.isEmployeesCompleted=s}),e.qZA()(),e.TgZ(26,"mat-step",7),e.ALo(27,"titlecase"),e.ALo(28,"translate"),e.YNc(29,Ut,1,0,"ng-template",8),e.TgZ(30,"app-implementation-lectures",16),e.NdJ("completed",function(s){return n.isLecturesCompleted=s}),e.qZA()(),e.TgZ(31,"mat-step",7),e.ALo(32,"titlecase"),e.ALo(33,"translate"),e.YNc(34,Qt,1,0,"ng-template",8),e.TgZ(35,"app-implementation-expenses",16),e.NdJ("completed",function(s){return n.isExpensesCompleted=s}),e.qZA()()()(),e._UZ(36,"steps-footer",17),e.BQk()),2&t){const o=e.MAs(8);e.xp6(1),e.Q6J("id",n.implementationId),e.xp6(2),e.Q6J("ngIf",n.implementationId>0),e.xp6(1),e.MGl("url","/training/",n.moduleId,"/implementation/index"),e.Q6J("params",n.pageParams),e.xp6(3),e.Q6J("linear",!1)("disableRipple",!0),e.xp6(2),e.s9C("label",e.lcZ(10,22,e.lcZ(11,24,"general"))),e.Q6J("completed",n.isGeneraCompleted),e.xp6(11),e.Q6J("implementationId",n.implementationId),e.xp6(1),e.s9C("label",e.lcZ(22,26,e.lcZ(23,28,"employees"))),e.Q6J("completed",n.isEmployeesCompleted),e.xp6(4),e.Q6J("implementationId",n.implementationId),e.xp6(1),e.s9C("label",e.lcZ(27,30,e.lcZ(28,32,"courses"))),e.Q6J("completed",n.isLecturesCompleted),e.xp6(4),e.Q6J("implementationId",n.implementationId),e.xp6(1),e.s9C("label",e.lcZ(32,34,e.lcZ(33,36,"expenses"))),e.Q6J("completed",n.isExpensesCompleted),e.xp6(4),e.Q6J("implementationId",n.implementationId),e.xp6(1),e.MGl("url","/training/",n.moduleId,"/implementation"),e.Q6J("stepper",o)("parentParam",n.parentParam)("pageParams",n.pageParams)}},dependencies:[h.O5,D.a,J.J,_.T,j.j,l.a8,l.dn,l.n5,T.d,A.C0,A.Vq,A.z9,ae,F,ie,oe,h.rS,v.X$]}),a})();var f=r(3710);function Vt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isView=!1)}),e._UZ(1,"i",11),e.qZA()}}function Rt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isView=!0)}),e._UZ(1,"i",12),e.qZA()}}function Et(a,i){if(1&a&&(e.TgZ(0,"div",16),e._UZ(1,"app-view-data-row-item",17)(2,"app-view-data-row-item",18)(3,"app-view-data-row-item",19)(4,"app-view-data-row-item",20)(5,"app-view-data-row-item",21)(6,"app-view-data-row-item",22)(7,"app-view-data-row-item",23)(8,"app-view-data-row-item",24),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("value",null==t.implementation?null:t.implementation.plan),e.xp6(1),e.Q6J("value",null==t.implementation?null:t.implementation.course),e.xp6(1),e.Q6J("value",null==t.implementation?null:t.implementation.instructor),e.xp6(1),e.Q6J("value",null==t.implementation?null:t.implementation.tsp),e.xp6(1),e.Q6J("value",null==t.implementation?null:t.implementation.attendance_Percentage),e.xp6(1),e.Q6J("value",null==t.implementation?null:t.implementation.fromDate),e.xp6(1),e.Q6J("value",null==t.implementation?null:t.implementation.toDate),e.xp6(1),e.Q6J("value",null==t.implementation?null:t.implementation.note)}}function kt(a,i){1&a&&e._UZ(0,"app-view-card-row-skeleton")}function Bt(a,i){if(1&a&&(e.TgZ(0,"div",13),e.YNc(1,Et,9,8,"div",14),e.YNc(2,kt,1,0,"app-view-card-row-skeleton",15),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoaded),e.xp6(1),e.Q6J("ngIf",!t.isLoaded)}}function Ft(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"app-implementation-general-data",25),e.NdJ("closeAfterUpdate",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.returnToView(o))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("implementation",t.implementation)}}let Mt=(()=>{class a extends g.U{constructor(t){super(),this.implementationService=t,this.isView=!0,this.implementationId=0,this.isLoaded=!1}onChangeBusinessAndCompanyId(){this.implementationId>0&&this.checkNoBusinessOrCompany()&&this.getImplementationById()}ngOnInit(){}getImplementationById(){this.isLoaded=!1,this.implementationService.getById(this.implementationId).subscribe(t=>{(t.message.messageType=p.u.Success)?(this.implementation=ne(t.data)[0],this.isLoaded=!0):this.errorList(t?.message?.messages)})}returnToView(t){this.isView=!0,t&&this.getImplementationById()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(B))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-implementation-general-data-view"]],inputs:{implementationId:"implementationId"},features:[e.qOj],decls:13,vars:4,consts:[[1,"row"],[1,"col-12"],[1,"pb-0"],["container",""],[1,"title-no-margin"],["title","generalInfo",1,"stepper-section-title"],["mat-button","","class","float-right section-edit-btn pright-6 pleft-6 darkBlue","id","section_edit_btn",3,"click",4,"ngIf"],[1,"mt-2"],["class","mtop-30",4,"ngIf","ngIfElse"],["form",""],["mat-button","","id","section_edit_btn",1,"float-right","section-edit-btn","pright-6","pleft-6","darkBlue",3,"click"],[1,"fas","fa-pen","font-size-15"],[1,"ft-corner-up-left","font-size-18"],[1,"mtop-30"],["class","view-data-row-container","style","margin: 0 -15px",4,"ngIf"],[4,"ngIf"],[1,"view-data-row-container",2,"margin","0 -15px"],["label","plan",1,"col-md-2_4","col-md-3","col-sm-4","col-6","mbottom-20","p-0",3,"value"],["label","planCourse",1,"col-md-2_4","col-md-3","col-sm-4","col-6","mbottom-20","p-0",3,"value"],["label","instructor",1,"col-md-2_4","col-md-3","col-sm-4","col-6","mbottom-20","p-0",3,"value"],["label","tsp",1,"col-md-2_4","col-md-3","col-sm-4","col-6","mbottom-20","p-0",3,"value"],["label","attendance_Percentage",1,"col-md-2_4","col-md-3","col-sm-4","col-6","mbottom-20","p-0",3,"value"],["label","from_Date",1,"col-md-2_4","col-md-3","col-sm-4","col-6","mbottom-20","p-0",3,"value"],["label","to_Date",1,"col-md-2_4","col-md-3","col-sm-4","col-6","mbottom-20","p-0",3,"value"],["label","notes",1,"col-md-2_4","col-md-3","col-sm-4","col-6","mbottom-20","p-0",3,"value"],[3,"implementation","closeAfterUpdate"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2,3)(4,"mat-card-title",4),e._UZ(5,"page-title",5),e.YNc(6,Vt,2,0,"button",6),e.YNc(7,Rt,2,0,"button",6),e.qZA(),e._UZ(8,"mat-divider",7),e.TgZ(9,"mat-card-content"),e.YNc(10,Bt,3,2,"div",8),e.YNc(11,Ft,1,1,"ng-template",null,9,e.W1O),e.qZA()()()()),2&t){const o=e.MAs(12);e.xp6(6),e.Q6J("ngIf",n.isView),e.xp6(1),e.Q6J("ngIf",!n.isView),e.xp6(3),e.Q6J("ngIf",n.isView)("ngIfElse",o)}},dependencies:[h.O5,_.T,ee.l,te.I,P.lW,l.a8,l.dn,l.n5,T.d,ae],styles:["@media (min-width: 991px){.col-md-2_4[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}"]}),a})();const Ot=[{path:c.S.course,data:{view:c.S.course},children:[{path:"",redirectTo:"index",pathMatch:x.U.full},{path:"index",component:re,data:{view:c.S.course_index},canActivate:[f.r]},{path:"add",component:$,data:{view:c.S.add_course},canActivate:[f.r]},{path:"edit/:id",component:$,data:{view:c.S.add_course},canActivate:[f.r]}]},{path:"tsp",data:{view:c.S.tsp},children:[{path:"",redirectTo:"index",pathMatch:x.U.full},{path:"index",component:me,data:{view:c.S.tsp_index},canActivate:[f.r]},{path:"add",component:G.j,data:{view:c.S.add_tsp},canActivate:[f.r]},{path:"edit/:id",component:G.j,data:{view:c.S.add_tsp},canActivate:[f.r]}]},{path:"instructor",data:{view:c.S.instructor},children:[{path:"",redirectTo:"index",pathMatch:x.U.full},{path:"index",component:de,data:{view:c.S.instructor_index},canActivate:[f.r]},{path:"add",component:O.h,data:{view:c.S.add_instructor},canActivate:[f.r]},{path:"edit/:id",component:O.h,data:{view:c.S.add_instructor},canActivate:[f.r]}]},{path:"training-request",data:{view:c.S.training_request},children:[{path:"",redirectTo:"index",pathMatch:x.U.full},{path:"index",component:Le,data:{view:c.S.training_request_index},canActivate:[f.r]},{path:"add",component:X,data:{view:c.S.add_training_request},canActivate:[f.r]},{path:"edit/:id",component:X,data:{view:c.S.add_training_request},canActivate:[f.r]}]},{path:"training-plan",data:{view:c.S.training_plan},children:[{path:"",redirectTo:"index",pathMatch:x.U.full},{path:"index",component:Ve,data:{view:c.S.training_plan_index},canActivate:[f.r]},{path:"add",component:Re.j,data:{view:c.S.add_training_plan},canActivate:[f.r]},{path:"edit/:id",component:He,data:{view:c.S.add_training_plan},canActivate:[f.r]}]},{path:"implementation",data:{view:c.S.implementation},children:[{path:"",redirectTo:"index",pathMatch:x.U.full},{path:"index",component:tt,data:{view:c.S.implementation_index},canActivate:[f.r]},{path:"add",component:qt,data:{view:c.S.add_implementation},canActivate:[f.r]},{path:"edit/:id",component:(()=>{class a extends g.U{constructor(){super()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.implementationId=Number(t.id)??0})}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-implementation-view-core"]],features:[e.qOj],decls:12,vars:11,consts:[[1,"title-no-margin","title-section"],["title","implementationViewcore"],[3,"url","params"],[3,"implementationId"],[1,"mtop-20"],[3,"isView","implementationId"]],template:function(t,n){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"mat-card-title",0),e._UZ(2,"page-title",1)(3,"app-add-new-btn",2)(4,"app-back-btn",2),e.qZA(),e._UZ(5,"app-implementation-general-data-view",3)(6,"div",4)(7,"app-implementation-employees",5)(8,"div",4)(9,"app-implementation-lectures",5)(10,"div",4)(11,"app-implementation-expenses",5)),2&t&&(e.xp6(3),e.MGl("url","/training/",n.moduleId,"/implementation/add"),e.Q6J("params",n.parentParam),e.xp6(1),e.MGl("url","/training/",n.moduleId,"/implementation/index"),e.Q6J("params",n.pageParams),e.xp6(1),e.Q6J("implementationId",n.implementationId),e.xp6(2),e.Q6J("isView",!0)("implementationId",n.implementationId),e.xp6(2),e.Q6J("isView",!0)("implementationId",n.implementationId),e.xp6(2),e.Q6J("isView",!0)("implementationId",n.implementationId))},dependencies:[D.a,J.J,_.T,l.n5,w.Ro,F,ie,oe,Mt],styles:[".title-section[_ngcontent-%COMP%]{border-radius:10px!important;margin-bottom:20px!important}"]}),a})(),data:{view:c.S.add_implementation},canActivate:[f.r]}]}];let Yt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[Q.Bz.forChild(Ot),Q.Bz]}),a})();var jt=r(66393);let zt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.ez,Yt,jt.m]}),a})()}}]);