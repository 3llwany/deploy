"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[549],{8549:(M,l,s)=>{s.r(l),s.d(l,{DashboardModule:()=>B});var a=s(36895),c=s(80458),g=s(95751),p=s(61894),e=s(94650),d=s(94891),v=s(46896),r=s(65731),h=s(48881),u=s(73546),f=s(17489);function y(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(){const m=e.CHM(o).index,E=e.oxw(2);return e.KtG(E.getAllServicesByModule(m))}),e._uU(1),e.qZA()}if(2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o.Name,"")}}function C(t,i){if(1&t&&(e.TgZ(0,"section",6),e.YNc(1,y,2,1,"a",7),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.modules)}}function A(t,i){1&t&&(e.TgZ(0,"div",10),e._UZ(1,"p-skeleton",11),e.qZA())}const D=function(){return[]};function T(t,i){1&t&&(e.ynx(0),e.YNc(1,A,2,0,"div",9),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,D).constructor(5)))}let w=(()=>{class t extends g.U{constructor(o){super(),this.dashboardService=o,this.modules=[],this.currentServices=[],this.tabsToView=[],this.isLoaded=!1}ngOnInit(){this.getAllmodules()}getAllmodules(){this.dashboardService.getAllDashboardModule().subscribe(o=>{this.modules=(0,p.el)(o.data),this.currentModule=this.modules[0],this.isLoaded=!0,this.getAllServices()})}getAllServicesByModule(o=0){this.currentModule=this.modules[o],this.getAllServices();let n=document.querySelectorAll(".btn");n.forEach(m=>{m.style.backgroundColor="",m.style.color=""});let b=n[o];o>0&&(n[0].style.backgroundColor="#f0f2f5",n[0].style.color="#342e49"),b.style.backgroundColor="#374761",b.style.color="#f0f2f5"}getAllServices(){this.tabsToView=[],this.currentServices=[],this.currentModule.uM_Services.map(o=>{let n={id:o.id,displayName:this.msgTranslate(o.arbName,o.engName)};this.tabsToView.push(n.displayName),this.currentServices.push(n)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-dashboard-home"]],features:[e.qOj],decls:7,vars:8,consts:[[1,"title-no-margin","title-section","fixed-title"],["parentTitle","dashboards",3,"title"],["class","module-section",4,"ngIf"],[4,"ngIf"],[3,"tabsToView","noOfLoadingItems","viewsFromBackEnd"],[3,"isHome","moduleId"],[1,"module-section"],["class","btn",3,"click",4,"ngFor","ngForOf"],[1,"btn",3,"click"],["class","d-inline-block m-3",4,"ngFor","ngForOf"],[1,"d-inline-block","m-3"],["height","2rem","width","10rem"]],template:function(o,n){1&o&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.YNc(2,C,2,1,"section",2),e.YNc(3,T,2,2,"ng-container",3),e._UZ(4,"app-fixed-header-tabs",4),e.qZA(),e.ynx(5),e._UZ(6,"app-dashboard-display",5),e.BQk()),2&o&&(e.xp6(1),e.Q6J("title",null==n.currentModule?null:n.currentModule.Name),e.xp6(1),e.Q6J("ngIf",n.isLoaded),e.xp6(1),e.Q6J("ngIf",!n.isLoaded),e.xp6(1),e.Q6J("tabsToView",n.tabsToView)("noOfLoadingItems",n.tabsToView.length)("viewsFromBackEnd",!1),e.xp6(2),e.Q6J("isHome",!0)("moduleId",null==n.currentModule?null:n.currentModule.id))},dependencies:[a.sg,a.O5,v.T,r.b,h.H,u.n5,f.O],styles:[".module-section[_ngcontent-%COMP%]{margin-top:10px;padding:10px}.module-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px;padding:8px 32px;border-radius:10px;border:solid 1.5px #374761}.module-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{color:#f0f2f5;background-color:#374761}"]}),t})();var x=s(74513),O=s(3710);const S=[{path:"home",component:w,data:{view:x.S.home_dashboard},canActivate:[O.r]}];let I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(S),c.Bz]}),t})();var L=s(92634);let B=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,I,L.m]}),t})()},3710:(M,l,s)=>{s.d(l,{r:()=>e});var a=s(94650),c=s(67579),g=s(24280),p=s(80458);let e=(()=>{class d{constructor(r,h){this.viewsService=r,this.router=h,this.loadingService=(0,a.f3M)(c.b),this.UserModules=this.viewsService.UserModules$.getValue(),this.loading=document.getElementById("page-loading")}canActivate(r,h){let u=r.data?.view;if(this.showLoading(),this.UserModules?.length>0){if(this.viewsService.isViewAllowed(u))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}else this.viewsService.UserModules$.subscribe(f=>{if(f?.length>0){if(this.viewsService.isViewAllowed(u))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}})}showLoading(){this.loading.style.display="block",this.loading.style.opacity="1",this.loading.style.zIndex="998"}hideLoading(){this.loading.style.display="none",this.loading.style.opacity="0",this.loading.style.zIndex="0"}}return d.\u0275fac=function(r){return new(r||d)(a.LFG(g.Z),a.LFG(p.F0))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);