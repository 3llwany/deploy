"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[872],{29872:(fe,O,o)=>{o.r(O),o.d(O,{OrgManagementSetupModule:()=>ue});var C=o(36895),R=o(9999),k=o(80458),l=o(24006),f=o(30671),p=o(15602),b=o(95751),_=o(78937),c=o(43949),e=o(94650),M=o(77074),S=o(25273),L=o(93410),N=o(56500),A=o(57566),Z=o(46896),d=o(73546),y=o(44850);function U(n,r){if(1&n){const a=e.EpF();e.TgZ(0,"reset-form-btn",17),e.NdJ("click",function(){e.CHM(a);const s=e.oxw();return e.KtG(s.clearForm())}),e.qZA()}}let E=(()=>{class n extends b.U{constructor(a){super(),this.gradesService=a,this.submitted=!1,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","miN_SALARY","middel_Salary","maX_SALARY","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[l.kI.required,_.w.whiteSpace]],en_name:[null,[l.kI.required,_.w.whiteSpace]],miN_SALARY:[null,[c.dN.gt(0),c.dN.digits]],middel_Salary:[null,[c.dN.gt(0),c.dN.digits]],maX_SALARY:[null,[c.dN.gt(0),c.dN.digits]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new f.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.gradesService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==p.u.Success?(this.dataSource=new f.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const a={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name,Min_Salary:this.form.value.miN_SALARY,Middel_Salary:this.form.value.middel_Salary,Max_Salary:this.form.value.maX_SALARY};0==a.ID?this.create(a):this.update(a)}}create(a){this.showLoading(),this.gradesService.create(a).subscribe(t=>{t?.message?.messageType==p.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}update(a){this.showLoading(),this.gradesService.update(a).subscribe(t=>{t.message.messageType==p.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}gradeToEdit(a){this.form.patchValue(a),this.formCtrls.ar_name.setValue(a.ar_Name),this.formCtrls.en_name.setValue(a.en_Name)}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.gradesService.Delete(a.id).subscribe(t=>{t.message.messageType==p.u.Success?(this.deleteSuccessfullyMsg(t?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),a.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(t?.message?.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0}),this.submitted=!1}updateSalariesValidation(a){this.checkRequiredValidator("miN_SALARY",c.dN.gt(0),!(!this.formCtrls.maX_SALARY.value&&!this.formCtrls.middel_Salary.value)),this.checkRequiredValidator("maX_SALARY",c.dN.gt(this.formCtrls.miN_SALARY.value??0),!!this.formCtrls.middel_Salary.value),this.updateMiddleSalaryRange()}checkRequiredValidator(a,t,s){let i=[c.dN.digits,t];s&&i.push(l.kI.required),this.formCtrls[a].setValidators(i),this.formCtrls[a].updateValueAndValidity()}updateMiddleSalaryRange(){this.checkRequiredValidator("middel_Salary",this.formCtrls.miN_SALARY.value&&this.formCtrls.maX_SALARY.value?c.dN.range([this.form.value.miN_SALARY,this.form.value.maX_SALARY]):this.formCtrls.maX_SALARY.value?c.dN.lte(this.form.value.maX_SALARY):c.dN.gte(this.form.value.miN_SALARY??1),!1)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(M.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-grades"]],features:[e.qOj],decls:25,vars:21,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","grades","editTitle","editGrade",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],[1,"col-md-4","col-12"],["label","miN_SALARY","type","number",3,"control","submitted","keyUp"],["label","maX_SALARY","type","number",3,"control","submitted","keyUp"],["label","middel_Salary","type","number",3,"control","submitted","keyUp"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"div",0)(7,"div",1)(8,"form",5)(9,"div",0)(10,"div",6),e._UZ(11,"app-input",7),e.qZA(),e.TgZ(12,"div",6),e._UZ(13,"app-input",8),e.qZA(),e.TgZ(14,"div",9)(15,"app-input",10),e.NdJ("keyUp",function(i){return t.updateSalariesValidation(i)}),e.qZA()(),e.TgZ(16,"div",9)(17,"app-input",11),e.NdJ("keyUp",function(i){return t.updateSalariesValidation(i)}),e.qZA()(),e.TgZ(18,"div",9)(19,"app-input",12),e.NdJ("keyUp",function(i){return t.updateSalariesValidation(i)}),e.qZA()()()()()()(),e.TgZ(20,"mat-card-actions",13)(21,"submit-btn",14),e.NdJ("onClick",function(){return t.submit()}),e.qZA(),e.YNc(22,U,1,0,"reset-form-btn",15),e.qZA(),e._UZ(23,"mat-divider"),e.TgZ(24,"app-material-table",16),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.gradeToEdit(i)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("id",t.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.en_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.ar_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.miN_SALARY)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.maX_SALARY)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.middel_Salary)("submitted",t.submitted),e.xp6(2),e.Q6J("id",t.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",t.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.gradesService)("actions",t.rowFunctions))},dependencies:[C.O5,S.a,L.I,N.J,A.p,Z.T,d.a8,d.dn,d.n5,d.hq,y.d,l._Y,l.JL,l.sg]}),n})();var x=o(8675),G=o(18859),Q=o(71510);function F(n,r){if(1&n){const a=e.EpF();e.TgZ(0,"reset-form-btn",15),e.NdJ("click",function(){e.CHM(a);const s=e.oxw();return e.KtG(s.clearForm())}),e.qZA()}}let q=(()=>{class n extends b.U{constructor(a){super(),this.competenceLevelService=a,this.submitted=!1,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.optionalColomns=["en_Desc","ar_Desc"],this.isLoaded=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[l.kI.required,_.w.whiteSpace]],en_name:[null,[l.kI.required,_.w.whiteSpace]],Ar_Desc:[null],En_Desc:[null]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new f.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.competenceLevelService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==p.u.Success?(this.dataSource=new f.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const a={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name,Ar_Desc:this.form.value.Ar_Desc,En_Desc:this.form.value.En_Desc};0==a.ID?this.create(a):this.update(a)}}create(a){this.showLoading(),this.competenceLevelService.create(a).subscribe(t=>{t?.message?.messageType==p.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}update(a){this.showLoading(),this.competenceLevelService.update(a).subscribe(t=>{t.message.messageType==p.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}competenceLevelToEdit(a){this.form.patchValue(a),this.formCtrls.ar_name.setValue(a.ar_Name),this.formCtrls.en_name.setValue(a.en_Name),this.formCtrls.Ar_Desc.setValue(a.ar_Desc),this.formCtrls.En_Desc.setValue(a.en_Desc)}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.competenceLevelService.Delete(a.id).subscribe(t=>{t.message.messageType==p.u.Success?(this.deleteSuccessfullyMsg(t?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),a.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(t?.message?.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(G.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-competence-level"]],features:[e.qOj],decls:23,vars:19,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","competenceLevel","editTitle","editCompetenceLevel",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","en_Desc",3,"control","submitted"],["label","ar_Desc",3,"control","submitted"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"div",0)(7,"div",1)(8,"form",5)(9,"div",0)(10,"div",6),e._UZ(11,"app-input",7),e.qZA(),e.TgZ(12,"div",6),e._UZ(13,"app-input",8),e.qZA(),e.TgZ(14,"div",6),e._UZ(15,"app-textarea",9),e.qZA(),e.TgZ(16,"div",6),e._UZ(17,"app-textarea",10),e.qZA()()()()()(),e.TgZ(18,"mat-card-actions",11)(19,"submit-btn",12),e.NdJ("onClick",function(){return t.submit()}),e.qZA(),e.YNc(20,F,1,0,"reset-form-btn",13),e.qZA(),e._UZ(21,"mat-divider"),e.TgZ(22,"app-material-table",14),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.competenceLevelToEdit(i)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("id",t.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.en_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.ar_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.En_Desc)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.Ar_Desc)("submitted",t.submitted),e.xp6(2),e.Q6J("id",t.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",t.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.competenceLevelService)("actions",t.rowFunctions))},dependencies:[C.O5,S.a,Q.R,L.I,N.J,A.p,Z.T,d.a8,d.dn,d.n5,d.hq,y.d,l._Y,l.JL,l.sg]}),n})();var Y=o(69808);function j(n,r){if(1&n){const a=e.EpF();e.TgZ(0,"reset-form-btn",13),e.NdJ("click",function(){e.CHM(a);const s=e.oxw();return e.KtG(s.clearForm())}),e.qZA()}}let V=(()=>{class n extends b.U{constructor(a){super(),this.competenceTypeService=a,this.submitted=!1,this.mandatoryColomns=["Ser","id","en_Name","ar_NAme","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[l.kI.required,_.w.whiteSpace]],en_name:[null,[l.kI.required,_.w.whiteSpace]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new f.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.competenceTypeService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==p.u.Success?(this.dataSource=new f.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const a={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name};0==a.ID?this.create(a):this.update(a)}}create(a){this.showLoading(),this.competenceTypeService.create(a).subscribe(t=>{t?.message?.messageType==p.u.Success?(this.clearForm(),this.getList(this.firstPage,this.page.pageSize),this.addSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}update(a){this.showLoading(),this.competenceTypeService.update(a).subscribe(t=>{t.message.messageType==p.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}competenceTypeToEdit(a){this.form.patchValue(a),this.formCtrls.ar_name.setValue(a.ar_NAme),this.formCtrls.en_name.setValue(a.en_Name)}onDelete(a){let t=this.msgTranslate(a.ar_NAme,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.competenceTypeService.Delete(a.id).subscribe(t=>{t.message.messageType==p.u.Success?(this.deleteSuccessfullyMsg(t?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),a.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(t?.message?.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(Y._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-competence-type"]],features:[e.qOj],decls:19,vars:15,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","competenceType","editTitle","editCompetenceType",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"div",0)(7,"div",1)(8,"form",5)(9,"div",0)(10,"div",6),e._UZ(11,"app-input",7),e.qZA(),e.TgZ(12,"div",6),e._UZ(13,"app-input",8),e.qZA()()()()()(),e.TgZ(14,"mat-card-actions",9)(15,"submit-btn",10),e.NdJ("onClick",function(){return t.submit()}),e.qZA(),e.YNc(16,j,1,0,"reset-form-btn",11),e.qZA(),e._UZ(17,"mat-divider"),e.TgZ(18,"app-material-table",12),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.competenceTypeToEdit(i)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("id",t.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.en_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.ar_name)("submitted",t.submitted),e.xp6(2),e.Q6J("id",t.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",t.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.competenceTypeService)("actions",t.rowFunctions))},dependencies:[C.O5,S.a,L.I,N.J,A.p,Z.T,d.a8,d.dn,d.n5,d.hq,y.d,l._Y,l.JL,l.sg]}),n})();var W=o(1903);let X=(()=>{class n extends W.K{constructor(){super()}create(a){return this.post("Disclaimer/Create",a)}update(a){return this.post("Disclaimer/Edit",a)}getList(a){return this.get("Disclaimer/GetList",{params:a})}getAll(){return this.get("DIsclaimer/GetAll")}Delete(a){return this.delete("Disclaimer/Delete",{params:{Id:a}})}exportExcel(){this.getAll()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function B(n,r){if(1&n){const a=e.EpF();e.TgZ(0,"reset-form-btn",13),e.NdJ("click",function(){e.CHM(a);const s=e.oxw();return e.KtG(s.clearForm())}),e.qZA()}}let H=(()=>{class n extends b.U{constructor(a){super(),this.disclaimerService=a,this.submitted=!1,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[l.kI.required,_.w.whiteSpace]],en_name:[null,[l.kI.required,_.w.whiteSpace]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new f.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(a,t){this.isLoaded=!1,this.page.pageIndex=a,t&&(this.page.pageSize=t),this.disclaimerService.getList({PageNumber:a,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(i=>{i.message.messageType==p.u.Success?(this.dataSource=new f.by(i.data),this.isLoaded=!0,this.page.length=i.meta.totalItemCount,this.page.meta=i.meta):this.errorList(i?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const a={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name};0==a.ID?this.create(a):this.update(a)}}create(a){this.showLoading(),this.disclaimerService.create(a).subscribe(t=>{t?.message?.messageType==p.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.addSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}update(a){this.showLoading(),this.disclaimerService.update(a).subscribe(t=>{t.message.messageType==p.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(t?.message?.messageTypeName)):this.errorList(t?.message?.messages),this.hideLoading()})}disclaimerToEdit(a){this.form.patchValue(a),this.formCtrls.ar_name.setValue(a.ar_Name),this.formCtrls.en_name.setValue(a.en_Name)}onDelete(a){let t=this.msgTranslate(a.ar_Name,a.en_Name);this.deleteDialog(t).subscribe(s=>{s&&this.delete(a)})}delete(a){this.showLoading(),this.disclaimerService.Delete(a.id).subscribe(t=>{t.message.messageType==p.u.Success?(this.deleteSuccessfullyMsg(t?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),a.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(t?.message?.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-disclaimer"]],features:[e.qOj],decls:19,vars:15,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","disclaimer","editTitle","editDisclaimer",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._UZ(4,"page-title",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"div",0)(7,"div",1)(8,"form",5)(9,"div",0)(10,"div",6),e._UZ(11,"app-input",7),e.qZA(),e.TgZ(12,"div",6),e._UZ(13,"app-input",8),e.qZA()()()()()(),e.TgZ(14,"mat-card-actions",9)(15,"submit-btn",10),e.NdJ("onClick",function(){return t.submit()}),e.qZA(),e.YNc(16,B,1,0,"reset-form-btn",11),e.qZA(),e._UZ(17,"mat-divider"),e.TgZ(18,"app-material-table",12),e.NdJ("onChangePage",function(i){return t.getList(i.pageIndex+1,i.pageSize)})("editRow",function(i){return t.disclaimerToEdit(i)})("deleteRow",function(i){return t.onDelete(i)}),e.qZA()()()()),2&a&&(e.xp6(4),e.Q6J("id",t.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.en_name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.ar_name)("submitted",t.submitted),e.xp6(2),e.Q6J("id",t.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",t.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("exportService",t.disclaimerService)("actions",t.rowFunctions))},dependencies:[C.O5,S.a,L.I,N.J,A.p,Z.T,d.a8,d.dn,d.n5,d.hq,y.d,l._Y,l.JL,l.sg]}),n})();var K=o(51074),$=o(4159),I=o.n($),ee=o(53583),J=o(65938),te=o(72189),P=o(4859),ae=o(49274);let ie=(()=>{class n extends b.U{constructor(a,t){super(),this.dialogRef=a,this.data=t,this.submitted=!1,this.employee=new e.vpe}ngOnInit(){console.log("data",this.data.data),this.form=this.fb.group({label:[""],type:[""],data:this.fb.group({id:[""],name:[""],img:[null]}),children:[null]}),null!=this.data&&this.form.patchValue(this.data)}get formCtrls(){return this.form.controls}get nestedformCtrls(){return this.form.get("data").controls}submit(){let a={};a.label=this.formCtrls.label.value,a.type=this.formCtrls.type.value,a.styleClass="p-person",a.expanded=!0,a.data={id:this.nestedformCtrls.id.value,name:this.nestedformCtrls.name.value,img:this.nestedformCtrls.img.value},a.children=this.formCtrls.children.value,this.dialogRef.close(a),this.employee.emit(a),console.log("data model",a)}openDeleteDialog(){this.deleteDialog("item").subscribe(t=>{})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(J.so),e.Y36(J.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-edit-organization-chart"]],outputs:{employee:"employee"},features:[e.qOj],decls:24,vars:13,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","label",3,"control","submitted"],["label","type",3,"control","submitted"],["label","name",3,"control","submitted"],["accept","image/*","htmlId","cover-photo",3,"control","submitted","showIcon"],[1,"ft-users",3,"click"],["align","end"],["mat-raised-button","",1,"btn","btn-info","bg-light-info",3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title"),e._uU(4," add edit employee "),e.qZA(),e.TgZ(5,"mat-card-content",3)(6,"div",0)(7,"div",1)(8,"form",4)(9,"div",0)(10,"div",5),e._UZ(11,"app-input",6),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"app-input",7),e.qZA()(),e.TgZ(14,"div",0)(15,"div",5),e._UZ(16,"app-input",8),e.qZA(),e.TgZ(17,"div",5),e._UZ(18,"app-button-file-input",9),e.qZA()()()()(),e.TgZ(19,"i",10),e.NdJ("click",function(){return t.openDeleteDialog()}),e.qZA()(),e.TgZ(20,"mat-card-actions",11)(21,"button",12),e.NdJ("click",function(){return t.submit()}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()()),2&a&&(e.xp6(8),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("control",t.formCtrls.label)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.type)("submitted",t.submitted),e.xp6(3),e.Q6J("control",t.nestedformCtrls.name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.nestedformCtrls.img)("submitted",t.submitted)("showIcon",!0),e.xp6(4),e.hij(" ",e.lcZ(23,11,"General.save")," "))},dependencies:[te.m,S.a,P.lW,d.a8,d.dn,d.n5,d.hq,l._Y,l.JL,l.sg,ae.X$]}),n})();var D=o(4309),se=o(10805),ne=o(12453),oe=o(86467);const re=["chart"],le=function(n,r){return{"dashed-line":n,"solid-line":r}};function de(n,r){if(1&n){const a=e.EpF();e.TgZ(0,"div",7)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"div",8),e._UZ(4,"i",9),e.TgZ(5,"div",10)(6,"a",11),e.NdJ("click",function(){const i=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.openAddEditDialog(i,!0))}),e.TgZ(7,"span"),e._UZ(8,"i",12),e._uU(9," Add "),e.qZA()(),e.TgZ(10,"a",11),e.NdJ("click",function(){const i=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.openAddEditDialog(i,!1))}),e.TgZ(11,"span"),e._UZ(12,"i",13),e._uU(13," Edit "),e.qZA()(),e.TgZ(14,"a",11),e.NdJ("click",function(){const i=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.openDeleteDialog(i))}),e.TgZ(15,"span"),e._UZ(16,"i",14),e._uU(17," Delete"),e.qZA()()()()(),e.TgZ(18,"div",15)(19,"div",16),e._UZ(20,"img",17)(21,"mat-divider"),e.TgZ(22,"div"),e._uU(23),e.qZA()(),e.TgZ(24,"div",18),e.NdJ("click",function(){e.CHM(a);const s=e.oxw();return e.KtG(s.handleLeftClick())}),e.TgZ(25,"i",19),e.NdJ("click",function(){const i=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.openAddEditDialog(i,!1))}),e.qZA()(),e.TgZ(26,"div",20),e.NdJ("click",function(){const i=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.expandNode(i))}),e._uU(27),e.qZA()()}if(2&n){const a=r.$implicit;e.Q6J("id",a.data.name)("ngClass",e.WLB(7,le,a.data.isDashed,!a.data.isDashed)),e.xp6(2),e.AsE(" ",a.label," ",a.data.id," "),e.xp6(18),e.Q6J("src",a.data.img,e.LSH),e.xp6(3),e.Oqu(a.data.name),e.xp6(4),e.hij(" ",a.children.length," ")}}let me=(()=>{class n extends b.U{constructor(a){super(),this.dialog=a}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.chartData()},1e3)}ngOnChanges(){}onNodeSelect(a){this.selectedNode=a.node,console.log("event",a)}openAddEditDialog(a,t){return this.dialog.open(ie,{data:{label:0==t?a?.label:"",type:0==t?a?.type:"",data:{id:0==t?a?.data.id:"",name:0==t?a?.data.name:"",img:0==t?a?.data.img:""},children:0==t?a?.children:""},minWidth:"60vw",disableClose:!0}).afterClosed().subscribe(s=>{if(0==t){let i=this.data[0].children.findIndex(m=>m.data.id==s.data.id);a=s,this.data[0].children[i]=s,console.log("data ",a)}else a.children.push(s),console.log("item ",s),console.log("selectedNode",this.selectedNode)})}openDeleteDialog(a){this.deleteDialog("item").subscribe(s=>{s&&this.deleteNode(a)})}exportAsImage(){const a=this.chart.el.nativeElement,t=document.getElementById("org"),m=t.offsetWidth+t.scrollWidth;I()(a,{width:m,height:t.offsetHeight}).then(T=>{const v=T.toDataURL("image/jpeg"),g=document.createElement("a");g.href=v,g.download="organization_chart.jpeg",g.click()})}exportAsPDF(){const a=this.chart.el.nativeElement,t=document.getElementById("org"),m=t.offsetWidth+t.scrollWidth;I()(a,{width:m,height:t.offsetHeight}).then(T=>{const v=T.toDataURL("image/png");var g=new ee.ZP("l","mm",[1200,350]);const z=g.internal.pageSize.getWidth(),w=g.internal.pageSize.getHeight();g.addImage(v,"PNG",10,10,z-20,w-20),g.save("organization_chart.pdf")})}deleteNode(a){let t=this.data[0].children.findIndex(s=>s.data.id==a.data.id);this.data[0].children.splice(t,1)}chartData(){this.expandToLevelOne(),setTimeout(()=>{this.applyDashedLineClass(this.data)},1e3)}applyDashedLineClass(a){let t,s;a.forEach((i,m)=>{t=document.getElementById(i.data.name)?.parentNode.parentNode.parentNode,s=t.parentNode.parentNode.parentNode.parentNode.parentNode;let T=s?.previousSibling?.previousSibling,v=s?.previousSibling;if(i.data.isDashed&&T&&v){let g=v.childNodes,z=g[2*m+1],w=g[2*m+2];console.log(z,w,t),z?.classList?.add("dashed-line"),w?.classList?.add("dashed-line")}this.applyDashedLineClass(i.children)})}handleLeftClick(){console.log("left")}expandNode(a){console.log("footer"),a.expanded=!a.expanded}expandToLevelOne(){this.data=[{label:"CEO",type:"person",styleClass:"department-coo",expanded:!0,expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",data:{id:11,name:"WalterWhite1",img:"assets/img/banner/banner-1.jpg",isDashed:!0},children:[{label:"CFO",type:"person",styleClass:"department-coo",expanded:!0,data:{id:1,name:"SaulGoodman1",img:"assets/img/banner/banner-2.jpg",isDashed:!0},children:[{label:"Tax",styleClass:"p-person",type:"person",expanded:!0,data:{id:2,name:"SaulGoodman2",img:"assets/img/banner/banner-12.jpg",isDashed:!0},children:[]},{label:"Legal",styleClass:"p-person",type:"person",expanded:!0,data:{id:3,name:"SaulGoodman3",img:"assets/img/banner/banner-13.jpg",isDashed:!1},children:[]},{label:"Legal",styleClass:"p-person",type:"person",expanded:!0,data:{id:3,name:"SaulGoodman4",img:"assets/img/banner/banner-13.jpg",isDashed:!0},children:[]},{label:"Legal",styleClass:"p-person",type:"person",expanded:!0,data:{id:3,name:"SaulGoodman5",img:"assets/img/banner/banner-13.jpg",isDashed:!1},children:[]},{label:"Legal",styleClass:"p-person",type:"person",expanded:!0,data:{id:3,name:"SaulGoodman6",img:"assets/img/banner/banner-13.jpg",isDashed:!0},children:[]}]},{label:"COO",type:"person",styleClass:"department-coo",expanded:!0,data:{name:"MikeE2",img:"assets/img/banner/banner-3.jpg",id:4,isDashed:!0},children:[{type:"person",expanded:!0,label:"Operations",styleClass:"p-person",data:{id:5,name:"MikeE3",img:"assets/img/banner/banner-30.jpg",isDashed:!0},children:[]}]},{label:"CTO",type:"person",styleClass:"department-coo",expanded:!0,data:{id:6,name:"JessePinkman1",img:"assets/img/banner/banner-4.jpg",isDashed:!0},children:[{type:"person",label:"Development",styleClass:"department-coo",expanded:!0,data:{id:7,name:"MikeE1",img:"assets/img/banner/banner-19.jpg",isDashed:!0},children:[{label:"Analysis",styleClass:"p-person",type:"person",expanded:!0,data:{id:8,name:"JessePinkman2",img:"assets/img/banner/banner-4.jpg",isDashed:!0},children:[]},{type:"person",label:"Front End",styleClass:"p-person",expanded:!0,data:{id:9,name:"JessePinkman3",img:"assets/img/banner/banner-24.jpg",isDashed:!0},children:[]},{type:"person",expanded:!0,label:"Back End",styleClass:"p-person",data:{id:10,name:"JessePinkman4",img:"assets/img/banner/banner-22.jpg",isDashed:!0},children:[]}]},{type:"person",expanded:!0,label:"QA",styleClass:"p-person",data:{id:11,name:"JessePinkman5",img:"assets/img/banner/banner-20.jpg",isDashed:!0},children:[]},{label:"R&D",styleClass:"p-person",type:"person",expanded:!0,data:{id:12,name:"JessePinkman6",img:"assets/img/banner/banner-7.jpg",isDashed:!0},children:[]}]}]}]}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(J.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-organization-chart"]],viewQuery:function(a,t){if(1&a&&e.Gf(re,5),2&a){let s;e.iGM(s=e.CRH())&&(t.chart=s.first)}},features:[e.qOj,e.TTD],decls:12,vars:2,consts:[["mat-button","",1,"btn","bg-light-info",3,"click"],["mat-button","",1,"btn","bg-light-info","m-2",3,"click"],[2,"height","20px"],["id","org"],["styleClass","company","selectionMode","single",3,"value","selection","selectionChange","onNodeSelect"],["chart",""],["pTemplate","person"],[1,"node-header",3,"id","ngClass"],["ngbDropdown","",1,"d-inline-block","float-right"],["id","dropdown1","ngbDropdownToggle","",1,"pi","pi-cog",2,"font-size","1.3rem"],["ngbDropdownMenu","","aria-labelledby","dropdown1"],["ngbDropdownItem","",3,"click"],[1,"pi","pi-plus","mr-2"],[1,"pi","pi-pencil","mr-2"],[1,"pi","pi-trash","mr-2"],[1,"node-content"],[1,"node-content","p-3"],["alt","org",3,"src"],[1,"part",3,"click"],[1,"ft-users",3,"click"],[1,"footer","px-2",3,"click"]],template:function(a,t){1&a&&(e._UZ(0,"p-toast"),e.TgZ(1,"button",0),e.NdJ("click",function(){return t.expandToLevelOne()}),e._uU(2," Expand top one level\n"),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return t.exportAsImage()}),e._uU(4," export as image\n"),e.qZA(),e.TgZ(5,"button",1),e.NdJ("click",function(){return t.exportAsPDF()}),e._uU(6," export as pdf\n"),e.qZA(),e._UZ(7,"div",2),e.TgZ(8,"div",3)(9,"p-organizationChart",4,5),e.NdJ("selectionChange",function(i){return t.selectedNode=i})("onNodeSelect",function(i){return t.onNodeSelect(i)}),e.YNc(11,de,28,10,"ng-template",6),e.qZA()()),2&a&&(e.xp6(9),e.Q6J("value",t.data)("selection",t.selectedNode))},dependencies:[C.mk,D.jt,D.iD,D.Vi,D.TH,P.lW,y.d,se.jx,ne.FN,oe.OE],styles:[".node-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;margin:5px}.node-header[_ngcontent-%COMP%]{color:brown;font:20px bold}.node-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#5f9ea0;font-weight:18px}[_nghost-%COMP%]     .p-organizationchart .p-person{background-color:#ddc3c3}[_nghost-%COMP%]     .p-organizationchart .department-coo{background-color:#eec9e3}[_nghost-%COMP%]     .p-organizationchart .part{background-color:#b2b1f5;width:100%}[_nghost-%COMP%]     .p-organizationchart .part:hover{background-color:#797676}[_nghost-%COMP%]     .p-organizationchart .footer{background-color:#7fffd4;text-align:left}[_nghost-%COMP%]     .p-organizationchart .p-organizationchart-node-content{padding:0}[_nghost-%COMP%]     .p-organizationchart .dashed-line .p-organizationchart-line-top{border-top-style:dashed}[_nghost-%COMP%]     .p-organizationchart .dashed-line .p-organizationchart-line-left{border-right-style:dashed}[_nghost-%COMP%]     .p-organizationchart .dashed-line .p-organizationchart-line-down{background:none;border:.5px dashed #dee2e6!important}[_nghost-%COMP%]     .p-organizationchart .dashed-line.p-organizationchart-line-top{border-top-style:dashed}[_nghost-%COMP%]     .p-organizationchart .dashed-line.p-organizationchart-line-left{border-right-style:dashed}[_nghost-%COMP%]     .p-organizationchart .dashed-line.p-organizationchart-line-down{background:none;border:.5px dashed #dee2e6!important}#org[_ngcontent-%COMP%]{width:100%;overflow:auto}"]}),n})();var pe=o(51566),h=o(74513),u=o(3710);const ce=[{path:"grades",component:E,data:{view:h.S.grades},canActivate:[u.r]},{path:"job-families",component:R.L,data:{view:h.S.job_families},canActivate:[u.r]},{path:"organization-types",component:pe.W,data:{view:h.S.organization_types},canActivate:[u.r]},{path:"organizations",component:x.w,data:{view:h.S.organizations},canActivate:[u.r]},{path:"competence-level",component:q,data:{view:h.S.competence_level},canActivate:[u.r]},{path:"competence-type",component:V,data:{view:h.S.competence_type},canActivate:[u.r]},{path:"disclaimer-template",component:H,data:{view:h.S.disclaimer_template},canActivate:[u.r]},{path:"custodies",component:K.E,data:{view:h.S.custodies},canActivate:[u.r]},{path:"OrganizationChart",component:me,data:{view:h.S.OrganizationChart},canActivate:[u.r]}];let ge=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.Bz.forChild(ce),k.Bz]}),n})();var he=o(66393);let ue=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[C.ez,ge,he.m]}),n})()}}]);