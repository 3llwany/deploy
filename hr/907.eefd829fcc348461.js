"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[907],{68907:(cn,Q,d)=>{d.r(Q),d.d(Q,{RecruitmentModule:()=>ln});var m=d(36895),L=d(80458),y=d(3710),O=d(36162),q=d(74513),C=d(15602),f=d(95751),l=d(35478),e=d(94650),S=d(65938),j=d(71812),k=d(86405),h=d(49274);let oe=(()=>{class i extends f.U{constructor(t){super(),this.dialogRef=t,t.backdropClick().subscribe(()=>this.backToHome())}backToHome(){location.reload()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(S.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-candidate-done-dialog"]],features:[e.qOj],decls:12,vars:9,consts:[[3,"name"],["mat-dialog-title",""],[1,"done-title"],[1,"container-fluid","mx-0"],[1,"done-content"],["alt","done",3,"src"],["label","General.backToHome","mat-dialog-close","",3,"color","onClick"]],template:function(t,n){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"mat-dialog-content",3)(6,"div",4)(7,"div"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"img",5),e.TgZ(11,"app-button",6),e.NdJ("onClick",function(){return n.backToHome()}),e.qZA()()()),2&t&&(e.Q6J("name","dialog"),e.xp6(3),e.hij(" ",e.lcZ(4,5,"finallyAllIsDone")," "),e.xp6(5),e.hij(" ",e.lcZ(9,7,"justWaitOurReplyViaYourEmail")," "),e.xp6(2),e.Q6J("src",n.svgManager.done,e.LSH),e.xp6(1),e.Q6J("color",n.btn.darkBlue))},dependencies:[j.r,S.ZT,S.uh,S.xY,k.Ro,h.X$],styles:[".candidate-done-dialog .mat-dialog-container{padding:40px 90px;border-radius:10px}  .candidate-done-dialog .done-title{text-align:center;font-size:30px;color:#374761}  .candidate-done-dialog .mat-dialog-content{padding:0}  .candidate-done-dialog .done-content{display:flex;flex-direction:column;gap:30px}  .candidate-done-dialog .done-content>div{align-self:center;color:#5c5c5c;font-size:18px;margin:0}  .candidate-done-dialog .done-content img{width:320px;height:320px;margin-bottom:25px}  .candidate-done-dialog .done-content app-button{align-self:center}  .candidate-done-dialog .done-content app-button .btn{padding:2px 40px}"]}),i})();var _=d(61076),x=d(71180),M=d(61064),B=d(52682),J=d(46896),re=d(20957),p=d(73546),N=d(86257),u=d(37084),se=d(17489),s=d(24006),F=d(33975),g=d(78937),w=d(43949),R=d(70137),Z=d(25273),U=d(2023),de=d(59678),le=d(2161),ce=d(77900);function ue(i,o){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",4),e.qZA())}function me(i,o){if(1&i&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" (",t.noOfRequiredInputs," ",e.lcZ(2,2,e.lcZ(3,4,"fieldsRequired")),") ")}}function pe(i,o){1&i&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" (",e.lcZ(2,1,e.lcZ(3,3,"notSaved")),") "))}function fe(i,o){if(1&i&&(e.TgZ(0,"mat-panel-description",1),e.YNc(1,ue,2,0,"span",2),e.YNc(2,me,4,6,"span",3),e.YNc(3,pe,4,5,"span",3),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isDone),e.xp6(1),e.Q6J("ngIf",!t.isDone&&t.noOfRequiredInputs>0),e.xp6(1),e.Q6J("ngIf",!t.isDone&&0==t.noOfRequiredInputs)}}let b=(()=>{class i{constructor(){this.isDone=!1,this.isClosedTab=!1,this.noOfRequiredInputs=0}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-tab-description"]],inputs:{isDone:"isDone",isClosedTab:"isClosedTab",noOfRequiredInputs:"noOfRequiredInputs"},decls:1,vars:1,consts:[["class","candidate-description",4,"ngIf"],[1,"candidate-description"],[4,"ngIf"],["class","error",4,"ngIf"],[1,"fas","fa-check-circle"],[1,"error"]],template:function(t,n){1&t&&e.YNc(0,fe,4,3,"mat-panel-description",0),2&t&&e.Q6J("ngIf",n.isClosedTab)},dependencies:[m.O5,u.u4,m.rS,h.X$],styles:[".candidate-description i{font-size:20px;margin-top:10px;color:#374761}  .candidate-description .error{margin-top:10px;color:#f44336}"]}),i})(),he=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.submitted=!1,this.constants=F.g,this.candidateService.submitted$.subscribe(n=>this.submitted=n)}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[s.kI.required,g.w.whiteSpace]],en_Name:[null,[s.kI.required,g.w.whiteSpace]],code:[null,[s.kI.required,g.w.whiteSpace]],selectedCountry:[null],nationalid:[null,[w.dN.number,g.w.Length(F.g.nationalId)]],dob:[null],hireDate:[null,[s.kI.required]],gender_ID:[null],religioN_ID:[null],resource_Type:[null],resource_Name:[null]}),this.invalidRequiredCount()}get formCtrls(){return this.form.controls}submit(){const t={Core_Person:{ar_Name:this.form.value.ar_Name,en_Name:this.form.value.en_Name,code:this.form.value.code,nationalid:this.form.value.nationalid,dob:l.M.mapDateReverse(this.form.value.dob),hireDate:l.M.mapDateReverse(this.form.value.hireDate),gender_ID:this.form.value.gender_ID,religioN_ID:this.form.value.religioN_ID},selectedCountry:this.form.value.selectedCountry,resource_Type:this.form.value.resource_Type,resource_Name:this.form.value.resource_Name};this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),GeneralData:t})}changeDescriptionInfo(t,n){this.descriptionInfo={isDone:t,noOfRequiredInputs:n}}invalidRequiredCount(){let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescriptionInfo(0==t,t),this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),GeneralData:this.descriptionInfo.isDone}),this.descriptionInfo.isDone&&this.submit()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-general-info"]],features:[e.qOj],decls:34,vars:33,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[2,"margin-bottom","-20px",3,"formGroup"],[1,"row","ptop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],["label","code",3,"control","submitted","Blur"],["label","ar_Name",3,"control","submitted","Blur"],["label","en_Name",3,"control","submitted","Blur"],[3,"control","submitted","filter","change"],["label","nationalid",3,"control","submitted","Blur"],[1,"msg-after"],["label","dob",3,"control","submitted","change"],["label","registrationDate",3,"control","submitted","change"],[3,"control","submitted","change"],["label","sourcingName",3,"control","submitted","Blur"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"candidate-tab-description",2),e.qZA(),e.TgZ(7,"form",3),e.ynx(8),e.TgZ(9,"div",4)(10,"div",5)(11,"app-input",6),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(12,"div",5)(13,"app-input",7),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(14,"div",5)(15,"app-input",8),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(16,"div",5)(17,"app-nationality-dropdown",9),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(18,"div",5)(19,"app-input",10),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.ynx(20,11),e._uU(21),e.BQk(),e.qZA()(),e.TgZ(22,"div",5)(23,"app-datepicker",12),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(24,"div",5)(25,"app-datepicker",13),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(26,"div",5)(27,"app-gender-dropdown",14),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(28,"div",5)(29,"religion-dropdown",9),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(30,"div",5)(31,"app-sourcing-type-dropdown",9),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(32,"div",5)(33,"app-input",15),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()()(),e.BQk(),e.qZA()()),2&t){const a=e.MAs(1);let r;e.xp6(4),e.hij(" ",e.lcZ(5,31,"generalInfo"),""),e.xp6(2),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("control",n.formCtrls.code)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.ar_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.en_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.selectedCountry)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.nationalid)("submitted",n.submitted),e.xp6(2),e.hij(" ",(null!==(r=null==n.formCtrls.nationalid.value?null:n.formCtrls.nationalid.value.length)&&void 0!==r?r:0)+"/"+n.constants.nationalId," "),e.xp6(2),e.Q6J("control",n.formCtrls.dob)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.hireDate)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.gender_ID)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.religioN_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.resource_Type)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.resource_Name)("submitted",n.submitted)}},dependencies:[R.Q,Z.a,u.ib,u.yz,u.yK,U.a,de.w,le.O,ce.$,s._Y,s.JL,s.sg,b,h.X$]}),i})();var v=d(44850),_e=d(17898);let ge=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.changeDescriptionInfo=new e.vpe,this.submitted=!1,this.candidateService.submitted$.subscribe(n=>this.submitted=n)}ngOnInit(){this.form=this.fb.group({maritalID:[null,[s.kI.required]],statusDate:[null,[w.dN.date]]}),this.invalidRequiredCount()}get formCtrls(){return this.form.controls}submit(){const t={maritalID:this.form.value.maritalID,statusDate:l.M.mapDateReverse(this.form.value.statusDate)};this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),MaritalData:t})}changeDescription(t,n){this.changeDescriptionInfo.emit({isDone:t,noOfRequiredInputs:n})}invalidRequiredCount(){let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescription(0==t,t),this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),MaritalData:0==t})}updateDataInService(){setTimeout(()=>this.submit(),1e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-basic-marital"]],outputs:{changeDescriptionInfo:"changeDescriptionInfo"},features:[e.qOj],decls:13,vars:11,consts:[[1,"row"],[1,"col-lg-2","col-12"],[1,"candidate-sub-title"],[1,"col-lg-9","col-12"],[3,"formGroup"],[1,"col-md-4","col-sm-6","col-12"],[3,"control","submitted","filter","change"],["label","date",3,"control","submitted","change"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3),e.ALo(4,"titlecase"),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",3)(7,"form",4)(8,"div",0)(9,"div",5)(10,"app-marital-status-dropdown",6),e.NdJ("change",function(){return n.invalidRequiredCount(),n.updateDataInService()}),e.qZA()(),e.TgZ(11,"div",5)(12,"app-datepicker",7),e.NdJ("change",function(){return n.updateDataInService()}),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,7,e.lcZ(5,9,"maritalData"))," "),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.maritalID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.statusDate)("submitted",n.submitted))},dependencies:[R.Q,_e.d,s._Y,s.JL,s.sg,m.rS,h.X$]}),i})();var Ce=d(19634),be=d(17503);function ve(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"app-military-grade-dropdown",6),e.NdJ("change",function(){e.CHM(t);const a=e.oxw();return a.invalidRequiredCount(),e.KtG(a.updateDataInService())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("control",t.formCtrls.gradeID)("submitted",t.submitted)("filter",!0)}}let Ie=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.changeDescriptionInfo=new e.vpe,this.submitted=!1,this.candidateService.submitted$.subscribe(n=>this.submitted=n)}ngOnInit(){this.form=this.fb.group({militaryID:[null,[s.kI.required]],gradeID:[null],statusDate:[null,[w.dN.date]]}),this.invalidRequiredCount()}get formCtrls(){return this.form.controls}submit(){const t={militaryID:this.form.value.militaryID,statusDate:l.M.mapDateReverse(this.form.value.statusDate)};this.selectedStatus.showGrade&&(t.gradeID=this.form.value.gradeID),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),MilitaryData:t})}onChangeStatus(t){this.selectedStatus=t?.length>0?t[0]:null,this.selectedStatus?.showGrade?this.formCtrls.gradeID.setValidators([s.kI.required]):this.formCtrls.gradeID.clearValidators(),this.formCtrls.gradeID.updateValueAndValidity(),this.invalidRequiredCount()}changeDescription(t,n){this.changeDescriptionInfo.emit({isDone:t,noOfRequiredInputs:n})}invalidRequiredCount(){let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescription(0==t,t),this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),MilitaryData:0==t})}updateDataInService(){setTimeout(()=>this.submit(),1e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-basic-military"]],outputs:{changeDescriptionInfo:"changeDescriptionInfo"},features:[e.qOj],decls:14,vars:12,consts:[[1,"row"],[1,"col-lg-2","col-12"],[1,"candidate-sub-title"],[1,"col-lg-9","col-12"],[3,"formGroup"],[1,"col-md-4","col-sm-6","col-12"],[3,"control","submitted","filter","change"],["class","col-md-4 col-sm-6 col-12",4,"ngIf"],["label","startDate",3,"control","submitted","change"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3),e.ALo(4,"titlecase"),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",3)(7,"form",4)(8,"div",0)(9,"div",5)(10,"app-military-status-dropdown",6),e.NdJ("change",function(r){return n.onChangeStatus(r),n.updateDataInService()}),e.qZA()(),e.YNc(11,ve,2,3,"div",7),e.TgZ(12,"div",5)(13,"app-datepicker",8),e.NdJ("change",function(){return n.updateDataInService()}),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,8,e.lcZ(5,10,"militaryData"))," "),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.militaryID)("submitted",n.submitted)("filter",!0),e.xp6(1),e.Q6J("ngIf",!n.formCtrls.militaryID.value||(null==n.selectedStatus?null:n.selectedStatus.showGrade)),e.xp6(2),e.Q6J("control",n.formCtrls.statusDate)("submitted",n.submitted))},dependencies:[m.O5,R.Q,Ce.e,be.h,s._Y,s.JL,s.sg,m.rS,h.X$]}),i})(),Te=(()=>{class i extends f.U{constructor(){super()}ngOnInit(){}changeDescriptionInfo(t,n){1==n?this.descriptionMaritalLastInfo=t:this.descriptionMilitaryLastInfo=t,this.descriptionInfo={isDone:this.descriptionMilitaryLastInfo?.isDone&&this.descriptionMaritalLastInfo?.isDone,noOfRequiredInputs:this.descriptionMilitaryLastInfo?.noOfRequiredInputs+this.descriptionMaritalLastInfo?.noOfRequiredInputs}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-basic-info"]],features:[e.qOj],decls:11,vars:8,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"changeDescriptionInfo"],[1,"mbottom-20"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"candidate-tab-description",2),e.qZA(),e.TgZ(8,"candidate-basic-marital",3),e.NdJ("changeDescriptionInfo",function(r){return n.changeDescriptionInfo(r,1)}),e.qZA(),e._UZ(9,"mat-divider",4),e.TgZ(10,"candidate-basic-military",3),e.NdJ("changeDescriptionInfo",function(r){return n.changeDescriptionInfo(r,2)}),e.qZA()()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,4,e.lcZ(6,6,"basicInfo"))," "),e.xp6(3),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs)}},dependencies:[v.d,u.ib,u.yz,u.yK,ge,Ie,b,m.rS,h.X$]}),i})();var De=d(59681),Ze=d(10225);let qe=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.changeDescriptionInfo=new e.vpe,this.submitted=!1,this.candidateService.submitted$.subscribe(n=>this.submitted=n)}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],countryId:[null,[s.kI.required]],governorate_ID:[null,[s.kI.required]],address:[null,[s.kI.required,g.w.whiteSpace]]}),this.invalidRequiredCount()}get formCtrls(){return this.form.controls}submit(){let n={Comm_Address:{id:this.form.value.id,governorate_ID:this.form.value.governorate_ID,en_Name:this.form.value.address,isVaild:!0}};delete n.Comm_Address.id,this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),AddressData:n})}changeDescription(t,n){this.changeDescriptionInfo.emit({isDone:t,noOfRequiredInputs:n})}invalidRequiredCount(){let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescription(0==t,t),this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),AddressData:0==t})}updateDataInService(){setTimeout(()=>this.submit(),1e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-contact-address"]],outputs:{changeDescriptionInfo:"changeDescriptionInfo"},features:[e.qOj],decls:15,vars:15,consts:[[1,"row"],[1,"col-lg-2","col-12"],[1,"candidate-sub-title"],[1,"col-lg-9","col-12"],[3,"formGroup"],[1,"col-md-4","col-sm-6","col-12"],[3,"control","submitted","filter","change"],[3,"control","countryControl","submitted","filter","change"],["label","address",3,"control","submitted","Blur"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3),e.ALo(4,"titlecase"),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",3)(7,"form",4)(8,"div",0)(9,"div",5)(10,"app-country-dropdown",6),e.NdJ("change",function(){return n.invalidRequiredCount(),n.updateDataInService()}),e.qZA()(),e.TgZ(11,"div",5)(12,"app-governorate-by-country-dropdown",7),e.NdJ("change",function(){return n.invalidRequiredCount(),n.updateDataInService()}),e.qZA()(),e.TgZ(13,"div",5)(14,"app-input",8),e.NdJ("Blur",function(){return n.invalidRequiredCount(),n.updateDataInService()}),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,11,e.lcZ(5,13,"address"))," "),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.countryId)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.governorate_ID)("countryControl",n.formCtrls.countryId)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.address)("submitted",n.submitted))},dependencies:[Z.a,De.n,Ze.$,s._Y,s.JL,s.sg,m.rS,h.X$]}),i})();var c=d(30671);function G(i){return i.map(o=>({...o,contactType:(0,l._)(o.comm_Contact?.comm_Contact_Type?.ar_Name,o.comm_Contact?.comm_Contact_Type?.en_Name),value:o.comm_Contact?.value}))}var I=d(93410),T=d(56500),D=d(57566),Re=d(99167);function ye(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}function we(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",13),e.TgZ(3,"app-material-table",14),e.NdJ("editRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.candidateContactToEdit(a))})("deleteRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onDelete(a))}),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)}}let Se=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.changeDescriptionInfo=new e.vpe,this.submitted=!1,this.mandatoryColomns=["contactType","value","actions"],this.optionalColomns=[],this.isLoaded=!1,this.dataSource=new c.by([]),this.candidateService.submitted$.subscribe(n=>{0==this.dataSource.data.length&&(this.submitted=n)})}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],contacT_TYPE_ID:[null,[s.kI.required]],value:[null,[s.kI.required]]}),this.invalidRequiredCount(),this.isLoaded=!0}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const n={comm_Contact:{id:0==this.form.value.id?this.getNewId():this.form.value.id,contacT_TYPE_ID:this.form.value.contacT_TYPE_ID,value:this.form.value.value,isVaild:!0,isShow:!0,comm_Contact_Type:this.selectedContactType}};0==this.form.value.id?this.create(n):this.update(n)}}create(t){this.dataSource.data.push(G([t])[0]),this.clearForm(),this.invalidRequiredCount(),this.updateGeneralData()}update(t){let n=G([t])[0];this.dataSource.data[this.getIndex(n)]=n,this.clearForm(),this.updateGeneralData()}candidateContactToEdit(t){this.form.patchValue(t.comm_Contact)}onDelete(t){this.deleteDialog(t.contactType+" - "+t.value).subscribe(a=>{a&&this.delete(t)})}delete(t){this.dataSource.data.splice(this.getIndex(t),1),this.invalidRequiredCount(),this.formCtrls.id.value==t.comm_Contact.id&&this.clearForm(),this.updateGeneralData()}updateGeneralData(){let t=[];this.dataSource.data.forEach(n=>{const{id:a,comm_Contact_Type:r,...A}=n.comm_Contact;t.push({comm_Contact:A})}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),ContactData:t})}clearForm(){this.form.reset({id:0}),this.submitted=!1}getIndex(t){return this.dataSource.data.findIndex(n=>n.comm_Contact.id==t.comm_Contact.id)}getNewId(){return this.dataSource.data.reduce((t,n)=>t>n.comm_Contact.id?t:n.comm_Contact.id,0)+1}onChangeContactType(t){t.length>0?(this.formCtrls.value.setValidators([s.kI.required,s.kI.pattern(t[0]?.regularExpression)]),this.selectedContactType=t[0]):(this.formCtrls.value.setValidators([s.kI.required]),this.selectedContactType=null),this.formCtrls.value.updateValueAndValidity(),this.invalidRequiredCount()}changeDescription(t,n){this.changeDescriptionInfo.emit({isDone:t,noOfRequiredInputs:n}),this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),ContactData:this.dataSource?.data?.length>0})}invalidRequiredCount(){if(this.dataSource?.data?.length>0)this.changeDescription(!0,0);else{let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescription(!1,t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-contacts"]],outputs:{changeDescriptionInfo:"changeDescriptionInfo"},features:[e.qOj],decls:18,vars:16,consts:[[1,"row"],[1,"col-lg-2","col-12"],[1,"candidate-sub-title"],[1,"col-lg-9","col-12"],[3,"formGroup"],[1,"col-md-4","col-sm-6","col-12"],[3,"control","submitted","filter","change"],["label","contact",3,"control","submitted","Blur"],[1,"col"],["class","btn-large line-height-3 float-md-none float-right",3,"click",4,"ngIf"],["icon","pi pi-plus-circle",1,"btn-large","line-height-3","float-md-none","float-right",3,"id","color","iconPositionBefore","onClick"],[4,"ngIf"],[1,"btn-large","line-height-3","float-md-none","float-right",3,"click"],[1,"w-90","mtop-5"],[1,"table-in-forms","small-table",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","editRow","deleteRow"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3),e.ALo(4,"titlecase"),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",3)(7,"form",4)(8,"div",0)(9,"div",5)(10,"app-contact-type-dropdown",6),e.NdJ("change",function(r){return n.onChangeContactType(r)}),e.qZA()(),e.TgZ(11,"div",5)(12,"app-input",7),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(13,"div",8)(14,"div",0),e.YNc(15,ye,1,0,"reset-form-btn",9),e.TgZ(16,"submit-btn",10),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()()()(),e.YNc(17,we,4,7,"ng-container",11)),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,12,e.lcZ(5,14,"contacts"))," "),e.xp6(4),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.contacT_TYPE_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.value)("submitted",n.submitted),e.xp6(3),e.Q6J("ngIf",n.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",!n.isLoaded||n.dataSource.data.length>0))},dependencies:[m.O5,Z.a,I.I,T.J,D.p,p.dn,v.d,Re.p,s._Y,s.JL,s.sg,m.rS,h.X$]}),i})(),Ae=(()=>{class i extends f.U{constructor(){super()}ngOnInit(){}changeDescriptionInfo(t,n){1==n?this.descriptionAddressLastInfo=t:this.descriptionContactLastInfo=t,this.descriptionInfo={isDone:this.descriptionAddressLastInfo?.isDone&&this.descriptionContactLastInfo?.isDone,noOfRequiredInputs:this.descriptionAddressLastInfo?.noOfRequiredInputs+this.descriptionContactLastInfo?.noOfRequiredInputs}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-contact-info"]],features:[e.qOj],decls:10,vars:6,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"changeDescriptionInfo"],[1,"mbottom-20"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"candidate-tab-description",2),e.qZA(),e.TgZ(7,"candidate-contact-address",3),e.NdJ("changeDescriptionInfo",function(r){return n.changeDescriptionInfo(r,1)}),e.qZA(),e._UZ(8,"mat-divider",4),e.TgZ(9,"candidate-contacts",3),e.NdJ("changeDescriptionInfo",function(r){return n.changeDescriptionInfo(r,2)}),e.qZA()()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,4,"contactInfo")," "),e.xp6(2),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs)}},dependencies:[v.d,u.ib,u.yz,u.yK,qe,Se,b,h.X$]}),i})();function E(i){return i.map(o=>({...o,institution:(0,l._)(o.comm_Institution?.ar_Name,o.comm_Institution?.en_Name),academicQualifications:(0,l._)(o.comm_Education_Degree?.ar_Name,o.comm_Education_Degree?.en_Name),grade:(0,l._)(o.comm_Grade_Type?.ar_Name,o.comm_Grade_Type?.en_Name)}))}var Je=d(28867),xe=d(59997),Ne=d(28888),Qe=d(13486);function Le(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}function Oe(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",16),e.TgZ(3,"app-material-table",17),e.NdJ("editRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.candidateeEducationToEdit(a))})("deleteRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onDelete(a))}),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)}}let je=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.submitted=!1,this.mandatoryColomns=["institution","academicQualifications","major","year","grade","actions"],this.optionalColomns=[],this.isLoaded=!1,this.dataSource=new c.by([]),this.candidateService.submitted$.subscribe(n=>{0==this.dataSource.data.length&&(this.submitted=n)})}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],institutionID:[null,[s.kI.required]],academicID:[null,[s.kI.required]],major:[null],gradeID:[null,[s.kI.required]],year:[null,[s.kI.required]]}),this.dataSource=new c.by([]),this.invalidRequiredCount(),this.isLoaded=!0}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const n={id:0==this.form.value.id?this.getNewId():this.form.value.id,institutionID:this.form.value.institutionID,academicID:this.form.value.academicID,major:this.form.value.major,gradeID:this.form.value.gradeID,year:this.form.value.year,comm_Institution:this.selectedInstitution,comm_Education_Degree:this.selectedAcademicQualifications,comm_Grade_Type:this.selectedGrade};0==this.form.value.id?this.create(n):this.update(n)}}create(t){this.dataSource.data.push(E([t])[0]),this.clearForm(),this.invalidRequiredCount(),this.updateGeneralData()}update(t){let n=E([t])[0];this.dataSource.data[this.getIndex(n)]=n,this.clearForm(),this.updateGeneralData()}candidateeEducationToEdit(t){this.form.patchValue(t)}onDelete(t){this.deleteDialog(t.academicQualifications+" - "+t.grade).subscribe(a=>{a&&this.delete(t)})}delete(t){this.dataSource.data.splice(this.getIndex(t),1),this.invalidRequiredCount(),this.formCtrls.id.value==t.id&&this.clearForm(),this.updateGeneralData()}updateGeneralData(){let t=[];this.dataSource.data.forEach(n=>{let a={...n};delete a.id,delete a.institution,delete a.academicQualifications,delete a.grade,delete a.comm_Institution,delete a.comm_Education_Degree,delete a.comm_Grade_Type,t.push(a)}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),EducationData:t})}clearForm(){this.form.reset({id:0}),this.submitted=!1}getIndex(t){return this.dataSource.data.findIndex(n=>n.id==t.id)}getNewId(){return this.dataSource.data.reduce((t,n)=>t>n.id?t:n.id,0)+1}onChangeInstitution(t){this.selectedInstitution=t.length>0?t[0]:null,this.invalidRequiredCount()}onChangeAcademicQualifications(t){this.selectedAcademicQualifications=t.length>0?t[0]:null,this.invalidRequiredCount()}onChangeGrade(t){this.selectedGrade=t.length>0?t[0]:null,this.invalidRequiredCount()}changeDescriptionInfo(t,n){this.descriptionInfo={isDone:t,noOfRequiredInputs:n},this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),EducationData:this.descriptionInfo.isDone})}invalidRequiredCount(){if(this.dataSource?.data?.length>0)this.changeDescriptionInfo(!0,0);else{let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescriptionInfo(!1,t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-education"]],features:[e.qOj],decls:24,vars:26,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"formGroup"],[1,"row","mtop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],[3,"control","submitted","filter","change"],["label","academicQualifications",3,"control","submitted","filter","change"],["label","major",3,"control","submitted"],["label","grade",3,"control","submitted","filter","change"],[1,"col"],[1,"row"],["class","btn-large line-height-3 float-md-none float-right",3,"click",4,"ngIf"],["icon","pi pi-plus-circle",1,"btn-large","line-height-3","float-md-none","float-right",3,"id","color","iconPositionBefore","onClick"],[4,"ngIf"],[1,"btn-large","line-height-3","float-md-none","float-right",3,"click"],[1,"w-90","mtop-15"],[1,"table-in-forms",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","editRow","deleteRow"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"candidate-tab-description",2),e.qZA(),e.TgZ(7,"form",3)(8,"div",4)(9,"div",5)(10,"app-institution-dropdown",6),e.NdJ("change",function(r){return n.onChangeInstitution(r)}),e.qZA()(),e.TgZ(11,"div",5)(12,"app-education-degree-dropdown",7),e.NdJ("change",function(r){return n.onChangeAcademicQualifications(r)}),e.qZA()(),e.TgZ(13,"div",5),e._UZ(14,"app-input",8),e.qZA(),e.TgZ(15,"div",5)(16,"app-education-grade-dropdown",9),e.NdJ("change",function(r){return n.onChangeGrade(r)}),e.qZA()(),e.TgZ(17,"div",5)(18,"app-education-year-dropdown",6),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(19,"div",10)(20,"div",11),e.YNc(21,Le,1,0,"reset-form-btn",12),e.TgZ(22,"submit-btn",13),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()(),e.YNc(23,Oe,4,7,"ng-container",14),e.qZA()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,24,"education")," "),e.xp6(2),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.institutionID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.academicID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.major)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.gradeID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.year)("submitted",n.submitted)("filter",!0),e.xp6(3),e.Q6J("ngIf",n.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",!n.isLoaded||n.dataSource.data.length>0)}},dependencies:[m.O5,Z.a,I.I,T.J,D.p,p.dn,v.d,u.ib,u.yz,u.yK,Je.J,xe.Z,Ne.A,Qe.x,s._Y,s.JL,s.sg,b,h.X$]}),i})();function $(i){return i.map(o=>({...o,institution:o.center_Name,course:o.course_Name,startDate:l.M.mapDate(o.from_Date),endDate:l.M.mapDate(o.to_Date),notes:o.note}))}function ke(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",16),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}function Me(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",17),e.TgZ(3,"app-material-table",18),e.NdJ("editRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.candidateeTrainingToEdit(a))})("deleteRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onDelete(a))}),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)}}let Be=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.submitted=!1,this.mandatoryColomns=["institution","course","startDate","endDate","notes","actions"],this.optionalColomns=[],this.isLoaded=!1,this.dataSource=new c.by([]),this.candidateService.submitted$.subscribe(n=>{0==this.dataSource.data.length&&(this.submitted=n)})}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],center_Name:[null,[s.kI.required,g.w.whiteSpace]],course_Name:[null,[s.kI.required,g.w.whiteSpace]],from_Date:[null,[s.kI.required]],to_Date:[null,[s.kI.required]],note:[null]},{validator:g.w.compareDates("from_Date","to_Date")}),this.dataSource=new c.by([]),this.invalidRequiredCount(),this.isLoaded=!0}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={id:0==this.form.value.id?this.getNewId():this.form.value.id,center_Name:this.form.value.center_Name,course_Name:this.form.value.course_Name,from_Date:l.M.mapDateReverse(this.form.value.from_Date),to_Date:l.M.mapDateReverse(this.form.value.to_Date),note:this.form.value.note};0==this.form.value.id?this.create(t):this.update(t)}}create(t){this.dataSource.data.push($([t])[0]),this.clearForm(),this.invalidRequiredCount(),this.updateGeneralData()}update(t){let n=$([t])[0];this.dataSource.data[this.getIndex(n)]=n,this.clearForm(),this.updateGeneralData()}candidateeTrainingToEdit(t){this.form.patchValue(t)}onDelete(t){this.deleteDialog(`${t.course} (${t.startDate} - ${t.endDate})`).subscribe(a=>{a&&this.delete(t)})}delete(t){this.dataSource.data.splice(this.getIndex(t),1),this.invalidRequiredCount(),t.id==this.formCtrls.id.value&&this.clearForm(),this.updateGeneralData()}updateGeneralData(){let t=[];this.dataSource.data.forEach(n=>{let a={...n};delete a.id,delete a.institution,delete a.course,delete a.startDate,delete a.endDate,delete a.notes,t.push(a)}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),TrainingData:t})}clearForm(){this.form.reset({id:0}),this.submitted=!1}getIndex(t){return this.dataSource.data.findIndex(n=>n.id==t.id)}getNewId(){return this.dataSource.data.reduce((t,n)=>t>n.id?t:n.id,0)+1}changeDescriptionInfo(t,n){this.descriptionInfo={isDone:t,noOfRequiredInputs:n},this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),TrainingData:this.descriptionInfo.isDone})}invalidRequiredCount(){if(this.dataSource?.data?.length>0)this.changeDescriptionInfo(!0,0);else{let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescriptionInfo(!1,t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-training"]],features:[e.qOj],decls:25,vars:24,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"formGroup"],[1,"row","mtop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],["label","institution",3,"control","submitted","Blur"],["label","course",3,"control","submitted","Blur"],["label","startDate",3,"control","submitted","change"],["label","endDate",3,"control","submitted","change"],["label","notes",3,"control","submitted"],[1,"col"],[1,"row"],["class","btn-large line-height-3 float-md-none float-right",3,"click",4,"ngIf"],["icon","pi pi-plus-circle",1,"btn-large","line-height-3","float-md-none","float-right",3,"id","color","iconPositionBefore","onClick"],[4,"ngIf"],[1,"btn-large","line-height-3","float-md-none","float-right",3,"click"],[1,"w-90","mtop-5"],[1,"table-in-forms",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","editRow","deleteRow"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"candidate-tab-description",2),e.qZA(),e.TgZ(8,"form",3)(9,"div",4)(10,"div",5)(11,"app-input",6),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(12,"div",5)(13,"app-input",7),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(14,"div",5)(15,"app-datepicker",8),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(16,"div",5)(17,"app-datepicker",9),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(18,"div",5),e._UZ(19,"app-input",10),e.qZA(),e.TgZ(20,"div",11)(21,"div",12),e.YNc(22,ke,1,0,"reset-form-btn",13),e.TgZ(23,"submit-btn",14),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()(),e.YNc(24,Me,4,7,"ng-container",15),e.qZA()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,20,e.lcZ(6,22,"training"))," "),e.xp6(3),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.center_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.course_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.from_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.to_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.note)("submitted",n.submitted),e.xp6(3),e.Q6J("ngIf",n.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",!n.isLoaded||n.dataSource.data.length>0)}},dependencies:[m.O5,R.Q,Z.a,I.I,T.J,D.p,p.dn,v.d,u.ib,u.yz,u.yK,s._Y,s.JL,s.sg,b,m.rS,h.X$]}),i})();function P(i){return i.map(o=>({...o,certification:o.certification_Name,location:o.location_Name,startDate:l.M.mapDate(o.from_Date),endDate:l.M.mapDate(o.to_Date),notes:o.note}))}function Fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",16),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}function Ue(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",17),e.TgZ(3,"app-material-table",18),e.NdJ("editRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.candidateCertificationToEdit(a))})("deleteRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onDelete(a))}),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)}}let Ge=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.submitted=!1,this.mandatoryColomns=["certification","location","startDate","endDate","notes","actions"],this.optionalColomns=[],this.isLoaded=!1,this.dataSource=new c.by([]),this.candidateService.submitted$.subscribe(n=>{0==this.dataSource.data.length&&(this.submitted=n)})}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],certification_Name:[null],location_Name:[null],from_Date:[null,[s.kI.required]],to_Date:[null,[s.kI.required]],note:[null]},{validator:g.w.compareDates("from_Date","to_Date")}),this.dataSource=new c.by([]),this.invalidRequiredCount(),this.isLoaded=!0}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={id:0==this.form.value.id?this.getNewId():this.form.value.id,certification_Name:this.form.value.certification_Name,location_Name:this.form.value.location_Name,from_Date:l.M.mapDateReverse(this.form.value.from_Date),to_Date:l.M.mapDateReverse(this.form.value.to_Date),note:this.form.value.note};0==this.form.value.id?this.create(t):this.update(t)}}create(t){this.dataSource.data.push(P([t])[0]),this.clearForm(),this.invalidRequiredCount(),this.updateGeneralData()}update(t){let n=P([t])[0];this.dataSource.data[this.getIndex(n)]=n,this.clearForm(),this.updateGeneralData()}candidateCertificationToEdit(t){this.form.patchValue(t)}onDelete(t){this.deleteDialog(`${t.certification} (${t.startDate} - ${t.endDate})`).subscribe(a=>{a&&this.delete(t)})}delete(t){this.dataSource.data.splice(this.getIndex(t),1),this.invalidRequiredCount(),t.id==this.formCtrls.id.value&&this.clearForm(),this.updateGeneralData()}updateGeneralData(){let t=[];this.dataSource.data.forEach(n=>{let a={...n};delete a.id,delete a.certification,delete a.location,delete a.startDate,delete a.endDate,delete a.notes,t.push(a)}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),CertificationData:t})}clearForm(){this.form.reset({id:0}),this.submitted=!1}getIndex(t){return this.dataSource.data.findIndex(n=>n.id==t.id)}getNewId(){return this.dataSource.data.reduce((t,n)=>t>n.id?t:n.id,0)+1}changeDescriptionInfo(t,n){this.descriptionInfo={isDone:t,noOfRequiredInputs:n},this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),CertificationData:this.descriptionInfo.isDone})}invalidRequiredCount(){if(this.dataSource?.data?.length>0)this.changeDescriptionInfo(!0,0);else{let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescriptionInfo(!1,t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-certifications"]],features:[e.qOj],decls:25,vars:24,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"formGroup"],[1,"row","mtop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],["label","certification",3,"control","submitted","Blur"],["label","location",3,"control","submitted","Blur"],["label","startDate",3,"control","submitted","change"],["label","endDate",3,"control","submitted","change"],["label","notes",3,"control","submitted"],[1,"col"],[1,"row"],["class","btn-large line-height-3 float-md-none float-right",3,"click",4,"ngIf"],["icon","pi pi-plus-circle",1,"btn-large","line-height-3","float-md-none","float-right",3,"id","color","iconPositionBefore","onClick"],[4,"ngIf"],[1,"btn-large","line-height-3","float-md-none","float-right",3,"click"],[1,"w-90","mtop-5"],[1,"table-in-forms",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","editRow","deleteRow"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"candidate-tab-description",2),e.qZA(),e.TgZ(8,"form",3)(9,"div",4)(10,"div",5)(11,"app-input",6),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(12,"div",5)(13,"app-input",7),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(14,"div",5)(15,"app-datepicker",8),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(16,"div",5)(17,"app-datepicker",9),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(18,"div",5),e._UZ(19,"app-input",10),e.qZA(),e.TgZ(20,"div",11)(21,"div",12),e.YNc(22,Fe,1,0,"reset-form-btn",13),e.TgZ(23,"submit-btn",14),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()(),e.YNc(24,Ue,4,7,"ng-container",15),e.qZA()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,20,e.lcZ(6,22,"certifications"))," "),e.xp6(3),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.certification_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.location_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.from_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.to_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.note)("submitted",n.submitted),e.xp6(3),e.Q6J("ngIf",n.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",!n.isLoaded||n.dataSource.data.length>0)}},dependencies:[m.O5,R.Q,Z.a,I.I,T.J,D.p,p.dn,v.d,u.ib,u.yz,u.yK,s._Y,s.JL,s.sg,b,m.rS,h.X$]}),i})();function Y(i,o){return i.map(t=>({...t,company:t.companyName,department:t.org_Name,job:t.job_Title_Name,startDate:l.M.mapDate(t.from_Date),endDate:l.M.mapDate(t.to_Date),resignationReason:o!=t.resignationReasonId?(0,l._)(t.core_Resignation_Reason?.ar_Name,t.core_Resignation_Reason?.en_Name):t.resignation_Reason,notes:t.note}))}var Ee=d(92373);function $e(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",20),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}function Pe(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",21),e.TgZ(3,"app-material-table",22),e.NdJ("editRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.candidateeWorkExperienceToEdit(a))})("deleteRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onDelete(a))}),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)}}let Ye=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.submitted=!1,this.mandatoryColomns=["company","department","job","startDate","endDate","companySalary","resignationReason","notes","actions"],this.optionalColomns=[],this.isLoaded=!1,this.resignationReasonOtherId=6,this.dataSource=new c.by([]),this.candidateService.submitted$.subscribe(n=>{0==this.dataSource.data.length&&(this.submitted=n)})}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],companyName:[null],org_Name:[null],job_Title_Name:[null],from_Date:[null,[s.kI.required]],to_Date:[null,[s.kI.required]],companySalary:[null,[w.dN.gt(0)]],resignationReasonId:[null],resignation_Reason:[null],note:[null]},{validator:g.w.compareDates("from_Date","to_Date")}),this.dataSource=new c.by([]),this.invalidRequiredCount(),this.isLoaded=!0}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={id:0==this.form.value.id?this.getNewId():this.form.value.id,companyName:this.form.value.companyName,org_Name:this.form.value.org_Name,job_Title_Name:this.form.value.job_Title_Name,from_Date:l.M.mapDateReverse(this.form.value.from_Date),to_Date:l.M.mapDateReverse(this.form.value.to_Date),companySalary:this.form.value.companySalary,resignationReasonId:this.form.value.resignationReasonId,resignation_Reason:null,note:this.form.value.note};t.resignationReasonId==this.resignationReasonOtherId&&(t.resignation_Reason=this.form.value.resignation_Reason);const n={...t,core_Resignation_Reason:this.selectedResignationReason};0==this.form.value.id?this.create(n):this.update(n)}}create(t){this.dataSource.data.push(Y([t],this.resignationReasonOtherId)[0]),this.clearForm(),this.invalidRequiredCount(),this.updateGeneralData()}update(t){let n=Y([t],this.resignationReasonOtherId)[0];this.dataSource.data[this.getIndex(n)]=n,this.clearForm(),this.updateGeneralData()}candidateeWorkExperienceToEdit(t){this.form.patchValue(t)}onDelete(t){this.deleteDialog(`${t.job} (${t.startDate} - ${t.endDate})`).subscribe(a=>{a&&this.delete(t)})}delete(t){this.dataSource.data.splice(this.getIndex(t),1),this.invalidRequiredCount(),this.formCtrls.id.value==t.id&&this.clearForm(),this.updateGeneralData()}updateGeneralData(){let t=[];this.dataSource.data.forEach(n=>{let a={...n};delete a.id,delete a.company,delete a.department,delete a.job,delete a.startDate,delete a.endDate,delete a.resignationReason,delete a.notes,delete a.core_Resignation_Reason,t.push(a)}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),WorkExperincesData:t})}clearForm(){this.form.reset({id:0}),this.submitted=!1}getIndex(t){return this.dataSource.data.findIndex(n=>n.id==t.id)}getNewId(){return this.dataSource.data.reduce((t,n)=>t>n.id?t:n.id,0)+1}onChangeResignationReason(t){t.length>0&&t[0].id==this.resignationReasonOtherId?this.formCtrls.resignation_Reason.setValidators([s.kI.required]):this.formCtrls.resignation_Reason.clearValidators(),this.formCtrls.resignation_Reason.updateValueAndValidity(),this.selectedResignationReason=t.length>0?t[0]:null,this.invalidRequiredCount()}changeDescriptionInfo(t,n){this.descriptionInfo={isDone:t,noOfRequiredInputs:n},this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),WorkExperincesData:this.descriptionInfo.isDone})}invalidRequiredCount(){if(this.dataSource?.data?.length>0)this.changeDescriptionInfo(!0,0);else{let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescriptionInfo(!1,t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-work-experience"]],features:[e.qOj],decls:33,vars:34,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"formGroup"],[1,"row","mtop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],["label","company",3,"control","submitted","Blur"],["label","department",3,"control","submitted","Blur"],["label","job",3,"control","submitted","Blur"],["label","startDate",3,"control","submitted","change"],["label","endDate",3,"control","submitted","change"],["label","salary","type","number",3,"control","submitted"],[3,"control","submitted","filter","change"],["label","resignationReasonIfOther",3,"control","submitted","disabled","Blur"],["label","notes",3,"control","submitted"],[1,"col"],[1,"row"],["class","btn-large line-height-3 float-md-none float-right",3,"click",4,"ngIf"],["icon","pi pi-plus-circle",1,"btn-large","line-height-3","float-md-none","float-right",3,"id","color","iconPositionBefore","onClick"],[4,"ngIf"],[1,"btn-large","line-height-3","float-md-none","float-right",3,"click"],[1,"w-90","mtop-5"],[1,"table-in-forms",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","editRow","deleteRow"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"candidate-tab-description",2),e.qZA(),e.TgZ(8,"form",3)(9,"div",4)(10,"div",5)(11,"app-input",6),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(12,"div",5)(13,"app-input",7),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(14,"div",5)(15,"app-input",8),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(16,"div",5)(17,"app-datepicker",9),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(18,"div",5)(19,"app-datepicker",10),e.NdJ("change",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(20,"div",5),e._UZ(21,"app-input",11),e.qZA(),e.TgZ(22,"div",5)(23,"app-resignation-reason-dropdown",12),e.NdJ("change",function(r){return n.onChangeResignationReason(r)}),e.qZA()(),e.TgZ(24,"div",5)(25,"app-input",13),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(26,"div",5),e._UZ(27,"app-input",14),e.qZA(),e.TgZ(28,"div",15)(29,"div",16),e.YNc(30,$e,1,0,"reset-form-btn",17),e.TgZ(31,"submit-btn",18),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()(),e.YNc(32,Pe,4,7,"ng-container",19),e.qZA()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,30,e.lcZ(6,32,"workExperience"))," "),e.xp6(3),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.companyName)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.org_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.job_Title_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.from_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.to_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.companySalary)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.resignationReasonId)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.resignation_Reason)("submitted",n.submitted)("disabled",n.formCtrls.resignationReasonId.value!=n.resignationReasonOtherId),e.xp6(2),e.Q6J("control",n.formCtrls.note)("submitted",n.submitted),e.xp6(3),e.Q6J("ngIf",n.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",!n.isLoaded||n.dataSource.data.length>0)}},dependencies:[m.O5,R.Q,Z.a,I.I,T.J,D.p,p.dn,v.d,u.ib,u.yz,u.yK,Ee.Q,s._Y,s.JL,s.sg,b,m.rS,h.X$]}),i})();var ze=d(15861),Xe=d(34292),Ke=d(58313),z=d(96308),He=d(80088),We=d(79117);function et(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}function tt(i,o){1&i&&(e.TgZ(0,"th",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"attachmentType")," "))}function nt(i,o){if(1&i&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.attachmentType," ")}}function it(i,o){1&i&&(e.TgZ(0,"th",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"attachment")," "))}function at(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",28)(1,"div",30),e._UZ(2,"img",31),e.TgZ(3,"div",32)(4,"div",33)(5,"p",34),e._uU(6),e.qZA(),e.TgZ(7,"p",35)(8,"span"),e._uU(9),e.ALo(10,"fileSize"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"div")(15,"i",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit,A=e.oxw(2);return e.KtG(A.fileService.downloadBase64File(null==r?null:r.path,null==r?null:r.file.name))}),e.qZA()()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("src",n.fileService.getFileIcon(null==t||null==t.file?null:t.file.name),e.LSH),e.xp6(4),e.Oqu(null==t||null==t.file?null:t.file.name),e.xp6(3),e.hij("",e.lcZ(10,4,null==t||null==t.file?null:t.file.size)," . "),e.xp6(3),e.hij(" ",e.xi3(13,6,null==t||null==t.file?null:t.file.lastModifiedDate,"d MMM, y")," ")}}function ot(i,o){1&i&&(e.TgZ(0,"th",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"actions")," "))}function rt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",28)(1,"app-row-functions",37),e.NdJ("deleteRow",function(){const r=e.CHM(t).$implicit,A=e.oxw(2);return e.KtG(A.onDelete(r))}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("actions",t.documentsRowFunctions)}}function st(i,o){1&i&&e._UZ(0,"tr",38)}function dt(i,o){1&i&&e._UZ(0,"tr",39)}function lt(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",15),e.TgZ(3,"mat-card-content",16)(4,"div",17)(5,"table",18),e.ynx(6,19),e.YNc(7,tt,3,3,"th",20),e.YNc(8,nt,2,1,"td",21),e.BQk(),e.ynx(9,22),e.YNc(10,it,3,3,"th",23),e.YNc(11,at,16,9,"td",21),e.BQk(),e.ynx(12,24),e.YNc(13,ot,3,3,"th",23),e.YNc(14,rt,2,1,"td",21),e.BQk(),e.YNc(15,st,1,0,"tr",25),e.YNc(16,dt,1,0,"tr",26),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("dataSource",t.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",t.mandatoryColomns),e.xp6(1),e.Q6J("matRowDefColumns",t.mandatoryColomns)}}let ct=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.submitted=!1,this.removeFiles=!1,this.mandatoryColomns=["attachmentType","attachment","actions"],this.optionalColomns=[],this.isLoaded=!1,this.documentsRowFunctions={basic:[],dropdown:[]},this.dataSource=new c.by([]),this.candidateService.submitted$.subscribe(n=>{0==this.dataSource.data.length&&(this.submitted=n)})}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],attachmentTypeID:[null,[s.kI.required]],attachment:[null,[s.kI.required]]}),this.dataSource=new c.by([]),this.invalidRequiredCount(),this.isLoaded=!0,this.getDocumentRowFunctions()}onModulesChanged(){this.getDocumentRowFunctions()}getDocumentRowFunctions(){this.rowFunctions?.basic.forEach(t=>{"delete"==t.name.toLowerCase()&&this.documentsRowFunctions?.basic.push(t)})}get formCtrls(){return this.form.controls}submit(){var t=this;return(0,ze.Z)(function*(){if(t.submitted=!0,t.removeFiles=!1,t.form.valid){const n={id:0==t.form.value.id?t.getNewId():t.form.value.id,attachmentTypeID:t.form.value.attachmentTypeID,file:t.form.value.attachment};yield t.fileService.uploadBase64([n.file]).then(a=>{setTimeout(()=>{n.path=a.FileAsBase64;const r={...n,comm_Attachment_Type:t.selectedAttachmentType};t.create(r)},100)})}})()}create(t){let n=this.dataSource.data;n.push(function Ve(i){return i.map(o=>({...o,attachmentType:(0,l._)(o.comm_Attachment_Type?.ar_Name,o.comm_Attachment_Type?.en_Name)}))}([t])[0]),this.dataSource=new c.by([]),this.dataSource=new c.by(n),this.clearForm(),this.invalidRequiredCount(),this.updateGeneralData()}onDelete(t){console.log(t),this.deleteDialog(t.attachmentType).subscribe(a=>{a&&this.delete(t)})}delete(t){let n=this.dataSource.data;n.splice(this.getIndex(t),1),this.dataSource=new c.by([]),this.dataSource=new c.by(n),this.invalidRequiredCount(),this.formCtrls.id.value==t.id&&this.clearForm(),this.updateGeneralData()}updateGeneralData(){let t=[];this.dataSource.data.forEach(n=>{let a={...n};delete a.id,delete a.attachmentType,delete a.path,delete a.comm_Attachment_Type,t.push(a)}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),DocumentData:t})}clearForm(){this.form.reset({id:0}),this.submitted=!1,this.removeFiles=!0}getIndex(t){return this.dataSource.data.findIndex(n=>n.id==t.id)}getNewId(){return this.dataSource.data.reduce((t,n)=>t>n.id?t:n.id,0)+1}onChangeAttachmentType(t){this.selectedAttachmentType=t.length>0?t[0]:null,this.invalidRequiredCount()}changeDescriptionInfo(t,n){this.descriptionInfo={isDone:t,noOfRequiredInputs:n},this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),DocumentData:this.descriptionInfo.isDone})}invalidRequiredCount(){if(this.dataSource?.data?.length>0)this.changeDescriptionInfo(!0,0);else{let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescriptionInfo(!1,t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-documents"]],features:[e.qOj],decls:19,vars:23,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"formGroup"],[1,"row","mtop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],["label","attachment_types",3,"control","submitted","filter","change"],[1,"col-lg-6","col-md-8","col-12"],[3,"control","submitted","multiple","isDragDrop","isEdit","removeFiles"],[1,"col"],[1,"row"],["class","btn-large line-height-3 float-md-none float-right",3,"click",4,"ngIf"],["icon","pi pi-plus-circle",1,"btn-large","line-height-3","float-md-none","float-right",3,"id","color","iconPositionBefore","onClick"],[4,"ngIf"],[1,"btn-large","line-height-3","float-md-none","float-right",3,"click"],[1,"w-90","mtop-5"],[1,"table-in-forms","small-table"],[1,"mat-elevation-z8","f-w","table-container","mtop-33"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","attachmentType"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","attachment"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"media"],["width","23","height","28","alt","avatar",1,"mtop-5",3,"src"],[1,"media-body","d-flex","align-items-center"],[1,"doc-content"],[1,"doc-title"],[1,"doc-more"],[1,"ft-download","pointer",3,"click"],[3,"actions","deleteRow"],["mat-header-row",""],["mat-row",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"candidate-tab-description",2),e.qZA(),e.TgZ(8,"form",3)(9,"div",4)(10,"div",5)(11,"app-hiring-document-by-service-dropdown",6),e.NdJ("change",function(r){return n.onChangeAttachmentType(r)}),e.qZA()(),e.TgZ(12,"div",7),e._UZ(13,"primeng-file-upload",8),e.qZA(),e.TgZ(14,"div",9)(15,"div",10),e.YNc(16,et,1,0,"reset-form-btn",11),e.TgZ(17,"submit-btn",12),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()(),e.YNc(18,lt,17,3,"ng-container",13),e.qZA()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,19,e.lcZ(6,21,"documents"))," "),e.xp6(3),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.attachmentTypeID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.attachment)("submitted",n.submitted)("multiple",!1)("isDragDrop",!0)("isEdit",n.formCtrls.id.value>0)("removeFiles",n.removeFiles),e.xp6(3),e.Q6J("ngIf",n.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",!n.isLoaded||n.dataSource.data.length>0)}},dependencies:[m.O5,Xe.Y,T.J,D.p,Ke.h,p.dn,v.d,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,z.YE,z.nU,u.ib,u.yz,u.yK,He.j,s._Y,s.JL,s.sg,b,m.rS,m.uU,h.X$,We.H],styles:[".doc-content[_ngcontent-%COMP%]{padding:0 16px}.doc-title[_ngcontent-%COMP%]{color:#324054;font-size:14px;margin-bottom:2px;font-weight:600;line-height:1.57}.doc-more[_ngcontent-%COMP%]{color:#71839b;font-size:12px;margin-bottom:2px}i.ft-download[_ngcontent-%COMP%]{color:#71839b;font-size:17px}"]}),i})();function V(i){return i.map(o=>({...o,company:o.company_Name,reference:o.refrence_Name,mobileNumber:o.phone,notes:o.note}))}function ut(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}function mt(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",18),e.TgZ(3,"app-material-table",19),e.NdJ("editRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.candidateReferenceToEdit(a))})("deleteRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onDelete(a))}),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)}}let pt=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.submitted=!1,this.mandatoryColomns=["company","reference","position","phone","email","notes","actions"],this.optionalColomns=[],this.isLoaded=!1,this.dataSource=new c.by([]),this.candidateService.submitted$.subscribe(n=>{0==this.dataSource.data.length&&(this.submitted=n)})}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],company_Name:[null,[s.kI.required]],refrence_Name:[null,[s.kI.required,g.w.whiteSpace]],position:[null],phone:[null,g.w.mobileValidators],email:[null,[w.dN.email]],note:[null]}),this.dataSource=new c.by([]),this.invalidRequiredCount(),this.isLoaded=!0}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={id:0==this.form.value.id?this.getNewId():this.form.value.id,company_Name:this.form.value.company_Name,refrence_Name:this.form.value.refrence_Name,position:this.form.value.position,phone:this.form.value.phone,email:this.form.value.email,note:this.form.value.note};0==this.form.value.id?this.create(t):this.update(t)}}create(t){this.dataSource.data.push(V([t])[0]),this.clearForm(),this.invalidRequiredCount(),this.updateGeneralData()}update(t){let n=V([t])[0];this.dataSource.data[this.getIndex(n)]=n,this.clearForm(),this.updateGeneralData()}candidateReferenceToEdit(t){this.form.patchValue(t)}onDelete(t){this.deleteDialog(`${t.company} - ${t.reference}`).subscribe(a=>{a&&this.delete(t)})}delete(t){this.dataSource.data.splice(this.getIndex(t),1),this.invalidRequiredCount(),t.id==this.formCtrls.id.value&&this.clearForm(),this.updateGeneralData()}updateGeneralData(){let t=[];this.dataSource.data.forEach(n=>{let a={...n};delete a.id,delete a.reference,delete a.company,delete a.mobileNumber,delete a.notes,t.push(a)}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),RefrenceData:t})}clearForm(){this.form.reset({id:0}),this.submitted=!1}getIndex(t){return this.dataSource.data.findIndex(n=>n.id==t.id)}getNewId(){return this.dataSource.data.reduce((t,n)=>t>n.id?t:n.id,0)+1}changeDescriptionInfo(t,n){this.descriptionInfo={isDone:t,noOfRequiredInputs:n},this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),RefrenceData:this.descriptionInfo.isDone})}invalidRequiredCount(){if(this.dataSource?.data?.length>0)this.changeDescriptionInfo(!0,0);else{let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescriptionInfo(!1,t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-reference"]],features:[e.qOj],decls:27,vars:26,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"formGroup"],[1,"row","mtop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],["label","company",3,"control","submitted","Blur"],["label","reference",3,"control","submitted","Blur"],["label","position",3,"control","submitted"],["label","mobileNumber",3,"control","submitted","Blur"],["label","email",3,"control","submitted"],["label","notes",3,"control","submitted"],[1,"col"],[1,"row"],["class","btn-large line-height-3 float-md-none float-right",3,"click",4,"ngIf"],["icon","pi pi-plus-circle",1,"btn-large","line-height-3","float-md-none","float-right",3,"id","color","iconPositionBefore","onClick"],[4,"ngIf"],[1,"btn-large","line-height-3","float-md-none","float-right",3,"click"],[1,"w-90","mtop-5"],[1,"table-in-forms",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","editRow","deleteRow"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"candidate-tab-description",2),e.qZA(),e.TgZ(8,"form",3)(9,"div",4)(10,"div",5)(11,"app-input",6),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(12,"div",5)(13,"app-input",7),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(14,"div",5),e._UZ(15,"app-input",8),e.qZA(),e.TgZ(16,"div",5)(17,"app-input",9),e.NdJ("Blur",function(){return n.invalidRequiredCount()}),e.qZA()(),e.TgZ(18,"div",5),e._UZ(19,"app-input",10),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"app-input",11),e.qZA(),e.TgZ(22,"div",12)(23,"div",13),e.YNc(24,ut,1,0,"reset-form-btn",14),e.TgZ(25,"submit-btn",15),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()(),e.YNc(26,mt,4,7,"ng-container",16),e.qZA()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,22,e.lcZ(6,24,"reference"))," "),e.xp6(3),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.company_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.refrence_Name)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.position)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.phone)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.email)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.note)("submitted",n.submitted),e.xp6(3),e.Q6J("ngIf",n.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",!n.isLoaded||n.dataSource.data.length>0)}},dependencies:[m.O5,Z.a,I.I,T.J,D.p,p.dn,v.d,u.ib,u.yz,u.yK,s._Y,s.JL,s.sg,b,m.rS,h.X$]}),i})();function X(i){return i.map(o=>({...o,plan:(0,l._)(o?.rec_Plan?.ar_Name,o?.rec_Plan?.en_Name),request:(0,l._)(o?.rec_Request?.job_Title?.ar_Name,o?.rec_Request?.job_Title?.en_Name)}))}var ft=d(58209),ht=d(70899);function _t(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}function gt(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",14),e.TgZ(3,"app-material-table",15),e.NdJ("editRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.candidateRelatedRequestsToEdit(a))})("deleteRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onDelete(a))}),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)}}let Ct=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.submitted=!1,this.mandatoryColomns=["plan","request","actions"],this.optionalColomns=[],this.isLoaded=!1,this.dataSource=new c.by([]),this.candidateService.submitted$.subscribe(n=>{0==this.dataSource.data.length&&(this.submitted=n)})}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],planId:[null,[s.kI.required]],request_ID:[null,[s.kI.required]]}),this.dataSource=new c.by([]),this.invalidRequiredCount(),this.isLoaded=!0}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const n={id:0==this.form.value.id?this.getNewId():this.form.value.id,request_ID:this.form.value.request_ID,planId:this.form.value.planId,rec_Plan:this.selectedPlan,rec_Request:this.selectedRequest};0==this.form.value.id?this.create(n):this.update(n)}}create(t){this.dataSource.data.push(X([t])[0]),this.clearForm(),this.invalidRequiredCount(),this.updateGeneralData()}update(t){let n=X([t])[0];this.dataSource.data[this.getIndex(n)]=n,this.clearForm(),this.updateGeneralData()}candidateRelatedRequestsToEdit(t){this.form.patchValue(t),this.formCtrls.request_ID.setValue(t.request_ID)}onDelete(t){this.deleteDialog(`${t.plan} - ${t.request}`).subscribe(a=>{a&&this.delete(t)})}delete(t){this.dataSource.data.splice(this.getIndex(t),1),this.invalidRequiredCount(),t.id==this.formCtrls.id.value&&this.clearForm(),this.updateGeneralData()}updateGeneralData(){let t=[];this.dataSource.data.forEach(n=>{let a={...n};delete a.id,delete a.planId,delete a.request,delete a.plan,delete a.rec_Plan,delete a.rec_Request,t.push(a)}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),relatedData:t})}clearForm(){this.form.reset({id:0}),this.submitted=!1}getIndex(t){return this.dataSource.data.findIndex(n=>n.id==t.id)}getNewId(){return this.dataSource.data.reduce((t,n)=>t>n.id?t:n.id,0)+1}onChangePlan(t){this.selectedPlan=t.length>0?t[0]:null,this.invalidRequiredCount()}onChangeRequest(t){this.selectedRequest=t?.length>0?t[0]:this.selectedRequest,this.invalidRequiredCount()}changeDescriptionInfo(t,n){this.descriptionInfo={isDone:t,noOfRequiredInputs:n},this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),relatedData:this.descriptionInfo.isDone})}invalidRequiredCount(){if(this.dataSource?.data?.length>0)this.changeDescriptionInfo(!0,0);else{let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescriptionInfo(!1,t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-related-requests"]],features:[e.qOj],decls:19,vars:21,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"formGroup"],[1,"row","mtop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],[3,"control","submitted","filter","change"],[3,"control","planControl","submitted","filter","change"],[1,"col"],[1,"row"],["class","btn-large line-height-3 float-md-none float-right",3,"click",4,"ngIf"],["icon","pi pi-plus-circle",1,"btn-large","line-height-3","float-md-none","float-right",3,"id","color","iconPositionBefore","onClick"],[4,"ngIf"],[1,"btn-large","line-height-3","float-md-none","float-right",3,"click"],[1,"w-90","mtop-5"],[1,"table-in-forms","small-table",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","editRow","deleteRow"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"candidate-tab-description",2),e.qZA(),e.TgZ(8,"form",3)(9,"div",4)(10,"div",5)(11,"app-recruitment-plan-dropdown",6),e.NdJ("change",function(r){return n.onChangePlan(r)}),e.qZA()(),e.TgZ(12,"div",5)(13,"app-recruitment-request-by-plan-dropdown",7),e.NdJ("change",function(r){return n.onChangeRequest(r)}),e.qZA()(),e.TgZ(14,"div",8)(15,"div",9),e.YNc(16,_t,1,0,"reset-form-btn",10),e.TgZ(17,"submit-btn",11),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()(),e.YNc(18,gt,4,7,"ng-container",12),e.qZA()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,17,e.lcZ(6,19,"relatedRequests"))," "),e.xp6(3),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.planId)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.request_ID)("planControl",n.formCtrls.planId)("submitted",n.submitted)("filter",!0),e.xp6(3),e.Q6J("ngIf",n.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",!n.isLoaded||n.dataSource.data.length>0)}},dependencies:[m.O5,I.I,T.J,D.p,p.dn,v.d,u.ib,u.yz,u.yK,ft.t,ht.C,s._Y,s.JL,s.sg,b,m.rS,h.X$]}),i})();function K(i){return i.map(o=>({...o,organization:(0,l._)(o?.core_Org?.ar_Name,o?.core_Org?.en_Name),type:(0,l._)(o?.core_Org_TYPE?.ar_Name,o?.core_Org_TYPE?.en_Name),job:(0,l._)(o?.core_Job_Title?.ar_Name,o?.core_Job_Title?.en_Name)}))}var H=d(85443),W=d(15362),ee=d(50260);function bt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}function vt(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-content"),e._UZ(2,"mat-divider",15),e.TgZ(3,"app-material-table",16),e.NdJ("editRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.candidateSuitableRequisitionsToEdit(a))})("deleteRow",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onDelete(a))}),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("actions",t.rowFunctions)("showPaginator",!1)("showFilter",!1)}}let It=(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.submitted=!1,this.mandatoryColomns=["organization","type","job","actions"],this.optionalColomns=[],this.isLoaded=!1,this.dataSource=new c.by([]),this.candidateService.submitted$.subscribe(n=>{0==this.dataSource.data.length&&(this.submitted=n)})}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],orgTypeId:[null,[s.kI.required]],org_ID:[null,[s.kI.required]],job_Title_ID:[null,[s.kI.required]]}),this.dataSource=new c.by([]),this.invalidRequiredCount(),this.isLoaded=!0}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const n={id:0==this.form.value.id?this.getNewId():this.form.value.id,org_ID:this.form.value.org_ID,job_Title_ID:this.form.value.job_Title_ID,orgTypeId:this.form.value.orgTypeId,core_Org_TYPE:this.selectedOrgType,core_Org:this.selectedOrg,core_Job_Title:this.selectedJob};0==this.form.value.id?this.create(n):this.update(n)}}create(t){this.dataSource.data.push(K([t])[0]),this.clearForm(),this.invalidRequiredCount(),this.updateGeneralData()}update(t){let n=K([t])[0];this.dataSource.data[this.getIndex(n)]=n,this.clearForm(),this.updateGeneralData()}candidateSuitableRequisitionsToEdit(t){this.form.patchValue(t),this.formCtrls.org_ID.setValue(t.org_ID),setTimeout(()=>{this.formCtrls.job_Title_ID.setValue(t.job_Title_ID)},50)}onDelete(t){this.deleteDialog(`${t.organization} - ${t.job}`).subscribe(a=>{a&&this.delete(t)})}delete(t){this.dataSource.data.splice(this.getIndex(t),1),this.invalidRequiredCount(),t.id==this.formCtrls.id.value&&this.clearForm(),this.updateGeneralData()}updateGeneralData(){let t=[];this.dataSource.data.forEach(n=>{let a={...n};delete a.id,delete a.orgTypeId,delete a.type,delete a.organization,delete a.job,delete a.core_Org_TYPE,delete a.core_Org,delete a.core_Job_Title,t.push(a)}),this.candidateService.candidateData$.next({...this.candidateService.candidateData$.getValue(),JobInfoData:t})}clearForm(){this.form.reset({id:0}),this.submitted=!1}getIndex(t){return this.dataSource.data.findIndex(n=>n.id==t.id)}getNewId(){return this.dataSource.data.reduce((t,n)=>t>n.id?t:n.id,0)+1}onChangeOrganizationType(t){this.selectedOrgType=t.length>0?t[0]:null,this.invalidRequiredCount()}onChangeOrganization(t){this.selectedOrg=t?.length>0?t[0]:this.selectedOrg,this.invalidRequiredCount()}onChangeJob(t){this.selectedJob=t?.length>0?t[0]:this.selectedJob,this.invalidRequiredCount()}changeDescriptionInfo(t,n){this.descriptionInfo={isDone:t,noOfRequiredInputs:n},this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),JobInfoData:this.descriptionInfo.isDone})}invalidRequiredCount(){if(this.dataSource?.data?.length>0)this.changeDescriptionInfo(!0,0);else{let t=l.M.noOfInvalidAndRequiredInputs(this.form);this.changeDescriptionInfo(!1,t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["candidate-suitable-requisitions"]],features:[e.qOj],decls:21,vars:26,consts:[["expanded",""],["tab",""],[3,"isClosedTab","isDone","noOfRequiredInputs"],[3,"formGroup"],[1,"row","mtop-5"],[1,"col-lg-3","col-md-4","col-sm-6","col-12"],[3,"control","submitted","filter","change"],[3,"control","orgTypeControl","submitted","filter","change"],[3,"control","organizationControl","organizationControlRequired","submitted","filter","change"],[1,"col"],[1,"row"],["class","btn-large line-height-3 float-md-none float-right",3,"click",4,"ngIf"],["icon","pi pi-plus-circle",1,"btn-large","line-height-3","float-md-none","float-right",3,"id","color","iconPositionBefore","onClick"],[4,"ngIf"],[1,"btn-large","line-height-3","float-md-none","float-right",3,"click"],[1,"w-90","mtop-5"],[1,"table-in-forms","small-table",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","editRow","deleteRow"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0,1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"candidate-tab-description",2),e.qZA(),e.TgZ(8,"form",3)(9,"div",4)(10,"div",5)(11,"app-org-types-dropdown-current-structure",6),e.NdJ("change",function(r){return n.onChangeOrganizationType(r)}),e.qZA()(),e.TgZ(12,"div",5)(13,"app-organization-by-org-type-dropdown",7),e.NdJ("change",function(r){return n.onChangeOrganization(r)}),e.qZA()(),e.TgZ(14,"div",5)(15,"app-job-title-by-org-dropdown",8),e.NdJ("change",function(r){return n.onChangeJob(r)}),e.qZA()(),e.TgZ(16,"div",9)(17,"div",10),e.YNc(18,bt,1,0,"reset-form-btn",11),e.TgZ(19,"submit-btn",12),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()()()(),e.YNc(20,vt,4,7,"ng-container",13),e.qZA()),2&t){const a=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,22,e.lcZ(6,24,"suitableRequisitions"))," "),e.xp6(3),e.Q6J("isClosedTab",!a.expanded)("isDone",null==n.descriptionInfo?null:n.descriptionInfo.isDone)("noOfRequiredInputs",null==n.descriptionInfo?null:n.descriptionInfo.noOfRequiredInputs),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.orgTypeId)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.org_ID)("orgTypeControl",n.formCtrls.orgTypeId)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.job_Title_ID)("organizationControl",n.formCtrls.org_ID)("organizationControlRequired",!0)("submitted",n.submitted)("filter",!0),e.xp6(3),e.Q6J("ngIf",n.formCtrls.id.value>0),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1),e.xp6(1),e.Q6J("ngIf",!n.isLoaded||n.dataSource.data.length>0)}},dependencies:[m.O5,I.I,T.J,D.p,p.dn,v.d,u.ib,u.yz,u.yK,H.A,W.s,ee.v,s._Y,s.JL,s.sg,b,m.rS,h.X$]}),i})();const Tt=["stepper"];function Dt(i,o){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"span",14),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",15),e._uU(6),e.qZA()(),e.TgZ(7,"div",16)(8,"span",14),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",15),e._uU(12),e.ALo(13,"date"),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,4,"jobVacancy")," "),e.xp6(3),e.hij(": ",t.jobTitle,""),e.xp6(3),e.hij(" ",e.lcZ(10,6,"validTill")," "),e.xp6(3),e.hij(" : ",e.xi3(13,8,t.requestEndData,"d MMM y")," ")}}function Zt(i,o){1&i&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"p-skeleton",17)(3,"p-skeleton",18),e.qZA(),e.TgZ(4,"div",16),e._UZ(5,"p-skeleton",17)(6,"p-skeleton",18),e.qZA()())}function qt(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Dt,14,11,"div",11),e.YNc(2,Zt,7,0,"div",11),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoaded),e.xp6(1),e.Q6J("ngIf",!t.isLoaded)}}function Rt(i,o){1&i&&e._UZ(0,"page-title",19)}function yt(i,o){if(1&i&&e._UZ(0,"app-add-new-btn",21),2&i){const t=e.oxw(2);e.MGl("url","/recruitment/",t.moduleId,"/candidate/add"),e.Q6J("params",t.parentParam)}}function wt(i,o){if(1&i&&(e.ynx(0),e.YNc(1,yt,1,2,"app-add-new-btn",20),e._UZ(2,"app-back-btn",21),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.requestId>0),e.xp6(1),e.MGl("url","/recruitment/",t.moduleId,"/candidate"),e.Q6J("params",t.pageParams)}}function St(i,o){1&i&&e._UZ(0,"i",22)}function At(i,o){1&i&&e._UZ(0,"i",22)}function Jt(i,o){1&i&&e._UZ(0,"i",22)}function xt(i,o){1&i&&e._UZ(0,"candidate-suitable-requisitions")}function Nt(i,o){1&i&&e._UZ(0,"candidate-related-requests")}let te=(()=>{class i extends f.U{constructor(t,n,a){super(),this.candidateService=t,this.recruitmentRequestService=n,this.dialog=a,this.isInternal=!0,this.isGeneralCompleted=!1,this.isEducationCompleted=!1,this.isWorkExperienceCompleted=!1,this.isLoaded=!1,this.candidateService.isDone$.subscribe(r=>{this.isGeneralCompleted=r.GeneralData&&r.MaritalData&&r.MilitaryData&&r.AddressData&&r.ContactData,this.isEducationCompleted=r.EducationData&&r.TrainingData&&r.CertificationData,this.isWorkExperienceCompleted=r.WorkExperincesData&&r.JobInfoData&&r.relatedData&&r.RefrenceData&&r.DocumentData})}onChangeBusinessAndCompanyId(){this.requestId>0&&this.checkNoBusinessOrCompany()&&this.getRequestIdById()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.requestId=Number(t.requestId??0),this.requestId>0&&(this.isInternal=!1,this.candidateService.isDone$.next({...this.candidateService.isDone$.getValue(),JobInfoData:!0,relatedData:!0}))})}stepChanged(){this.stepper.selected.interacted=!1}submit(){this.candidateService.submitted$.next(!0);let t=this.candidateService.isDone$.getValue();if(Object.keys(t).every(n=>1==t[n])){let n=this.candidateService.candidateData$.getValue(),a=l.M.objectToFormData(n);this.saveGeneral(a)}else this.warning("pleaseEnterAllRequiredData")}saveGeneral(t){this.showLoading(),this.candidateService.createGeneral(t).subscribe(n=>{n?.message?.messageType==C.u.Success?this.isInternal||this.openDoneDialog():this.errorList(n.message.messages),this.hideLoading()})}openDoneDialog(){return this.dialog.open(oe,{autoFocus:!1,disableClose:!0,panelClass:"candidate-done-dialog"}).afterClosed()}getRequestIdById(){this.isLoaded=!1,this.recruitmentRequestService.getById(this.requestId).subscribe(t=>{(t.message.messageType=C.u.Success)?(this.jobTitle=this.msgTranslate(t.data[0].job_Title.ar_Name,t.data[0].job_Title.en_Name),this.requestEndData=t.data[0].request.to_Date,this.isLoaded=!0):this.errorList(t?.message?.messages)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L),e.Y36(x.O),e.Y36(S.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-candidate-core"]],viewQuery:function(t,n){if(1&t&&e.Gf(Tt,5),2&t){let a;e.iGM(a=e.CRH())&&(n.stepper=a.first)}},features:[e.qOj],decls:35,vars:29,consts:[[1,"title-no-margin","title-section","fixed-title"],[4,"ngIf","ngIfElse"],["internal",""],[4,"ngIf"],[1,"has-fixed-title"],[1,"candidate-stepper",3,"linear","disableRipple","selectionChange"],["stepper",""],[3,"label","completed"],["matStepperIcon","edit"],["multi","",1,"expantion-add-forms"],[3,"stepper","parentParam","showCancel","returnAfterFinish","finish"],["class","candidate-header-container",4,"ngIf"],[1,"candidate-header-container"],[1,"header-item","start-value"],[1,"header-title"],[1,"header-value"],[1,"header-item","center-value"],["width","8rem","height","2rem"],["width","12rem","height","2rem",1,"value"],["title","addCandidate"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"fas","fa-check"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-card-title",0),e.YNc(1,qt,3,2,"ng-container",1),e.YNc(2,Rt,1,0,"ng-template",null,2,e.W1O),e.YNc(4,wt,3,3,"ng-container",3),e.qZA(),e.TgZ(5,"mat-card-content",4)(6,"mat-stepper",5,6),e.NdJ("selectionChange",function(){return n.stepChanged()}),e.TgZ(8,"mat-step",7),e.ALo(9,"titlecase"),e.ALo(10,"translate"),e.YNc(11,St,1,0,"ng-template",8),e.TgZ(12,"mat-accordion",9),e._UZ(13,"candidate-general-info")(14,"candidate-basic-info")(15,"candidate-contact-info"),e.qZA()(),e.TgZ(16,"mat-step",7),e.ALo(17,"titlecase"),e.ALo(18,"translate"),e.YNc(19,At,1,0,"ng-template",8),e.TgZ(20,"mat-accordion",9),e._UZ(21,"candidate-education")(22,"candidate-training")(23,"candidate-certifications"),e.qZA()(),e.TgZ(24,"mat-step",7),e.ALo(25,"titlecase"),e.ALo(26,"translate"),e.YNc(27,Jt,1,0,"ng-template",8),e.TgZ(28,"mat-accordion",9),e._UZ(29,"candidate-work-experience"),e.YNc(30,xt,1,0,"candidate-suitable-requisitions",3),e.YNc(31,Nt,1,0,"candidate-related-requests",3),e._UZ(32,"candidate-reference")(33,"candidate-documents"),e.qZA()()()(),e.TgZ(34,"steps-footer",10),e.NdJ("finish",function(){return n.submit()}),e.qZA()),2&t){const a=e.MAs(3),r=e.MAs(7);e.xp6(1),e.Q6J("ngIf",!n.isInternal)("ngIfElse",a),e.xp6(3),e.Q6J("ngIf",n.isInternal),e.xp6(2),e.Q6J("linear",!1)("disableRipple",!0),e.xp6(2),e.s9C("label",e.lcZ(9,17,e.lcZ(10,19,"general"))),e.Q6J("completed",n.isGeneralCompleted),e.xp6(8),e.s9C("label",e.lcZ(17,21,e.lcZ(18,23,"education"))),e.Q6J("completed",n.isEducationCompleted),e.xp6(8),e.s9C("label",e.lcZ(25,25,e.lcZ(26,27,"workExperience"))),e.Q6J("completed",n.isWorkExperienceCompleted),e.xp6(6),e.Q6J("ngIf",n.isInternal),e.xp6(1),e.Q6J("ngIf",n.isInternal),e.xp6(3),e.Q6J("stepper",r)("parentParam",n.parentParam)("showCancel",!!n.isInternal)("returnAfterFinish",!1)}},dependencies:[m.O5,M.a,B.J,J.T,re.j,p.dn,p.n5,N.C0,N.Vq,N.z9,u.pp,se.O,he,Te,Ae,je,Be,Ge,Ye,ct,pt,Ct,It,m.rS,m.uU,h.X$],styles:[".candidate-stepper.candidate-stepper.mat-stepper-horizontal .mat-horizontal-content-container{padding:5px}  .candidate-stepper{padding-bottom:30px}  .candidate-header-container{display:flex;gap:30px;margin:0 30px}  .candidate-header-container .header-item{display:inline-block}  .candidate-header-container .header-item .header-title{font-size:20px;color:#4e4e4e}  .candidate-header-container .header-item .header-value{font-size:20px;color:#101317}  .candidate-header-container .center-value{margin:auto}  .candidate-header-container p-skeleton div{display:inline-block}  .candidate-header-container p-skeleton.value{margin:0 30px}"]}),i})();var Qt=d(50377),Lt=d(60887),Ot=d(25677),ne=d(6314),jt=d(92972),kt=d(93665),Mt=d(38368),Bt=d(40445),ie=d(3848),Ft=d(2138),Ut=d(75474);function Gt(i,o){if(1&i&&(e.TgZ(0,"div",8),e._UZ(1,"app-view-data-row-item",9)(2,"app-view-data-row-item",10)(3,"app-view-data-row-item",11)(4,"app-view-data-row-item",12)(5,"app-view-data-row-item",13)(6,"app-view-data-row-item",14)(7,"app-view-data-row-item",15)(8,"app-view-data-row-item",16),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.ar_Name),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.en_Name),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.jobFamily),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.parentJobTitleName),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.remainingVacentPlaces),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Grade?null:t.jobTitle.core_Grade.miN_SALARY),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Grade?null:t.jobTitle.core_Grade.middel_Salary),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Grade?null:t.jobTitle.core_Grade.maX_SALARY)}}function Et(i,o){1&i&&e._UZ(0,"app-view-card-row-skeleton")}function $t(i,o){if(1&i&&(e.TgZ(0,"div",8),e._UZ(1,"app-view-data-row-item",17)(2,"app-view-data-row-item",18)(3,"app-view-data-row-item",19)(4,"app-view-data-row-item",20)(5,"app-view-data-row-item",21)(6,"app-view-data-row-item",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.joB_PURPOSE)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.responsibilitieS_DUTIES)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.knowledgE_SKILLS)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.education)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.experience)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.workinG_CONDITIONS)("textEditor",!0)}}function Pt(i,o){1&i&&e._UZ(0,"app-view-card-row-skeleton")}function Yt(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8),e._UZ(2,"app-view-data-row-item",23)(3,"app-view-data-row-item",24)(4,"app-view-data-row-item",25),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-view-data-row-item",26)(7,"app-view-data-row-item",27)(8,"app-view-data-row-item",28),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("value",t.jobTitle.managerPercentage)("textEditor",!0),e.xp6(1),e.Q6J("value",t.jobTitle.internalColleaguePercentage)("textEditor",!0),e.xp6(1),e.Q6J("value",t.jobTitle.externalColleaguePercentage)("textEditor",!0),e.xp6(2),e.Q6J("value",t.jobTitle.subordinatePercentage)("textEditor",!0),e.xp6(1),e.Q6J("value",t.jobTitle.mySelfPercentage)("textEditor",!0),e.xp6(1),e.Q6J("value",t.jobTitle.customerPercentage)("textEditor",!0)}}function zt(i,o){1&i&&e._UZ(0,"app-view-card-row-skeleton")}let Vt=(()=>{class i extends f.U{constructor(t){super(),this.jobTitleService=t,this.jobTitleId=0,this.isLoaded=!1,this.kpiMandatoryColomns=["kpi"],this.kpiOptionalColomns=[]}ngOnInit(){}ngOnChanges(t){t.jobTitleId?.currentValue>0&&this.getDetailsById()}onChangeBusinessAndCompanyId(){this.jobTitleId>0&&this.checkNoBusinessOrCompany()&&this.getDetailsById()}getDetailsById(){this.jobTitle=null,this.kpiDataSource=new c.by(null),this.isLoaded=!1,this.jobTitleService.getDetailsById(this.jobTitleId).subscribe(t=>{(t.message.messageType=C.u.Success)?(this.jobTitle=(0,ne.gc)(t.data)[0],this.kpiDataSource=new c.by((0,ne.Uh)(t.data[0].core_Job_Title_KPI)),this.isLoaded=!0):this.errorList(t?.message?.messages)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(jt._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-recruitment-job-details"]],inputs:{jobTitleId:"jobTitleId"},features:[e.qOj,e.TTD],decls:32,vars:49,consts:[[1,"mtop-20"],[1,"col-12","w-100","view-tabs-group",3,"dir"],[3,"label"],[1,"ptop-10"],["class","view-data-row-container",4,"ngIf"],[4,"ngIf"],[3,"jobId","showIndexOnly"],[1,"table-in-forms","small-table",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","showSpaceTop"],[1,"view-data-row-container"],["label","ar_Name",1,"w-md-20","mb-2",3,"value"],["label","en_Name",1,"w-md-20","mb-2",3,"value"],["label","jobFamily",1,"w-md-20","mb-2",3,"value"],["label","parentJobTitle",1,"w-md-20","mb-2",3,"value"],["label","remainingVacentPlaces",1,"w-md-20","mb-2",3,"value"],["label","miN_SALARY",1,"w-md-20","mb-2",3,"value"],["label","middel_Salary",1,"w-md-20","mb-2",3,"value"],["label","maX_SALARY",1,"w-md-20","mb-2",3,"value"],["label","jobPurpose",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","responsibilitiesDuties",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","knowledgeSkills",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","education",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","experience",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","workingConditions",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","manager%",1,"col","mb-2",3,"value","textEditor"],["label","internalDepartment%",1,"col","mb-2",3,"value","textEditor"],["label","externalDepartment%",1,"col","mb-2",3,"value","textEditor"],["label","subordinate%",1,"col","mb-2",3,"value","textEditor"],["label","mySelf%",1,"col","mb-2",3,"value","textEditor"],["label","customer%",1,"col","mb-2",3,"value","textEditor"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-tab-group",1)(2,"mat-tab",2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.TgZ(5,"mat-card-content",3),e.YNc(6,Gt,9,8,"div",4),e.YNc(7,Et,1,0,"app-view-card-row-skeleton",5),e.qZA()(),e.TgZ(8,"mat-tab",2),e.ALo(9,"titlecase"),e.ALo(10,"translate"),e.TgZ(11,"mat-card-content",3),e.YNc(12,$t,7,12,"div",4),e.YNc(13,Pt,1,0,"app-view-card-row-skeleton",5),e.qZA()(),e.TgZ(14,"mat-tab",2),e.ALo(15,"titlecase"),e.ALo(16,"translate"),e._UZ(17,"app-job-career-path",6),e.qZA(),e.TgZ(18,"mat-tab",2),e.ALo(19,"titlecase"),e.ALo(20,"translate"),e._UZ(21,"app-job-competences",6),e.qZA(),e.TgZ(22,"mat-tab",2),e.ALo(23,"uppercase"),e.ALo(24,"translate"),e._UZ(25,"app-material-table",7),e.qZA(),e.TgZ(26,"mat-tab",2),e.ALo(27,"titlecase"),e.ALo(28,"translate"),e.TgZ(29,"mat-card-content",3),e.YNc(30,Yt,9,12,"ng-container",5),e.YNc(31,zt,1,0,"app-view-card-row-skeleton",5),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("dir",n.languageService.isArabic?"rtl":"ltr"),e.xp6(1),e.s9C("label",e.lcZ(3,25,e.lcZ(4,27,"generalInfo"))),e.xp6(4),e.Q6J("ngIf",n.isLoaded),e.xp6(1),e.Q6J("ngIf",!n.isLoaded),e.xp6(1),e.s9C("label",e.lcZ(9,29,e.lcZ(10,31,"jobDescription"))),e.xp6(4),e.Q6J("ngIf",n.isLoaded),e.xp6(1),e.Q6J("ngIf",!n.isLoaded),e.xp6(1),e.s9C("label",e.lcZ(15,33,e.lcZ(16,35,"careerPath"))),e.xp6(3),e.Q6J("jobId",n.jobTitleId)("showIndexOnly",!0),e.xp6(1),e.s9C("label",e.lcZ(19,37,e.lcZ(20,39,"competences"))),e.xp6(3),e.Q6J("jobId",n.jobTitleId)("showIndexOnly",!0),e.xp6(1),e.s9C("label",e.lcZ(23,41,e.lcZ(24,43,"kpi"))),e.xp6(3),e.Q6J("isLoaded",n.isLoaded)("dataSource",n.kpiDataSource)("mandatoryColomns",n.kpiMandatoryColomns)("optionalColomns",n.kpiOptionalColomns)("actions",n.rowFunctions)("showPaginator",!1)("showFilter",!1)("showSpaceTop",!1),e.xp6(1),e.s9C("label",e.lcZ(27,45,e.lcZ(28,47,"appraisalMethod"))),e.xp6(4),e.Q6J("ngIf",n.isLoaded),e.xp6(1),e.Q6J("ngIf",!n.isLoaded))},dependencies:[m.O5,I.I,kt.l,Mt.I,Bt.Lv,ie.SP,ie.uX,p.a8,p.dn,Ft.x,Ut.T,m.gd,m.rS,h.X$]}),i})();function Xt(i,o){if(1&i&&e._UZ(0,"app-add-new-btn",4),2&i){const t=e.oxw();e.MGl("url","/recruitment/",t.moduleId,"/request/add"),e.Q6J("params",t.parentParam)}}function Kt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",29),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}let ae=(()=>{class i extends f.U{constructor(t,n){super(),this.recruitmentRequestService=t,this.organizationTypesService=n,this.requestId=0,this.submitted=!1,this.showJobTitleDetails=!1}onChangeBusinessAndCompanyId(){this.requestId>0&&this.checkNoBusinessOrCompany()&&this.getRequestById()}ngOnInit(){this.form=this.fb.group({id:[this.requestId,{nonNullable:!0}],org_type_ID:[null,[s.kI.required]],org_ID:[null,[s.kI.required]],job_Title_ID:[null,[s.kI.required]],employementType_ID:[null,[s.kI.required]],request_Reason_ID:[null,[s.kI.required]],gender_ID:[null,[s.kI.required]],emp_No:[null,[w.dN.gte(1)]],from_Date:[null,[s.kI.required]],to_Date:[null,[s.kI.required]],other_requirment:[null],note:[null]},{validator:[g.w.compareDates("from_Date","to_Date")]}),this.activatedRoute.params.subscribe(t=>{this.requestId=Number(t.id??0)})}get formCtrls(){return this.form.controls}getRequestById(){this.showLoading("form"),this.recruitmentRequestService.getById(this.requestId).subscribe(t=>{(t.message.messageType=C.u.Success)?(this.form.patchValue(t.data[0].request),this.formCtrls.gender_ID.setValue(t.data[0].gender_ID),this.getOrgTypeByOrgId(t.data[0].org.id,t.data[0].job_Title.id)):(this.errorList(t?.message?.messages),this.hideLoading("form"))})}getOrgTypeByOrgId(t,n){this.organizationTypesService.getByOrgId(t).subscribe(a=>{(a.message.messageType=C.u.Success)?(this.formCtrls.org_type_ID.setValue(a.data[0].id),this.formCtrls.org_ID.setValue(t),setTimeout(()=>{this.formCtrls.job_Title_ID.setValue(n)},1e3),this.hideLoading("form")):this.errorList(a?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){let t={rec_Request:{id:this.form.value.id,emp_No:this.form.value.emp_No,from_Date:l.M.mapDateReverse(this.form.value.from_Date),to_Date:l.M.mapDateReverse(this.form.value.to_Date),request_Reason_ID:this.form.value.request_Reason_ID,employementType_ID:this.form.value.employementType_ID,other_requirment:this.form.value.other_requirment,note:this.form.value.note},org_ID:this.form.value.org_ID,job_Title_ID:this.form.value.job_Title_ID,gender_ID:this.form.value.gender_ID};0==t.rec_Request.id?this.create(t):this.update(t)}}create(t){this.showLoading("form"),this.recruitmentRequestService.create(t).subscribe(n=>{n?.message?.messageType==C.u.Success?(this.addSuccessfullyMsg(n.message.messageTypeName),this.requestId=n.data.rec_Request.id,this.formCtrls.id.setValue(this.requestId),this.navigateTo(`/recruitment/${this.moduleId}/request/edit/${this.requestId}`)):this.errorList(n?.message?.messages),this.hideLoading("form")})}update(t){this.showLoading("form"),this.recruitmentRequestService.update(t).subscribe(n=>{n?.message?.messageType==C.u.Success?this.updateSuccessfullyMsg(n.message.messageTypeName):this.errorList(n?.message?.messages),this.hideLoading("form")})}clearForm(){this.form.reset(),this.submitted=!1}onChangeJobTitle(t){this.showJobTitleDetails=t?.length>0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.O),e.Y36(Qt.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-recruitment-request"]],features:[e.qOj],decls:44,vars:50,consts:[[3,"name"],[1,"title-no-margin","title-section","fixed-title"],["addTitle","addRecruitmentRequest","editTitle","editRecruitmentRequest",3,"id"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"row"],[1,"col-12","has-fixed-title"],[1,"form-card","sub-fixed-section"],["container",""],[1,"title-no-margin"],["title","generalInfoAboutRequest"],[1,"container-fluid","mtop-20"],[1,"col-12"],[3,"formGroup"],[1,"col-md-6","col-lg-3","col-12"],[3,"control","submitted","filter"],[3,"control","orgTypeControl","submitted","filter"],[3,"control","organizationControl","organizationControlRequired","submitted","filter","change"],[1,"mtop-12","mbottom-12",3,"label","icon","color","iconPositionBefore","disabled","onClick"],[3,"control","submitted","inculdeBoth"],["type","number","label","vacantPlaces",3,"control","submitted"],["label","fromDateExpected",3,"control","submitted"],["label","toDateExpected",3,"control","submitted"],["label","otherRequirment",3,"control","submitted"],["label","notes",3,"control","submitted"],["align","end"],[3,"click",4,"ngIf"],["icon","pi pi-plus-circle",3,"id","color","iconPositionBefore","onClick"],[3,"jobTitleId"],[3,"click"]],template:function(t,n){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"mat-card-title",1),e._UZ(2,"page-title",2),e.YNc(3,Xt,1,2,"app-add-new-btn",3),e._UZ(4,"app-back-btn",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6)(7,"mat-card",7,8)(9,"mat-card-title",9),e._UZ(10,"page-title",10),e.qZA(),e.TgZ(11,"mat-card-content",11)(12,"div",5)(13,"div",12)(14,"form",13)(15,"div",5)(16,"div",14),e._UZ(17,"app-org-types-dropdown-current-structure",15),e.qZA(),e.TgZ(18,"div",14),e._UZ(19,"app-organization-by-org-type-dropdown",16),e.qZA(),e.TgZ(20,"div",14)(21,"app-job-title-by-org-dropdown",17),e.NdJ("change",function(r){return n.onChangeJobTitle(r)}),e.qZA()(),e.TgZ(22,"div",14)(23,"app-button",18),e.NdJ("onClick",function(){return n.showJobTitleDetails=!n.showJobTitleDetails}),e.qZA()(),e.TgZ(24,"div",14),e._UZ(25,"app-employment-type-dropdown",15),e.qZA(),e.TgZ(26,"div",14),e._UZ(27,"app-request-reason-dropdown",15),e.qZA(),e.TgZ(28,"div",14),e._UZ(29,"app-gender-dropdown",19),e.qZA(),e.TgZ(30,"div",14),e._UZ(31,"app-input",20),e.qZA(),e.TgZ(32,"div",14),e._UZ(33,"app-datepicker",21),e.qZA(),e.TgZ(34,"div",14),e._UZ(35,"app-datepicker",22),e.qZA(),e.TgZ(36,"div",14),e._UZ(37,"app-input",23),e.qZA(),e.TgZ(38,"div",14),e._UZ(39,"app-input",24),e.qZA()()()()()(),e.TgZ(40,"mat-card-actions",25),e.YNc(41,Kt,1,0,"reset-form-btn",26),e.TgZ(42,"submit-btn",27),e.NdJ("onClick",function(){return n.submit()}),e.qZA()()(),e._UZ(43,"app-add-recruitment-job-details",28),e.qZA()()),2&t&&(e.Q6J("name","form"),e.xp6(2),e.Q6J("id",n.requestId),e.xp6(1),e.Q6J("ngIf",n.requestId>0),e.xp6(1),e.MGl("url","/recruitment/",n.moduleId,"/request/index"),e.Q6J("params",n.pageParams),e.xp6(10),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.formCtrls.org_type_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.org_ID)("orgTypeControl",n.formCtrls.org_type_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.job_Title_ID)("organizationControl",n.formCtrls.org_ID)("organizationControlRequired",!0)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("label",n.showJobTitleDetails?"hideDetails":"showDetails")("icon",n.showJobTitleDetails?"fas fa-chevron-up":"fas fa-chevron-down")("color",n.btn.darkBlue)("iconPositionBefore",!1)("disabled",!n.formCtrls.job_Title_ID.value),e.xp6(2),e.Q6J("control",n.formCtrls.employementType_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.request_Reason_ID)("submitted",n.submitted)("filter",!0),e.xp6(2),e.Q6J("control",n.formCtrls.gender_ID)("submitted",n.submitted)("inculdeBoth",!0),e.xp6(2),e.Q6J("control",n.formCtrls.emp_No)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.from_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.to_Date)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.other_requirment)("submitted",n.submitted),e.xp6(2),e.Q6J("control",n.formCtrls.note)("submitted",n.submitted),e.xp6(2),e.Q6J("ngIf",0==n.formCtrls.id.value),e.xp6(1),e.Q6J("id",n.formCtrls.id.value)("color",n.btn.darkBlue)("iconPositionBefore",!1)("id",n.formCtrls.id.value),e.xp6(1),e.ekj("hidden",!n.showJobTitleDetails),e.Q6J("jobTitleId",n.formCtrls.job_Title_ID.value))},dependencies:[m.O5,R.Q,Z.a,M.a,B.J,T.J,D.p,J.T,j.r,p.a8,p.dn,p.n5,p.hq,k.Ro,H.A,W.s,U.a,ee.v,Lt.p,Ot.W,s._Y,s.JL,s.sg,Vt]}),i})();var Ht=d(87420),Wt=d(60544),en=d(91373);const on=[{path:"request",data:{view:q.S.request},children:[{path:"",redirectTo:"index",pathMatch:O.U.full},{path:"index",component:(()=>{class i extends f.U{constructor(t){super(),this.recruitmentRequestService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","jobTitle","vacantPlaces","fromDateExpected","toDateExpected","notes","actions"],this.optionalColomns=[]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new c.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,n){this.dataSource=new c.by(null),this.isLoaded=!1,this.page.pageIndex=t,n&&(this.page.pageSize=n),this.removePageParams(),this.recruitmentRequestService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(r=>{if(r.message.messageType=C.u.Success){if(0==r.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new c.by((0,Ht.j)(r.data)),this.isLoaded=!0,this.page.length=r.meta.totalItemCount,this.page.meta=r.meta}else this.errorList(r?.message?.messages)})}onDelete(t){this.deleteDialog(`${t.jobTitle} - ${t.fromDateExpected} - ${t.toDateExpected}`).subscribe(a=>{a&&this.delete(t)})}delete(t){this.showLoading(),this.recruitmentRequestService.Delete(t.id).subscribe(n=>{(n.message.messageType=C.u.Success)?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(n.message.messageTypeName)):this.errorList(n?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recruitment-request-index"]],features:[e.qOj],decls:8,vars:12,consts:[[1,"index-card"],["title","recruitmentRequest",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title"),e._UZ(2,"page-title",1),e.qZA(),e.TgZ(3,"mat-card-content")(4,"app-material-table",2),e.NdJ("onChangePage",function(r){return n.getList(r.pageIndex+1,r.pageSize)})("deleteRow",function(r){return n.onDelete(r)}),e.qZA()()(),e.TgZ(5,"side-helping-menu",3),e.ALo(6,"translate"),e._UZ(7,"app-dashboard-display",4),e.qZA()),2&t&&(e.xp6(2),e.Q6J("globalFunctions",n.globalFunctions),e.xp6(2),e.Q6J("isLoaded",n.isLoaded)("mandatoryColomns",n.mandatoryColomns)("optionalColomns",n.optionalColomns)("page",n.page)("actions",n.rowFunctions)("dataSource",n.dataSource)("exportService",n.recruitmentRequestService),e.xp6(1),e.s9C("title",e.lcZ(6,10,"Dashboard")),e.xp6(2),e.Q6J("serviceId",n.getCurrentServiceId()))},dependencies:[I.I,J.T,Wt.c,en.b,p.a8,p.dn,p.n5,h.X$]}),i})(),data:{view:q.S.request_index},canActivate:[y.r]},{path:"add",component:ae,data:{view:q.S.add_request},canActivate:[y.r]},{path:"edit/:id",component:ae,data:{view:q.S.add_request},canActivate:[y.r]}]},{path:"candidate",data:{view:q.S.candidate},children:[{path:"",redirectTo:"index",pathMatch:O.U.full},{path:"index",component:(()=>{class i extends f.U{constructor(t){super(),this.candidateService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","code","photo","fullName","organization","jobTitleName","phone","email","actions"],this.optionalColomns=[]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new c.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,n){this.dataSource=new c.by(null),this.isLoaded=!1,this.page.pageIndex=t,n&&(this.page.pageSize=n),this.removePageParams(),this.candidateService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(r=>{if(r.message.messageType=C.u.Success){if(0==r.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new c.by(function nn(i){return i.map(o=>({...o,fullName:(0,l._)(o.ar_Name,o.en_Name),jobTitleName:(0,l._)(o.jobTitleNameAr,o.jobTitleName),organization:(0,l._)(o.organizationAr,o.organization),phone:o.contacts?.map(t=>t.value).join(", "),photo:o.img?"/"+o.img:""}))}(r.data)),this.isLoaded=!0,this.page.length=r.meta.totalItemCount,this.page.meta=r.meta}else this.errorList(r?.message?.messages)})}onDelete(t){let n=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(n).subscribe(a=>{a&&this.delete(t)})}delete(t){this.showLoading(),this.candidateService.Delete(t.id).subscribe(n=>{(n.message.messageType=C.u.Success)?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(n.message.messageTypeName)):this.errorList(n?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-candidate-index"]],features:[e.qOj],decls:5,vars:8,consts:[[1,"index-card"],["title","candidates",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","dataSource","actions","exportService","onChangePage","deleteRow"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title"),e._UZ(2,"page-title",1),e.qZA(),e.TgZ(3,"mat-card-content")(4,"app-material-table",2),e.NdJ("onChangePage",function(r){return n.getList(r.pageIndex+1,r.pageSize)})("deleteRow",function(r){return n.onDelete(r)}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("globalFunctions",n.globalFunctions),e.xp6(2),e.Q6J("isLoaded",n.isLoaded)("mandatoryColomns",n.mandatoryColomns)("optionalColomns",n.optionalColomns)("page",n.page)("dataSource",n.dataSource)("actions",n.rowFunctions)("exportService",n.candidateService))},dependencies:[I.I,J.T,p.a8,p.dn,p.n5]}),i})(),data:{view:q.S.candidate_index},canActivate:[y.r]},{path:"add",component:te,data:{view:q.S.add_candidate},canActivate:[y.r]},{path:"add/:requestId",component:te,data:{view:q.S.add_candidate},canActivate:[y.r]}]}];let rn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[L.Bz.forChild(on),L.Bz]}),i})();var sn=d(66393),dn=d(90720);let ln=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,rn,sn.m,dn.OrgManagementModule]}),i})()}}]);