"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[373],{59373:(Ne,Z,o)=>{o.r(Z),o.d(Z,{RecruitmentModule:()=>Ue});var h=o(36895),_=o(80458),y=o(36162),u=o(74513),g=o(30671),f=o(35478);function w(n){return n.map(i=>({id:i.request?.id,jobTitle:(0,f._)(i.job_Title?.ar_Name,i.job_Title?.en_Name),vacantPlaces:i.request?.emp_No,fromDateExpected:f.M.mapDate(i.request?.from_Date),toDateExpected:f.M.mapDate(i.request?.to_Date),notes:i.request?.note}))}var m=o(15602),b=o(95751),e=o(94650),O=o(18521),F=o(24850);let A=(()=>{class n extends O.K{constructor(){super()}create(t){return this.post("Recruitment/Request/Create",t)}update(t){return this.post("Recruitment/Request/Edit",t)}getList(t){return this.get("Recruitment/Request/GetList",{params:{...t}})}getAll(){return this.get("Recruitment/Request/GetAll")}getById(t){return this.get("Recruitment/Request/GetAll",{params:{$filter:`request_ID eq ${t}`}})}Delete(t){return this.delete("Recruitment/Request/Delete",{params:{Id:t}})}exportExcel(){return this.getAll().pipe((0,F.U)(t=>{if(t.message.messageType==m.u.Success)return t.data=w(t.data),t}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=o(93410),I=o(46896),M=o(60544),z=o(91373),p=o(73546),x=o(86405),c=o(49274);let k=(()=>{class n extends b.U{constructor(t){super(),this.recruitmentRequestService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","jobTitle","vacantPlaces","fromDateExpected","toDateExpected","notes","actions"],this.optionalColomns=[]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,a){this.dataSource=new g.by(null),this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.recruitmentRequestService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(r=>{if(r.message.messageType=m.u.Success){if(0==r.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new g.by(w(r.data)),this.isLoaded=!0,this.page.length=r.meta.totalItemCount}else this.errorList(r?.message?.messages)})}onDelete(t){this.deleteDialog(`${t.jobTitle} - ${t.fromDateExpected} - ${t.toDateExpected}`).subscribe(s=>{s&&this.delete(t)})}delete(t){this.showLoading(),this.recruitmentRequestService.Delete(t.id).subscribe(a=>{(a.message.messageType=m.u.Success)?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(a.message.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recruitment-request-index"]],features:[e.qOj],decls:9,vars:12,consts:[[1,"index-card"],["title","recruitmentRequest",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"mat-card",0)(2,"mat-card-title"),e._UZ(3,"page-title",1),e.qZA(),e.TgZ(4,"mat-card-content")(5,"app-material-table",2),e.NdJ("onChangePage",function(r){return a.getList(r.pageIndex+1,r.pageSize)})("deleteRow",function(r){return a.onDelete(r)}),e.qZA()()(),e.TgZ(6,"side-helping-menu",3),e.ALo(7,"translate"),e._UZ(8,"app-dashboard-display",4),e.qZA()),2&t&&(e.xp6(3),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(2),e.Q6J("isLoaded",a.isLoaded)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions)("dataSource",a.dataSource)("exportService",a.recruitmentRequestService),e.xp6(1),e.s9C("title",e.lcZ(7,10,"Dashboard")),e.xp6(2),e.Q6J("serviceId",a.getCurrentServiceId()))},dependencies:[T.I,I.T,M.c,z.b,p.a8,p.dn,p.n5,x.Ro,c.X$]}),n})();var v=o(3710),l=o(24006),C=o(78937),D=o(43949),G=o(50377),J=o(70137),R=o(25273),S=o(61064),j=o(52682),X=o(56500),q=o(57566),Y=o(71812),$=o(85443),V=o(15362),L=o(2023),K=o(50260),W=o(60887),H=o(25677),Q=o(6314),ee=o(92972),te=o(93665),ae=o(38368),ne=o(40445),U=o(3848),ie=o(2138),oe=o(75474);function se(n,i){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"app-view-data-row-item",9)(2,"app-view-data-row-item",10)(3,"app-view-data-row-item",11)(4,"app-view-data-row-item",12)(5,"app-view-data-row-item",13)(6,"app-view-data-row-item",14)(7,"app-view-data-row-item",15)(8,"app-view-data-row-item",16),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.ar_Name),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.en_Name),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.jobFamily),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.parentJobTitleName),e.xp6(1),e.Q6J("value",null==t.jobTitle?null:t.jobTitle.remainingVacentPlaces),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Grade?null:t.jobTitle.core_Grade.miN_SALARY),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Grade?null:t.jobTitle.core_Grade.middel_Salary),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Grade?null:t.jobTitle.core_Grade.maX_SALARY)}}function de(n,i){1&n&&e._UZ(0,"app-view-card-row-skeleton")}function re(n,i){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"app-view-data-row-item",17)(2,"app-view-data-row-item",18)(3,"app-view-data-row-item",19)(4,"app-view-data-row-item",20)(5,"app-view-data-row-item",21)(6,"app-view-data-row-item",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.joB_PURPOSE)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.responsibilitieS_DUTIES)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.knowledgE_SKILLS)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.education)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.experience)("textEditor",!0),e.xp6(1),e.Q6J("value",null==t.jobTitle||null==t.jobTitle.core_Job_Description?null:t.jobTitle.core_Job_Description.workinG_CONDITIONS)("textEditor",!0)}}function le(n,i){1&n&&e._UZ(0,"app-view-card-row-skeleton")}function pe(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8),e._UZ(2,"app-view-data-row-item",23)(3,"app-view-data-row-item",24)(4,"app-view-data-row-item",25),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"app-view-data-row-item",26)(7,"app-view-data-row-item",27)(8,"app-view-data-row-item",28),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("value",t.jobTitle.managerPercentage)("textEditor",!0),e.xp6(1),e.Q6J("value",t.jobTitle.internalColleaguePercentage)("textEditor",!0),e.xp6(1),e.Q6J("value",t.jobTitle.externalColleaguePercentage)("textEditor",!0),e.xp6(2),e.Q6J("value",t.jobTitle.subordinatePercentage)("textEditor",!0),e.xp6(1),e.Q6J("value",t.jobTitle.mySelfPercentage)("textEditor",!0),e.xp6(1),e.Q6J("value",t.jobTitle.customerPercentage)("textEditor",!0)}}function me(n,i){1&n&&e._UZ(0,"app-view-card-row-skeleton")}let ce=(()=>{class n extends b.U{constructor(t){super(),this.jobTitleService=t,this.jobTitleId=0,this.isLoaded=!1,this.kpiMandatoryColomns=["kpi"],this.kpiOptionalColomns=[]}ngOnInit(){}ngOnChanges(t){t.jobTitleId?.currentValue>0&&this.getDetailsById()}onChangeBusinessAndCompanyId(){this.jobTitleId>0&&this.checkNoBusinessOrCompany()&&this.getDetailsById()}getDetailsById(){this.jobTitle=null,this.kpiDataSource=new g.by(null),this.isLoaded=!1,this.jobTitleService.getDetailsById(this.jobTitleId).subscribe(t=>{(t.message.messageType=m.u.Success)?(this.jobTitle=(0,Q.gc)(t.data)[0],this.kpiDataSource=new g.by((0,Q.Uh)(t.data[0].core_Job_Title_KPI)),this.isLoaded=!0):this.errorList(t?.message?.messages)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ee._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-recruitment-job-details"]],inputs:{jobTitleId:"jobTitleId"},features:[e.qOj,e.TTD],decls:32,vars:49,consts:[[1,"mtop-20"],[1,"col-12","w-100","view-tabs-group",3,"dir"],[3,"label"],[1,"ptop-10"],["class","view-data-row-container",4,"ngIf"],[4,"ngIf"],[3,"jobId","showIndexOnly"],[1,"table-in-forms","small-table",3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","actions","showPaginator","showFilter","showSpaceTop"],[1,"view-data-row-container"],["label","ar_Name",1,"w-md-20","mb-2",3,"value"],["label","en_Name",1,"w-md-20","mb-2",3,"value"],["label","jobFamily",1,"w-md-20","mb-2",3,"value"],["label","parentJobTitle",1,"w-md-20","mb-2",3,"value"],["label","remainingVacentPlaces",1,"w-md-20","mb-2",3,"value"],["label","miN_SALARY",1,"w-md-20","mb-2",3,"value"],["label","middel_Salary",1,"w-md-20","mb-2",3,"value"],["label","maX_SALARY",1,"w-md-20","mb-2",3,"value"],["label","jobPurpose",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","responsibilitiesDuties",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","knowledgeSkills",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","education",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","experience",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","workingConditions",1,"col-sm-4","col-6","px-0","mb-2",3,"value","textEditor"],["label","manager%",1,"col","mb-2",3,"value","textEditor"],["label","internalDepartment%",1,"col","mb-2",3,"value","textEditor"],["label","externalDepartment%",1,"col","mb-2",3,"value","textEditor"],["label","subordinate%",1,"col","mb-2",3,"value","textEditor"],["label","mySelf%",1,"col","mb-2",3,"value","textEditor"],["label","customer%",1,"col","mb-2",3,"value","textEditor"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-tab-group",1)(2,"mat-tab",2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.TgZ(5,"mat-card-content",3),e.YNc(6,se,9,8,"div",4),e.YNc(7,de,1,0,"app-view-card-row-skeleton",5),e.qZA()(),e.TgZ(8,"mat-tab",2),e.ALo(9,"titlecase"),e.ALo(10,"translate"),e.TgZ(11,"mat-card-content",3),e.YNc(12,re,7,12,"div",4),e.YNc(13,le,1,0,"app-view-card-row-skeleton",5),e.qZA()(),e.TgZ(14,"mat-tab",2),e.ALo(15,"titlecase"),e.ALo(16,"translate"),e._UZ(17,"app-job-career-path",6),e.qZA(),e.TgZ(18,"mat-tab",2),e.ALo(19,"titlecase"),e.ALo(20,"translate"),e._UZ(21,"app-job-competences",6),e.qZA(),e.TgZ(22,"mat-tab",2),e.ALo(23,"uppercase"),e.ALo(24,"translate"),e._UZ(25,"app-material-table",7),e.qZA(),e.TgZ(26,"mat-tab",2),e.ALo(27,"titlecase"),e.ALo(28,"translate"),e.TgZ(29,"mat-card-content",3),e.YNc(30,pe,9,12,"ng-container",5),e.YNc(31,me,1,0,"app-view-card-row-skeleton",5),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("dir",a.languageService.isArabic?"rtl":"ltr"),e.xp6(1),e.s9C("label",e.lcZ(3,25,e.lcZ(4,27,"generalInfo"))),e.xp6(4),e.Q6J("ngIf",a.isLoaded),e.xp6(1),e.Q6J("ngIf",!a.isLoaded),e.xp6(1),e.s9C("label",e.lcZ(9,29,e.lcZ(10,31,"jobDescription"))),e.xp6(4),e.Q6J("ngIf",a.isLoaded),e.xp6(1),e.Q6J("ngIf",!a.isLoaded),e.xp6(1),e.s9C("label",e.lcZ(15,33,e.lcZ(16,35,"careerPath"))),e.xp6(3),e.Q6J("jobId",a.jobTitleId)("showIndexOnly",!0),e.xp6(1),e.s9C("label",e.lcZ(19,37,e.lcZ(20,39,"competences"))),e.xp6(3),e.Q6J("jobId",a.jobTitleId)("showIndexOnly",!0),e.xp6(1),e.s9C("label",e.lcZ(23,41,e.lcZ(24,43,"kpi"))),e.xp6(3),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.kpiDataSource)("mandatoryColomns",a.kpiMandatoryColomns)("optionalColomns",a.kpiOptionalColomns)("actions",a.rowFunctions)("showPaginator",!1)("showFilter",!1)("showSpaceTop",!1),e.xp6(1),e.s9C("label",e.lcZ(27,45,e.lcZ(28,47,"appraisalMethod"))),e.xp6(4),e.Q6J("ngIf",a.isLoaded),e.xp6(1),e.Q6J("ngIf",!a.isLoaded))},dependencies:[h.O5,T.I,te.l,ae.I,ne.Lv,U.SP,U.uX,p.a8,p.dn,ie.x,oe.T,h.gd,h.rS,c.X$]}),n})();function ue(n,i){if(1&n&&e._UZ(0,"app-add-new-btn",4),2&n){const t=e.oxw();e.MGl("url","/recruitment/",t.moduleId,"/request/add"),e.Q6J("params",t.parentParam)}}function ge(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"reset-form-btn",29),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.clearForm())}),e.qZA()}}let N=(()=>{class n extends b.U{constructor(t,a){super(),this.recruitmentRequestService=t,this.organizationTypesService=a,this.requestId=0,this.submitted=!1,this.showJobTitleDetails=!1}onChangeBusinessAndCompanyId(){this.requestId>0&&this.checkNoBusinessOrCompany()&&this.getRequestById()}ngOnInit(){this.form=this.fb.group({id:[this.requestId,{nonNullable:!0}],org_type_ID:[null,[l.kI.required]],org_ID:[null,[l.kI.required]],job_Title_ID:[null,[l.kI.required]],employementType_ID:[null,[l.kI.required]],request_Reason_ID:[null,[l.kI.required]],gender_ID:[null,[l.kI.required]],emp_No:[null,[D.dN.gte(1)]],from_Date:[null,[l.kI.required]],to_Date:[null,[l.kI.required]],other_requirment:[null],note:[null]},{validator:[C.w.compareDates("from_Date","to_Date")]}),this.activatedRoute.params.subscribe(t=>{this.requestId=Number(t.id??0)})}get formCtrls(){return this.form.controls}getRequestById(){this.showLoading("form"),this.recruitmentRequestService.getById(this.requestId).subscribe(t=>{(t.message.messageType=m.u.Success)?(this.form.patchValue(t.data[0].request),this.formCtrls.gender_ID.setValue(t.data[0].gender_ID),this.getOrgTypeByOrgId(t.data[0].org.id,t.data[0].job_Title.id)):(this.errorList(t?.message?.messages),this.hideLoading("form"))})}getOrgTypeByOrgId(t,a){this.organizationTypesService.getByOrgId(t).subscribe(s=>{(s.message.messageType=m.u.Success)?(this.formCtrls.org_type_ID.setValue(s.data[0].id),this.formCtrls.org_ID.setValue(t),setTimeout(()=>{this.formCtrls.job_Title_ID.setValue(a)},50),this.hideLoading("form")):this.errorList(s?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){let t={rec_Request:{id:this.form.value.id,emp_No:this.form.value.emp_No,from_Date:f.M.mapDateReverse(this.form.value.from_Date),to_Date:f.M.mapDateReverse(this.form.value.to_Date),request_Reason_ID:this.form.value.request_Reason_ID,employementType_ID:this.form.value.employementType_ID,other_requirment:this.form.value.other_requirment,note:this.form.value.note},org_ID:this.form.value.org_ID,job_Title_ID:this.form.value.job_Title_ID,gender_ID:this.form.value.gender_ID};0==t.rec_Request.id?this.create(t):this.update(t)}}create(t){this.showLoading("form"),this.recruitmentRequestService.create(t).subscribe(a=>{a?.message?.messageType==m.u.Success?(this.addSuccessfullyMsg(a.message.messageTypeName),this.requestId=a.data.rec_Request.id,this.formCtrls.id.setValue(this.requestId),this.navigateTo(`/recruitment/${this.moduleId}/request/edit/${this.requestId}`)):this.errorList(a?.message?.messages),this.hideLoading("form")})}update(t){this.showLoading("form"),this.recruitmentRequestService.update(t).subscribe(a=>{a?.message?.messageType==m.u.Success?this.updateSuccessfullyMsg(a.message.messageTypeName):this.errorList(a?.message?.messages),this.hideLoading("form")})}clearForm(){this.form.reset(),this.submitted=!1}onChangeJobTitle(t){this.showJobTitleDetails=t.length>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A),e.Y36(G.w))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-recruitment-request"]],features:[e.qOj],decls:44,vars:50,consts:[[3,"name"],[1,"title-no-margin","title-section","fixed-title"],["addTitle","addRecruitmentRequest","editTitle","editRecruitmentRequest",3,"id"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"row"],[1,"col-12","cards-no-shadow","has-fixed-title"],[1,"form-card","sub-fixed-section"],["container",""],[1,"title-no-margin"],["title","generalInfoAboutRequest"],[1,"container-fluid","mtop-20"],[1,"col-12"],[3,"formGroup"],[1,"col-md-6","col-lg-3","col-12"],[3,"control","submitted","filter"],[3,"control","orgTypeControl","submitted","filter"],[3,"control","organizationControl","organizationControlRequired","submitted","filter","change"],[1,"mtop-12","mbottom-12",3,"label","icon","color","iconPositionBefore","disabled","onClick"],[3,"control","submitted","inculdeBoth"],["type","number","label","vacantPlaces",3,"control","submitted"],["label","fromDateExpected",3,"control","submitted"],["label","toDateExpected",3,"control","submitted"],["label","otherRequirment",3,"control","submitted"],["label","notes",3,"control","submitted"],["align","end"],[3,"click",4,"ngIf"],["icon","pi pi-plus-circle",3,"id","color","iconPositionBefore","onClick"],[3,"jobTitleId"],[3,"click"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"mat-card-title",1),e._UZ(2,"page-title",2),e.YNc(3,ue,1,2,"app-add-new-btn",3),e._UZ(4,"app-back-btn",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6)(7,"mat-card",7,8)(9,"mat-card-title",9),e._UZ(10,"page-title",10),e.qZA(),e.TgZ(11,"mat-card-content",11)(12,"div",5)(13,"div",12)(14,"form",13)(15,"div",5)(16,"div",14),e._UZ(17,"app-org-types-dropdown-current-structure",15),e.qZA(),e.TgZ(18,"div",14),e._UZ(19,"app-organization-by-org-type-dropdown",16),e.qZA(),e.TgZ(20,"div",14)(21,"app-job-title-by-org-dropdown",17),e.NdJ("change",function(r){return a.onChangeJobTitle(r)}),e.qZA()(),e.TgZ(22,"div",14)(23,"app-button",18),e.NdJ("onClick",function(){return a.showJobTitleDetails=!a.showJobTitleDetails}),e.qZA()(),e.TgZ(24,"div",14),e._UZ(25,"app-employment-type-dropdown",15),e.qZA(),e.TgZ(26,"div",14),e._UZ(27,"app-request-reason-dropdown",15),e.qZA(),e.TgZ(28,"div",14),e._UZ(29,"app-gender-dropdown",19),e.qZA(),e.TgZ(30,"div",14),e._UZ(31,"app-input",20),e.qZA(),e.TgZ(32,"div",14),e._UZ(33,"app-datepicker",21),e.qZA(),e.TgZ(34,"div",14),e._UZ(35,"app-datepicker",22),e.qZA(),e.TgZ(36,"div",14),e._UZ(37,"app-input",23),e.qZA(),e.TgZ(38,"div",14),e._UZ(39,"app-input",24),e.qZA()()()()()(),e.TgZ(40,"mat-card-actions",25),e.YNc(41,ge,1,0,"reset-form-btn",26),e.TgZ(42,"submit-btn",27),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()(),e._UZ(43,"app-add-recruitment-job-details",28),e.qZA()()),2&t&&(e.Q6J("name","form"),e.xp6(2),e.Q6J("id",a.requestId),e.xp6(1),e.Q6J("ngIf",a.requestId>0),e.xp6(1),e.MGl("url","/recruitment/",a.moduleId,"/request/index"),e.Q6J("params",a.pageParams),e.xp6(10),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.org_type_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.org_ID)("orgTypeControl",a.formCtrls.org_type_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.job_Title_ID)("organizationControl",a.formCtrls.org_ID)("organizationControlRequired",!0)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("label",a.showJobTitleDetails?"hideDetails":"showDetails")("icon",a.showJobTitleDetails?"fas fa-chevron-up":"fas fa-chevron-down")("color",a.btn.darkBlue)("iconPositionBefore",!1)("disabled",!a.formCtrls.job_Title_ID.value),e.xp6(2),e.Q6J("control",a.formCtrls.employementType_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.request_Reason_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.gender_ID)("submitted",a.submitted)("inculdeBoth",!0),e.xp6(2),e.Q6J("control",a.formCtrls.emp_No)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.from_Date)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.to_Date)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.other_requirment)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.note)("submitted",a.submitted),e.xp6(2),e.Q6J("ngIf",0==a.formCtrls.id.value),e.xp6(1),e.Q6J("id",a.formCtrls.id.value)("color",a.btn.darkBlue)("iconPositionBefore",!1)("id",a.formCtrls.id.value),e.xp6(1),e.ekj("hidden",!a.showJobTitleDetails),e.Q6J("jobTitleId",a.formCtrls.job_Title_ID.value))},dependencies:[h.O5,J.Q,R.a,S.a,j.J,X.J,q.p,I.T,Y.r,p.a8,p.dn,p.n5,p.hq,x.Ro,$.A,V.s,L.a,K.v,W.p,H.W,l._Y,l.JL,l.sg,ce]}),n})();var P=o(61076);let he=(()=>{class n extends b.U{constructor(t){super(),this.candidateService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","name","actions"],this.optionalColomns=[]}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}ngOnInit(){}getList(t,a){this.dataSource=new g.by(null),this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.candidateService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(r=>{if(r.message.messageType=m.u.Success){if(0==r.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new g.by(r.data),this.isLoaded=!0,this.page.length=r.meta.totalItemCount}else this.errorList(r?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(s=>{s&&this.delete(t)})}delete(t){this.showLoading(),this.candidateService.Delete(t.id).subscribe(a=>{(a.message.messageType=m.u.Success)?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(a.message.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-candidate-index"]],features:[e.qOj],decls:5,vars:8,consts:[[1,"index-card"],["title","candidate",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","exportService","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title"),e._UZ(2,"page-title",1),e.qZA(),e.TgZ(3,"mat-card-content")(4,"app-material-table",2),e.NdJ("onChangePage",function(r){return a.getList(r.pageIndex+1,r.pageSize)})("deleteRow",function(r){return a.onDelete(r)}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(2),e.Q6J("isLoaded",a.isLoaded)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions)("dataSource",a.dataSource)("exportService",a.candidateService))},dependencies:[T.I,I.T,p.a8,p.dn,p.n5]}),n})();var fe=o(20957),B=o(86257),d=o(37084),be=o(33975),ve=o(59678),Ce=o(2161),Ie=o(77900);let Te=(()=>{class n extends b.U{constructor(t){super(),this.candidateService=t,this.candidateId=0,this.changeCandidateId=new e.vpe,this.submitted=!1}onChangeBusinessAndCompanyId(){this.candidateId>0&&this.checkNoBusinessOrCompany()&&this.getCandidateById()}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[l.kI.required,C.w.whiteSpace]],en_Name:[null,[l.kI.required,C.w.whiteSpace]],code:[null,[l.kI.required,C.w.whiteSpace]],nationality:[null],nationalid:[null,[l.kI.required,C.w.whiteSpace,D.dN.number,C.w.Length(be.g.nationalId)]],dob:[null],registrationDate:[null,[l.kI.required]],gender_ID:[null],religioN_ID:[null],sourcingTypeId:[null],sourcingName:[null]})}get formCtrls(){return this.form.controls}getCandidateById(){this.showLoading("form"),this.candidateService.getById(this.candidateId).subscribe(t=>{(t.message.messageType=m.u.Success)?this.form.patchValue(t.data[0]):this.errorList(t?.message?.messages),this.hideLoading("form")})}submit(){if(this.submitted=!0,this.form.valid){const t={id:this.form.value.id,ar_Name:this.form.value.ar_Name,en_Name:this.form.value.en_Name,code:this.form.value.code,nationality:this.form.value.nationality,nationalid:this.form.value.nationalid,dob:f.M.mapDateReverse(this.form.value.dob),registrationDate:f.M.mapDateReverse(this.form.value.registrationDate),gender_ID:this.form.value.gender_ID,religioN_ID:this.form.value.religioN_ID,sourcingTypeId:this.form.value.sourcingTypeId,sourcingName:this.form.value.sourcingName};0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.candidateService.create(t).subscribe(a=>{a?.message?.messageType==m.u.Success?(this.addSuccessfullyMsg(a?.message?.messageTypeName),this.candidateId=a.data.id,this.changeCandidateId.emit(this.candidateId),this.formCtrls.id.setValue(this.candidateId),this.navigateTo(`/recruitment/${this.moduleId}/candidate/edit/${this.candidateId}`)):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.candidateService.update(t).subscribe(a=>{a.message.messageType==m.u.Success?this.updateSuccessfullyMsg(a?.message?.messageTypeName):this.errorList(a?.message?.messages),this.hideLoading()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-general-info"]],inputs:{candidateId:"candidateId"},outputs:{changeCandidateId:"changeCandidateId"},features:[e.qOj],decls:34,vars:32,consts:[["expanded",""],[3,"formGroup"],[1,"row","ptop-20"],[1,"col-md-3","col-sm-6","col-12"],["label","code",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","en_Name",3,"control","submitted"],[3,"control","submitted","filter"],["label","nationalid",3,"control","submitted"],[1,"msg-after"],["label","dob",3,"control","submitted"],["label","registrationDate",3,"control","submitted"],[3,"control","submitted"],["label","sourcingName",3,"control","submitted"],[1,"border-0","pt-0"],["label","General.save","icon","fas fa-save",3,"color","iconPositionBefore","onClick"]],template:function(t,a){if(1&t&&(e.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"form",1),e.ynx(6),e.TgZ(7,"div",2)(8,"div",3),e._UZ(9,"app-input",4),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"app-input",5),e.qZA(),e.TgZ(12,"div",3),e._UZ(13,"app-input",6),e.qZA(),e.TgZ(14,"div",3),e._UZ(15,"app-nationality-dropdown",7),e.qZA(),e.TgZ(16,"div",3)(17,"app-input",8),e.ynx(18,9),e._uU(19),e.BQk(),e.qZA()(),e.TgZ(20,"div",3),e._UZ(21,"app-datepicker",10),e.qZA(),e.TgZ(22,"div",3),e._UZ(23,"app-datepicker",11),e.qZA(),e.TgZ(24,"div",3),e._UZ(25,"app-gender-dropdown",12),e.qZA(),e.TgZ(26,"div",3),e._UZ(27,"religion-dropdown",7),e.qZA(),e.TgZ(28,"div",3),e._UZ(29,"app-sourcing-type-dropdown",7),e.qZA(),e.TgZ(30,"div",3),e._UZ(31,"app-input",13),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(32,"mat-action-row",14)(33,"submit-btn",15),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()),2&t){let s;e.xp6(3),e.hij(" ",e.lcZ(4,30,"generalInfo")," "),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(4),e.Q6J("control",a.formCtrls.code)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.ar_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.en_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.nationality)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.nationalid)("submitted",a.submitted),e.xp6(2),e.hij(" ",(null!==(s=null==a.formCtrls.nationalid.value?null:a.formCtrls.nationalid.value.length)&&void 0!==s?s:0)+"/14"," "),e.xp6(2),e.Q6J("control",a.formCtrls.dob)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.registrationDate)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.gender_ID)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.religioN_ID)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.sourcingTypeId)("submitted",a.submitted)("filter",!0),e.xp6(2),e.Q6J("control",a.formCtrls.sourcingName)("submitted",a.submitted),e.xp6(2),e.Q6J("color",a.btn.darkBlue)("iconPositionBefore",!1)}},dependencies:[J.Q,R.a,q.p,d.ib,d.VG,d.yz,d.yK,L.a,ve.w,Ce.O,Ie.$,l._Y,l.JL,l.sg,c.X$]}),n})(),Ze=(()=>{class n{constructor(){this.candidateId=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-basic-info"]],inputs:{candidateId:"candidateId"},decls:7,vars:3,consts:[["expanded",""]],template:function(t,a){1&t&&(e.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"p"),e._uU(6," content "),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"basicInfo")," "))},dependencies:[d.ib,d.yz,d.yK,c.X$]}),n})(),_e=(()=>{class n{constructor(){this.candidateId=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-contact-info"]],inputs:{candidateId:"candidateId"},decls:7,vars:3,consts:[["expanded",""]],template:function(t,a){1&t&&(e.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"p"),e._uU(6," content "),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"contactInfo")," "))},dependencies:[d.ib,d.yz,d.yK,c.X$]}),n})(),ye=(()=>{class n{constructor(){this.candidateId=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-education"]],inputs:{candidateId:"candidateId"},decls:7,vars:3,consts:[["expanded",""]],template:function(t,a){1&t&&(e.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"p"),e._uU(6," content "),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"education")," "))},dependencies:[d.ib,d.yz,d.yK,c.X$]}),n})(),we=(()=>{class n{constructor(){this.candidateId=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-training"]],inputs:{candidateId:"candidateId"},decls:7,vars:3,consts:[["expanded",""]],template:function(t,a){1&t&&(e.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"p"),e._uU(6," content "),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"training")," "))},dependencies:[d.ib,d.yz,d.yK,c.X$]}),n})(),Ae=(()=>{class n{constructor(){this.candidateId=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-certifications"]],inputs:{candidateId:"candidateId"},decls:7,vars:3,consts:[["expanded",""]],template:function(t,a){1&t&&(e.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"p"),e._uU(6," content "),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"certifications")," "))},dependencies:[d.ib,d.yz,d.yK,c.X$]}),n})(),xe=(()=>{class n{constructor(){this.candidateId=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-work-experience"]],inputs:{candidateId:"candidateId"},decls:7,vars:3,consts:[["expanded",""]],template:function(t,a){1&t&&(e.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"p"),e._uU(6," content "),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"workExperience")," "))},dependencies:[d.ib,d.yz,d.yK,c.X$]}),n})(),De=(()=>{class n{constructor(){this.candidateId=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["candidate-documents"]],inputs:{candidateId:"candidateId"},decls:7,vars:3,consts:[["expanded",""]],template:function(t,a){1&t&&(e.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"p"),e._uU(6," content "),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"documents")," "))},dependencies:[d.ib,d.yz,d.yK,c.X$]}),n})();const Je=["stepper"];function Re(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(": ",t.jobTitle,"")}}function Se(n,i){if(1&n&&e._UZ(0,"app-add-new-btn",4),2&n){const t=e.oxw();e.MGl("url","/recruitment/",t.moduleId,"/candidate/add"),e.Q6J("params",t.parentParam)}}let E=(()=>{class n extends b.U{constructor(){super(),this.candidateId=0}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.candidateId=Number(t.id??0)})}stepChanged(){this.stepper.selected.interacted=!1}getCandidateId(t){this.candidateId=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-candidate-core"]],viewQuery:function(t,a){if(1&t&&e.Gf(Je,5),2&t){let s;e.iGM(s=e.CRH())&&(a.stepper=s.first)}},features:[e.qOj],decls:30,vars:32,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","jobVacancy"],[4,"ngIf"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"cards-no-shadow","has-fixed-title"],[1,"candidate-stepper",3,"linear","selectionChange"],["stepper",""],[3,"label"],["multi","",1,"expantion-add-forms"],[3,"candidateId","changeCandidateId"],[3,"candidateId"],[3,"stepper","parentParam","url","pageParams"]],template:function(t,a){if(1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.YNc(2,Re,2,1,"span",2),e.ynx(3),e.YNc(4,Se,1,2,"app-add-new-btn",3),e._UZ(5,"app-back-btn",4),e.BQk(),e.qZA(),e.TgZ(6,"mat-card-content",5)(7,"mat-stepper",6,7),e.NdJ("selectionChange",function(){return a.stepChanged()}),e.TgZ(9,"mat-step",8),e.ALo(10,"titlecase"),e.ALo(11,"translate"),e.TgZ(12,"mat-accordion",9)(13,"candidate-general-info",10),e.NdJ("changeCandidateId",function(r){return a.getCandidateId(r)}),e.qZA(),e._UZ(14,"candidate-basic-info",11)(15,"candidate-contact-info",11),e.qZA()(),e.TgZ(16,"mat-step",8),e.ALo(17,"titlecase"),e.ALo(18,"translate"),e.TgZ(19,"mat-accordion",9),e._UZ(20,"candidate-education",11)(21,"candidate-training",11)(22,"candidate-certifications",11),e.qZA()(),e.TgZ(23,"mat-step",8),e.ALo(24,"titlecase"),e.ALo(25,"translate"),e.TgZ(26,"mat-accordion",9),e._UZ(27,"candidate-work-experience",11)(28,"candidate-documents",11),e.qZA()()()(),e._UZ(29,"steps-footer",12)),2&t){const s=e.MAs(8);e.xp6(2),e.Q6J("ngIf",a.jobTitle),e.xp6(2),e.Q6J("ngIf",a.candidateId>0),e.xp6(1),e.MGl("url","/recruitment/",a.moduleId,"/candidate/index"),e.Q6J("params",a.pageParams),e.xp6(2),e.Q6J("linear",!1),e.xp6(2),e.s9C("label",e.lcZ(10,20,e.lcZ(11,22,"general"))),e.xp6(4),e.Q6J("candidateId",a.candidateId),e.xp6(1),e.Q6J("candidateId",a.candidateId),e.xp6(1),e.Q6J("candidateId",a.candidateId),e.xp6(1),e.s9C("label",e.lcZ(17,24,e.lcZ(18,26,"education"))),e.xp6(4),e.Q6J("candidateId",a.candidateId),e.xp6(1),e.Q6J("candidateId",a.candidateId),e.xp6(1),e.Q6J("candidateId",a.candidateId),e.xp6(1),e.s9C("label",e.lcZ(24,28,e.lcZ(25,30,"workExperience"))),e.xp6(4),e.Q6J("candidateId",a.candidateId),e.xp6(1),e.Q6J("candidateId",a.candidateId),e.xp6(1),e.MGl("url","/recruitment/",a.moduleId,"/candidate"),e.Q6J("stepper",s)("parentParam",a.parentParam)("pageParams",a.pageParams)}},dependencies:[h.O5,S.a,j.J,I.T,fe.j,p.dn,p.n5,B.C0,B.Vq,d.pp,Te,Ze,_e,ye,we,Ae,xe,De,h.rS,c.X$],styles:[".candidate-stepper.candidate-stepper.mat-stepper-horizontal .mat-horizontal-content-container{padding:5px}"]}),n})();const je=[{path:"request",data:{view:u.S.request},children:[{path:"",redirectTo:"index",pathMatch:y.U.full},{path:"index",component:k,data:{view:u.S.request_index},canActivate:[v.r]},{path:"add",component:N,data:{view:u.S.add_request},canActivate:[v.r]},{path:"edit/:id",component:N,data:{view:u.S.add_request},canActivate:[v.r]}]},{path:"candidate",data:{view:u.S.candidate},children:[{path:"",redirectTo:"index",pathMatch:y.U.full},{path:"index",component:he,data:{view:u.S.candidate_index},canActivate:[v.r]},{path:"add",component:E,data:{view:u.S.add_candidate},canActivate:[v.r]},{path:"edit/:id",component:E,data:{view:u.S.add_candidate},canActivate:[v.r]}]}];let qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(je),_.Bz]}),n})();var Le=o(62361),Qe=o(71523);let Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,qe,Le.m,Qe.OrgManagementModule]}),n})()}}]);