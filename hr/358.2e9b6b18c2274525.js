"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[358],{98358:(we,k,d)=>{d.r(k),d.d(k,{GeneralSetupModule:()=>Ge});var p=d(36895),F=d(80458),n=d(24006),m=d(15602),u=d(58385),e=d(94650),M=d(7053),S=d(45471),N=d(37167),A=d(65959),P=d(18825),y=d(22289),g=d(53026),Y=d(99629),h=d(46896),I=d(3848),l=d(73546),c=d(86405),f=d(30671),T=d(19567),C=d(18521),L=d(21854);let j=(()=>{class i extends C.K{constructor(){super()}createUserCompany(t){return this.post("GeneralSetup/User/SaveUser_Company",t)}updateUserCompany(t){return this.post("GeneralSetup/User/EditUser_Company",t)}getUserCompanyList(t){return this.get("GeneralSetup/User/GetUserCompanies",{params:{$expand:`${L.db.core_Business_Entity},${L.db.company}`,$filter:"User_ID eq "+t}})}DeleteUserCompany(t){return this.delete("GeneralSetup/User/DeleteUser_Company",{body:t})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var b=d(56184),E=d(69483),G=d(13714);function X(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}let V=(()=>{class i extends u.d{constructor(t){super(),this.userCompanyService=t,this.submitted=!1,this.mandatoryColomns=["Business_Name","Company_Name","actions"],this.isLoaded=!1,this.optionalColomns=[],this.businessList=[]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNallable:!0}],user_ID:[this.userId],company_ID:[null,[n.kI.required]],business_Entity_ID:[null,[n.kI.required]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.userId>0?this.getUserCompaniesList():this.isLoaded=!0}getUserCompaniesList(){this.userCompanyService.getUserCompanyList(this.userId).subscribe(t=>{if(t.data){let s=function z(i){return i.map(o=>({Business_Name:(0,T._)(o.core_Business_Entity.ar_Name,o.core_Business_Entity.en_Name),Company_Name:(0,T._)(o.company.ar_Name,o.company.en_Name),user_ID:o.user_ID,company_ID:o.company_ID,business_Entity_ID:o.business_Entity_ID,id:o.id}))}(t.data);this.dataSource=new f.by(s),this.isLoaded=!0}})}submit(){if(this.submitted=!0,this.form.valid){const t={id:this.formCtrls.id.value,User_ID:this.userId,Company_ID:this.formCtrls.company_ID.value,Business_Entity_ID:this.formCtrls.business_Entity_ID.value};0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.userCompanyService.createUserCompany(t).subscribe(s=>{s.message.messageType==m.u.Success?(this.getUserCompaniesList(),this.userId=s.data.user_ID,this.addSuccessfullyMsg(s.message.messageTypeName)):this.errorList(s.message.messages),this.hideLoading()})}update(t){this.showLoading(),delete t.id,this.userCompanyService.updateUserCompany(t).subscribe(s=>{s.message.messageType==m.u.Success?(this.getUserCompaniesList(),this.updateSuccessfullyMsg(s.message.messageTypeName)):this.errorList(s.message.messages),this.hideLoading()})}editToUserCompanies(t){this.form.patchValue(t),this.formCtrls.id.setValue(this.userId)}onDelete(t){let s=this.msgTranslate(t.Company_Name);this.deleateDialog(s).subscribe(a=>{a&&this.showLoading(),this.delete(t)})}delete(t){console.log(t);let s={User_ID:t.user_ID,Company_ID:t.company_ID,Business_Entity_ID:t.business_Entity_ID};this.showLoading(),this.userCompanyService.DeleteUserCompany(s).subscribe(a=>{a.message.messageType==m.u.Success?(this.getUserCompaniesList(),this.deleteSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a.message.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-companies"]],inputs:{userId:"userId"},features:[e.qOj],decls:15,vars:17,consts:[[1,"row"],[1,"col-12"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],[3,"control","submitted"],[3,"control","businessControl","submitted"],["align","end"],[3,"id","disabled","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","showPaginator","actions","showFilter","deleteRow","editRow"],[3,"click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card-content",2)(4,"form",3)(5,"div",0),e.ynx(6),e.TgZ(7,"div",4),e._UZ(8,"app-Business-dropdown",5),e.qZA(),e.TgZ(9,"div",4),e._UZ(10,"company-by-businessId-dropdown",6),e.qZA(),e.BQk(),e.qZA()()(),e.TgZ(11,"mat-card-actions",7)(12,"submit-btn",8),e.NdJ("onClick",function(){return s.submit()}),e.qZA(),e.YNc(13,X,1,0,"reset-form-btn",9),e.qZA(),e.TgZ(14,"app-material-table",10),e.NdJ("deleteRow",function(r){return s.onDelete(r)})("editRow",function(r){return s.editToUserCompanies(r)}),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",s.form),e.xp6(4),e.Q6J("control",s.formCtrls.business_Entity_ID)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.company_ID)("businessControl",s.formCtrls.business_Entity_ID)("submitted",s.submitted),e.xp6(2),e.Q6J("id",s.formCtrls.id.value)("disabled",!s.userId),e.xp6(1),e.Q6J("ngIf",s.formCtrls.id.value>0),e.xp6(1),e.Q6J("isLoaded",s.isLoaded)("dataSource",s.dataSource)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("showPaginator",!1)("actions",s.rowFunctions)("showFilter",!1))},dependencies:[p.O5,b.I,E.y,G._,y.J,g.p,l.dn,l.hq,c.Ro,n._Y,n.JL,n.sg]}),i})(),$=(()=>{class i extends C.K{constructor(){super()}create(t){return this.post("GeneralSetup/User/CreateUser_SecurityProfile",t)}replace(t){return this.post("GeneralSetup/User/ReplaceUser_SecurityProfile",t)}Delete(t){return this.delete("GeneralSetup/User/DeleteUser_SecurityProfile",{params:t})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),w=(()=>{class i extends C.K{constructor(){super()}create(t){return this.post("GeneralSetup/UserGroup/Create",t)}update(t){return this.post("GeneralSetup/UserGroup/Edit",t)}getList(t){return this.get("GeneralSetup/UserGroup/GetList",{params:t})}getGroupById(t){return this.get("GeneralSetup/UserGroup/GetAll",{params:{$filter:`id eq ${t}`}})}getAll(){return this.get("GeneralSetup/UserGroup/GetAll")}Delete(t){return this.delete("GeneralSetup/UserGroup/Delete",{params:{Id:t}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var H=d(56709),U=d(49274);function K(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"mat-checkbox",9),e.NdJ("change",function(a){const v=e.CHM(t).$implicit,Q=e.oxw();return e.KtG(Q.selectGroup(a,v))}),e._uU(2),e.qZA()()}if(2&i){const t=o.$implicit,s=e.oxw();e.xp6(1),e.Q6J("checked",null==s.userGroupsIds?null:s.userGroupsIds.includes(t.id)),e.xp6(1),e.hij(" ",s.msgTranslate(t.arbName,t.engName)," ")}}function W(i,o){1&i&&(e.TgZ(0,"span",4),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"mustChoosevalue")," "))}let ee=(()=>{class i extends u.d{constructor(t,s){super(),this.groupService=t,this._groupsService=s,this.userGroupsIds=[],this.selectedGroupIds=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.getAllGroups()}getAllGroups(){this.showLoading(),this._groupsService.getAll().subscribe(t=>{t.message.messageType==m.u.Success?this.groupList=t.data:this.errorList(t.message.messages),this.hideLoading()})}submit(){if(this.userGroupsIds.length>0){const t=this.userGroupsIds.map(s=>({UserID:this.userId,GroupID:s}));this.create(t)}}create(t){this.showLoading(),this.groupService.replace(t).subscribe(s=>{s?.message?.messageType==m.u.Success?this.addSuccessfullyMsg(s.message.messageTypeName):this.errorList(s.message.messages)})}selectGroup(t,s){if(t.checked)this.userGroupsIds.push(s.id);else{let a=this.userGroupsIds.findIndex(r=>r===s.id);this.userGroupsIds.splice(a,1)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36($),e.Y36(w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-group"]],inputs:{userId:"userId",userGroupsIds:"userGroupsIds"},features:[e.qOj],decls:10,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"container-fluid"],["class","col-md-2 col-12 m-2",4,"ngFor","ngForOf"],[1,"text-danger"],["class","text-danger",4,"ngIf"],["align","end"],[3,"disabled","onClick"],[1,"col-md-2","col-12","m-2"],["color","primary",3,"checked","change"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card-content",2)(4,"div",0),e.YNc(5,K,3,2,"div",3),e.qZA(),e.TgZ(6,"span",4),e.YNc(7,W,3,3,"span",5),e.qZA()(),e.TgZ(8,"mat-card-actions",6)(9,"submit-btn",7),e.NdJ("onClick",function(){return s.submit()}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("ngForOf",s.groupList),e.xp6(2),e.Q6J("ngIf",0==s.userGroupsIds.length&&s.userId>0),e.xp6(2),e.Q6J("disabled",!s.userId))},dependencies:[p.sg,p.O5,g.p,l.dn,l.hq,H.oG,c.Ro,U.X$]}),i})(),se=(()=>{class i extends C.K{constructor(){super()}createUserPolicy(t){return this.post("GeneralSetup/User/SaveUser_Policies",t)}updateUserPolicy(t){return this.post("GeneralSetup/User/EditUser_Policies",t)}getUserPolicies(t){return this.get("GeneralSetup/User/GetUserPolicies",{params:{$expand:`${L.db.uM_Users}`,$filter:`User_ID eq ${t}`}})}getUserPoliciesList(t,s){return this.get("GeneralSetup/User/GetUserPolicies",{params:{...t,$expand:`${L.db.core_PolicyGroup}`,$filter:`User_ID eq ${s}`}})}getAllPolicyGroups(){return this.get("OrgManagement/PolicyGroup/GetPoliceiesByCompany")}DeleteUserPolicy(t){return this.delete("GeneralSetup/User/DeleteUser_Policies",{params:{Id:t}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ie=d(7878);function oe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}let ae=(()=>{class i extends u.d{constructor(t){super(),this.userPoliciesService=t,this.submitted=!1,this.mandatoryColomns=["Business_Name","Company_Name","PolicyGroup_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNallable:!0}],user_ID:[this.userId],policyGroupId:[0,[n.kI.required]],company_ID:[0]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.userId>0?this.getUserPolicyList():this.isLoaded=!0}getUserPolicyList(){this.showLoading(),this.userPoliciesService.getUserPolicies(this.userId).subscribe(t=>{if(t.message.messageType==m.u.Success){let s=function te(i){return i.map(o=>({PolicyGroup_Name:(0,T._)(o.i_Core_PolicyGroup_UM_User.core_PolicyGroup.ar_Name,o.i_Core_PolicyGroup_UM_User.core_PolicyGroup.en_Name),Business_Name:(0,T._)(o.business_Entity.ar_Name,o.business_Entity.en_Name),Company_Name:(0,T._)(o.company.ar_Name,o.company.en_Name),company_ID:o.company.id,business_Entity_ID:o.business_Entity.id,policyGroupId:o.i_Core_PolicyGroup_UM_User.policyGroupId,id:o.i_Core_PolicyGroup_UM_User.id}))}(t.data);this.dataSource=new f.by(s),this.isLoaded=!0}else this.errorList(t.message.messages)})}submit(){if(this.submitted=!0,this.form.valid){const t={},s={};s.id=this.formCtrls.id.value,s.user_ID=this.userId,s.policyGroupId=this.formCtrls.policyGroupId.value,t.I_Core_PolicyGroup_UM_User=s,0==t.I_Core_PolicyGroup_UM_User.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.userPoliciesService.createUserPolicy(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.clearForm(),this.getUserPolicyList(),this.addSuccessfullyMsg(s.message.messageTypeName)):this.errorList(s.message.messages),this.hideLoading()})}update(t){this.showLoading(),this.userPoliciesService.updateUserPolicy(t).subscribe(s=>{s.message.messageType==m.u.Success?(this.clearForm(),this.getUserPolicyList(),this.updateSuccessfullyMsg(s.message.messageTypeName)):this.errorList(s.message.messages),this.hideLoading()})}editToPolicyGroup(t){this.form.patchValue(t)}onDelete(t){let s=this.msgTranslate(t.PolicyGroup_Name);this.deleateDialog(s).subscribe(a=>{a&&this.delete(t)})}delete(t){this.showLoading(),this.userPoliciesService.DeleteUserPolicy(t.id).subscribe(s=>{s.message.messageType==m.u.Success?(this.getUserPolicyList(),this.deleteSuccessfullyMsg(s?.message?.messageTypeName)):this.errorList(s.message.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0,user_ID:this.userId}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(se))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-policy-groups"]],inputs:{userId:"userId"},features:[e.qOj],decls:14,vars:15,consts:[[1,"row"],[1,"col-12"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],[3,"control"],[3,"control","submitted","filter","companyCtrl"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","showPaginator","actions","deleteRow","editRow"],[3,"click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card-content",2)(4,"form",3)(5,"div",0)(6,"div",4),e._UZ(7,"company-by-businessId-dropdown",5),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"app-policy-groups-dropdown",6),e.qZA()()()(),e.TgZ(10,"mat-card-actions",7)(11,"submit-btn",8),e.NdJ("onClick",function(){return s.submit()}),e.qZA(),e.YNc(12,oe,1,0,"reset-form-btn",9),e.qZA(),e.TgZ(13,"app-material-table",10),e.NdJ("deleteRow",function(r){return s.onDelete(r)})("editRow",function(r){return s.editToPolicyGroup(r)}),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.company_ID),e.xp6(2),e.Q6J("control",s.formCtrls.policyGroupId)("submitted",!0)("filter",!1)("companyCtrl",s.formCtrls.company_ID),e.xp6(2),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",s.formCtrls.id.value>0),e.xp6(1),e.Q6J("isLoaded",s.isLoaded)("dataSource",s.dataSource)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("showPaginator",!1)("actions",s.rowFunctions))},dependencies:[p.O5,b.I,G._,y.J,g.p,ie.P,l.dn,l.hq,c.Ro,n._Y,n.JL,n.sg]}),i})();function re(i,o){if(1&i&&e._UZ(0,"app-add-new-btn",19),2&i){const t=e.oxw();e.MGl("url","/general-setup/",t.moduleId,"/users/add"),e.Q6J("params",t.pageParams)}}function ne(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",20),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}let R=(()=>{class i extends u.d{constructor(t){super(),this.userService=t,this.userId=0,this.submitted=!1,this.userGroupsIds=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.userId=Number(t.userId)??0}),this.form=this.fb.group({Personid:[null,[n.kI.required]],id:[this.userId,{nonNallable:!0}],name:[null,[n.kI.required]],passWord:[null,[n.kI.required]],is_Active:[!1,[n.kI.required]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.userId>0&&this.getUserById()}submit(){if(this.submitted=!0,this.form.valid){const t={core_Person_Instance:{id:this.formCtrls.Personid.value},uM_Users:{id:this.formCtrls.id.value,name:this.formCtrls.name.value,passWord:this.formCtrls.passWord.value,is_Active:this.formCtrls.is_Active.value}};0==t.uM_Users.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.userService.create(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.addSuccessfullyMsg(s.message.messageTypeName),this.userId=s.data.user_ID,this.formCtrls.id.setValue(s.data.user_ID)):this.errorList(s.message.messages)})}update(t){this.showLoading(),this.userService.update(t).subscribe(s=>{s.message.messageType==m.u.Success?this.updateSuccessfullyMsg(s.message.messageTypeName):this.errorList(s.message.messages)})}getUserById(){this.userService.getUserById(this.userId).subscribe(t=>{if(t.message.messageType==m.u.Success){var s=t.data[0];this.form.patchValue(s.uM_Users),this.formCtrls.Personid.setValue(s.core_Person_Instance.id),this.username=s.uM_Users.name,s.uM_Users.uM_Users_Groups.map(a=>{this.userGroupsIds.push(a.groupID)})}})}clearForm(){this.form.reset({id:0,userId:this.userId}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(M.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-user"]],features:[e.qOj],decls:39,vars:41,consts:[["title","users"],["label","addUser",3,"url","params",4,"ngIf"],[3,"url","params"],[3,"label"],["addTitle","addUser","editTitle","editUser",3,"id"],[1,"container-fluid"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"col-md-4","col-12"],["label","username","autocomplete","new-password",3,"control","submitted"],["type","password","label","PassWord","autocomplete","new-password",3,"control","submitted"],["appendTo","body",3,"control","multi","submitted","filter"],[1,"col-md-4","col-12","p-2"],["label","Is_Active",3,"control"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"userId"],[3,"userId","userGroupsIds"],["label","addUser",3,"url","params"],[3,"click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"mat-card")(2,"mat-card-title")(3,"page-title",0),e._uU(4),e.qZA(),e.YNc(5,re,1,2,"app-add-new-btn",1),e._UZ(6,"app-back-btn",2),e.qZA(),e.TgZ(7,"mat-tab-group")(8,"mat-tab",3),e.ALo(9,"titlecase"),e.ALo(10,"translate"),e.TgZ(11,"mat-card-subtitle"),e._UZ(12,"page-title",4),e.qZA(),e.TgZ(13,"mat-card-content",5)(14,"form",6)(15,"div",7)(16,"div",8),e._UZ(17,"app-input",9),e.qZA(),e.TgZ(18,"div",8),e._UZ(19,"app-input",10),e.qZA(),e.TgZ(20,"div",8),e._UZ(21,"app-employee-dropdown",11),e.qZA(),e.TgZ(22,"div",12),e._UZ(23,"app-check-box",13),e.qZA()()()(),e.TgZ(24,"mat-card-actions",14)(25,"submit-btn",15),e.NdJ("onClick",function(){return s.submit()}),e.qZA(),e.YNc(26,ne,1,0,"reset-form-btn",16),e.qZA()(),e.TgZ(27,"mat-tab",3),e.ALo(28,"titlecase"),e.ALo(29,"translate"),e._UZ(30,"app-user-companies",17),e.qZA(),e.TgZ(31,"mat-tab",3),e.ALo(32,"titlecase"),e.ALo(33,"translate"),e._UZ(34,"app-user-group",18),e.qZA(),e.TgZ(35,"mat-tab",3),e.ALo(36,"titlecase"),e.ALo(37,"translate"),e._UZ(38,"app-user-policy-groups",17),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",s.username," "),e.xp6(1),e.Q6J("ngIf",s.userId>0),e.xp6(1),e.MGl("url","/general-setup/",s.moduleId,"/users/index"),e.Q6J("params",s.pageParams),e.xp6(2),e.s9C("label",e.lcZ(9,25,e.lcZ(10,27,"users"))),e.xp6(4),e.Q6J("id",s.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.name)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.passWord)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.Personid)("multi",!1)("submitted",s.submitted)("filter",!0),e.xp6(2),e.Q6J("control",s.formCtrls.is_Active),e.xp6(2),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",0==s.formCtrls.id.value),e.xp6(1),e.s9C("label",e.lcZ(28,29,e.lcZ(29,31,"userCompanies"))),e.xp6(3),e.Q6J("userId",s.userId),e.xp6(1),e.s9C("label",e.lcZ(32,33,e.lcZ(33,35,"userGroup"))),e.xp6(3),e.Q6J("userId",s.userId)("userGroupsIds",s.userGroupsIds),e.xp6(1),e.s9C("label",e.lcZ(36,37,e.lcZ(37,39,"userPolicyGroup"))),e.xp6(3),e.Q6J("userId",s.userId))},dependencies:[p.O5,S.a,N.u,A.a,P.J,y.J,g.p,Y.J,h.T,I.SP,I.uX,l.a8,l.dn,l.n5,l.$j,l.hq,c.Ro,n._Y,n.JL,n.sg,V,ee,ae,p.rS,U.X$],changeDetection:0}),i})();var J=d(78937);let le=(()=>{class i extends C.K{constructor(){super()}create(t){return this.post("GeneralSetup/ActivationSetup/Create",t)}update(t){return this.post("GeneralSetup/ActivationSetup/Edit",t)}getList(t){return this.get("GeneralSetup/ActivationSetup/GetList",{params:t})}getAll(){this.get("GeneralSetup/ActivationSetup/GetAll")}Delete(t){return this.delete("GeneralSetup/ActivationSetup/Delete",{params:{id:t}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Z=d(44850);function de(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}let me=(()=>{class i extends u.d{constructor(t){super(),this.activationService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","object_Name","require_Activation","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],object_Name:[null,[n.kI.required,J.w.whiteSpace]],require_Activation:[!1]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,s){this.page.pageIndex=t,s&&(this.page.pageSize=s);let a={PageNumber:t,pageSize:this.page.pageSize};this.showLoading(),this.activationService.getList(a).subscribe(r=>{r.message.messageType==m.u.Success?(this.dataSource=new f.by(r.data),this.isLoaded=!0,this.page.length=r.meta.totalItemCount):this.errorList(r.message.messages)})}submit(){if(this.submitted=!0,this.form.valid){const t={id:this.formCtrls.id.value,object_Name:this.formCtrls.object_Name.value,require_Activation:this.formCtrls.require_Activation.value};0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.activationService.create(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(s?.message?.messageTypeName)):this.errorList(s?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.activationService.update(t).subscribe(s=>{s.message.messageType==m.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(s?.message?.messageTypeName)):this.errorList(s?.message?.messages),this.hideLoading()})}onDelete(t){let s=this.msgTranslate(t.object_Name);this.deleateDialog(s).subscribe(a=>{a&&this.Delete(t)})}Delete(t){this.showLoading(),this.activationService.Delete(t.id).subscribe(s=>{s.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(s?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),t.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(s.message.messages),this.hideLoading()})}activationSetupToEdit(t){this.form.patchValue(t)}clearForm(){this.form.reset({id:0,require_Activation:!1}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(le))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-activation-setup"]],features:[e.qOj],decls:18,vars:13,consts:[[1,"row"],[1,"col-12"],["addTitle","activation_setup","editTitle","editActivation_setup",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","object_Name",3,"control","submitted"],[1,"col-md-6","col-12","mt-3"],["color","primary","label","require_Activation",3,"control"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title"),e._UZ(5,"page-title",2),e.qZA(),e.TgZ(6,"mat-card-content",3)(7,"form",4)(8,"div",0)(9,"div",5),e._UZ(10,"app-input",6),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"app-check-box",8),e.qZA()()()(),e.TgZ(13,"mat-card-actions",9)(14,"submit-btn",10),e.NdJ("onClick",function(){return s.submit()}),e.qZA(),e.YNc(15,de,1,0,"reset-form-btn",11),e.qZA(),e._UZ(16,"mat-divider"),e.TgZ(17,"app-material-table",12),e.NdJ("onChangePage",function(r){return s.getList(r.pageIndex+1,r.pageSize)})("editRow",function(r){return s.activationSetupToEdit(r)})("deleteRow",function(r){return s.onDelete(r)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("id",s.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.object_Name)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.require_Activation),e.xp6(2),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",s.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",s.isLoaded)("dataSource",s.dataSource)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("actions",s.rowFunctions))},dependencies:[p.O5,S.a,b.I,N.u,y.J,g.p,h.T,l.a8,l.dn,l.n5,l.hq,Z.d,c.Ro,n._Y,n.JL,n.sg]}),i})();var i,_=(()=>{return(i=_||(_={}))[i.male=1]="male",i[i.female=2]="female",i[i.allofThem=3]="allofThem",_;var i})();(i=_||(_={})).getValue=function o(t){switch(t){case i.male:return"male";case i.female:return"female";case i.allofThem:return"allofThem";default:return""}};let pe=(()=>{class i extends C.K{constructor(){super()}create(t){return this.post("GeneralSetup/AttachmentType/Create",t)}update(t){return this.post("GeneralSetup/AttachmentType/Edit",t)}getList(t){return this.get("GeneralSetup/AttachmentType/GetList",{params:t})}getAll(){this.get("GeneralSetup/AttachmentType/GetAll")}Delete(t){return this.delete("GeneralSetup/AttachmentType/Delete",{params:{id:t}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ue=d(24724);function ce(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}let ge=(()=>{class i extends u.d{constructor(t){super(),this.attachmentTypsService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","genderName","actions"],this.isLoaded=!1,this.optionalColomns=[],this.genderList=[{value:_.male,label:"male",cssClass:"col-md-4 col-12"},{value:_.female,label:"female",cssClass:"col-md-4 col-12"},{value:_.allofThem,label:"allofThem",cssClass:"col-md-4 col-12"}]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[n.kI.required,J.w.whiteSpace]],en_Name:[null,[n.kI.required,J.w.whiteSpace]],gender:[3]})}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.getList(this.firstPage)}get formCtrls(){return this.form.controls}getList(t,s){this.page.pageIndex=t,s&&(this.page.pageSize=s);let a={PageNumber:t,pageSize:this.page.pageSize};this.showLoading(),this.attachmentTypsService.getList(a).subscribe(r=>{r.message.messageType==m.u.Success?(r.data.map(v=>{v.genderName=this.translate(_.getValue(v.gender))}),this.dataSource=new f.by(r.data),this.isLoaded=!0,this.page.length=r.meta.totalItemCount):this.errorList(r.message.messages)})}submit(){if(this.submitted=!0,this.form.valid){const t={Id:this.formCtrls.id.value,ar_Name:this.formCtrls.ar_Name.value,en_Name:this.formCtrls.en_Name.value,gender:this.formCtrls.gender.value};0==t.Id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.attachmentTypsService.create(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(s?.message?.messageTypeName)):this.errorList(s?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.attachmentTypsService.update(t).subscribe(s=>{s.message.messageType==m.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(s?.message?.messageTypeName)):this.errorList(s?.message?.messages),this.hideLoading()})}onDelete(t){let s=this.msgTranslate(t.ar_Name,t.en_Name);this.deleateDialog(s).subscribe(a=>{a&&this.Delete(t)})}Delete(t){this.showLoading(),this.attachmentTypsService.Delete(t.id).subscribe(s=>{s.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(s?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),t.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(s.message.messages),this.hideLoading()})}attachmentTypsToEdit(t){this.form.patchValue(t)}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(pe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attachment-types"]],features:[e.qOj],decls:21,vars:17,consts:[[1,"row"],[1,"col-12"],["addTitle","attachment_types","editTitle","edit_attachment_types",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],[3,"control","submitted","radioList"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title"),e._UZ(5,"page-title",2),e.qZA(),e.TgZ(6,"mat-card-content",3)(7,"form",4)(8,"div",0)(9,"div",5),e._UZ(10,"app-input",6),e.qZA(),e.TgZ(11,"div",5),e._UZ(12,"app-input",7),e.qZA()(),e.TgZ(13,"div",0)(14,"div",1),e._UZ(15,"app-radio-button",8),e.qZA()()()(),e.TgZ(16,"mat-card-actions",9)(17,"submit-btn",10),e.NdJ("onClick",function(){return s.submit()}),e.qZA(),e.YNc(18,ce,1,0,"reset-form-btn",11),e.qZA(),e._UZ(19,"mat-divider"),e.TgZ(20,"app-material-table",12),e.NdJ("onChangePage",function(r){return s.getList(r.pageIndex+1,r.pageSize)})("editRow",function(r){return s.attachmentTypsToEdit(r)})("deleteRow",function(r){return s.onDelete(r)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("id",s.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.ar_Name)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.en_Name)("submitted",s.submitted),e.xp6(3),e.Q6J("control",s.formCtrls.gender)("submitted",s.submitted)("radioList",s.genderList),e.xp6(2),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",s.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",s.isLoaded)("dataSource",s.dataSource)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("actions",s.rowFunctions))},dependencies:[p.O5,S.a,ue._,b.I,y.J,g.p,h.T,l.a8,l.dn,l.n5,l.hq,Z.d,c.Ro,n._Y,n.JL,n.sg]}),i})(),he=(()=>{class i extends u.d{constructor(t){super(),this.userService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new f.by(null)),this.CheckNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,s){this.page.pageIndex=t,s&&(this.page.pageSize=s),this.removePageParams();let a={PageNumber:t,pageSize:this.page.pageSize};this.showLoading(),this.userService.getList(a).subscribe(r=>{if(r.message.messageType==m.u.Success){if(0==r.data.length&&t>1)return void this.getList(this.prevPage);let v=[];r.data.map(Q=>{v.push(Q.uM_Users)}),this.dataSource=new f.by(v),this.isLoaded=!0,this.page.length=r.meta.totalItemCount}else this.errorList(r.message.messages);this.hideLoading()})}onDelete(t){let s=this.msgTranslate(t.name);this.deleateDialog(s).subscribe(a=>{a&&this.delete(t)})}delete(t){this.showLoading(),this.userService.Delete(t.id).subscribe(s=>{s.message.messageType==m.u.Success?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(s?.message?.messageTypeName)):this.errorList(s.message.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(M.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-index"]],features:[e.qOj],decls:8,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"mb-5"],["title","users",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","onChangePage","deleteRow"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title",2),e._UZ(5,"page-title",3),e.qZA(),e._UZ(6,"mat-divider"),e.TgZ(7,"app-material-table",4),e.NdJ("onChangePage",function(r){return s.getList(r.pageIndex+1,r.pageSize)})("deleteRow",function(r){return s.onDelete(r)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("globalFunctions",s.globalFunctions),e.xp6(2),e.Q6J("isLoaded",s.isLoaded)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("actions",s.rowFunctions)("dataSource",s.dataSource))},dependencies:[b.I,h.T,l.a8,l.n5,Z.d,c.Ro]}),i})();var D=d(36162),fe=d(84941),_e=d(90745);function Ce(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",9),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}let be=(()=>{class i extends u.d{constructor(t){super(),this.isoCodeService=t,this.submitted=!1}ngOnInit(){this.form=this.fb.group({reportId:[null,[n.kI.required]],iso:[null,[n.kI.required]]})}get formCtrls(){return this.form.controls}submit(){this.submitted=!0,this.form.valid&&this.update({id:this.formCtrls.reportId.value,iso:this.formCtrls.iso.value})}onSelectReport(t){this.formCtrls.iso.setValue(t?t.iso:null)}update(t){this.showLoading(),this.isoCodeService.Edit(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.isoChanged=!0,this.clearForm(),this.addSuccessfullyMsg(s.message.messageTypeName)):this.errorList(s.message.messages)})}clearForm(){this.form.reset(),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(fe.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-iso-code"]],features:[e.qOj],decls:14,vars:7,consts:[["title","isoCode"],[3,"formGroup"],[1,"row"],[1,"col-md-6","col-12"],[3,"control","submitted","isoChanged","select"],["label","isoCode",3,"control","submitted"],["align","end"],[3,"onClick"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"mat-card")(2,"mat-card-title"),e._UZ(3,"page-title",0),e.qZA(),e.TgZ(4,"mat-card-content")(5,"form",1)(6,"div",2)(7,"div",3)(8,"reports-dropdown",4),e.NdJ("select",function(r){return s.onSelectReport(r)}),e.qZA()(),e.TgZ(9,"div",3),e._UZ(10,"app-input",5),e.qZA()()(),e.TgZ(11,"mat-card-actions",6)(12,"submit-btn",7),e.NdJ("onClick",function(){return s.submit()}),e.qZA(),e.YNc(13,Ce,1,0,"reset-form-btn",8),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.reportId)("submitted",s.submitted)("isoChanged",s.isoChanged),e.xp6(2),e.Q6J("control",s.formCtrls.iso)("submitted",s.submitted),e.xp6(3),e.Q6J("ngIf",s.formCtrls.reportId.value||s.formCtrls.iso.value))},dependencies:[p.O5,S.a,y.J,g.p,h.T,_e.z,l.a8,l.dn,l.n5,l.hq,c.Ro,n._Y,n.JL,n.sg]}),i})(),ye=(()=>{class i extends C.K{constructor(){super()}create(t){return this.post("GeneralSetup/CompanyCode/Create",t)}update(t){return this.post("GeneralSetup/CompanyCode/Edit",t)}getCodeStatus(t){return this.get("GeneralSetup/CompanyCode/GetCodeStatus",{params:{compId:`${t}`}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ve=(()=>{class i extends u.d{constructor(t){super(),this._companyCodeService=t,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNallable:!0}],isHasCode:[!1,n.kI.required],company_ID:[,n.kI.required]}),this.formCtrls.company_ID.valueChanges.subscribe(t=>{t>0&&this.getCodeStatus()})}get formCtrls(){return this.form?.controls}getCodeStatus(){this.showLoading(),this._companyCodeService.getCodeStatus(this.formCtrls.company_ID.value).subscribe(t=>{t.message.messageType==m.u.Success&&(null==t.data?(this.formCtrls.id.setValue(0),this.formCtrls.isHasCode.setValue(!1)):(this.formCtrls.id.setValue(t.data.id),this.formCtrls.isHasCode.setValue(t.data.isHasCode)))})}submit(){if(this.submitted=!0,this.form.valid){const t={id:this.formCtrls.id.value,isHasCode:this.formCtrls.isHasCode.value,company_ID:this.formCtrls.company_ID.value};0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this._companyCodeService.create(t).subscribe(s=>{s?.message?.messageType==m.u.Success?this.addSuccessfullyMsg(s.message.messageTypeName):this.errorList(s?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this._companyCodeService.update(t).subscribe(s=>{s?.message?.messageType==m.u.Success?this.updateSuccessfullyMsg(s.message.messageTypeName):this.errorList(s?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ye))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-company-code"]],features:[e.qOj],decls:17,vars:6,consts:[[1,"row"],[1,"col-12"],["addTitle","companyCode","editTitle","editcompanyCode",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],[3,"control","submitted"],[1,"col-md-6","col-12","p-2"],["label","isHasCode",3,"control"],["align","end"],[3,"id","click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title"),e._UZ(5,"page-title",2),e.qZA(),e.TgZ(6,"mat-card-content",3)(7,"div",0)(8,"div",1)(9,"form",4)(10,"div",0)(11,"div",5),e._UZ(12,"company-by-businessId-dropdown",6),e.qZA(),e.TgZ(13,"div",7),e._UZ(14,"app-check-box",8),e.qZA()()()()()(),e.TgZ(15,"mat-card-actions",9)(16,"submit-btn",10),e.NdJ("click",function(){return s.submit()}),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("id",s.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.company_ID)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.isHasCode),e.xp6(2),e.Q6J("id",s.formCtrls.id.value))},dependencies:[G._,N.u,g.p,h.T,l.a8,l.dn,l.n5,l.hq,c.Ro,n._Y,n.JL,n.sg],changeDetection:0}),i})(),Se=(()=>{class i extends u.d{constructor(t){super(),this._groupsService=t,this.mandatoryColomns=["Ser","id","arbName","engName","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,s){this.page.pageIndex=t,s&&(this.page.pageSize=s);let a={PageNumber:t,pageSize:this.page.pageSize};this.showLoading(),this._groupsService.getList(a).subscribe(r=>{if(r.message.messageType==m.u.Success){if(0==r.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new f.by(r.data),this.isLoaded=!0,this.page.length=r.meta.totalItemCount}else this.errorList(r.message.messages);this.hideLoading()})}onDelete(t){let s=this.msgTranslate(t.engName,t.arbName);this.deleateDialog(s).subscribe(a=>{a&&this.delete(t)})}delete(t){this.showLoading(),this._groupsService.Delete(t.id).subscribe(s=>{s.message.messageType==m.u.Success?(this.deleteSuccessfullyMsg(s?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(s.message.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-groups-index"]],features:[e.qOj],decls:8,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"mb-5"],["title","groups",3,"globalFunctions"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","onChangePage","deleteRow"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title",2),e._UZ(5,"page-title",3),e.qZA(),e._UZ(6,"mat-divider"),e.TgZ(7,"app-material-table",4),e.NdJ("onChangePage",function(r){return s.getList(r.pageIndex+1,r.pageSize)})("deleteRow",function(r){return s.onDelete(r)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("globalFunctions",s.globalFunctions),e.xp6(2),e.Q6J("isLoaded",s.isLoaded)("dataSource",s.dataSource)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("actions",s.rowFunctions))},dependencies:[b.I,h.T,l.a8,l.n5,Z.d,c.Ro]}),i})();function Ie(i,o){if(1&i&&e._UZ(0,"app-add-new-btn",17),2&i){const t=e.oxw();e.MGl("url","/general-setup/",t.moduleId,"/groups/add"),e.Q6J("params",t.pageParams)}}function Te(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearForm())}),e.qZA()}}let O=(()=>{class i extends u.d{constructor(t){super(),this._groupsService=t,this.groupId=0,this.submitted=!1}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.groupId=t.groupId??0}),this.form=this.fb.group({id:[0,{nonNullable:!0}],engName:[null,[n.kI.required]],arbName:[null,[n.kI.required]],engDescription:[null,[n.kI.required]],arbDescription:[null,[n.kI.required]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.groupId>0&&this.getGroupById()}submit(){if(this.submitted=!0,this.form.valid){const t={id:this.form.value.id,engName:this.form.value.engName,arbName:this.form.value.arbName,engDescription:this.form.value.engDescription,arbDescription:this.form.value.arbDescription};0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this._groupsService.create(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.clearForm(),this.addSuccessfullyMsg(s?.message?.messageTypeName),this.groupId=s.data.id):this.errorList(s?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this._groupsService.update(t).subscribe(s=>{s?.message?.messageType==m.u.Success?(this.clearForm(),this.updateSuccessfullyMsg(s?.message?.messageTypeName)):this.errorList(s?.message?.messages),this.hideLoading()})}getGroupById(){this._groupsService.getGroupById(this.groupId).subscribe(t=>{(t.message.messageType=m.u.Success)&&this.form.patchValue(t.data[0])})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-group"]],features:[e.qOj],decls:33,vars:24,consts:[[1,"col-12","w-100"],["title","groups"],["label","addgroup",3,"url","params",4,"ngIf"],[3,"url","params"],[1,"w-100",3,"label"],[1,"container-fluid","mt-3"],[1,"row"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","engDescription",3,"control","submitted"],["label","arbDescription",3,"control","submitted"],[1,"m-2"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],["label","addgroup",3,"url","params"],[3,"click"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div")(2,"div",0)(3,"mat-card")(4,"mat-card-title")(5,"div"),e._UZ(6,"page-title",1),e.YNc(7,Ie,1,2,"app-add-new-btn",2),e._UZ(8,"app-back-btn",3),e.qZA()(),e.TgZ(9,"mat-tab-group",0)(10,"mat-tab",4),e.ALo(11,"titlecase"),e.ALo(12,"translate"),e.TgZ(13,"mat-card-content",5)(14,"div",6)(15,"div",0)(16,"form",7)(17,"div",6)(18,"div",8),e._UZ(19,"app-input",9),e.qZA(),e.TgZ(20,"div",8),e._UZ(21,"app-input",10),e.qZA(),e.TgZ(22,"div",8),e._UZ(23,"app-input",11),e.qZA(),e.TgZ(24,"div",8),e._UZ(25,"app-input",12),e.qZA()()()()()(),e.TgZ(26,"div",13)(27,"mat-card-actions",14)(28,"submit-btn",15),e.NdJ("onClick",function(){return s.submit()}),e.qZA(),e.YNc(29,Te,1,0,"reset-form-btn",16),e.qZA()()(),e._UZ(30,"mat-tab",4),e.ALo(31,"titlecase"),e.ALo(32,"translate"),e.qZA()()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",s.groupId>0),e.xp6(1),e.MGl("url","/general-setup/",s.moduleId,"/groups/index"),e.Q6J("params",s.pageParams),e.xp6(2),e.s9C("label",e.lcZ(11,16,e.lcZ(12,18,"userGroups"))),e.xp6(6),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("control",s.formCtrls.engName)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.arbName)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.engDescription)("submitted",s.submitted),e.xp6(2),e.Q6J("control",s.formCtrls.arbDescription)("submitted",s.submitted),e.xp6(3),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",s.formCtrls.id.value>0),e.xp6(1),e.s9C("label",e.lcZ(31,20,e.lcZ(32,22,"privileges"))))},dependencies:[p.O5,S.a,A.a,P.J,y.J,g.p,h.T,I.SP,I.uX,l.a8,l.dn,l.n5,l.hq,c.Ro,n._Y,n.JL,n.sg,p.rS,U.X$]}),i})(),q=(()=>{class i extends C.K{constructor(){super()}getList(t){return this.get("",{params:t})}Delete(t){return this.delete("",{params:t})}createPersonalNotification(t,s){return this.post("",t,{params:s})}updatePersonalNotificationy(t,s){return this.post("",t,{params:s})}getNotificationDetails(t){return this.get("",{params:t})}createNotificationDetails(t,s){return this.post("",t,{params:s})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ze=(()=>{class i extends u.d{constructor(t,s){super(),this.personalNotificationService=s,this.submitted=!1,this.mandatoryColomns=["Ser","English Name","Group","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,s){this.page.pageIndex=t,s&&(this.page.pageSize=s),this.removePageParams();let a={...this.businessCompanyParams,PageNumber:t,pageSize:this.page.pageSize};this.showLoading(),this.personalNotificationService.getList(a).subscribe(r=>{if(r.message.messageType==m.u.Success){if(0==r.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new f.by(r.data),this.isLoaded=!0,this.page.length=r.meta.totalItemCount}else this.errorList(r.message.messages);this.hideLoading()})}onDelete(t){let s=this.msgTranslate(t.name);this.deleateDialog(s).subscribe(a=>{a&&this.delete(t)})}delete(t){let s={...this.businessCompanyParams,id:t.id};this.showLoading(),this.personalNotificationService.Delete(s).subscribe(a=>{a.message.messageType==m.u.Success?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a.message.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.zs3),e.Y36(q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-personal-notification"]],features:[e.qOj],decls:8,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"mb-5"],["title","personal_Notification",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","onChangePage","deleteRow"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-title",2),e._UZ(5,"page-title",3),e.qZA(),e._UZ(6,"mat-divider"),e.TgZ(7,"app-material-table",4),e.NdJ("onChangePage",function(r){return s.getList(r.pageIndex+1,r.pageSize)})("deleteRow",function(r){return s.onDelete(r)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("globalFunctions",s.globalFunctions),e.xp6(2),e.Q6J("isLoaded",s.isLoaded)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("actions",s.rowFunctions)("dataSource",s.dataSource))},dependencies:[b.I,h.T,l.a8,l.n5,Z.d,c.Ro]}),i})();var B=d(7384);let Le=(()=>{class i extends u.d{constructor(t,s){super(),this.personalNotificationService=s,this.PersonalId=0,this.submitted=!1,this.mandatoryColomns=["Ser","NotificationType","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.CheckNoBusinessOrCompany()&&this.PersonalId>0&&this.getList(1),this.form=this.fb.group({id:[0,{nonNallable:!0}],notificationType:[null,[n.kI.required]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.PersonalId>0&&this.getList(1)}getList(t,s){this.page.pageIndex=t,s&&(this.page.pageSize=s),this.removePageParams();let a={...this.businessCompanyParams,PageNumber:t,pageSize:this.page.pageSize};this.showLoading(),this.personalNotificationService.getNotificationDetails(a).subscribe(r=>{if(r.message.messageType==m.u.Success){if(0==r.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new f.by(r.data),this.isLoaded=!0,this.page.length=r.meta.totalItemCount}else this.errorList(r.message.messages);this.hideLoading()})}submit(){this.submitted=!0}create(t){this.showLoading(),this.personalNotificationService.createPersonalNotification(t,this.businessCompanyParams).subscribe(s=>{s?.message?.messageType==m.u.Success?this.addSuccessfullyMsg(s.message.messageTypeName):this.errorList(s.message.messages)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.zs3),e.Y36(q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-notification-details"]],inputs:{PersonalId:"PersonalId"},features:[e.qOj],decls:15,vars:11,consts:[[1,"row"],[1,"col-12"],["addTitle","addNotificationDetails","editTitle","editNotificationDetails",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-12","col-md-6"],[3,"submitted","control"],["align","end"],[3,"id","onClick"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","dataSource","onChangePage"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card-subtitle"),e._UZ(4,"page-title",2),e.qZA(),e.TgZ(5,"mat-card-content",3)(6,"form",4)(7,"div",0)(8,"div",5),e._UZ(9,"app-prime-dropdown",6),e.qZA()(),e.TgZ(10,"div",0)(11,"div",1)(12,"mat-card-actions",7)(13,"submit-btn",8),e.NdJ("onClick",function(){return s.submit()}),e.qZA()()()()()(),e.TgZ(14,"app-material-table",9),e.NdJ("onChangePage",function(r){return s.getList(r.pageIndex+1,r.pageSize)}),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("id",s.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("submitted",s.submitted)("control",s.formCtrls.notificationType),e.xp6(4),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.Q6J("isLoaded",s.isLoaded)("mandatoryColomns",s.mandatoryColomns)("optionalColomns",s.optionalColomns)("page",s.page)("actions",s.rowFunctions)("dataSource",s.dataSource))},dependencies:[b.I,B.J,g.p,h.T,l.dn,l.$j,l.hq,c.Ro,n._Y,n.JL,n.sg]}),i})();function Ue(i,o){if(1&i&&e._UZ(0,"app-add-new-btn",15),2&i){const t=e.oxw();e.MGl("url","/attendance-setup/",t.moduleId,"/personal_notification/add"),e.Q6J("params",t.pageParams)}}let x=(()=>{class i extends u.d{constructor(t,s){super(),this.personalNotificationService=s,this.PersonalId=0,this.submitted=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.PersonalId=Number(t.get("PersonalId"))??0,this.CheckNoBusinessOrCompany()&&this.PersonalId>0&&this.getPersonById()}),this.form=this.fb.group({Personid:[null],id:[0,{nonNallable:!0}],Name:[null,[n.kI.required]],PassWord:[null,[n.kI.required]],Is_Active:[!1]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.CheckNoBusinessOrCompany()&&this.PersonalId>0&&this.getPersonById()}submit(){this.submitted=!0}create(t){this.showLoading(),this.personalNotificationService.createPersonalNotification(t,this.businessCompanyParams).subscribe(s=>{s?.message?.messageType==m.u.Success?this.addSuccessfullyMsg(s.message.messageTypeName):this.errorList(s.message.messages)})}update(t){this.showLoading(),this.personalNotificationService.updatePersonalNotificationy(t,this.businessCompanyParams).subscribe(s=>{s.message.messageType==m.u.Success?this.updateSuccessfullyMsg(s.message.messageTypeName):this.errorList(s.message.messages)})}getPersonById(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.zs3),e.Y36(q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-personal-notification"]],features:[e.qOj],decls:30,vars:25,consts:[["title","personal_Notification"],["label","addPersonal_Notification",3,"url","params",4,"ngIf"],[3,"url","params"],[3,"label"],["addTitle","addPersonal_notification","editTitle","editPersonal_notification",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"row"],[1,"col-md-6","col-12"],["label","arName",3,"submitted","control"],["label","enName",3,"submitted","control"],[3,"submitted","control"],["align","end"],[3,"id","onClick"],[3,"PersonalId"],["label","addPersonal_Notification",3,"url","params"]],template:function(t,s){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"mat-card")(2,"mat-card-title"),e._UZ(3,"page-title",0),e.YNc(4,Ue,1,2,"app-add-new-btn",1),e._UZ(5,"app-back-btn",2),e.qZA(),e.TgZ(6,"mat-tab-group")(7,"mat-tab",3),e.ALo(8,"titlecase"),e.ALo(9,"translate"),e.TgZ(10,"mat-card-subtitle"),e._UZ(11,"page-title",4),e.qZA(),e.TgZ(12,"mat-card-content",5)(13,"form",6)(14,"div",7)(15,"div",8),e._UZ(16,"app-input",9),e.qZA(),e.TgZ(17,"div",8),e._UZ(18,"app-input",10),e.qZA()(),e.TgZ(19,"div",7)(20,"div",8),e._UZ(21,"app-prime-dropdown",11),e.qZA(),e.TgZ(22,"div",8),e._UZ(23,"app-prime-dropdown",11),e.qZA()()()(),e.TgZ(24,"mat-card-actions",12)(25,"submit-btn",13),e.NdJ("onClick",function(){return s.submit()}),e.qZA()()(),e.TgZ(26,"mat-tab",3),e.ALo(27,"titlecase"),e.ALo(28,"translate"),e._UZ(29,"app-notification-details",14),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",s.PersonalId>0),e.xp6(1),e.MGl("url","/general-setup/",s.moduleId,"/personal_notification/index"),e.Q6J("params",s.pageParams),e.xp6(2),e.s9C("label",e.lcZ(8,17,e.lcZ(9,19,"personal_notification"))),e.xp6(4),e.Q6J("id",s.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(3),e.Q6J("submitted",s.submitted)("control",s.formCtrls.Name),e.xp6(2),e.Q6J("submitted",s.submitted)("control",s.formCtrls.Name),e.xp6(3),e.Q6J("submitted",s.submitted)("control",s.formCtrls.Name),e.xp6(2),e.Q6J("submitted",s.submitted)("control",s.formCtrls.Name),e.xp6(2),e.Q6J("id",s.formCtrls.id.value),e.xp6(1),e.s9C("label",e.lcZ(27,21,e.lcZ(28,23,"Notification Details"))),e.xp6(3),e.Q6J("PersonalId",s.PersonalId))},dependencies:[p.O5,S.a,B.J,A.a,P.J,g.p,h.T,I.SP,I.uX,l.a8,l.dn,l.n5,l.$j,l.hq,c.Ro,n._Y,n.JL,n.sg,Le,p.rS,U.X$]}),i})();const Ne=[{path:"activation-setup",component:me,data:{view:"activation-setup"}},{path:"attachment-types",component:ge,data:{view:"attachment-types"}},{path:"users",children:[{path:"",redirectTo:"index",pathMatch:D.U.full},{path:"index",component:he,data:{view:"users-index"}},{path:"add",component:R,data:{view:"add-user"}},{path:"edit/:userId",component:R,data:{view:"add-user"}}]},{path:"personal-notification",children:[{path:"",redirectTo:"index",pathMatch:D.U.full},{path:"index",component:Ze,data:{view:"personal-notification-index"}},{path:"add",component:x,data:{view:"add-personal-notification"}},{path:"edit/:PersonalId",component:x,data:{view:"add-personal-notification"}}]},{path:"iso-code",component:be,data:{view:"iso-code"}},{path:"company-code",component:ve,data:{view:"company-code"}},{path:"groups",children:[{path:"",redirectTo:"index",pathMatch:D.U.full},{path:"index",component:Se,data:{view:"groups-index"}},{path:"add",component:O,data:{view:"add-group"}},{path:"edit/:groupId",component:O,data:{view:"add-group"}}]}];let Ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[F.Bz.forChild(Ne),F.Bz]}),i})();var Pe=d(78475);let Ge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,Ae,Pe.m]}),i})()}}]);