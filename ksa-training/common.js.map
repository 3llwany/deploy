{"version":3,"file":"common.js","mappings":"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","sources":["./src/app/shared/services/auth/Guards/auth/pending-changes.guard.ts","./src/app/shared/validators/date.adapter.ts","./src/app/student/services/AskTeacher.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { CanDeactivate } from \"@angular/router\";\r\nimport { Observable } from \"rxjs\";\r\n\r\nexport interface ComponentCanDeactivate {\r\n  canDeactivate: () => boolean | Observable<boolean>;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class PendingChangesGuard\r\n  implements CanDeactivate<ComponentCanDeactivate>\r\n{\r\n  canDeactivate(\r\n    component: ComponentCanDeactivate\r\n  ): boolean | Observable<boolean> {\r\n    if (!component.canDeactivate()) {\r\n      if (\r\n        confirm(\r\n          \"You have unsaved changes! If you leave, your changes will be lost.\"\r\n        )\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n\r\n    // if there are no pending changes, just allow deactivation; else confirm first\r\n    // return component.canDeactivate()\r\n    //   ? true\r\n    //   : confirm(\r\n    //       \"WARNING: You have unsaved changes. Press Cancel to go back and save these changes, or OK to lose these changes.\"\r\n    //     );\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { NativeDateAdapter } from \"@angular/material/core\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class AppDateAdapter extends NativeDateAdapter {\r\n  parse(value: any): Date | null {\r\n    if (typeof value === \"string\" && value.indexOf(\"/\") > -1) {\r\n      const str = value.split(\"/\");\r\n      const year = Number(str[2]);\r\n      const month = Number(str[1]) - 1;\r\n      const date = Number(str[0]);\r\n      return new Date(year, month, date);\r\n    }\r\n    const timestamp = typeof value === \"number\" ? value : Date.parse(value);\r\n    return isNaN(timestamp) ? null : new Date(timestamp);\r\n  }\r\n  format(date: Date, displayFormat: string): string {\r\n    if (displayFormat == \"input\") {\r\n      let day = date.getDate();\r\n      let month = date.getMonth() + 1;\r\n      let year = date.getFullYear();\r\n      return this._to2digit(day) + \"/\" + this._to2digit(month) + \"/\" + year;\r\n    } else if (displayFormat == \"inputMonth\") {\r\n      let month = date.getMonth() + 1;\r\n      let year = date.getFullYear();\r\n      return this._to2digit(month) + \"/\" + year;\r\n    } else {\r\n      return date.toDateString();\r\n    }\r\n  }\r\n\r\n  private _to2digit(n: number) {\r\n    return (\"00\" + n).slice(-2);\r\n  }\r\n}\r\n\r\nexport const APP_DATE_FORMATS = {\r\n  parse: {\r\n    dateInput: { month: \"short\", year: \"numeric\", day: \"numeric\" },\r\n  },\r\n  display: {\r\n    // dateInput: { month: 'short', year: 'numeric', day: 'numeric' },\r\n    dateInput: \"input\",\r\n    // monthYearLabel: { month: 'short', year: 'numeric', day: 'numeric' },\r\n    monthYearLabel: \"inputMonth\",\r\n    dateA11yLabel: { year: \"numeric\", month: \"long\", day: \"numeric\" },\r\n    monthYearA11yLabel: { year: \"numeric\", month: \"long\" },\r\n  },\r\n};\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { AppClientService } from \"app/shared/services/app-client.service\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class AskTeacherService extends AppClientService {\r\n  constructor(private http: HttpClient) {\r\n    super(http);\r\n  }\r\n\r\n  // Return askTeacher Data\r\n  askTeacher(id: any) {\r\n    return this.get(\"AJAX/askTeacher/\" + id);\r\n  }\r\n\r\n  getOpenedMsgs(page: any, TeacherSubId: any) {\r\n    return this.get(`AJAX/returnUserThreads/${page}/${TeacherSubId}/true`);\r\n  }\r\n\r\n  getClosedMsgs(page: any, TeacherSubId: any) {\r\n    return this.get(`AJAX/returnUserThreads/${page}/${TeacherSubId}/false`);\r\n  }\r\n\r\n  // Return Messages And replayes in msg\r\n  getMsgReplaies(msgId: any) {\r\n    return this.get(\"AJAX/returnUserThread/\" + msgId);\r\n  }\r\n\r\n  // Create New Messages\r\n  createNewMsg(data: any) {\r\n    return this.post(\"AJAX/StartThread\", data);\r\n  }\r\n\r\n  //Replay to Msg\r\n  SendMessage(data: any) {\r\n    return this.post(\"AJAX/SendMessage\", data);\r\n  }\r\n\r\n  getTeacherSubjectIds() {\r\n    return this.get(\"AJAX/returnTeacherSubjectIdsForAssistant\");\r\n  }\r\n\r\n  // Return Teacher Opend Msgs\r\n  getTeacherOpenedClosedMsgs(\r\n    p: any,\r\n    isOpened: boolean,\r\n    TeacherSubjectIds: any\r\n  ) {\r\n    return this.post(\r\n      `AJAX/returnUserThreadsForAssistant/${p}/${isOpened}`,\r\n      TeacherSubjectIds\r\n    );\r\n  }\r\n\r\n  closeMsg(msgId: number) {\r\n    return this.post(`AJAX/CloseThread/${msgId}`, null);\r\n  }\r\n\r\n  removeReply(msgId: number) {\r\n    return this.delete(\"AJAX/RemoveReply/\" + msgId);\r\n  }\r\n\r\n  // Return Teacher Messages And replayes in msg\r\n  getTeacherMsgReplaies(msgId: any) {\r\n    return this.get(\"AJAX/returnUserThreadForAssistant/\" + msgId);\r\n  }\r\n}\r\n"],"names":["PendingChangesGuard","component","canDeactivate","confirm","factory","providedIn","NativeDateAdapter","AppDateAdapter","value","indexOf","str","split","year","Number","month","date","Date","timestamp","parse","isNaN","displayFormat","day","getDate","getMonth","getFullYear","_to2digit","toDateString","n","slice","t","APP_DATE_FORMATS","dateInput","display","monthYearLabel","dateA11yLabel","monthYearA11yLabel","AppClientService","AskTeacherService","http","id","get","page","TeacherSubId","msgId","data","post","p","isOpened","TeacherSubjectIds","delete","i0"],"sourceRoot":"webpack:///"}