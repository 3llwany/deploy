{"version":3,"file":"src_app_assistant_assistant_module_ts.js","mappings":"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","sources":["./src/app/assistant/assistant-routing.module.ts","./src/app/assistant/assistant.module.ts","./src/app/assistant/pages/chats/chats.component.ts","./src/app/assistant/pages/chats/chats.component.html"],"sourcesContent":["import { ChatsComponent } from \"./pages/chats/chats.component\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"chat\",\r\n    component: ChatsComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AssistantRoutingModule {}\r\n","import { ReactiveFormsModule } from \"@angular/forms\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { MaterialModule } from \"./../shared/material/material.module\";\r\nimport { SharedModule } from \"app/shared/shared.module\";\r\nimport { NgxSpinnerModule } from \"ngx-spinner\";\r\nimport { NgxPaginationModule } from \"ngx-pagination\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\n\r\nimport { AssistantRoutingModule } from \"./assistant-routing.module\";\r\nimport { ChatsComponent } from \"./pages/chats/chats.component\";\r\n\r\n@NgModule({\r\n  declarations: [ChatsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AssistantRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgxPaginationModule,\r\n    NgxSpinnerModule,\r\n    SharedModule,\r\n    MaterialModule,\r\n  ],\r\n})\r\nexport class AssistantModule {}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmDialogComponent } from \"app/shared/components/dialogs/confirm-dialog/confirm-dialog.component\";\r\nimport { DeleteDialogComponent } from \"app/shared/components/dialogs/delete-dialog/delete-dialog.component\";\r\nimport { GeneralService } from \"app/shared/services/General/general.service\";\r\nimport { MsgsVM, MsgReplayVM } from \"app/student/models/ask-teacher\";\r\nimport { AskTeacherService } from \"app/student/services/AskTeacher.service\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { ToastrService } from \"ngx-toastr\";\r\n\r\n@Component({\r\n  selector: \"app-chats\",\r\n  templateUrl: \"./chats.component.html\",\r\n  styleUrls: [\"./chats.component.scss\"],\r\n})\r\nexport class ChatsComponent implements OnInit {\r\n  //Pagination vars\r\n  openPages: number = 1;\r\n  closedPages: number = 1;\r\n  maxsize = 5;\r\n\r\n  //Opend Msgs List\r\n  opendMsgs: MsgsVM[] = [];\r\n  openMsgsCount: any;\r\n\r\n  // Closed Msgs List\r\n  closedMsgs: MsgsVM[] = [];\r\n  closedMgsCount: any;\r\n\r\n  MsgReplaies: MsgReplayVM[] = []; //List of replaies For an Msg\r\n  TeacherSubjectIds: any;\r\n  ParentReplyId?: number;\r\n  currentMsgUserData?: MsgsVM;\r\n  selectedMsgToReplay: MsgsVM = null;\r\n\r\n  // Current User Vars\r\n  currentUserPicPath: any;\r\n  ar_name: any;\r\n  currentUserId: any;\r\n\r\n  attachecFilePath: any = null;\r\n  myForm!: FormGroup;\r\n  isContentOverlay = false;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private AskTeacherServ: AskTeacherService,\r\n    private GeneralServ: GeneralService,\r\n    private toaster: ToastrService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    public dialog: MatDialog,\r\n    private spinner: NgxSpinnerService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.myForm = this.fb.group({\r\n      threadId: [null, Validators.required],\r\n      TeacherSubjectIds: [[], Validators.required],\r\n      ParentReplyId: [null],\r\n      Attach: [null],\r\n      ReplyText: [\"\"],\r\n    });\r\n\r\n    this.getTeacherSubjectIds();\r\n    this.returnProfile();\r\n  }\r\n\r\n  get FormCtrl() {\r\n    return this.myForm.controls;\r\n  }\r\n\r\n  getTeacherSubjectIds() {\r\n    this.AskTeacherServ.getTeacherSubjectIds().subscribe((res: any) => {\r\n      if (res) {\r\n        //  console.log(\"TeacherSubjectIds\", res);\r\n        this.FormCtrl.TeacherSubjectIds.setValue(res);\r\n        this.getOpenedMsgs();\r\n        this.getClosedMsgs();\r\n      }\r\n      this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  // Return opend msgs\r\n  getOpenedMsgs() {\r\n    this.spinner.show();\r\n    this.AskTeacherServ.getTeacherOpenedClosedMsgs(\r\n      this.openPages,\r\n      true,\r\n      this.FormCtrl.TeacherSubjectIds.value\r\n    ).subscribe((res: any) => {\r\n      // console.log(\"OpenedMsgs\", res);\r\n      this.opendMsgs = res.messageThreads;\r\n      this.openMsgsCount = res.itemsCount;\r\n      this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  // Return Closed msgs\r\n  getClosedMsgs() {\r\n    this.spinner.show();\r\n    this.AskTeacherServ.getTeacherOpenedClosedMsgs(\r\n      this.closedPages,\r\n      false,\r\n      this.FormCtrl.TeacherSubjectIds.value\r\n    ).subscribe((res: any) => {\r\n      //console.log(\"ClosedMsgs\", res);\r\n      this.closedMsgs = res.messageThreads;\r\n      this.closedMgsCount = res.itemsCount;\r\n      this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  getMsgReplaies(msgId: any) {\r\n    this.spinner.show();\r\n    this.AskTeacherServ.getTeacherMsgReplaies(msgId).subscribe((res: any) => {\r\n      this.MsgReplaies = res.replies;\r\n      // console.log('getMsgReplaies', res);\r\n      // setTimeout(function () {\r\n      //   $(\".chat-box .chat-body\").animate(\r\n      //     { scrollTop: $(\".chat-box .chat-body\").prop(\"scrollHeight\") },\r\n      //     1000\r\n      //   );\r\n      // }, 1000);\r\n\r\n      this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  ReplayToMessage() {\r\n    this.spinner.show();\r\n    if (this.myForm.valid) {\r\n      this.AskTeacherServ.SendMessage(this.myForm.value).subscribe(\r\n        (res: any) => {\r\n          // console.log('ReplayToMessage', res);\r\n          if (res.returnString == \"Success\") {\r\n            this.getMsgReplaies(this.FormCtrl.threadId.value);\r\n            this.FormCtrl.ReplyText.reset();\r\n            this.FormCtrl.Attach.reset();\r\n            this.escpreview();\r\n            // $(\".chat-box .chat-body\").animate(\r\n            //   { scrollTop: $(\".chat-box .chat-body\").prop(\"scrollHeight\") },\r\n            //   1000\r\n            // );\r\n          } else {\r\n            this.toaster.error(res.returnString);\r\n          }\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  closeMsg(msgId: any) {\r\n    this.spinner.show();\r\n    this.AskTeacherServ.closeMsg(msgId).subscribe((res: any) => {\r\n      //  console.log('closeMsg', res);\r\n      if (res.returnValue == 1) {\r\n        this.toaster.success(\"تم اغلاق الرسالة\");\r\n        this.currentMsgUserData!.Opened = !this.currentMsgUserData.Opened;\r\n        this.getOpenedMsgs();\r\n        this.getClosedMsgs();\r\n      }\r\n      this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  removeReply(msgId: number) {\r\n    this.spinner.show();\r\n    this.AskTeacherServ.removeReply(msgId).subscribe((res: any) => {\r\n      //  console.log('removeReply', res);\r\n      if (res.returnValue == 1) {\r\n        this.toaster.success(\"تم حذف الرسالة\");\r\n        this.getMsgReplaies(this.FormCtrl.threadId.value);\r\n      }\r\n      this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  selectMsg(msg: MsgsVM) {\r\n    if (this.FormCtrl.threadId.value != msg.Id) {\r\n      this.MsgReplaies = [];\r\n    }\r\n    this.getMsgReplaies(msg.Id);\r\n    this.currentMsgUserData = msg;\r\n    console.log(\"selectMsg\", msg);\r\n    this.FormCtrl.threadId.setValue(msg.Id);\r\n\r\n    // $(\".chat-box .chat-body\").animate(\r\n    //   { scrollTop: $(\".chat-box .chat-body\").prop(\"scrollHeight\") },\r\n    //   1000\r\n    // );\r\n  }\r\n\r\n  getParentReplyId(msg: MsgsVM) {\r\n    this.FormCtrl.ParentReplyId.setValue(msg.Id);\r\n    this.selectedMsgToReplay = msg;\r\n    if (msg) {\r\n      console.log(\"ParentReplyIdMsg\", msg);\r\n    }\r\n    console.log(this.myForm.value);\r\n  }\r\n\r\n  //Start: Return Profile Data\r\n  returnProfile() {\r\n    this.spinner.show();\r\n    this.GeneralServ.returnProfile().subscribe((res: any) => {\r\n      this.currentUserId = res.user.user_ID;\r\n      this.ar_name = res.user.ar_name;\r\n      this.currentUserPicPath = res.picturePath;\r\n      this.spinner.hide();\r\n    });\r\n  }\r\n\r\n  escpreview() {\r\n    this.FormCtrl.Attach.setValue(null);\r\n    this.FormCtrl.ParentReplyId.setValue(\"\");\r\n    this.selectedMsgToReplay = null;\r\n    this.attachecFilePath = null;\r\n  }\r\n\r\n  track(index: number, el: any): number {\r\n    return el.Id;\r\n  }\r\n\r\n  attacheReplayPic(event: any) {\r\n    let fileName = <File>event.target.files[0].name;\r\n    let fileSize = <File>event.target.files[0].size;\r\n    let fileType = <File>event.target.files[0].type;\r\n    let LastModified = <File>event.target.files[0].lastModified;\r\n    let LastModifiedDate = <File>event.target.files[0].lastModifiedDate;\r\n\r\n    if (event.target.files) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.onload = (event: any) => {\r\n        let fileReder = event.target.result;\r\n        this.attachecFilePath = fileReder;\r\n        let data = {\r\n          FileAsBase64: fileReder,\r\n          name: fileName,\r\n          size: fileSize,\r\n          type: fileType,\r\n          LastModified: LastModified,\r\n          LastModifiedDate: LastModifiedDate,\r\n        };\r\n        this.FormCtrl.Attach.setValue(data);\r\n      };\r\n    }\r\n  }\r\n\r\n  onSidebarToggle() {\r\n    this.isContentOverlay = true;\r\n  }\r\n\r\n  onContentOverlay() {\r\n    this.isContentOverlay = false;\r\n  }\r\n\r\n  openDeleteDialog(msg: MsgReplayVM): void {\r\n    const dialogRef = this.dialog.open(DeleteDialogComponent, {\r\n      data: {\r\n        title: \"General.ConfirmDelete\",\r\n        msg: msg.Message,\r\n      },\r\n    });\r\n    dialogRef.afterClosed().subscribe((confirm) => {\r\n      if (confirm) this.removeReply(msg.Id);\r\n    });\r\n  }\r\n\r\n  openConfirmDialog(msgId: number): void {\r\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\r\n      data: {\r\n        title: \"General.ConfirmCloseMsg\",\r\n        btn: \"General.Confirm\",\r\n      },\r\n    });\r\n    dialogRef.afterClosed().subscribe((confirm) => {\r\n      if (confirm) this.closeMsg(msgId);\r\n    });\r\n  }\r\n}\r\n","<!-- <ngx-spinner></ngx-spinner> -->\r\n<div class=\"chat-application overflow-hidden\">\r\n  <div\r\n    class=\"app-content-overlay\"\r\n    #contentOverlay\r\n    class=\"app-content-overlay\"\r\n    [ngClass]=\"{ show: isContentOverlay }\"\r\n    (click)=\"onContentOverlay()\"\r\n  ></div>\r\n  <!-- Left Col: Msgs List-->\r\n  <div class=\"chat-sidebar d-md-block\" #chatSidebar>\r\n    <span\r\n      class=\"sidebar-close-icon d-md-none\"\r\n      (click)=\"isContentOverlay = false\"\r\n    >\r\n      <i class=\"ft-x\"></i>\r\n    </span>\r\n    <div class=\"chat-sidebar-content\">\r\n      <mat-tab-group>\r\n        <!-- Opend Msgs List -->\r\n        <mat-tab label=\"{{ 'labels.Opend' | translate }}\">\r\n          <div id=\"users-list\" class=\"list-group\">\r\n            <div class=\"users-list-padding position-relative\">\r\n              <a\r\n                class=\"list-group-item\"\r\n                *ngFor=\"\r\n                  let msg of opendMsgs\r\n                    | paginate\r\n                      : {\r\n                          itemsPerPage: 5,\r\n                          currentPage: openPages,\r\n                          totalItems: openMsgsCount,\r\n                          id: 'opend'\r\n                        }\r\n                \"\r\n                (click)=\"selectMsg(msg)\"\r\n                id=\"msg-{{ msg.Id }}\"\r\n                [ngClass]=\"{\r\n                  'selected-chat': msg.Id == FormCtrl.threadId.value\r\n                }\"\r\n              >\r\n                <div class=\"media align-items-center py-1\">\r\n                  <span class=\"avatar avatar-md mr-2\">\r\n                    <img\r\n                      src=\"mozakretyapi/{{ currentUserPicPath }}\"\r\n                      alt=\"Avatar\"\r\n                    />\r\n\r\n                    <!-- <span class=\"avatar-status-online\"></span> -->\r\n                  </span>\r\n                  <div class=\"media-body\">\r\n                    <h6 class=\"list-group-item-heading mb-1\">\r\n                      {{ msg.ar_name }}\r\n                      <span class=\"font-small-2 float-right grey darken-1\">\r\n                        {{ msg.ThreadUpdateDate | date: \"dd/MM/yyyy\" }} -\r\n                        {{ msg.ThreadUpdateDate | Time }}\r\n                      </span>\r\n                    </h6>\r\n                    <p class=\"list-group-item-text grey darken-2 m-0\">\r\n                      <!-- <i class=\"ft-check primary font-small-2 mr-1\"></i> -->\r\n                      <span>{{ msg.ThreadText }}</span>\r\n                      <!-- <span class=\"float-right primary\"></span> -->\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </a>\r\n              <div class=\"pagination-box\" *ngIf=\"opendMsgs?.length > 5\">\r\n                <pagination-controls\r\n                  dir=\"ltr\"\r\n                  (pageChange)=\"p = $event; getOpenedMsgs(p, TeacherSubjectId)\"\r\n                  previousLabel=\"\"\r\n                  nextLabel=\"\"\r\n                  id=\"opend\"\r\n                >\r\n                </pagination-controls>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n        <!-- Closed Msgs List -->\r\n        <mat-tab label=\"{{ 'labels.Closed' | translate }}\">\r\n          <div id=\"users-list\" class=\"list-group\">\r\n            <div class=\"users-list-padding position-relative\">\r\n              <a\r\n                class=\"list-group-item\"\r\n                *ngFor=\"\r\n                  let msg of closedMsgs\r\n                    | paginate\r\n                      : {\r\n                          itemsPerPage: 5,\r\n                          currentPage: closedPages,\r\n                          totalItems: openMsgsCount,\r\n                          id: 'closed'\r\n                        }\r\n                \"\r\n                (click)=\"selectMsg(msg)\"\r\n                id=\"msg-{{ msg.Id }}\"\r\n                [ngClass]=\"{\r\n                  'selected-chat': msg.Id == FormCtrl.threadId.value\r\n                }\"\r\n              >\r\n                <div class=\"media align-items-center py-1\">\r\n                  <span class=\"avatar avatar-md mr-2\">\r\n                    <img\r\n                      src=\"mozakretyapi/{{ currentUserPicPath }}\"\r\n                      alt=\"Avatar\"\r\n                    />\r\n                    <!-- <span class=\"avatar-status-online\"></span> -->\r\n                  </span>\r\n                  <div class=\"media-body\">\r\n                    <h6 class=\"list-group-item-heading mb-1\">\r\n                      <span>{{ msg.ar_name }}</span>\r\n                      <span class=\"font-small-2 float-right grey darken-1\">\r\n                        {{ msg.ThreadUpdateDate | date: \"dd/MM/yyyy\" }} -\r\n                        {{ msg.ThreadUpdateDate | Time }}\r\n                      </span>\r\n                    </h6>\r\n                    <p class=\"list-group-item-text grey darken-2 m-0\">\r\n                      <!-- <i class=\"ft-check primary font-small-2 mr-1\"></i> -->\r\n\r\n                      <span>{{ msg.ThreadText }}</span>\r\n                      <!-- <span class=\"float-right primary\"></span> -->\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </a>\r\n              <div class=\"pagination-box\" *ngIf=\"closedMsgs?.length > 5\">\r\n                <pagination-controls\r\n                  dir=\"ltr\"\r\n                  (pageChange)=\"p = $event; getClosedMsgs(p, TeacherSubjectId)\"\r\n                  previousLabel=\"\"\r\n                  nextLabel=\"\"\r\n                  id=\"closed\"\r\n                >\r\n                </pagination-controls>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Right Col: Chat content -->\r\n  <!-- Top Header -->\r\n  <div class=\"chat-name p-2\">\r\n    <div class=\"media p-1 align-items-center\">\r\n      <span\r\n        (click)=\"onSidebarToggle()\"\r\n        class=\"chat-app-sidebar-toggle ft-menu font-medium-4 mr-3 d-block d-md-none\"\r\n      >\r\n      </span>\r\n\r\n      <ng-container *ngIf=\"FormCtrl.threadId.value != null\">\r\n        <div class=\"media-body\">\r\n          <img\r\n            src=\"{{ currentMsgUserData?.attach_path }}\"\r\n            width=\"37\"\r\n            class=\"avatar mr-1\"\r\n            alt=\"avatar\"\r\n          />\r\n\r\n          <span>\r\n            {{ currentMsgUserData?.ar_name }}\r\n          </span>\r\n          <span class=\"badge bg-light-primary mb-1 mr-2\">\r\n            {{ currentMsgUserData?.email }}\r\n          </span>\r\n          <span class=\"badge bg-light-primary mb-1 mr-2\">\r\n            {{ currentMsgUserData?.subject_ar_name }}\r\n          </span>\r\n        </div>\r\n        <div class=\"position-relative float-right\">\r\n          <span\r\n            class=\"badge bg-light-success mb-1 mr-2\"\r\n            *ngIf=\"currentMsgUserData?.Opened\"\r\n          >\r\n            {{ \"labels.Opend\" | translate }}\r\n          </span>\r\n\r\n          <span\r\n            class=\"badge bg-light-danger mb-1 mr-2\"\r\n            *ngIf=\"!currentMsgUserData?.Opened\"\r\n          >\r\n            {{ \"labels.Closed\" | translate }}\r\n          </span>\r\n\r\n          <button\r\n            class=\"escprev\"\r\n            (click)=\"openConfirmDialog(currentMsgUserData?.Id)\"\r\n            mat-mini-fab\r\n            color=\"warn\"\r\n          >\r\n            <mat-icon>block</mat-icon>\r\n          </button>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n  </div>\r\n\r\n  <section class=\"chat-app-window position-relative\">\r\n    <div class=\"chats\">\r\n      <div\r\n        class=\"chat\"\r\n        *ngFor=\"let msg of MsgReplaies\"\r\n        [ngClass]=\"{\r\n          'chat-right': msg.userId == currentUserId,\r\n          'chat-left': msg.userId != currentUserId,\r\n          'msg-not-seen': !msg.isShown\r\n        }\"\r\n        id=\"replay-{{ msg.Id }}\"\r\n      >\r\n        <div class=\"chat-avatar\">\r\n          <div class=\"avatar avatar-md\">\r\n            <!-- user picture -->\r\n            <img src=\"mozakretyapi/{{ msg.UserprofilePicture }}\" alt=\"avatar\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"chat-body\">\r\n          <div class=\"chat-content\">\r\n            <!-- username -->\r\n            <p class=\"username\">\r\n              {{ msg.Username }}\r\n            </p>\r\n            <!-- msg replay -->\r\n            <div\r\n              class=\"replay-box rounded bg-light-secondary\"\r\n              *ngIf=\"msg.ParentReply.Id != null\"\r\n            >\r\n              <p class=\"content replytext\" *ngIf=\"!msg.ParentReply.IsDelete\">\r\n                <span style=\"display: block\">\r\n                  <i class=\"ft-repeat\"></i>\r\n                  <strong> {{ msg.ParentReply.Username }}:</strong>\r\n                </span>\r\n\r\n                <span>\r\n                  {{ msg.ParentReply.Message }}\r\n                </span>\r\n\r\n                <!-- msg replay Attach -->\r\n                <img\r\n                  *ngIf=\"msg.ParentReply.Attach\"\r\n                  src=\"mozakretyapi/{{ msg.ParentReply.Attach }}\"\r\n                  style=\"width: 50px; height: 50px\"\r\n                />\r\n              </p>\r\n\r\n              <!-- deleted msg -->\r\n              <p class=\"content replytext\" *ngIf=\"msg.ParentReply.IsDelete\">\r\n                <span class=\"deleted-msg\"\r\n                  ><i class=\"fa fa-ban\"></i\r\n                  >{{ \"labels.MsgDeleted\" | translate }}\r\n                </span>\r\n              </p>\r\n            </div>\r\n\r\n            <!-- not deleted Message content -->\r\n            <p *ngIf=\"!msg.IsDelete\" class=\"content\">\r\n              {{ msg.Message }}\r\n            </p>\r\n\r\n            <p *ngIf=\"msg.IsDelete\" class=\"content\" class=\"content replytext\">\r\n              <span class=\"deleted-msg\">\r\n                <i class=\"fa fa-ban\"></i>{{ \"labels.MsgDeleted\" | translate }}\r\n              </span>\r\n            </p>\r\n\r\n            <!-- not deleted Message Attach -->\r\n            <div *ngIf=\"msg.Attach && !msg.IsDelete\">\r\n              <a\r\n                href=\"mozakretyapi/{{ msg.Attach | sliceExamPic }}\"\r\n                target=\"_blank\"\r\n                data-lightbox=\"image-1\"\r\n                data-title=\"\"\r\n              >\r\n                <img\r\n                  class=\"img-responsive\"\r\n                  src=\"mozakretyapi/{{ msg.Attach | sliceExamPic }}\"\r\n                />\r\n              </a>\r\n            </div>\r\n\r\n            <hr />\r\n            <p class=\"msg-time\">\r\n              <!-- not deleted time and date -->\r\n              <span>\r\n                {{ msg.Date | date: \"dd/MM/yyyy\" }} -\r\n                {{ msg.Date | Time }}\r\n              </span>\r\n\r\n              <span\r\n                *ngIf=\"!msg.IsDelete\"\r\n                class=\"cursor-pointer\"\r\n                (click)=\"openDeleteDialog(msg)\"\r\n              >\r\n                <i\r\n                  class=\"ft-trash-2 mr-1\"\r\n                  data-toggle=\"tooltip\"\r\n                  data-placement=\"top\"\r\n                  title=\"Delete This Message\"\r\n                ></i>\r\n              </span>\r\n\r\n              <span class=\"cursor-pointer\" (click)=\"getParentReplyId(msg)\">\r\n                <i\r\n                  class=\"ft-repeat\"\r\n                  data-toggle=\"tooltip\"\r\n                  data-placement=\"top\"\r\n                  title=\"Reply To This Message\"\r\n                >\r\n                </i>\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n  <!-- Replay Options -->\r\n  <section\r\n    class=\"chat-app-form chat-replay-options bg-light-primary\"\r\n    *ngIf=\"this.attachecFilePath != null || selectedMsgToReplay != null\"\r\n  >\r\n    <div class=\"row\">\r\n      <button class=\"escprev\" (click)=\"escpreview()\" mat-mini-fab color=\"warn\">\r\n        <mat-icon>clear</mat-icon>\r\n      </button>\r\n      <div\r\n        class=\"col-4\"\r\n        *ngIf=\"this.attachecFilePath != null\"\r\n        class=\"img-responsive\"\r\n      >\r\n        <img\r\n          class=\"img-responsive\"\r\n          src=\"mozakretyapi/{{ attachecFilePath }}\"\r\n          alt=\"Photo attached\"\r\n        />\r\n      </div>\r\n      <div class=\"col-6\" *ngIf=\"selectedMsgToReplay != null\">\r\n        <textarea disabled class=\"rplayedMsg\">\r\n        {{ selectedMsgToReplay.Message }}\r\n        </textarea>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n  <!-- Replay to msg form -->\r\n  <section\r\n    class=\"chat-app-form px-3 py-2\"\r\n    *ngIf=\"FormCtrl.threadId.value != null\"\r\n  >\r\n    <form [formGroup]=\"myForm\" class=\"d-flex align-items-center\">\r\n      <input\r\n        formControlName=\"ReplyText\"\r\n        type=\"text\"\r\n        class=\"form-control chat-message-send mr-2\"\r\n        placeholder=\"Type your replay here\"\r\n      />\r\n\r\n      <button (click)=\"fileInput.click()\" mat-mini-fab color=\"warn\">\r\n        <mat-icon>attachment</mat-icon>\r\n      </button>\r\n      <input\r\n        hidden\r\n        (change)=\"attacheReplayPic($event)\"\r\n        #fileInput\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        id=\"file\"\r\n      />\r\n      <button\r\n        (click)=\"ReplayToMessage()\"\r\n        [disabled]=\"FormCtrl.threadId.value == null\"\r\n        type=\"submit\"\r\n        class=\"btn btn-primary d-lg-flex align-items-center\"\r\n      >\r\n        <i class=\"ft-send\"></i>\r\n        <span class=\"d-none d-lg-block ml-1\">\r\n          {{ \"General.Send\" | translate }}\r\n        </span>\r\n      </button>\r\n    </form>\r\n  </section>\r\n</div>\r\n"],"names":["ChatsComponent","RouterModule","routes","path","component","AssistantRoutingModule","forChild","imports","exports","ReactiveFormsModule","FormsModule","MaterialModule","SharedModule","NgxSpinnerModule","NgxPaginationModule","CommonModule","AssistantModule","declarations","Validators","ConfirmDialogComponent","DeleteDialogComponent","i0","ctx_r11","ctx_r13","ctx_r16","ctx_r18","ctx_r22","ctx_r38","ctx_r41","ctx_r45","_r47","ctx_r50","ctx_r51","fb","AskTeacherServ","GeneralServ","toaster","route","router","dialog","spinner","myForm","group","threadId","required","TeacherSubjectIds","ParentReplyId","Attach","ReplyText","getTeacherSubjectIds","returnProfile","controls","subscribe","res","FormCtrl","setValue","getOpenedMsgs","getClosedMsgs","hide","show","getTeacherOpenedClosedMsgs","openPages","value","opendMsgs","messageThreads","openMsgsCount","itemsCount","closedPages","closedMsgs","closedMgsCount","msgId","getTeacherMsgReplaies","MsgReplaies","replies","valid","SendMessage","returnString","getMsgReplaies","reset","escpreview","error","closeMsg","returnValue","success","currentMsgUserData","Opened","removeReply","msg","Id","console","log","selectedMsgToReplay","currentUserId","user","user_ID","ar_name","currentUserPicPath","picturePath","attachecFilePath","index","el","event","fileName","target","files","name","fileSize","size","fileType","type","LastModified","lastModified","LastModifiedDate","lastModifiedDate","reader","FileReader","readAsDataURL","onload","fileReder","result","data","FileAsBase64","isContentOverlay","dialogRef","open","title","Message","afterClosed","confirm","btn","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///"}