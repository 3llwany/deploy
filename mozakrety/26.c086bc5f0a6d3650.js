"use strict";(self.webpackChunkmozakretyNew=self.webpackChunkmozakretyNew||[]).push([[26],{5026:function(Ys,Je,C){C.r(Je),C.d(Je,{ExamsModule:function(){return Ls}});var L=C(3144),D=C(5671),b=C(9808),c=C(3075),F=C(4330),fe=C(1069),e=C(1891),R=C(2290),O=C(6256),q=C(1735),je=C(2397),w=C(8966),U=C(6405),Z=C(9224),E=C(7423),I=C(7322),H=C(7531),be=C(5245),Ae=C(9966),Se=C(226),P=C(1195);function Xe(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," You must enter a value. "),e.qZA())}function Ke(n,o){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,Xe,2,0,"span",5),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==a.FormCtrls.from.errors?null:a.FormCtrls.from.errors.required)||(null==a.FormCtrls.from.errors?null:a.FormCtrls.from.errors.minusNum))}}function et(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," You must enter a value. "),e.qZA())}function tt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,et,2,0,"span",5),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==a.FormCtrls.to.errors?null:a.FormCtrls.to.errors.required)||(null==a.FormCtrls.to.errors?null:a.FormCtrls.to.errors.minusNum))}}function at(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e.TgZ(2,"mat-form-field",7),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",15),e.YNc(7,Ke,2,1,"mat-hint",9),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"mat-form-field",7),e.TgZ(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",16),e.YNc(14,tt,2,1,"mat-hint",9),e.qZA(),e.qZA(),e.BQk()),2&n){var a=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,4,"labels.From")," "),e.xp6(3),e.Q6J("ngIf",a.FormCtrls.from.invalid&&(a.FormCtrls.from.touched||a.Submitted)),e.xp6(4),e.hij(" ",e.lcZ(12,6,"labels.To")," "),e.xp6(3),e.Q6J("ngIf",a.FormCtrls.to.invalid&&(a.FormCtrls.to.touched||a.Submitted))}}function nt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," You must enter a value. "),e.qZA())}function it(n,o){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,nt,2,0,"span",5),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==a.FormCtrls.value.errors?null:a.FormCtrls.value.errors.required)||(null==a.FormCtrls.value.errors?null:a.FormCtrls.value.errors.minusNum))}}function ot(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ByQuestion")," "))}function lt(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ByExam")," "))}function rt(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"tr"),e.YNc(1,ot,3,3,"td",5),e.YNc(2,lt,3,3,"td",5),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"button",18),e.NdJ("click",function(){var r=e.CHM(a).$implicit;return e.oxw().openDeleateExamPointDialog(r)}),e.TgZ(11,"mat-icon"),e._uU(12,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.ByQuestion),e.xp6(1),e.Q6J("ngIf",!t.ByQuestion),e.xp6(2),e.Oqu(t.FromValue),e.xp6(2),e.Oqu(t.ToValue),e.xp6(2),e.Oqu(t.Value)}}function st(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"pagination-controls",19),e.NdJ("pageChange",function(l){e.CHM(a);var r=e.oxw();return r.p=l,r.getExamCustomPoints(l)}),e.qZA()}if(2&n){var t=e.oxw();e.Q6J("maxSize",t.maxSize)}}var ut=function(o){return{functionId:o}},mt=function(o,a){return{itemsPerPage:5,currentPage:o,totalItems:a}},dt=function(){var n=function(){function o(a,t,i,l,r,s,u){var m=this;(0,D.Z)(this,o),this.fb=a,this.toastr=t,this.authserv=i,this.route=l,this.PointsService=r,this.dialog=s,this.spinner=u,this.Submitted=!1,this.p=1,this.maxSize=9,l.paramMap.subscribe(function(d){m.templateId=Number(d.get("templateId"))}),this.route.queryParamMap.subscribe(function(d){m.functionId=Number(d.get("functionId"))})}return(0,L.Z)(o,[{key:"ngOnInit",value:function(){this.getTemplateCustomPoints(1),this.myForm=this.fb.group({ByQuestion:[!1,[c.kI.required]],from:[""],to:[""],value:["",[c.kI.required,F.w.minusNum]]}),this.ByQuestionValidators(!1)}},{key:"FormCtrls",get:function(){return this.myForm.controls}},{key:"addTemplateCustomPoint",value:function(){var i,l,r,s,t=this;this.Submitted=!0;var u={itemId:this.templateId,ByQuestion:null===(i=this.FormCtrls)||void 0===i?void 0:i.ByQuestion.value,from:null===(l=this.FormCtrls)||void 0===l?void 0:l.from.value,to:null===(r=this.FormCtrls)||void 0===r?void 0:r.to.value,value:null===(s=this.FormCtrls)||void 0===s?void 0:s.value.value};this.myForm.valid&&(this.spinner.show(),this.PointsService.addTemplateCustomPoint(u).subscribe(function(m){var d;1==m.returnValue&&(t.getTemplateCustomPoints(1),t.toastr.success("\u062a\u0645 \u0625\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0646\u0642\u0627\u0637"),t.Submitted=!1,t.myForm.reset(),null===(d=t.FormCtrls)||void 0===d||d.ByQuestion.setValue(!0)),t.spinner.hide()}))}},{key:"getTemplateCustomPoints",value:function(t){var i=this;this.spinner.show(),this.PointsService.getTemplateCustomPoints(t,this.templateId).subscribe(function(l){1==l.returnValue&&(i.ItemsCount=l.itemsCount,i.Points=l.points),i.spinner.hide()})}},{key:"deleteExamCustomPoint",value:function(t){var i=this;this.spinner.show(),this.PointsService.deleteExamCustomPoint(t.Id).subscribe(function(l){if(1==l.returnValue){var r=i.Points.findIndex(function(s){return s==t});i.Points.splice(r,1),i.toastr.success("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641")}i.spinner.hide()})}},{key:"openDeleateExamPointDialog",value:function(t){var i=this;this.dialog.open(fe.F,{data:{msg:"".concat(t.Value,": points")}}).afterClosed().subscribe(function(l){l&&i.deleteExamCustomPoint(t)})}},{key:"track",value:function(t,i){return i.Id}},{key:"ByQuestionValidators",value:function(t){1==t?(this.FormCtrls.from.reset(),this.FormCtrls.from.clearValidators(),this.FormCtrls.to.reset(),this.FormCtrls.to.clearValidators()):(this.FormCtrls.from.setValidators([c.kI.required,F.w.minusNum]),this.FormCtrls.to.setValidators([c.kI.required,F.w.bigZero])),this.FormCtrls.from.updateValueAndValidity(),this.FormCtrls.to.updateValueAndValidity()}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(c.qu),e.Y36(R._W),e.Y36(O.e),e.Y36(q.gz),e.Y36(je.q),e.Y36(w.uw),e.Y36(U.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-templates-custome-points"]],decls:47,vars:39,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","","routerLink","/dashboard/exams-setup/templates/index",1,"btn","btn-info","bg-light-warning","float-right",3,"queryParams"],[1,"container-fluid"],[3,"formGroup"],[4,"ngIf"],[1,"col-lg-4","col-12"],["appearance","legacy"],["matInput","","type","number","formControlName","value"],["class","text-danger",4,"ngIf"],["align","end"],["mat-raised-button","","type","button",1,"btn","btn-primary",3,"click"],[1,"table"],[4,"ngFor","ngForOf","ngForTrackBy"],["dir","ltr","previousLabel","","nextLabel","",3,"maxSize","pageChange",4,"ngIf"],["matInput","","type","number","formControlName","from"],["matInput","","type","number","formControlName","to"],[1,"text-danger"],["mat-mini-fab","","color","warn",3,"click"],["dir","ltr","previousLabel","","nextLabel","",3,"maxSize","pageChange"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"a",2),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.TgZ(10,"mat-card-content",3),e.TgZ(11,"form",4),e.TgZ(12,"div",0),e.YNc(13,at,15,8,"ng-container",5),e.TgZ(14,"div",6),e.TgZ(15,"mat-form-field",7),e.TgZ(16,"mat-label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",8),e.YNc(20,it,2,1,"mat-hint",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"mat-card-actions",10),e.TgZ(22,"button",11),e.NdJ("click",function(){return t.addTemplateCustomPoint()}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.ynx(25),e.TgZ(26,"table",12),e.TgZ(27,"thead"),e.TgZ(28,"tr"),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"tbody"),e.YNc(44,rt,13,5,"tr",13),e.ALo(45,"paginate"),e.qZA(),e.YNc(46,st,1,1,"pagination-controls",14),e.qZA(),e.BQk(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(5),e.hij(" ",e.lcZ(6,15,"labels.TemplatePoints")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(34,ut,t.functionId)),e.xp6(1),e.hij(" ",e.lcZ(9,17,"General.Back")," "),e.xp6(3),e.Q6J("formGroup",t.myForm),e.xp6(2),e.Q6J("ngIf",!1===t.FormCtrls.ByQuestion.value),e.xp6(4),e.hij(" ",e.lcZ(18,19,"labels.pointsNumber")," "),e.xp6(3),e.Q6J("ngIf",t.FormCtrls.value.invalid&&(t.FormCtrls.value.touched||t.Submitted)),e.xp6(3),e.hij(" ",e.lcZ(24,21,"General.Add")," "),e.xp6(7),e.hij(" ",e.lcZ(31,23,"labels.ByQuestion")," "),e.xp6(3),e.hij(" ",e.lcZ(34,25,"labels.From")," "),e.xp6(3),e.hij(" ",e.lcZ(37,27,"labels.To")," "),e.xp6(3),e.hij(" ",e.lcZ(40,29,"labels.pointsNumber")," "),e.xp6(5),e.Q6J("ngForOf",e.xi3(45,31,t.Points,e.WLB(36,mt,t.p,t.ItemsCount)))("ngForTrackBy",t.track),e.xp6(2),e.Q6J("ngIf",(null==t.Points?null:t.Points.length)>5))},directives:[U.Ro,Z.a8,Z.n5,E.zs,q.yS,Z.dn,c._Y,c.JL,c.sg,b.O5,I.KE,I.hX,H.Nt,c.wV,c.Fj,c.JJ,c.u,Z.hq,E.lW,b.sg,I.bx,be.Hw,Ae.LS,Se.Lv],pipes:[P.X$,Ae._s],styles:[""]}),n}(),T=C(2340),Ve=C(520),Le=function(){var n=function(){function o(a){(0,D.Z)(this,o),this.http=a}return(0,L.Z)(o,[{key:"getTemplates",value:function(t,i,l){return this.http.post("".concat(T.N.apiURL,"Admin/getTemplates/").concat(t,"/").concat(i),l)}},{key:"getTemplateById",value:function(t){return this.http.get("".concat(T.N.apiURL,"template/returnTemplateById/").concat(t))}},{key:"deleteTemplate",value:function(t){return this.http.get("".concat(T.N.apiURL,"template/deleteTemplateById/").concat(t))}},{key:"PublishDepublishTemplate",value:function(t){return this.http.post("".concat(T.N.apiURL,"template/PublishDepublishTemplate/").concat(t),null)}},{key:"getPresets",value:function(t){return this.http.get("".concat(T.N.apiURL,"template/returnPresetsByEduCompId/").concat(t))}},{key:"addUpdateTemplate",value:function(t){return this.http.post(T.N.apiURL+"template/addtemplate",t)}},{key:"addTemplateDetails",value:function(t){return this.http.post(T.N.apiURL+"AJAX/addTemplateDetail",t)}},{key:"getQuestionDetails",value:function(t){return this.http.get("".concat(T.N.apiURL,"AJAX/returnTemplateDetails/").concat(t))}},{key:"DeleteDetails",value:function(t){return this.http.get("".concat(T.N.apiURL,"template/deleteTemplateDetailById/").concat(t))}},{key:"uploadTemplateStudentGrade",value:function(t){return this.http.post(T.N.apiURL+"Exam/postStudentsTemplatesGrades",t)}},{key:"getTemplatePoints",value:function(t,i){return this.http.get("".concat(T.N.apiURL,"template/returnCustomPointTemplateByTemplateId/").concat(t,"/").concat(i))}},{key:"addTemplatePoint",value:function(t){return this.http.post(T.N.apiURL+"template/CustomTemplatePoint",t)}},{key:"deleteTemplatePoint",value:function(t){return this.http.delete("".concat(T.N.apiURL,"template/DeleteCustomTemplatePoint/").concat(t))}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.LFG(Ve.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),xe=C(5086),Ne=C(6471),ve=C(4107),Ze=C(508),qe=C(6856),$=C(9814),we=C(9772);function ct(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.AddTemplate")," "))}function pt(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.AsE(" ",e.lcZ(2,2,"labels.UpdateTemplate")," - ",a.templateName," ")}}function _t(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Id),e.xp6(1),e.hij(" ",a.Name," ")}}function ht(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.teacherUserId),e.xp6(1),e.hij(" ",a.teacher_ar_name," ")}}function gt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function ft(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,gt,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.teacherUserIdCtrl||null==a.FormCtrl.teacherUserIdCtrl.errors?null:a.FormCtrl.teacherUserIdCtrl.errors.required)}}function vt(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function Zt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function Ct(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Zt,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.stageId||null==a.FormCtrl.stageId.errors?null:a.FormCtrl.stageId.errors.required)}}function Tt(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text_Ar," ")}}function At(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function xt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,At,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.yearId.errors?null:a.FormCtrl.yearId.errors.required)}}function It(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function bt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function qt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,bt,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.subjectId||null==a.FormCtrl.subjectId.errors?null:a.FormCtrl.subjectId.errors.required)}}function yt(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function Ut(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Qt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Ut,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.UnitRevisionID||null==a.FormCtrl.UnitRevisionID.errors?null:a.FormCtrl.UnitRevisionID.errors.required)}}function Ft(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function Nt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function wt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Nt,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.LessonID||null==a.FormCtrl.LessonID.errors?null:a.FormCtrl.LessonID.errors.required)}}function Et(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function kt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function St(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Et,3,3,"span",2),e.YNc(2,kt,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.Name||null==a.FormCtrl.Name.errors?null:a.FormCtrl.Name.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.Name||null==a.FormCtrl.Name.errors?null:a.FormCtrl.Name.errors.whiteSpace)}}function Lt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Dt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Yt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Lt,3,3,"span",2),e.YNc(2,Dt,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.exam_hour||null==a.FormCtrl.exam_hour.errors?null:a.FormCtrl.exam_hour.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.exam_hour||null==a.FormCtrl.exam_hour.errors?null:a.FormCtrl.exam_hour.errors.minusNum)}}function Jt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function jt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Vt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Jt,3,3,"span",2),e.YNc(2,jt,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.exam_minute||null==a.FormCtrl.exam_minute.errors?null:a.FormCtrl.exam_minute.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.exam_minute||null==a.FormCtrl.exam_minute.errors?null:a.FormCtrl.exam_minute.errors.minusNum)}}function Gt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Pt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Mt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,Gt,3,3,"span",2),e.YNc(2,Pt,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.price||null==a.FormCtrl.price.errors?null:a.FormCtrl.price.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.price||null==a.price.errors?null:a.price.errors.minusNum)}}function Ot(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Bt(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Rt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",50),e.YNc(1,Ot,3,3,"span",2),e.YNc(2,Bt,3,3,"span",2),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.repeatableExam_Count||null==a.FormCtrl.repeatableExam_Count.errors?null:a.FormCtrl.repeatableExam_Count.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.repeatableExam_Count||null==a.FormCtrl.repeatableExam_Count.errors?null:a.FormCtrl.repeatableExam_Count.errors.bigZero)}}function Ht(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function $t(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function zt(n,o){if(1&n&&(e.TgZ(0,"mat-hint",50),e.YNc(1,Ht,3,3,"span",2),e.YNc(2,$t,3,3,"span",2),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.StudentRepeatExamCost||null==a.FormCtrl.StudentRepeatExamCost.errors?null:a.FormCtrl.StudentRepeatExamCost.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.FormCtrl.StudentRepeatExamCost||null==a.FormCtrl.StudentRepeatExamCost.errors?null:a.FormCtrl.StudentRepeatExamCost.errors.minusNum)}}function Wt(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e.TgZ(2,"mat-form-field",7),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",47),e.YNc(7,Rt,3,2,"mat-hint",48),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"mat-form-field",7),e.TgZ(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",49),e.YNc(14,zt,3,2,"mat-hint",48),e.qZA(),e.qZA(),e.BQk()),2&n){var a=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,"labels.repeatNumbers")),e.xp6(3),e.Q6J("ngIf",(null==a.FormCtrl.repeatableExam_Count?null:a.FormCtrl.repeatableExam_Count.invalid)&&((null==a.FormCtrl.repeatableExam_Count?null:a.FormCtrl.repeatableExam_Count.touched)||a.submitted)),e.xp6(4),e.Oqu(e.lcZ(12,6,"labels.repeatingPrice")),e.xp6(3),e.Q6J("ngIf",(null==a.FormCtrl.StudentRepeatExamCost?null:a.FormCtrl.StudentRepeatExamCost.invalid)&&((null==a.FormCtrl.StudentRepeatExamCost?null:a.FormCtrl.StudentRepeatExamCost.touched)||a.submitted))}}function Xt(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){return e.CHM(a),e.oxw().addUpdateTemplate()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function Kt(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){return e.CHM(a),e.oxw().addUpdateTemplate()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Update")," "))}function ea(n,o){1&n&&(e.TgZ(0,"span",50),e._uU(1," You must enter a value. "),e.qZA())}function ta(n,o){1&n&&(e.TgZ(0,"span",50),e._uU(1," You must enter a correct value. "),e.qZA())}function aa(n,o){if(1&n&&(e.TgZ(0,"mat-hint",60),e.YNc(1,ea,2,0,"span",48),e.YNc(2,ta,2,0,"span",48),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==a.DetailsCtrl.questionsCount.errors?null:a.DetailsCtrl.questionsCount.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.DetailsCtrl.questionsCount.errors?null:a.DetailsCtrl.questionsCount.errors.bigZero)}}function na(n,o){1&n&&(e.TgZ(0,"span",50),e._uU(1," You must enter a value. "),e.qZA())}function ia(n,o){1&n&&(e.TgZ(0,"span",50),e._uU(1," You must enter a correct value. "),e.qZA())}function oa(n,o){if(1&n&&(e.TgZ(0,"mat-hint",60),e.YNc(1,na,2,0,"span",48),e.YNc(2,ia,2,0,"span",48),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==a.DetailsCtrl.mark.errors?null:a.DetailsCtrl.mark.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.DetailsCtrl.mark.errors?null:a.DetailsCtrl.mark.errors.minusNum)}}function la(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function ra(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function sa(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,ra,3,3,"span",2),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==a.DetailsCtrl.unitRevisionID||null==a.DetailsCtrl.unitRevisionID.errors?null:a.DetailsCtrl.unitRevisionID.errors.required)}}function ua(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function ma(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function da(n,o){if(1&n&&(e.TgZ(0,"mat-hint",46),e.YNc(1,ma,3,3,"span",2),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==a.DetailsCtrl.LessonID||null==a.DetailsCtrl.LessonID.errors?null:a.DetailsCtrl.LessonID.errors.required)}}function ca(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function pa(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){return e.CHM(a),e.oxw(2).addTemplateDetails()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function _a(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-card"),e.TgZ(3,"mat-card-title"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"mat-card-content",4),e.TgZ(8,"div",0),e.TgZ(9,"div",1),e.TgZ(10,"form",5),e.TgZ(11,"div",0),e.TgZ(12,"div",52),e.TgZ(13,"mat-form-field",7),e.TgZ(14,"mat-label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",53),e.YNc(18,aa,3,2,"mat-hint",54),e.qZA(),e.qZA(),e.TgZ(19,"div",52),e.TgZ(20,"mat-form-field",7),e.TgZ(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"mat-select",55),e.TgZ(25,"mat-option"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"mat-option",38),e._uU(29,"\u0633\u0647\u0644"),e.qZA(),e.TgZ(30,"mat-option",38),e._uU(31,"\u0645\u062a\u0648\u0633\u0637"),e.qZA(),e.TgZ(32,"mat-option",38),e._uU(33,"\u0635\u0639\u0628"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",52),e.TgZ(35,"mat-form-field",7),e.TgZ(36,"mat-label"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"input",56),e.YNc(40,oa,3,2,"mat-hint",54),e.qZA(),e.qZA(),e.TgZ(41,"div",52),e.TgZ(42,"mat-form-field",7),e.TgZ(43,"mat-label"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"mat-select",57),e.NdJ("selectionChange",function(){e.CHM(a);var l=e.oxw();return l.GetLessonsForDetails(null==l.DetailsCtrl.unitRevisionID?null:l.DetailsCtrl.unitRevisionID.value)}),e.TgZ(47,"mat-option",9),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.YNc(50,la,2,2,"mat-option",10),e.qZA(),e.YNc(51,sa,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(52,"div",52),e.TgZ(53,"mat-form-field",7),e.TgZ(54,"mat-label"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"mat-select",58),e.NdJ("selectionChange",function(){e.CHM(a);var l=e.oxw();return l.GetTopicsForDetails(null==l.DetailsCtrl.lessonID?null:l.DetailsCtrl.lessonID.value)}),e.TgZ(58,"mat-option",9),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.YNc(61,ua,2,2,"mat-option",10),e.qZA(),e.YNc(62,da,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(63,"div",52),e.TgZ(64,"mat-form-field",7),e.TgZ(65,"mat-label"),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"mat-select",59),e.TgZ(69,"mat-option",9),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.YNc(72,ca,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(73,"mat-card-actions",43),e.YNc(74,pa,3,3,"button",44),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,23,"labels.QuestionData")," "),e.xp6(5),e.Q6J("formGroup",t.DetailForm),e.xp6(5),e.hij(" ",e.lcZ(16,25,"labels.questionsCount")," "),e.xp6(3),e.Q6J("ngIf",t.DetailsCtrl.questionsCount.invalid&&(t.DetailsCtrl.questionsCount.touched||t.DetailSubmitted)),e.xp6(4),e.Oqu(e.lcZ(23,27,"labels.Level")),e.xp6(4),e.hij(" ",e.lcZ(27,29,"General.Choose")," "),e.xp6(2),e.Q6J("value",1),e.xp6(2),e.Q6J("value",5),e.xp6(2),e.Q6J("value",10),e.xp6(5),e.hij(" ",e.lcZ(38,31,"labels.QuestionMark")," "),e.xp6(3),e.Q6J("ngIf",t.DetailsCtrl.mark.invalid&&(t.DetailsCtrl.mark.touched||t.DetailSubmitted)),e.xp6(4),e.Oqu(e.lcZ(45,33,"labels.Unit")),e.xp6(4),e.hij(" ",e.lcZ(49,35,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.unitsForDetails),e.xp6(1),e.Q6J("ngIf",(null==t.DetailsCtrl.unitRevisionID?null:t.DetailsCtrl.unitRevisionID.invalid)&&((null==t.DetailsCtrl.unitRevisionID?null:t.DetailsCtrl.unitRevisionID.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(56,37,"labels.Lesson")),e.xp6(4),e.hij(" ",e.lcZ(60,39,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.lessonsForDetails),e.xp6(1),e.Q6J("ngIf",(null==t.DetailsCtrl.LessonID?null:t.DetailsCtrl.LessonID.invalid)&&((null==t.DetailsCtrl.LessonID?null:t.DetailsCtrl.LessonID.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(67,41,"labels.Topic")),e.xp6(4),e.hij(" ",e.lcZ(71,43,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.topicsForDetails),e.xp6(2),e.Q6J("ngIf",null!=t.FormCtrl.Id.value)}}function ha(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\u0633\u0647\u0644"),e.qZA())}function ga(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\u0645\u062a\u0648\u0633\u0637"),e.qZA())}function fa(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\u0635\u0639\u0628"),e.qZA())}function va(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.YNc(7,ha,2,0,"td",2),e.YNc(8,ga,2,0,"td",2),e.YNc(9,fa,2,0,"td",2),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td",64),e.TgZ(19,"button",65),e.NdJ("click",function(){var s=e.CHM(a).$implicit;return e.oxw(2).openDeleateDialog(s)}),e.TgZ(20,"mat-icon"),e._uU(21,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=o.$implicit,i=o.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(null==t?null:t.questionsCount),e.xp6(2),e.Oqu(null==t?null:t.mark),e.xp6(1),e.Q6J("ngIf",1==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",5==(null==t?null:t.questionsLevel)),e.xp6(1),e.Q6J("ngIf",10==(null==t?null:t.questionsLevel)),e.xp6(2),e.Oqu(null==t?null:t.SubjectName),e.xp6(2),e.Oqu(null==t?null:t.UnitName),e.xp6(2),e.Oqu(null==t?null:t.LessonName),e.xp6(2),e.Oqu(null==t?null:t.TopicName)}}function Za(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"div",66),e.TgZ(1,"pagination-controls",67),e.NdJ("pageChange",function(l){return e.CHM(a),e.oxw(2).p=l}),e.qZA(),e.qZA()}if(2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("maxSize",t.maxSize)}}var Ca=function(o,a){return{itemsPerPage:5,currentPage:o,totalItems:a}};function Ta(n,o){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-card"),e.TgZ(3,"mat-card-title"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"mat-card-content",4),e.TgZ(8,"div",0),e.TgZ(9,"div",1),e.TgZ(10,"table",61),e.TgZ(11,"thead"),e.TgZ(12,"tr"),e.TgZ(13,"th"),e._uU(14,"#"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"\xad"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"tbody"),e.YNc(39,va,22,10,"tr",62),e.ALo(40,"paginate"),e.qZA(),e.qZA(),e.YNc(41,Za,2,1,"div",63),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){var a=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,11,"labels.Questions")," "),e.xp6(11),e.Oqu(e.lcZ(17,13,"labels.questionsCount")),e.xp6(3),e.Oqu(e.lcZ(20,15,"labels.QuestionMark")),e.xp6(3),e.Oqu(e.lcZ(23,17,"labels.Level")),e.xp6(3),e.Oqu(e.lcZ(26,19,"labels.Subject")),e.xp6(3),e.Oqu(e.lcZ(29,21,"labels.Unit")),e.xp6(3),e.Oqu(e.lcZ(32,23,"labels.Lesson")),e.xp6(3),e.Oqu(e.lcZ(35,25,"labels.Topic")),e.xp6(5),e.Q6J("ngForOf",e.xi3(40,27,a.QuestionDetails,e.WLB(30,Ca,a.p,a.QuestionDetails.length)))("ngForTrackBy",a.track),e.xp6(2),e.Q6J("ngIf",a.QuestionDetails.length>5)}}var Aa=function(o){return{functionId:o}},xa=function(){var n=function(){function o(a,t,i,l,r,s,u,m,d,_){var p=this;(0,D.Z)(this,o),this.fb=a,this.route=t,this.toastr=i,this.spinner=l,this.authserv=r,this.TemplatesService=s,this.dialog=u,this.GeneralService=m,this.datePipe=d,this.EducationalService=_,this.p=1,this.maxSize=9,this.Teachers=[],this.QuestionDetails=[],this.Presets=[],this.stages=[],this.years=[],this.subjects=[],this.units=[],this.lessons=[],this.topics=[],this.submitted=!1,this.DetailSubmitted=!1,this.templateId=null,t.queryParamMap.subscribe(function(h){p.templateId=h.get("templateId"),p.functionId=Number(h.get("functionId")),p.templateId&&(p.getTemplateById(),p.getQuestionDetails(p.templateId)),p.functionId&&p.authserv.getUserRowFunctions(p.functionId).subscribe(function(g){g&&(p.rowFunctions=g)})})}return(0,L.Z)(o,[{key:"ngOnInit",value:function(){this.myForm=this.fb.group({EduCompId:[this.EduCompId],Id:[this.templateId],presetTemplateId:[""],teacherUserId:["",c.kI.required],yearId:["",c.kI.required],stageId:["",c.kI.required],subjectId:["",c.kI.required],UnitRevisionID:[""],LessonID:[""],topicId:[""],Name:["",[c.kI.required,F.w.whiteSpace]],price:["",[c.kI.required,F.w.minusNum]],exam_minute:["",[c.kI.required,F.w.minusNum]],exam_hour:["",[c.kI.required,F.w.minusNum]],priceDiscount:[""],Avilable_Date_From:[""],priceDiscountType:[0],Avilable_Date_To:[""],fromHour:[""],toHour:[""],ResultDate:[""],ResultTime:[""],Individually_Purchased:[!1],repeatableExam:[!1],repeatableExam_Count:[!1],SendWhatsApp:[!1],CustomDiscountApplied:[!1],StudentRepeatExamCost:[""],Publish:[!1]}),this.DetailForm=this.fb.group({templateId:[this.templateId,c.kI.required],questionsLevel:["",c.kI.required],mark:["",[c.kI.required,F.w.minusNum]],questionsCount:["",[c.kI.required,F.w.bigZero]],unitRevisionID:["",c.kI.required],lessonID:["",c.kI.required],TopicID:[""]}),null!=this.templateId||(this.FormCtrl.stageId.disable(),this.FormCtrl.yearId.disable(),this.FormCtrl.subjectId.disable(),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable(),this.DetailsCtrl.questionsCount.disable(),this.DetailsCtrl.unitRevisionID.disable(),this.DetailsCtrl.lessonID.disable(),this.DetailsCtrl.TopicID.disable(),this.DetailsCtrl.mark.disable()),this.EduCompId=this.authserv.getEduCompId(),this.branchId=this.authserv.getBranchId(),this.getTeachersByEducompId(this.EduCompId),this.getPresets(),this.FormCtrl.EduCompId.setValue(this.EduCompId),this.repeatableExamValidators(),this.FormCtrl.priceDiscount.disable()}},{key:"FormCtrl",get:function(){return this.myForm.controls}},{key:"DetailsCtrl",get:function(){return this.DetailForm.controls}},{key:"ngAfterViewInit",value:function(){var t=this;this.authserv.EduCompId.subscribe(function(i){t.EduCompId=i.EduCompId}),this.authserv.branchId.subscribe(function(i){t.branchId=i.branchId})}},{key:"addUpdateTemplate",value:function(){var t=this;this.submitted=!0;var i=this.myForm.value;i.Avilable_Date_From=this.datePipe.transform(this.FormCtrl.Avilable_Date_From.value),i.Avilable_Date_To=this.datePipe.transform(this.FormCtrl.Avilable_Date_To.value),i.ResultDate=this.datePipe.transform(this.FormCtrl.ResultDate.value),this.myForm.valid&&(this.spinner.show(),this.TemplatesService.addUpdateTemplate({presetTemplateId:i.presetTemplateId,template:i}).subscribe(function(l){console.log("createTemplate",l),l.returnValue&&(t.DetailsCtrl.templateId.setValue(l.returnValue),t.FormCtrl.Id.setValue(l.returnValue),t.getQuestionDetails(l.returnValue),t.submitted=!1,t.DetailsCtrl.questionsCount.enable(),t.DetailsCtrl.unitRevisionID.enable(),t.DetailsCtrl.lessonID.enable(),t.DetailsCtrl.TopicID.enable(),t.DetailsCtrl.mark.enable(),t.toastr.success("Done")),t.spinner.hide()}))}},{key:"getTemplateById",value:function(){var t=this;this.spinner.show(),this.TemplatesService.getTemplateById(this.templateId).subscribe(function(i){t.getStageByTeacherId(i.teacherUserId),t.FormCtrl.teacherUserId.setValue(i.teacherUserId),t.returnYears(i.stage_id),t.returnTeacherSubjects(i.educational_year_id),t.GetUnits(i.subjectId),t.GetLessons(i.UnitRevisionID),t.GetTopics(i.LessonID),t.myForm.patchValue(i),t.FormCtrl.stageId.setValue(String(i.stage_id)),t.FormCtrl.yearId.setValue(String(i.educational_year_id)),t.FormCtrl.subjectId.setValue(String(i.subjectId)),t.FormCtrl.UnitRevisionID.setValue(String(i.UnitRevisionID)),t.FormCtrl.LessonID.setValue(String(i.LessonID)),t.FormCtrl.priceDiscountType.setValue(String(i.priceDiscountType)),t.templateName=i.Name;var l=i.exam_period_minute%60,r=(i.exam_period_minute-l)/60;t.FormCtrl.exam_minute.setValue(l),t.FormCtrl.exam_hour.setValue(r),t.FormCtrl.fromHour.setValue(i.fromHour),t.FormCtrl.toHour.setValue(i.toHour),0==i.priceDiscountType&&t.FormCtrl.priceDiscountType.setValue(String(2)),t.FormCtrl.priceDiscountType.value&&t.FormCtrl.priceDiscount.enable(),t.GetUnitsForDetails(),t.spinner.hide()})}},{key:"addTemplateDetails",value:function(){var t=this;this.DetailSubmitted=!0,this.DetailForm.valid&&(this.spinner.show(),this.TemplatesService.addTemplateDetails(this.DetailForm.value).subscribe(function(l){1==l.returnValue?(t.DetailSubmitted=!1,t.getQuestionDetails(t.DetailsCtrl.templateId.value),t.toastr.success("Questiopn added")):t.toastr.error(l.returnString),t.spinner.hide()}))}},{key:"getQuestionDetails",value:function(t){var i=this;this.spinner.show(),this.TemplatesService.getQuestionDetails(t).subscribe(function(l){i.QuestionDetails=l,i.spinner.hide()})}},{key:"getPresets",value:function(){var t=this;this.spinner.show(),this.TemplatesService.getPresets(this.EduCompId).subscribe(function(i){t.Presets=i,t.spinner.hide()})}},{key:"DeleteDetails",value:function(t){var i=this;this.spinner.show(),this.TemplatesService.DeleteDetails(t.Id).subscribe(function(l){if(l.Id==t.Id){var r=i.QuestionDetails.findIndex(function(s){return s==t});i.QuestionDetails.splice(r,1),i.toastr.success(" Deleted")}i.spinner.hide()})}},{key:"openDeleateDialog",value:function(t){var i=this;this.dialog.open(fe.F,{data:{msg:""}}).afterClosed().subscribe(function(l){l&&i.DeleteDetails(t)})}},{key:"getTeachersByEducompId",value:function(t){var i=this;this.GeneralService.getTeachersByEducompId(t).subscribe(function(l){i.Teachers=l.lstTeachers})}},{key:"getStageByTeacherId",value:function(t){var i=this;this.FormCtrl.stageId.setValue(""),this.FormCtrl.yearId.setValue(""),this.FormCtrl.subjectId.setValue(""),this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.getStageByTeacherId(t).subscribe(function(l){i.stages=l,i.FormCtrl.stageId.enable()}):(this.FormCtrl.stageId.setValue(""),this.FormCtrl.stageId.disable(),this.FormCtrl.yearId.disable(),this.FormCtrl.subjectId.disable(),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"returnYears",value:function(t){var i=this;this.FormCtrl.yearId.setValue(""),this.FormCtrl.subjectId.setValue(""),this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.returnYears(t).subscribe(function(l){i.years=l,i.FormCtrl.yearId.enable()}):(this.FormCtrl.yearId.setValue(""),this.FormCtrl.yearId.disable(),this.FormCtrl.subjectId.disable(),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"returnTeacherSubjects",value:function(t){var i=this;this.FormCtrl.subjectId.setValue(""),this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.returnTeacherSubjects({yearId:t,teacherUserId:this.FormCtrl.teacherUserId.value}).subscribe(function(r){i.subjects=r,i.FormCtrl.subjectId.enable()}):(this.FormCtrl.subjectId.setValue(""),this.FormCtrl.subjectId.disable(),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"GetUnits",value:function(t){var i=this;this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetUnits(t).subscribe(function(l){i.units=l,i.FormCtrl.UnitRevisionID.enable()}):(this.FormCtrl.UnitRevisionID.setValue(""),this.FormCtrl.UnitRevisionID.disable(),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"GetLessons",value:function(t){var i=this;this.FormCtrl.LessonID.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetLessons(t).subscribe(function(l){i.lessons=l,i.FormCtrl.LessonID.enable()}):(this.FormCtrl.LessonID.setValue(""),this.FormCtrl.LessonID.disable(),this.FormCtrl.topicId.disable())}},{key:"GetTopics",value:function(t){var i=this;this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetTopics(t).subscribe(function(l){i.topics=l,i.FormCtrl.topicId.enable()}):(this.FormCtrl.topicId.setValue(""),this.FormCtrl.topicId.disable())}},{key:"GetUnitsForDetails",value:function(){var i,l,t=this;this.DetailsCtrl.unitRevisionID.setValue(""),this.DetailsCtrl.lessonID.setValue(""),this.DetailsCtrl.TopicID.setValue(""),(null===(i=this.FormCtrl.subjectId)||void 0===i?void 0:i.value)?this.EducationalService.GetUnits(null===(l=this.FormCtrl.subjectId)||void 0===l?void 0:l.value).subscribe(function(r){t.unitsForDetails=r,t.DetailsCtrl.unitRevisionID.enable()}):(this.DetailsCtrl.unitRevisionID.setValue(""),this.DetailsCtrl.UnitRevisionID.disable(),this.DetailsCtrl.lessonID.disable(),this.DetailsCtrl.TopicID.disable())}},{key:"GetLessonsForDetails",value:function(t){var i=this;this.DetailsCtrl.lessonID.setValue(""),this.DetailsCtrl.TopicID.setValue(""),""!=t?this.EducationalService.GetLessons(t).subscribe(function(l){i.lessonsForDetails=l,i.DetailsCtrl.lessonID.enable()}):(this.DetailsCtrl.lessonID.setValue(""),this.DetailsCtrl.lessonID.disable(),this.DetailsCtrl.TopicID.disable())}},{key:"GetTopicsForDetails",value:function(t){var i=this;this.DetailsCtrl.TopicID.setValue(""),""!=t?this.EducationalService.GetTopics(t).subscribe(function(l){i.topicsForDetails=l,i.DetailsCtrl.TopicID.enable()}):(this.DetailsCtrl.TopicID.setValue(""),this.DetailsCtrl.TopicID.disable())}},{key:"resetManual",value:function(){this.myForm.controls.teacherUserId.setValue(""),this.myForm.controls.yearId.setValue(""),this.myForm.controls.stageId.setValue(""),this.myForm.controls.subjectId.setValue(""),this.myForm.controls.UnitRevisionID.setValue(""),this.myForm.controls.lessonId.setValue(""),this.myForm.controls.topicId.setValue("")}},{key:"track",value:function(t,i){return i.Id}},{key:"repeatableExamValidators",value:function(){1==this.FormCtrl.repeatableExam.value?(this.FormCtrl.repeatableExam_Count.setValidators([c.kI.required,F.w.minusNum]),this.FormCtrl.StudentRepeatExamCost.setValidators([c.kI.required,F.w.minusNum])):(this.FormCtrl.repeatableExam_Count.clearValidators(),this.FormCtrl.repeatableExam_Count.reset(),this.FormCtrl.StudentRepeatExamCost.clearValidators(),this.FormCtrl.StudentRepeatExamCost.reset()),this.FormCtrl.repeatableExam_Count.updateValueAndValidity(),this.FormCtrl.StudentRepeatExamCost.updateValueAndValidity()}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(c.qu),e.Y36(q.gz),e.Y36(R._W),e.Y36(U.t2),e.Y36(O.e),e.Y36(Le),e.Y36(w.uw),e.Y36(xe.m),e.Y36(b.uU),e.Y36(Ne.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-template"]],decls:240,vars:159,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],["mat-raised-button","","routerLink","../",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-3","col-12"],["appearance","legacy"],["formControlName","presetTemplateId"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","teacherUserId",3,"selectionChange"],["class","danger",4,"ngIf"],["formControlName","stageId",3,"selectionChange"],["formControlName","yearId",3,"selectionChange"],["formControlName","subjectId",3,"selectionChange"],["formControlName","UnitRevisionID",3,"selectionChange"],["formControlName","LessonID"],["matInput","","formControlName","Name"],[1,"col-md-2","col-12"],["matInput","","type","number","formControlName","exam_hour"],["matInput","","type","number","formControlName","exam_minute"],["matInput","","type","number","formControlName","price"],["formControlName","priceDiscountType",3,"selectionChange"],["value","1"],["value","2"],["matInput","","type","number","formControlName","priceDiscount"],["matInput","","formControlName","Avilable_Date_From",3,"matDatepicker"],["matSuffix","",3,"for"],["fromDate",""],["matInput","","formControlName","Avilable_Date_To",3,"matDatepicker"],["toDate",""],["matInput","","type","time","formControlName","fromHour"],["matInput","","type","time","formControlName","toHour"],["matInput","","formControlName","ResultDate",3,"matDatepicker"],["resualtDate",""],["matInput","","type","time","formControlName","ResultTime"],["formControlName","Individually_Purchased",1,"row"],[3,"value"],["formControlName","repeatableExam",1,"row"],[3,"value","change"],["formControlName","SendWhatsApp",1,"row"],["formControlName","CustomDiscountApplied",1,"row"],["align","end"],["mat-raised-button","","class","btn btn-primary",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"danger"],["matInput","","type","number","formControlName","repeatableExam_Count"],["class","text-danger",4,"ngIf"],["matInput","","type","number","formControlName","StudentRepeatExamCost"],[1,"text-danger"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],[1,"col-md-4","col-12"],["matInput","","type","number","formControlName","questionsCount"],["class","rtl has-error pull-right",4,"ngIf"],["formControlName","questionsLevel"],["matInput","","type","number","formControlName","mark"],["formControlName","unitRevisionID",3,"selectionChange"],["formControlName","lessonID",3,"selectionChange"],["formControlName","TopicID"],[1,"rtl","has-error","pull-right"],[1,"table","table-striped","table-hover","table-full-width","rtl"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","paginator-box",4,"ngIf"],[1,"text-center"],["mat-mini-fab","","color","warn","matTooltip","delete questions",3,"click"],[1,"paginator-box"],["dir","ltr","previousLabel","","nextLabel","",3,"maxSize","pageChange"]],template:function(a,t){if(1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e.YNc(5,ct,3,3,"span",2),e.YNc(6,pt,3,4,"span",2),e.TgZ(7,"a",3),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.TgZ(10,"mat-card-content",4),e.TgZ(11,"div",0),e.TgZ(12,"div",1),e.TgZ(13,"form",5),e.TgZ(14,"div",0),e.TgZ(15,"div",6),e.TgZ(16,"mat-form-field",7),e.TgZ(17,"mat-label"),e._uU(18,"Preset"),e.qZA(),e.TgZ(19,"mat-select",8),e.TgZ(20,"mat-option",9),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.YNc(23,_t,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",6),e.TgZ(25,"mat-form-field",7),e.TgZ(26,"mat-label"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"mat-select",11),e.NdJ("selectionChange",function(){return t.getStageByTeacherId(t.FormCtrl.teacherUserId.value)}),e.TgZ(30,"mat-option"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.YNc(33,ht,2,2,"mat-option",10),e.qZA(),e.YNc(34,ft,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(35,"div",6),e.TgZ(36,"mat-form-field",7),e.TgZ(37,"mat-label"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"mat-select",13),e.NdJ("selectionChange",function(){return t.returnYears(null==t.FormCtrl.stageId?null:t.FormCtrl.stageId.value)}),e.TgZ(41,"mat-option",9),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.YNc(44,vt,2,2,"mat-option",10),e.qZA(),e.YNc(45,Ct,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(46,"div",6),e.TgZ(47,"mat-form-field",7),e.TgZ(48,"mat-label"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"mat-select",14),e.NdJ("selectionChange",function(){return t.returnTeacherSubjects(null==t.FormCtrl.yearId?null:t.FormCtrl.yearId.value)}),e.TgZ(52,"mat-option",9),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.YNc(55,Tt,2,2,"mat-option",10),e.qZA(),e.YNc(56,xt,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(57,"div",6),e.TgZ(58,"mat-form-field",7),e.TgZ(59,"mat-label"),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"mat-select",15),e.NdJ("selectionChange",function(){return t.GetUnits(null==t.FormCtrl.subjectId?null:t.FormCtrl.subjectId.value),t.GetUnitsForDetails()}),e.TgZ(63,"mat-option",9),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.YNc(66,It,2,2,"mat-option",10),e.qZA(),e.YNc(67,qt,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(68,"div",6),e.TgZ(69,"mat-form-field",7),e.TgZ(70,"mat-label"),e._uU(71),e.ALo(72,"translate"),e.qZA(),e.TgZ(73,"mat-select",16),e.NdJ("selectionChange",function(){return t.GetLessons(null==t.FormCtrl.UnitRevisionID?null:t.FormCtrl.UnitRevisionID.value)}),e.TgZ(74,"mat-option",9),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.YNc(77,yt,2,2,"mat-option",10),e.qZA(),e.YNc(78,Qt,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(79,"div",6),e.TgZ(80,"mat-form-field",7),e.TgZ(81,"mat-label"),e._uU(82),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"mat-select",17),e.TgZ(85,"mat-option",9),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.YNc(88,Ft,2,2,"mat-option",10),e.qZA(),e.YNc(89,wt,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(90,"div",6),e.TgZ(91,"mat-form-field",7),e.TgZ(92,"mat-label"),e._uU(93),e.ALo(94,"translate"),e.qZA(),e._UZ(95,"input",18),e.YNc(96,St,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(97,"div",19),e.TgZ(98,"mat-form-field",7),e.TgZ(99,"mat-label"),e._uU(100),e.ALo(101,"translate"),e.qZA(),e._UZ(102,"input",20),e.YNc(103,Yt,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(104,"div",19),e.TgZ(105,"mat-form-field",7),e.TgZ(106,"mat-label"),e._uU(107),e.ALo(108,"translate"),e.qZA(),e._UZ(109,"input",21),e.YNc(110,Vt,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(111,"div",19),e.TgZ(112,"mat-form-field",7),e.TgZ(113,"mat-label"),e._uU(114),e.ALo(115,"translate"),e.qZA(),e._UZ(116,"input",22),e.YNc(117,Mt,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(118,"div",6),e.TgZ(119,"mat-form-field",7),e.TgZ(120,"mat-label"),e._uU(121),e.ALo(122,"translate"),e.qZA(),e.TgZ(123,"mat-select",23),e.NdJ("selectionChange",function(){return t.FormCtrl.priceDiscountType.value?t.FormCtrl.priceDiscount.enable():t.FormCtrl.priceDiscount.disable()}),e.TgZ(124,"mat-option",9),e._uU(125),e.ALo(126,"translate"),e.qZA(),e.TgZ(127,"mat-option",24),e._uU(128,"\u0639\u0627\u0645"),e.qZA(),e.TgZ(129,"mat-option",25),e._uU(130,"\u062e\u0627\u0635"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(131,"div",6),e.TgZ(132,"mat-form-field",7),e.TgZ(133,"mat-label"),e._uU(134),e.ALo(135,"translate"),e.qZA(),e._UZ(136,"input",26),e.qZA(),e.qZA(),e.TgZ(137,"div",6),e.TgZ(138,"mat-form-field",7),e.TgZ(139,"mat-label"),e._uU(140),e.ALo(141,"translate"),e.qZA(),e._UZ(142,"input",27),e._UZ(143,"mat-datepicker-toggle",28),e._UZ(144,"mat-datepicker",null,29),e.qZA(),e.qZA(),e.TgZ(146,"div",6),e.TgZ(147,"mat-form-field",7),e.TgZ(148,"mat-label"),e._uU(149),e.ALo(150,"translate"),e.qZA(),e._UZ(151,"input",30),e._UZ(152,"mat-datepicker-toggle",28),e._UZ(153,"mat-datepicker",null,31),e.qZA(),e.qZA(),e.TgZ(155,"div",6),e.TgZ(156,"mat-form-field",7),e.TgZ(157,"mat-label"),e._uU(158),e.ALo(159,"translate"),e.qZA(),e._UZ(160,"input",32),e.qZA(),e.qZA(),e.TgZ(161,"div",6),e.TgZ(162,"mat-form-field",7),e.TgZ(163,"mat-label"),e._uU(164),e.ALo(165,"translate"),e.qZA(),e._UZ(166,"input",33),e.qZA(),e.qZA(),e.TgZ(167,"div",6),e.TgZ(168,"mat-form-field",7),e.TgZ(169,"mat-label"),e._uU(170),e.ALo(171,"translate"),e.qZA(),e._UZ(172,"input",34),e._UZ(173,"mat-datepicker-toggle",28),e._UZ(174,"mat-datepicker",null,35),e.qZA(),e.qZA(),e.TgZ(176,"div",6),e.TgZ(177,"mat-form-field",7),e.TgZ(178,"mat-label"),e._uU(179),e.ALo(180,"translate"),e.qZA(),e._UZ(181,"input",36),e.qZA(),e.qZA(),e.TgZ(182,"div",6),e.TgZ(183,"mat-label"),e._uU(184),e.ALo(185,"translate"),e.qZA(),e.TgZ(186,"mat-radio-group",37),e.TgZ(187,"div",6),e.TgZ(188,"mat-radio-button",38),e._uU(189),e.ALo(190,"translate"),e.qZA(),e.qZA(),e.TgZ(191,"div",6),e.TgZ(192,"mat-radio-button",38),e._uU(193),e.ALo(194,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(195,"div",6),e.TgZ(196,"mat-label"),e._uU(197),e.ALo(198,"translate"),e.qZA(),e.TgZ(199,"mat-radio-group",39),e.TgZ(200,"div",6),e.TgZ(201,"mat-radio-button",40),e.NdJ("change",function(){return t.repeatableExamValidators()}),e._uU(202),e.ALo(203,"translate"),e.qZA(),e.qZA(),e.TgZ(204,"div",6),e.TgZ(205,"mat-radio-button",40),e.NdJ("change",function(){return t.repeatableExamValidators()}),e._uU(206),e.ALo(207,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(208,"div",6),e.TgZ(209,"mat-label"),e._uU(210),e.ALo(211,"translate"),e.qZA(),e.TgZ(212,"mat-radio-group",41),e.TgZ(213,"div",6),e.TgZ(214,"mat-radio-button",38),e._uU(215),e.ALo(216,"translate"),e.qZA(),e.qZA(),e.TgZ(217,"div",6),e.TgZ(218,"mat-radio-button",38),e._uU(219),e.ALo(220,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(221,"div",6),e.TgZ(222,"mat-label"),e._uU(223),e.ALo(224,"translate"),e.qZA(),e.TgZ(225,"mat-radio-group",42),e.TgZ(226,"div",6),e.TgZ(227,"mat-radio-button",38),e._uU(228),e.ALo(229,"translate"),e.qZA(),e.qZA(),e.TgZ(230,"div",6),e.TgZ(231,"mat-radio-button",38),e._uU(232),e.ALo(233,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(234,Wt,15,8,"ng-container",2),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(235,"mat-card-actions",43),e.YNc(236,Xt,3,3,"button",44),e.YNc(237,Kt,3,3,"button",44),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(238,_a,75,45,"div",45),e.YNc(239,Ta,42,33,"div",45)),2&a){var i=e.MAs(145),l=e.MAs(154),r=e.MAs(175);e.xp6(5),e.Q6J("ngIf",null==t.FormCtrl.Id.value),e.xp6(1),e.Q6J("ngIf",null!=t.FormCtrl.Id.value),e.xp6(1),e.Q6J("queryParams",e.VKq(157,Aa,t.functionId)),e.xp6(1),e.hij(" ",e.lcZ(9,79,"General.Back")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(8),e.hij(" ",e.lcZ(22,81,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.Presets),e.xp6(4),e.Oqu(e.lcZ(28,83,"Material.Teacher")),e.xp6(4),e.hij(" ",e.lcZ(32,85,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.Teachers),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.teacherUserIdCtrl?null:t.FormCtrl.teacherUserIdCtrl.invalid)&&((null==t.FormCtrl.teacherUserIdCtrl?null:t.FormCtrl.teacherUserIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(39,87,"Navbar.EducationalStage")),e.xp6(4),e.hij(" ",e.lcZ(43,89,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.stages),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.stageId?null:t.FormCtrl.stageId.invalid)&&((null==t.FormCtrl.stageId?null:t.FormCtrl.stageId.touched)||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(50,91,"labels.EducationalYear")," "),e.xp6(4),e.hij(" ",e.lcZ(54,93,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.years),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.yearId?null:t.FormCtrl.yearId.invalid)&&((null==t.FormCtrl.yearId?null:t.FormCtrl.yearId.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(61,95,"Material.Subjects")),e.xp6(4),e.hij(" ",e.lcZ(65,97,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.subjectId?null:t.FormCtrl.subjectId.invalid)&&((null==t.FormCtrl.subjectId?null:t.FormCtrl.subjectId.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(72,99,"labels.Unit")),e.xp6(4),e.hij(" ",e.lcZ(76,101,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.UnitRevisionID?null:t.FormCtrl.UnitRevisionID.invalid)&&((null==t.FormCtrl.UnitRevisionID?null:t.FormCtrl.UnitRevisionID.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(83,103,"labels.Lesson")),e.xp6(4),e.hij(" ",e.lcZ(87,105,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.lessons),e.xp6(1),e.Q6J("ngIf",(null==t.FormCtrl.LessonID?null:t.FormCtrl.LessonID.invalid)&&((null==t.FormCtrl.LessonID?null:t.FormCtrl.LessonID.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(94,107,"labels.TemplateName")),e.xp6(3),e.Q6J("ngIf",(null==t.FormCtrl.Name?null:t.FormCtrl.Name.invalid)&&((null==t.FormCtrl.Name?null:t.FormCtrl.Name.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(101,109,"labels.ExamHours")),e.xp6(3),e.Q6J("ngIf",(null==t.FormCtrl.exam_hour?null:t.FormCtrl.exam_hour.invalid)&&((null==t.FormCtrl.exam_hour?null:t.FormCtrl.exam_hour.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(108,111,"labels.ExamMinute")),e.xp6(3),e.Q6J("ngIf",(null==t.FormCtrl.exam_minute?null:t.FormCtrl.exam_minute.invalid)&&((null==t.FormCtrl.exam_minute?null:t.FormCtrl.exam_minute.touched)||t.submitted)),e.xp6(4),e.hij("",e.lcZ(115,113,"labels.ExamPrice")," "),e.xp6(3),e.Q6J("ngIf",(null==t.FormCtrl.price?null:t.FormCtrl.price.invalid)&&((null==t.FormCtrl.price?null:t.FormCtrl.price.touched)||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(122,115,"labels.DiscountType")," "),e.xp6(4),e.hij("",e.lcZ(126,117,"General.Choose")," "),e.xp6(9),e.hij(" ",e.lcZ(135,119,"labels.Discount")," "),e.xp6(6),e.hij(" ",e.lcZ(141,121,"labels.FromDate"),""),e.xp6(2),e.Q6J("matDatepicker",i),e.xp6(1),e.Q6J("for",i),e.xp6(6),e.hij(" ",e.lcZ(150,123,"labels.ToDate"),""),e.xp6(2),e.Q6J("matDatepicker",l),e.xp6(1),e.Q6J("for",l),e.xp6(6),e.Oqu(e.lcZ(159,125,"labels.FromTime")),e.xp6(6),e.Oqu(e.lcZ(165,127,"labels.ToTime")),e.xp6(6),e.hij(" ",e.lcZ(171,129,"labels.ExamResultDate"),""),e.xp6(2),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(6),e.hij(" ",e.lcZ(180,131,"labels.examResultTime")," "),e.xp6(5),e.hij(" ",e.lcZ(185,133,"labels.SellExamOnly")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(190,135,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(194,137,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(198,139,"labels.RepeatedExam")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(203,141,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(207,143,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(211,145,"Navbar.SendWhatsappMsg")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(216,147,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(220,149,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(224,151,"labels.CustomDiscount")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(229,153,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(233,155,"labels.Yes")," "),e.xp6(2),e.Q6J("ngIf",1==(null==t.FormCtrl.repeatableExam?null:t.FormCtrl.repeatableExam.value)),e.xp6(2),e.Q6J("ngIf",null==t.FormCtrl.Id.value),e.xp6(1),e.Q6J("ngIf",null!=t.FormCtrl.Id.value),e.xp6(1),e.Q6J("ngIf",null!=t.FormCtrl.Id.value),e.xp6(1),e.Q6J("ngIf",null!=t.FormCtrl.Id.value)}},directives:[U.Ro,Z.a8,Z.n5,b.O5,E.zs,q.yS,Z.dn,c._Y,c.JL,c.sg,I.KE,I.hX,ve.gD,c.JJ,c.u,Ze.ey,b.sg,H.Nt,c.Fj,c.wV,qe.hl,qe.nW,I.R9,qe.Mq,$.VQ,$.U0,Z.hq,I.bx,E.lW,we.gM,be.Hw,Ae.LS,Se.Lv],pipes:[P.X$,Ae._s],styles:[""]}),n}(),Ee=C(7762),Ce=function(){var n=function(){function o(a){(0,D.Z)(this,o),this.http=a}return(0,L.Z)(o,[{key:"getTeachersByEducompId",value:function(t){return this.http.get("".concat(T.N.apiURL,"Admin/QuestionsBank/").concat(t))}},{key:"downloadQuestion",value:function(t){return this.http.get("".concat(T.N.apiURL,"Exam/downloadAttachPerfectAnswer}/").concat(t))}},{key:"getQuestions",value:function(t,i,l){return this.http.post("".concat(T.N.apiURL,"Admin/QuestionsBankTable/").concat(t,"/").concat(i),l)}},{key:"getQuestionByID",value:function(t){return this.http.get("".concat(T.N.apiURL,"Admin/get-question-bank/").concat(t))}},{key:"addEditQuestion",value:function(t,i){return this.http.post("".concat(T.N.apiURL,"Admin/question-bank-add-edit/").concat(t),i)}},{key:"updateQuestion",value:function(t,i){return this.http.put("".concat(T.N.apiURL,"Admin/QuestionsBank/").concat(t),i)}},{key:"deleteQuestion",value:function(t,i){return this.http.post("".concat(T.N.apiURL,"Admin/removeQuestionBank/").concat(t,"/").concat(i),null)}},{key:"getSubjectsByTeacherId",value:function(t){return this.http.post("".concat(T.N.apiURL,"Admin/get-lectures-by-teacher-query"),t)}},{key:"getAllNormalExams",value:function(t){return this.http.post(T.N.apiURL+"exam/returnRecentlyAddedExams",t)}},{key:"publishExam",value:function(t){return this.http.get("".concat(T.N.apiURL,"exam/publish-depublish-exam/").concat(t))}},{key:"deleteExam",value:function(t){return this.http.delete("".concat(T.N.apiURL,"Admin/RemoveExam/").concat(t))}},{key:"getAllCountries",value:function(){return this.http.get(T.N.apiURL+"country/return-countries")}},{key:"getAllStages",value:function(t){return this.http.get("".concat(T.N.apiURL,"stage/return-stages/").concat(t))}},{key:"getAllEducationYears",value:function(t){return this.http.get("".concat(T.N.apiURL,"year/return-years/").concat(t))}},{key:"getAllSubjects",value:function(t){return this.http.get("".concat(T.N.apiURL,"subject/return-subjects/").concat(t))}},{key:"getAllTeachersBySublectId",value:function(t){return this.http.get("".concat(T.N.apiURL,"teacher/return-teachers/").concat(t))}},{key:"getAllUnitsBySublectId",value:function(t){return this.http.get("".concat(T.N.apiURL,"unit/return-units/").concat(t))}},{key:"getAllLessonsByUnitId",value:function(t){return this.http.get("".concat(T.N.apiURL,"lesson/return-lesson/").concat(t))}},{key:"getAllExamType",value:function(){return this.http.get(T.N.apiURL+"exam/return-exam-types")}},{key:"getExamById",value:function(t){return this.http.get("".concat(T.N.apiURL,"exam/get-exam-by-id/").concat(t))}},{key:"getExamDetailsById",value:function(t){return this.http.get("".concat(T.N.apiURL,"Exam/Details/").concat(t))}},{key:"addExam",value:function(t){return this.http.post(T.N.apiURL+"exam/add-exam",t)}},{key:"getAllQuestionGroups",value:function(){return this.http.get(T.N.apiURL+"exam/return-question-groups")}},{key:"getAllQuestionHeaders",value:function(){return this.http.get(T.N.apiURL+"exam/return-question-heads")}},{key:"addExamGroupHeader",value:function(t){return this.http.post("".concat(T.N.apiURL,"exam/add-question-group-head"),t)}},{key:"editExamGroupHeader",value:function(t){return this.http.post(T.N.apiURL+"exam/EditQuestionHead",t)}},{key:"deleteExamGroupHeader",value:function(t){return this.http.get("".concat(T.N.apiURL,"exam/delete-exam-head-by-id/").concat(t))}},{key:"getAllGroupHeaderByExamId",value:function(t){return this.http.get("".concat(T.N.apiURL,"exam/GetQuestionHeadGroupByExamId/").concat(t))}},{key:"getAllQuestionsByHeadId",value:function(t){return this.http.get("".concat(T.N.apiURL,"exam/GetExamQuestionsByQuestionHead/").concat(t))}},{key:"addQuestion",value:function(t){return this.http.post(T.N.apiURL+"exam/add-exam-questions",t)}},{key:"getQuestionForEditByID",value:function(t){return this.http.get("".concat(T.N.apiURL,"exam/return-question-details/").concat(t))}},{key:"editQuestion",value:function(t){return this.http.post(T.N.apiURL+"exam/edit-exam-questions",t)}},{key:"deleteExamQuestion",value:function(t){return this.http.delete("".concat(T.N.apiURL,"exam/RemoveExamQuestion/").concat(t))}},{key:"getExamPoints",value:function(t,i){return this.http.get("".concat(T.N.apiURL,"exam/returnCustomPointExamByExamId/").concat(t,"/").concat(i))}},{key:"addExamPoint",value:function(t){return this.http.post(T.N.apiURL+"exam/CustomExamPoint",t)}},{key:"deleteExamPoint",value:function(t){return this.http.delete("".concat(T.N.apiURL,"exam/DeleteCustomExamPoint/").concat(t))}},{key:"UploadExamStudentGrades",value:function(t){return this.http.post("".concat(T.N.apiURL,"Exam/postStudentsExamsGrades"),t)}},{key:"getQuestionByCorrectionType",value:function(t,i){return this.http.get("".concat(T.N.apiURL,"Exam/CorrectionIndexPaging/").concat(t,"/").concat(i))}},{key:"submitCorrection",value:function(t){return this.http.post("".concat(T.N.apiURL,"/Exam/submitQuestionCorrection"),t)}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.LFG(Ve.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),Ia=C(5792),Ge=C(7446);function ba(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function qa(n,o){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,ba,3,3,"span",29),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.question_type_id||null==a.question_type_id.errors?null:a.question_type_id.errors.required)}}function ya(n,o){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.teacherUserId),e.xp6(1),e.hij(" ",a.teacher_ar_name," ")}}function Ua(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function Qa(n,o){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,Ua,3,3,"span",29),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.teacherUserId||null==a.teacherUserId.errors?null:a.teacherUserId.errors.required)}}function Fa(n,o){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function Na(n,o){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function wa(n,o){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function Ea(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ka(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Sa(n,o){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,Ea,3,3,"span",29),e.YNc(2,ka,3,3,"span",29),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.mark||null==a.mark.errors?null:a.mark.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.mark||null==a.mark.errors?null:a.mark.errors.minusNum)}}function La(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Da(n,o){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,La,3,3,"span",29),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==a.question_ar_text||null==a.question_ar_text.errors?null:a.question_ar_text.errors.required)||(null==a.question_ar_text||null==a.question_ar_text.errors?null:a.question_ar_text.errors.whiteSpace))}}function Ya(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Ja(n,o){if(1&n&&(e.TgZ(0,"mat-hint",32),e.YNc(1,Ya,3,3,"span",29),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==a.perfect_answer||null==a.perfect_answer.errors?null:a.perfect_answer.errors.required)||(null==a.perfect_answer||null==a.perfect_answer.errors?null:a.perfect_answer.errors.whiteSpace))}}function ja(n,o){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-form-field",9),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",33),e.YNc(6,Ja,2,1,"mat-hint",12),e.qZA(),e.qZA()),2&n){var a=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,2,"labels.perfect_answer")," "),e.xp6(3),e.Q6J("ngIf",a.perfect_answer.invalid&&(a.perfect_answer.touched||a.submitted))}}function Va(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"mat-card",38),e.TgZ(1,"mat-card-subtitle"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-card-content",39),e.TgZ(5,"div",2),e.TgZ(6,"div",0),e.TgZ(7,"mat-form-field",9),e.TgZ(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",40),e.qZA(),e.qZA(),e.TgZ(12,"div",0),e.TgZ(13,"div",2),e.TgZ(14,"div",22),e.TgZ(15,"mat-label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"input",23),e.NdJ("change",function(r){var u=e.CHM(a).index;return e.oxw(2).onChange(r,u)}),e.qZA(),e.qZA(),e.TgZ(19,"div",24),e.TgZ(20,"div",25),e.TgZ(21,"mat-checkbox",26),e._uU(22," Remove Image "),e.qZA(),e._UZ(23,"img",27),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=o.$implicit,i=o.index;e.xp6(2),e.AsE(" ",e.lcZ(3,9,"labels.AnswerNumber"),"(",i+1,") "),e.xp6(2),e.Q6J("formGroupName",i),e.xp6(5),e.AsE(" ",e.lcZ(10,11,"labels.AnswerText"),"(",i+1,") "),e.xp6(7),e.AsE(" ",e.lcZ(17,13,"labels.AnswerPic")," (",i+1,") "),e.xp6(5),e.Q6J("value",!0),e.xp6(2),e.Q6J("src",null==t.value?null:t.value.ChoiceAttachPath,e.LSH)}}function Ga(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Va,24,15,"mat-card",34),e.TgZ(2,"mat-card",35),e.TgZ(3,"mat-card-title"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"mat-card-content"),e.TgZ(7,"mat-radio-group",36),e.TgZ(8,"div",37),e.TgZ(9,"mat-radio-button",11),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.qZA(),e.TgZ(12,"div",37),e.TgZ(13,"mat-radio-button",11),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.TgZ(16,"div",37),e.TgZ(17,"mat-radio-button",11),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.TgZ(20,"div",37),e.TgZ(21,"mat-radio-button",11),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.choices.controls),e.xp6(3),e.hij(" ",e.lcZ(5,10,"labels.ChooseCorrectAnswer")," "),e.xp6(5),e.Q6J("value",0),e.xp6(1),e.hij(" ",e.lcZ(11,12,"labels.AnswerOne")," "),e.xp6(3),e.Q6J("value",1),e.xp6(1),e.hij(" ",e.lcZ(15,14,"labels.AnswerTwo")," "),e.xp6(3),e.Q6J("value",2),e.xp6(1),e.hij(" ",e.lcZ(19,16,"labels.AnswerThree")," "),e.xp6(3),e.Q6J("value",3),e.xp6(1),e.hij(" ",e.lcZ(23,18,"labels.AnswerFour")," ")}}function Pa(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){return e.CHM(a),e.oxw().addUpdateQuestion()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function Ma(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){return e.CHM(a),e.oxw().addUpdateQuestion()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Update")," "))}var Oa=function(o){return{functionId:o}},Ba=function(o){return{previousSearch:o}},Ra=function(){var n=function(){function o(a,t,i,l,r,s,u,m,d,_){var p=this;(0,D.Z)(this,o),this.router=a,this.route=t,this.fb=i,this.toastr=l,this.spinner=r,this.authService=s,this.examsService=u,this.GeneralService=m,this.datePipe=d,this.EducationalService=_,this.questionID=null,this.submitted=!1,this.QuestionAttachPath=null,this.perfectAnswerAttach_preview=null,this.questionsInputs=[{choice_id:0,choice_text:null,thumbnailPic:null,ChoiceAttachPath:null,remove_image:!1},{choice_id:1,choice_text:null,thumbnailPic:null,ChoiceAttachPath:null,remove_image:!1},{choice_id:2,choice_text:null,thumbnailPic:null,ChoiceAttachPath:null,remove_image:!1},{choice_id:3,choice_text:null,thumbnailPic:null,ChoiceAttachPath:null,remove_image:!1}],this.route.queryParamMap.subscribe(function(h){var g;p.questionID=h.get("questionId"),p.previousSearch=null===(g=p.router.getCurrentNavigation().extras.state)||void 0===g?void 0:g.previousSearch,p.functionId=Number(h.get("functionId")),p.functionId&&p.authService.getUserRowFunctions(p.functionId).subscribe(function(v){v&&(p.rowFunctions=v)}),p.questionID&&p.getQuestionByID(p.questionID)})}return(0,L.Z)(o,[{key:"choices",get:function(){return this.myForm.get("choices")}},{key:"QuestionId",get:function(){return this.myForm.get("questionBank.question.id")}},{key:"question_type_id",get:function(){return this.myForm.get("questionBank.question.question_type_id")}},{key:"teacherUserId",get:function(){return this.myForm.get("questionBank.question.teacherUserId")}},{key:"picked_choice_index",get:function(){return this.myForm.get("picked_choice_index")}},{key:"QuestionBankId",get:function(){return this.myForm.get("questionBank.Id")}},{key:"main_subject_id",get:function(){return this.myForm.get("questionBank.main_subject_id")}},{key:"question_id",get:function(){return this.myForm.get("questionBank.question_id")}},{key:"Id",get:function(){return this.myForm.get("questionBank.Id")}},{key:"unitId",get:function(){return this.myForm.get("questionBank.unitId")}},{key:"lessonId",get:function(){return this.myForm.get("questionBank.lessonId")}},{key:"topicId",get:function(){return this.myForm.get("questionBank.topicId")}},{key:"difficulty_level",get:function(){return this.myForm.get("questionBank.difficulty_level")}},{key:"question_ar_text",get:function(){return this.myForm.get("questionBank.question.question_ar_text")}},{key:"perfect_answer",get:function(){return this.myForm.get("questionBank.question.perfect_answer")}},{key:"prefectAnswerAttach",get:function(){return this.myForm.get("questionBank.question.prefectAnswerAttach")}},{key:"mark",get:function(){return this.myForm.get("questionBank.mark")}},{key:"remove_image",get:function(){return this.myForm.get("questionBank.question.remove_image")}},{key:"thumbnailPic",get:function(){return this.myForm.get("questionBank.question.thumbnailPic")}},{key:"FormCtrl",get:function(){return this.myForm.controls}},{key:"ngOnInit",value:function(){this.EduCompId=this.authService.getEduCompId(),this.branchId=this.authService.getBranchId(),this.getTeachersByEducompId(this.EduCompId),this.myForm=this.fb.group({questionBank:this.fb.group({Id:0,main_subject_id:[null,c.kI.required],unitId:[""],lessonId:[""],topicId:[""],mark:[,[c.kI.required,F.w.minusNum]],difficulty_level:["1",[c.kI.required]],question_id:[0],question:this.fb.group({id:[0,[c.kI.required]],question_type_id:["",c.kI.required],teacherUserId:[""],question_ar_text:[null],perfect_answer:[""],prefectAnswerAttach:[null],remove_image:[!1],thumbnailPic:[null]})}),picked_choice_index:[-1],choices:this.fb.array([])}),this.changeQuestionType(),this.setDefaultChoises()}},{key:"ngAfterViewInit",value:function(){var t=this;this.authService.EduCompId.subscribe(function(i){t.EduCompId=i.EduCompId,t.getTeachersByEducompId(i.EduCompId)}),this.authService.branchId.subscribe(function(i){t.branchId=i.branchId})}},{key:"setDefaultChoises",value:function(){var t=this;this.questionsInputs.map(function(i){return t.choices.push(t.fb.group({choice_id:i.choice_id,choice_text:i.choice_text,thumbnailPic:i.thumbnailPic,remove_image:i.remove_image}))})}},{key:"getQuestionByID",value:function(t){var i=this;this.spinner.show(),this.examsService.getQuestionByID(t).subscribe(function(l){var r,s,u,m,d,_,p,h,g,v,x,A,y,Q,k,Y;if(null!=l.QuestionId)if(null===(r=i.teacherUserId)||void 0===r||r.enable(),i.GetUnits(l.SubjectId),i.GetLessons(l.UnitId),i.GetTopics(l.LessonId),null===(s=i.teacherUserId)||void 0===s||s.setValue(l.TeacherUserId),null===(u=i.main_subject_id)||void 0===u||u.setValue(l.SubjectId),null===(m=i.QuestionBankId)||void 0===m||m.setValue(l.QuestionBankId),null===(d=i.QuestionId)||void 0===d||d.setValue(l.QuestionId),null===(_=i.question_id)||void 0===_||_.setValue(l.QuestionId),null===(p=i.question_type_id)||void 0===p||p.setValue(l.QuestionTypeId),null===(h=i.unitId)||void 0===h||h.setValue(String(l.UnitId)),null===(g=i.lessonId)||void 0===g||g.setValue(String(l.LessonId)),null===(v=i.topicId)||void 0===v||v.setValue(String(l.TopicId)),null===(x=i.difficulty_level)||void 0===x||x.setValue(l.DifficultyLevel),null===(A=i.question_ar_text)||void 0===A||A.setValue(l.QuestionTextAr),null===(y=i.perfect_answer)||void 0===y||y.setValue(l.PerfectAnswer),null===(Q=i.mark)||void 0===Q||Q.setValue(l.Mark),null===(k=i.thumbnailPic)||void 0===k||k.setValue(l.QuestionAttachId),i.QuestionAttachPath=null!=l.QuestionAttachPath?"mozakretyapi"+l.QuestionAttachPath:null,0!=l.Choices.length){i.choices.clear(),i.questionsInputs=l.Choices,i.questionsInputs.map(function(N){return i.choices.push(i.fb.group({choice_id:N.ChoiceId,choice_text:N.ChoiceText,thumbnailPic:N.thumbnailPic,ChoiceAttachPath:null!=N.ChoiceAttachPath?"mozakretyapi"+N.ChoiceAttachPath:null,remove_image:N.remove_image||!1}))});var j,S=(0,Ee.Z)(l.Choices);try{for(S.s();!(j=S.n()).done;)if(1==j.value.IsCorrect){var G=l.Choices.findIndex(function(N){return!0===N.IsCorrect});null===(Y=i.picked_choice_index)||void 0===Y||Y.setValue(G)}}catch(N){S.e(N)}finally{S.f()}}else i.setDefaultChoises();i.spinner.hide()})}},{key:"addUpdateQuestion",value:function(){var i,l,t=this;if(this.submitted=!0,console.log("valid?: ",this.myForm.valid),2==(null===(i=this.question_type_id)||void 0===i?void 0:i.value)||3==(null===(l=this.question_type_id)||void 0===l?void 0:l.value)){if(null==this.question_ar_text.value&&null==this.thumbnailPic.value&&!this.QuestionAttachPath)return void this.toastr.warning("Must Enter question text or picture");if(null==this.choices.value[0].thumbnailPic&&null==this.choices.value[0].choice_text&&!this.choices.value[0].ChoiceAttachPath)return void this.toastr.warning("Must Enter answer 1 text or picture");if(null==this.choices.value[1].thumbnailPic&&null==this.choices.value[1].choice_text&&!this.choices.value[1].ChoiceAttachPath)return void this.toastr.warning("Must Enter answer 2 text or picture");if(null==this.choices.value[2].thumbnailPic&&null==this.choices.value[2].choice_text&&!this.choices.value[2].ChoiceAttachPath)return void this.toastr.warning("Must Enter answer 3 text or picture");if(null==this.choices.value[3].thumbnailPic&&null==this.choices.value[3].choice_text&&!this.choices.value[3].ChoiceAttachPath)return void this.toastr.warning("Must Enter answer 4 text or picture");if(this.picked_choice_index.value<0)return void this.toastr.warning("Must Choose Correct answer ");this.spinner.show(),this.examsService.addEditQuestion(this.EduCompId,this.myForm.value).subscribe(function(r){null!=r.questionId&&(t.question_id.setValue(r.questionId),t.questionID=r.questionId,0==t.Id.value&&t.picked_choice_index.setValue(-1),t.toastr.success("Question Added Successful")),t.spinner.hide()})}}},{key:"getTeachersByEducompId",value:function(t){var l,r,s,u,m,i=this;null!=t?this.GeneralService.getTeachersByEducompId(t).subscribe(function(d){var _;i.Teachers=d.lstTeachers,null===(_=i.teacherUserId)||void 0===_||_.enable()}):(null===(l=this.teacherUserId)||void 0===l||l.setValue(""),null===(r=this.teacherUserId)||void 0===r||r.disable(),null===(s=this.unitId)||void 0===s||s.disable(),null===(u=this.lessonId)||void 0===u||u.disable(),null===(m=this.topicId)||void 0===m||m.disable())}},{key:"GetUnits",value:function(t){var l,r,s,u,i=this;""!=t?this.EducationalService.GetUnits(t).subscribe(function(m){var d;i.units=m,null===(d=i.unitId)||void 0===d||d.enable()}):(null===(l=this.unitId)||void 0===l||l.setValue(""),null===(r=this.unitId)||void 0===r||r.disable(),null===(s=this.lessonId)||void 0===s||s.disable(),null===(u=this.topicId)||void 0===u||u.disable())}},{key:"GetLessons",value:function(t){var l,r,s,i=this;""!=t?this.EducationalService.GetLessons(t).subscribe(function(u){var m;i.lessons=u,null===(m=i.lessonId)||void 0===m||m.enable()}):(null===(l=this.lessonId)||void 0===l||l.setValue(""),null===(r=this.lessonId)||void 0===r||r.disable(),null===(s=this.topicId)||void 0===s||s.disable())}},{key:"GetTopics",value:function(t){var l,r,i=this;""!=t?this.EducationalService.GetTopics(t).subscribe(function(s){var u;i.topics=s,null===(u=i.topicId)||void 0===u||u.enable()}):(null===(l=this.topicId)||void 0===l||l.setValue(""),null===(r=this.topicId)||void 0===r||r.disable())}},{key:"changeQuestionType",value:function(){var t;null===(t=this.question_type_id)||void 0===t||t.valueChanges.subscribe(function(i){})}},{key:"changeValidators",value:function(){var t,i=null===(t=this.question_type_id)||void 0===t?void 0:t.value;(2==i||3==i)&&(this.perfect_answer.clearValidators(),this.perfect_answer.reset()),this.perfect_answer.updateValueAndValidity()}},{key:"clearMainQuestionImg",value:function(){var t;null===(t=this.thumbnailPic)||void 0===t||t.setValue(null),this.QuestionAttachPath=null}},{key:"onChange",value:function(t,i){var l=this,r=t.target.files[0].name,s=t.target.files[0].size,u=t.target.files[0].type,m=t.target.files[0].lastModified,d=t.target.files[0].lastModifiedDate;if(t.target.files){var _=new FileReader;_.readAsDataURL(t.target.files[0]),_.onload=function(p){var h,g=p.target.result,v={FileAsBase64:g,name:r,size:s,type:u,LastModified:m,LastModifiedDate:d};if(-1==i)null===(h=l.thumbnailPic)||void 0===h||h.setValue(v),l.QuestionAttachPath=g;else{var A,x=(0,Ee.Z)(l.choices.value);try{for(x.s();!(A=x.n()).done;){var y=A.value;if(l.choices.value.indexOf(y)===i){y.thumbnailPic=v,y.ChoiceAttachPath=g;break}}}catch(k){x.e(k)}finally{x.f()}}}}}},{key:"perfectAnswerAttach",value:function(t){var i=this,l=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,m=t.target.files[0].lastModifiedDate;if(t.target.files){var d=new FileReader;d.readAsDataURL(t.target.files[0]),d.onload=function(_){var h={FileAsBase64:_.target.result.replace("data:audio/mpeg;base64,","").replace("data:application/pdf;base64,",""),name:l,size:r,type:s,LastModified:u,LastModifiedDate:m};i.perfectAnswerAttach_preview=h.FileAsBase64,i.prefectAnswerAttach.setValue(h)}}}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(q.F0),e.Y36(q.gz),e.Y36(c.qu),e.Y36(R._W),e.Y36(U.t2),e.Y36(O.e),e.Y36(Ce),e.Y36(xe.m),e.Y36(b.uU),e.Y36(Ne.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-question"]],decls:127,vars:89,consts:[[1,"col-12"],[1,"content-header"],[1,"row"],["mat-raised-button","","routerLink","../index",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams","state"],[1,"container-fluid"],[1,"form-container",3,"formGroup"],["formGroupName","questionBank"],["formGroupName","question"],[1,"col-md-3","col-12"],["appearance","legacy"],["formControlName","question_type_id",3,"selectionChange"],[3,"value"],["class","text-danger",4,"ngIf"],["formControlName","teacherUserId"],[3,"value",4,"ngFor","ngForOf"],[3,"subjectControl","teacherIdControl","submitted","selectionChange"],["formControlName","unitId",3,"selectionChange"],["formControlName","lessonId",3,"selectionChange"],["formControlName","topicId"],["formControlName","difficulty_level"],["matInput","","type","number","formControlName","mark"],["matInput","","type","text","formControlName","question_ar_text"],[1,"col-md-4","col-12"],["type","file","accept","image/*",1,"form-control","font-dro","clearInputs",3,"change"],[1,"col-md-8","col-12"],[1,"question-img"],["formControlName","remove_image",1,"remove_image",3,"value"],[1,"img-fluid",3,"src"],["class","col-12",4,"ngIf"],[4,"ngIf"],["align","end"],["mat-raised-button","","class","btn btn-primary",3,"click",4,"ngIf"],[1,"text-danger"],["matInput","","type","text","formControlName","perfect_answer"],["formArrayName","choices","class","card bg-light",4,"ngFor","ngForOf"],[1,"bg-light-info"],["formControlName","picked_choice_index",1,"row"],[1,"col-3"],["formArrayName","choices",1,"card","bg-light"],[3,"formGroupName"],["matInput","","type","text","formControlName","choice_text"],["mat-raised-button","",1,"btn","btn-primary",3,"click"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",0),e.TgZ(7,"mat-card"),e.TgZ(8,"mat-card-title"),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"a",3),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.TgZ(14,"mat-card-content",4),e.TgZ(15,"div",2),e.TgZ(16,"div",0),e.TgZ(17,"form",5),e.ynx(18,6),e.TgZ(19,"div",2),e.ynx(20,7),e.TgZ(21,"div",8),e.TgZ(22,"mat-form-field",9),e.TgZ(23,"mat-label"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"mat-select",10),e.NdJ("selectionChange",function(){return t.changeQuestionType()}),e.TgZ(27,"mat-option"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-option",11),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"mat-option",11),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.qZA(),e.YNc(36,qa,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.TgZ(37,"div",8),e.TgZ(38,"mat-form-field",9),e.TgZ(39,"mat-label"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"mat-select",13),e.TgZ(43,"mat-option"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.YNc(46,ya,2,2,"mat-option",14),e.qZA(),e.YNc(47,Qa,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.BQk(),e.TgZ(48,"div",8),e.TgZ(49,"app-subjects-by-teacherid",15),e.NdJ("selectionChange",function(l){return t.GetUnits(l)}),e.qZA(),e.qZA(),e.TgZ(50,"div",8),e.TgZ(51,"mat-form-field",9),e.TgZ(52,"mat-label"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"mat-select",16),e.NdJ("selectionChange",function(){return t.GetLessons(null==t.unitId?null:t.unitId.value)}),e.TgZ(56,"mat-option"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.YNc(59,Fa,2,2,"mat-option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",8),e.TgZ(61,"mat-form-field",9),e.TgZ(62,"mat-label"),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"mat-select",17),e.NdJ("selectionChange",function(){return t.GetTopics(null==t.lessonId?null:t.lessonId.value)}),e.TgZ(66,"mat-option"),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.YNc(69,Na,2,2,"mat-option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",8),e.TgZ(71,"mat-form-field",9),e.TgZ(72,"mat-label"),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"mat-select",18),e.TgZ(76,"mat-option"),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.YNc(79,wa,2,2,"mat-option",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(80,"div",8),e.TgZ(81,"mat-form-field",9),e.TgZ(82,"mat-label"),e._uU(83),e.ALo(84,"translate"),e.qZA(),e.TgZ(85,"mat-select",19),e.TgZ(86,"mat-option"),e._uU(87),e.ALo(88,"translate"),e.qZA(),e.TgZ(89,"mat-option",11),e._uU(90,"\u0633\u0647\u0644"),e.qZA(),e.TgZ(91,"mat-option",11),e._uU(92,"\u0645\u062a\u0648\u0633\u0637"),e.qZA(),e.TgZ(93,"mat-option",11),e._uU(94,"\u0635\u0639\u0628"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(95,"div",8),e.TgZ(96,"mat-form-field",9),e.TgZ(97,"mat-label"),e._uU(98),e.ALo(99,"translate"),e.qZA(),e._UZ(100,"input",20),e.YNc(101,Sa,3,2,"mat-hint",12),e.qZA(),e.qZA(),e.ynx(102,7),e.TgZ(103,"div",0),e.TgZ(104,"mat-form-field",9),e.TgZ(105,"mat-label"),e._uU(106),e.ALo(107,"translate"),e.qZA(),e._UZ(108,"input",21),e.YNc(109,Da,2,1,"mat-hint",12),e.qZA(),e.qZA(),e.ynx(110),e.TgZ(111,"div",22),e.TgZ(112,"mat-label"),e._uU(113),e.ALo(114,"translate"),e.qZA(),e.TgZ(115,"input",23),e.NdJ("change",function(l){return t.onChange(l,-1)}),e.qZA(),e.qZA(),e.TgZ(116,"div",24),e.TgZ(117,"div",25),e.TgZ(118,"mat-checkbox",26),e._uU(119," Remove Image "),e.qZA(),e._UZ(120,"img",27),e.qZA(),e.qZA(),e.BQk(),e.YNc(121,ja,7,4,"div",28),e.BQk(),e.qZA(),e.BQk(),e._UZ(122,"hr"),e.YNc(123,Ga,24,20,"ng-container",29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(124,"mat-card-actions",30),e.YNc(125,Pa,3,3,"button",31),e.YNc(126,Ma,3,3,"button",31),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(3),e.hij(" ",e.lcZ(4,45,"Navbar.QuestionsBank")," "),e.xp6(6),e.hij(" ",e.lcZ(10,47,"labels.AddQuestion")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(85,Oa,t.functionId))("state",e.VKq(87,Ba,t.previousSearch)),e.xp6(1),e.hij(" ",e.lcZ(13,49,"General.Back")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(7),e.hij(" ",e.lcZ(25,51,"labels.QuestionType")," "),e.xp6(4),e.hij(" ",e.lcZ(29,53,"General.Choose")," "),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.hij(" ",e.lcZ(32,55,"labels.Article")," "),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.hij(" ",e.lcZ(35,57,"labels.Mcq")," "),e.xp6(2),e.Q6J("ngIf",(null==t.question_type_id?null:t.question_type_id.invalid)&&((null==t.question_type_id?null:t.question_type_id.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(41,59,"labels.Teacher")),e.xp6(4),e.Oqu(e.lcZ(45,61,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.Teachers),e.xp6(1),e.Q6J("ngIf",(null==t.teacherUserId?null:t.teacherUserId.invalid)&&((null==t.teacherUserId?null:t.teacherUserId.touched)||t.submitted)),e.xp6(2),e.Q6J("subjectControl",t.main_subject_id)("teacherIdControl",t.teacherUserId)("submitted",t.submitted),e.xp6(4),e.Oqu(e.lcZ(54,63,"labels.Unit")),e.xp6(4),e.Oqu(e.lcZ(58,65,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(4),e.Oqu(e.lcZ(64,67,"labels.Lesson")),e.xp6(4),e.hij(" ",e.lcZ(68,69,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.lessons),e.xp6(4),e.Oqu(e.lcZ(74,71,"labels.Topic")),e.xp6(4),e.hij(" ",e.lcZ(78,73,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.topics),e.xp6(4),e.Oqu(e.lcZ(84,75,"labels.Level")),e.xp6(4),e.hij(" ",e.lcZ(88,77,"General.Choose")," "),e.xp6(2),e.Q6J("value",1),e.xp6(2),e.Q6J("value",5),e.xp6(2),e.Q6J("value",10),e.xp6(5),e.hij(" ",e.lcZ(99,79,"labels.QuestionMark")," "),e.xp6(3),e.Q6J("ngIf",t.mark.invalid&&(t.mark.touched||t.submitted)),e.xp6(5),e.hij(" ",e.lcZ(107,81,"labels.question_ar_text")," "),e.xp6(3),e.Q6J("ngIf",t.question_ar_text.invalid&&(t.question_ar_text.touched||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(114,83,"labels.QuestionImage")," "),e.xp6(5),e.Q6J("value",!0),e.xp6(2),e.Q6J("src",t.QuestionAttachPath,e.LSH),e.xp6(1),e.Q6J("ngIf",1==t.question_type_id.value),e.xp6(2),e.Q6J("ngIf",2==t.question_type_id.value||3==t.question_type_id.value),e.xp6(2),e.Q6J("ngIf",0==t.QuestionId.value),e.xp6(1),e.Q6J("ngIf",t.QuestionId.value>0))},directives:[U.Ro,Z.a8,Z.n5,E.zs,q.yS,Z.dn,c._Y,c.JL,c.sg,c.x0,I.KE,I.hX,ve.gD,c.JJ,c.u,Ze.ey,b.O5,b.sg,Ia.I,H.Nt,c.wV,c.Fj,Ge.oG,Z.hq,I.bx,$.VQ,$.U0,c.CE,Z.$j,E.lW],pipes:[P.X$],styles:[".question-img[_ngcontent-%COMP%]{overflow:hidden!important;max-width:100%!important;max-height:156px!important}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:15px;color:#33a7d5}.remove_image[_ngcontent-%COMP%]{display:inline-block}"]}),n}(),z=C(6087),J=C(4847),f=C(2075);function Ha(n,o){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.teacherUserId),e.xp6(1),e.hij(" ",a.teacher_ar_name," ")}}function $a(n,o){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function za(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"mat-form-field",7),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-select",41),e.NdJ("selectionChange",function(){e.CHM(a);var l=e.oxw();return l.getYearsByStageId(l.FormCtrl.stageId.value)}),e.TgZ(6,"mat-option"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,$a,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"labels.Stage")),e.xp6(4),e.Oqu(e.lcZ(8,5,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.stages)}}function Wa(n,o){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text_Ar," ")}}function Xa(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"mat-form-field",7),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-select",42),e.NdJ("selectionChange",function(){e.CHM(a);var l=e.oxw();return l.getSubjectsByYearId(l.FormCtrl.yearId.value)}),e.TgZ(6,"mat-option"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,Wa,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"labels.Year")),e.xp6(4),e.Oqu(e.lcZ(8,5,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.years)}}function Ka(n,o){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.SubjectId),e.xp6(1),e.AsE(" ",a.SubjectName," - ",a.YearName," ")}}function en(n,o){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function tn(n,o){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function an(n,o){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function nn(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1,"#"),e.qZA())}function on(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.index;e.xp6(1),e.Oqu(a+1)}}function ln(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1,"ID"),e.qZA())}function rn(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.questionID)}}function sn(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.question_ar_text")," "))}function un(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.questionName)}}function mn(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.QuestionType")," "))}function dn(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.hij(" ",a.questionTypeArabicName," ")}}function cn(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Subject")," "))}function pn(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.subjectName)}}function _n(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Unit")," "))}function hn(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.unitName)}}function gn(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Lesson")," "))}function fn(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.lessonName)}}function vn(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Topic")," "))}function Zn(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.topicName)}}function Cn(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.QuestionMark")," "))}function Tn(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.mark)}}function An(n,o){1&n&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Level")," "))}function xn(n,o){if(1&n&&(e.TgZ(0,"td",44),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.levelName)}}function In(n,o){1&n&&e._UZ(0,"th",43)}var bn=function(o,a){return{questionId:o,functionId:a}},Pe=function(o){return{previousSearch:o}};function qn(n,o){if(1&n&&(e.TgZ(0,"a",48),e._UZ(1,"i",49),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.Q6J("queryParams",e.WLB(2,bn,a.questionID,t.functionId))("state",e.VKq(5,Pe,t.myForm.value))}}function yn(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"a",50),e.NdJ("click",function(){e.CHM(a);var i=e.oxw(2).$implicit;return e.oxw().openDeleateDialog(i)}),e._UZ(1,"i",51),e.qZA()}}function Un(n,o){if(1&n&&(e.ynx(0),e.YNc(1,qn,2,7,"a",46),e.YNc(2,yn,2,0,"a",47),e.BQk()),2&n){var a=o.$implicit;e.xp6(1),e.Q6J("ngIf","Edit"===a.functionName),e.xp6(1),e.Q6J("ngIf","Delete"===a.functionName)}}function Qn(n,o){if(1&n&&(e.TgZ(0,"td",44),e.YNc(1,Un,3,2,"ng-container",45),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.rowFunctions)}}function Fn(n,o){1&n&&e._UZ(0,"tr",52)}function Nn(n,o){1&n&&e._UZ(0,"tr",53)}function wn(n,o){if(1&n&&(e.TgZ(0,"tr",54),e.TgZ(1,"td",55),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var a=e.MAs(92);e.xp6(2),e.hij(' No data matching the filter "',a.value,'" ')}}var En=function(o){return{functionId:o}},kn=function(){return[10]},Sn=function(){var n=function(){function o(a,t,i,l,r,s,u,m,d,_){var p=this;(0,D.Z)(this,o),this.fb=a,this.toastr=t,this.authService=i,this.examService=l,this.GeneralService=r,this.EducationalService=s,this.spinner=u,this.dialog=m,this.route=d,this.router=_,this.displayedColumns=["#","questionID","questionText","questionType","subjectName","unitName","lessonName","topicName","mark","levelName","actions"],d.queryParamMap.subscribe(function(h){var g;p.previousSearch=null===(g=p.router.getCurrentNavigation().extras.state)||void 0===g?void 0:g.previousSearch,p.functionId=Number(h.get("functionId")),console.log("previousSearch",p.previousSearch),p.functionId&&p.authService.getUserRowFunctions(p.functionId).subscribe(function(v){v&&(p.rowFunctions=v)})})}return(0,L.Z)(o,[{key:"ngOnInit",value:function(){this.myForm=this.fb.group({teacherUserId:[""],stageId:[""],yearId:[""],subjectId:[""],unitId:[""],lessonId:[""],topicId:[""],questionID:[""]}),this.myForm.patchValue(this.previousSearch),console.log("myForm",this.myForm.value),this.EduCompId=this.authService.getEduCompId(),this.branchId=this.authService.getBranchId(),this.getTeachersByEducompId(this.EduCompId),this.getQuestions(1),this.FormCtrl.stageId.disable(),this.FormCtrl.yearId.disable(),this.FormCtrl.subjectId.disable(),this.FormCtrl.unitId.disable(),this.FormCtrl.lessonId.disable(),this.FormCtrl.topicId.disable()}},{key:"FormCtrl",get:function(){return this.myForm.controls}},{key:"ngAfterViewInit",value:function(){var t=this;this.authService.EduCompId.subscribe(function(i){t.EduCompId=i.EduCompId,t.getTeachersByEducompId(i.EduCompId),t.getQuestions(1)}),this.authService.branchId.subscribe(function(i){t.branchId=i.branchId}),this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getQuestions",value:function(t){var i=this;this.spinner.show(),this.examService.getQuestions(t,this.EduCompId,this.myForm.value).subscribe(function(l){i.dataSource=new f.by(l.returnModel),i.itemsCount=l.itemsCount,i.spinner.hide()})}},{key:"deleteQuestion",value:function(t){var i=this;this.spinner.show(),this.examService.deleteQuestion(this.EduCompId,t.questionID).subscribe(function(l){if(1==l.returnValue){var r=i.dataSource.data.findIndex(function(s){return s===t});i.dataSource.data.splice(r,1),i.dataSource.paginator=i.paginator,i.toastr.success("Done")}i.spinner.hide()})}},{key:"openDeleateDialog",value:function(t){var i=this;this.dialog.open(fe.F,{data:{msg:"".concat(t.questionID," - ").concat(t.questionTypeEnglishName)}}).afterClosed().subscribe(function(l){l&&i.deleteQuestion(t)})}},{key:"getTeachersByEducompId",value:function(t){var i=this;this.GeneralService.getTeachersByEducompId(t).subscribe(function(l){var r,s,u;i.Teachers=l.lstTeachers,1==l.lstTeachers.length&&null==(null===(r=i.previousSearch)||void 0===r?void 0:r.teacherUserId)?(i.FormCtrl.teacherUserId.setValue(l.lstTeachers[0].teacherUserId),i.getSubjectsByTeacherId()):null!=(null===(s=i.previousSearch)||void 0===s?void 0:s.teacherUserId)&&(i.FormCtrl.teacherUserId.setValue(null===(u=i.previousSearch)||void 0===u?void 0:u.teacherUserId),i.getSubjectsByTeacherId())})}},{key:"getSubjectsByTeacherId",value:function(){var i,l,t=this;this.FormCtrl.subjectId.setValue(""),this.FormCtrl.unitId.setValue(""),this.FormCtrl.lessonId.setValue(""),this.FormCtrl.topicId.setValue(""),(null===(i=this.FormCtrl.teacherUserId)||void 0===i?void 0:i.value)?this.examService.getSubjectsByTeacherId({teacherUserId:null===(l=this.FormCtrl.teacherUserId)||void 0===l?void 0:l.value}).subscribe(function(r){var s,u,m,d;t.subjects=r.lsts,t.FormCtrl.subjectId.enable(),1==r.lsts.length&&null==(null===(s=t.previousSearch)||void 0===s?void 0:s.subjectId)?(t.FormCtrl.subjectId.setValue(r.lsts[0].SubjectId),t.getUnitsBySubjectId(r.lsts[0].SubjectId)):null!=(null===(u=t.previousSearch)||void 0===u?void 0:u.subjectId)&&(t.FormCtrl.subjectId.setValue(null===(m=t.previousSearch)||void 0===m?void 0:m.subjectId),t.getUnitsBySubjectId(null===(d=t.previousSearch)||void 0===d?void 0:d.subjectId))}):(this.FormCtrl.subjectId.setValue(""),this.FormCtrl.subjectId.disable(),this.FormCtrl.unitId.disable(),this.FormCtrl.lessonId.disable(),this.FormCtrl.topicId.disable())}},{key:"getUnitsBySubjectId",value:function(t){var i=this;this.FormCtrl.unitId.setValue(""),this.FormCtrl.lessonId.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetUnits(t).subscribe(function(l){var r,s,u,m;i.units=l,i.FormCtrl.unitId.enable(),1==l.length&&null==(null===(r=i.previousSearch)||void 0===r?void 0:r.unitId)?(i.FormCtrl.unitId.setValue(l[0].Value),i.getLessonsByUnitId(l[0].Value)):null!=(null===(s=i.previousSearch)||void 0===s?void 0:s.unitId)&&(i.FormCtrl.unitId.setValue(null===(u=i.previousSearch)||void 0===u?void 0:u.unitId),i.getLessonsByUnitId(null===(m=i.previousSearch)||void 0===m?void 0:m.unitId))}):(this.FormCtrl.unitId.setValue(""),this.FormCtrl.unitId.disable(),this.FormCtrl.lessonId.disable(),this.FormCtrl.topicId.disable())}},{key:"getLessonsByUnitId",value:function(t){var i=this;this.FormCtrl.lessonId.setValue(""),this.FormCtrl.topicId.setValue(""),""!=t?this.EducationalService.GetLessons(t).subscribe(function(l){var r,s,u,m;i.lessons=l,i.FormCtrl.lessonId.enable(),1==l.length&&null==(null===(r=i.previousSearch)||void 0===r?void 0:r.lessonId)?(i.FormCtrl.lessonId.setValue(l[0].Value),i.GetTopicsByLessonId(l[0].Value)):null!=(null===(s=i.previousSearch)||void 0===s?void 0:s.lessonId)&&(i.FormCtrl.lessonId.setValue(null===(u=i.previousSearch)||void 0===u?void 0:u.lessonId),i.GetTopicsByLessonId(null===(m=i.previousSearch)||void 0===m?void 0:m.lessonId))}):(this.FormCtrl.lessonId.setValue(""),this.FormCtrl.lessonId.disable(),this.FormCtrl.topicId.disable())}},{key:"GetTopicsByLessonId",value:function(t){var i=this;this.FormCtrl.topicId.setValue(""),this.FormCtrl.lessonId.value?this.EducationalService.GetTopics(t).subscribe(function(l){var r,s,u;i.topics=l,i.FormCtrl.topicId.enable(),1==l.length&&null==(null===(r=i.previousSearch)||void 0===r?void 0:r.topicId)?i.FormCtrl.topicId.setValue(l[0].Value):null!=(null===(s=i.previousSearch)||void 0===s?void 0:s.topicId)&&i.FormCtrl.topicId.setValue(null===(u=i.previousSearch)||void 0===u?void 0:u.topicId)}):(this.FormCtrl.topicId.setValue(""),this.FormCtrl.topicId.disable())}},{key:"resetManual",value:function(){this.myForm.controls.teacherUserId.setValue(""),this.myForm.controls.yearId.setValue(""),this.myForm.controls.stageId.setValue(""),this.myForm.controls.subjectId.setValue(""),this.myForm.controls.unitId.setValue(""),this.myForm.controls.lessonId.setValue(""),this.myForm.controls.topicId.setValue("")}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(c.qu),e.Y36(R._W),e.Y36(O.e),e.Y36(Ce),e.Y36(xe.m),e.Y36(Ne.i),e.Y36(U.t2),e.Y36(w.uw),e.Y36(q.gz),e.Y36(q.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-questions-index"]],viewQuery:function(a,t){var i;1&a&&(e.Gf(z.NW,5),e.Gf(J.YE,5)),2&a&&(e.iGM(i=e.CRH())&&(t.paginator=i.first),e.iGM(i=e.CRH())&&(t.sort=i.first))},decls:132,vars:67,consts:[[1,"col-12"],[1,"content-header"],[1,"row"],["mat-raised-button","","routerLink","../add-question",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams","state"],[1,"container-fluid"],[1,"form-container",3,"formGroup"],[1,"col-md-3","col-12"],["appearance","legacy"],["formControlName","teacherUserId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-3 col-12",4,"ngIf"],["formControlName","subjectId",3,"selectionChange"],["formControlName","unitId",3,"selectionChange"],["formControlName","lessonId",3,"selectionChange"],["formControlName","topicId"],["matInput","","type","text","formControlName","questionID"],["align","end"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","questionID"],["matColumnDef","questionText"],["matColumnDef","questionType"],["matColumnDef","subjectName"],["matColumnDef","unitName"],["matColumnDef","lessonName"],["matColumnDef","topicName"],["matColumnDef","mark"],["matColumnDef","levelName"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","length","pageSize","page"],[3,"value"],["formControlName","stageId",3,"selectionChange"],["formControlName","yearId",3,"selectionChange"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngFor","ngForOf"],["class","success p-0","matTooltip","Edit","routerLink","../add-question",3,"queryParams","state",4,"ngIf"],["class","danger p-0","matTooltip","Delete",3,"click",4,"ngIf"],["matTooltip","Edit","routerLink","../add-question",1,"success","p-0",3,"queryParams","state"],[1,"ft-edit-2","font-medium-3","mr-2"],["matTooltip","Delete",1,"danger","p-0",3,"click"],[1,"ft-trash","font-medium-3","mr-2"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",0),e.TgZ(7,"mat-card"),e.TgZ(8,"mat-card-title"),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"a",3),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.TgZ(14,"mat-card-content",4),e.TgZ(15,"div",2),e.TgZ(16,"div",0),e.TgZ(17,"form",5),e.TgZ(18,"div",2),e.TgZ(19,"div",6),e.TgZ(20,"mat-form-field",7),e.TgZ(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"mat-select",8),e.NdJ("selectionChange",function(){return t.getSubjectsByTeacherId()}),e.TgZ(25,"mat-option"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,Ha,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.YNc(29,za,10,7,"div",10),e.YNc(30,Xa,10,7,"div",10),e.TgZ(31,"div",6),e.TgZ(32,"mat-form-field",7),e.TgZ(33,"mat-label"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"mat-select",11),e.NdJ("selectionChange",function(){return t.getUnitsBySubjectId(t.FormCtrl.subjectId.value)}),e.TgZ(37,"mat-option"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.YNc(40,Ka,2,3,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",6),e.TgZ(42,"mat-form-field",7),e.TgZ(43,"mat-label"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"mat-select",12),e.NdJ("selectionChange",function(){return t.getLessonsByUnitId(t.FormCtrl.unitId.value)}),e.TgZ(47,"mat-option"),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.YNc(50,en,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",6),e.TgZ(52,"mat-form-field",7),e.TgZ(53,"mat-label"),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"mat-select",13),e.NdJ("selectionChange",function(){return t.GetTopicsByLessonId(t.FormCtrl.lessonId.value)}),e.TgZ(57,"mat-option"),e._uU(58),e.ALo(59,"translate"),e.qZA(),e.YNc(60,tn,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",6),e.TgZ(62,"mat-form-field",7),e.TgZ(63,"mat-label"),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"mat-select",14),e.TgZ(67,"mat-option"),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.YNc(70,an,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"div",6),e.TgZ(72,"mat-form-field",7),e.TgZ(73,"mat-label"),e._uU(74),e.ALo(75,"translate"),e.qZA(),e._UZ(76,"input",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(77,"mat-card-actions",16),e.TgZ(78,"button",17),e.NdJ("click",function(){return t.getQuestions(1)}),e._uU(79),e.ALo(80,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(81,"div",2),e.TgZ(82,"div",0),e.TgZ(83,"mat-card"),e.TgZ(84,"mat-card-title"),e._uU(85),e.ALo(86,"translate"),e.qZA(),e.TgZ(87,"mat-card-content"),e.TgZ(88,"mat-form-field",18),e.TgZ(89,"mat-label"),e._uU(90,"Filter"),e.qZA(),e.TgZ(91,"input",19,20),e.NdJ("keyup",function(l){return t.applyFilter(l)}),e.qZA(),e.qZA(),e.TgZ(93,"div",21),e.TgZ(94,"table",22),e.ynx(95,23),e.YNc(96,nn,2,0,"th",24),e.YNc(97,on,2,1,"td",25),e.BQk(),e.ynx(98,26),e.YNc(99,ln,2,0,"th",24),e.YNc(100,rn,2,1,"td",25),e.BQk(),e.ynx(101,27),e.YNc(102,sn,3,3,"th",24),e.YNc(103,un,2,1,"td",25),e.BQk(),e.ynx(104,28),e.YNc(105,mn,3,3,"th",24),e.YNc(106,dn,2,1,"td",25),e.BQk(),e.ynx(107,29),e.YNc(108,cn,3,3,"th",24),e.YNc(109,pn,2,1,"td",25),e.BQk(),e.ynx(110,30),e.YNc(111,_n,3,3,"th",24),e.YNc(112,hn,2,1,"td",25),e.BQk(),e.ynx(113,31),e.YNc(114,gn,3,3,"th",24),e.YNc(115,fn,2,1,"td",25),e.BQk(),e.ynx(116,32),e.YNc(117,vn,3,3,"th",24),e.YNc(118,Zn,2,1,"td",25),e.BQk(),e.ynx(119,33),e.YNc(120,Cn,3,3,"th",24),e.YNc(121,Tn,2,1,"td",25),e.BQk(),e.ynx(122,34),e.YNc(123,An,3,3,"th",24),e.YNc(124,xn,2,1,"td",25),e.BQk(),e.ynx(125,35),e.YNc(126,In,1,0,"th",24),e.YNc(127,Qn,2,1,"td",25),e.BQk(),e.YNc(128,Fn,1,0,"tr",36),e.YNc(129,Nn,1,0,"tr",37),e.YNc(130,wn,3,1,"tr",38),e.qZA(),e.TgZ(131,"mat-paginator",39),e.NdJ("page",function(l){return t.getQuestions(l.pageIndex+1)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(3),e.hij(" ",e.lcZ(4,30,"Navbar.QuestionsBank")," "),e.xp6(6),e.hij(" ",e.lcZ(10,32,"labels.QuestionsSearch")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(62,En,t.functionId))("state",e.VKq(64,Pe,t.myForm.value)),e.xp6(1),e.hij(" ",e.lcZ(13,34,"labels.AddQuestion")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.Oqu(e.lcZ(23,36,"labels.Teacher")),e.xp6(4),e.Oqu(e.lcZ(27,38,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.Teachers),e.xp6(6),e.Oqu(e.lcZ(35,40,"labels.Subject")),e.xp6(4),e.Oqu(e.lcZ(39,42,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(4),e.Oqu(e.lcZ(45,44,"labels.Unit")),e.xp6(4),e.Oqu(e.lcZ(49,46,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(4),e.Oqu(e.lcZ(55,48,"labels.Lesson")),e.xp6(4),e.hij(" ",e.lcZ(59,50,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.lessons),e.xp6(4),e.Oqu(e.lcZ(65,52,"labels.Topic")),e.xp6(4),e.hij(" ",e.lcZ(69,54,"General.Choose")," "),e.xp6(2),e.Q6J("ngForOf",t.topics),e.xp6(4),e.Oqu(e.lcZ(75,56,"labels.QuestionID")),e.xp6(5),e.hij(" ",e.lcZ(80,58,"General.Search")," "),e.xp6(6),e.hij(" ",e.lcZ(86,60,"labels.Questions"),""),e.xp6(9),e.Q6J("dataSource",t.dataSource),e.xp6(34),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(66,kn))("length",t.itemsCount)("pageSize",10))},directives:[U.Ro,Z.a8,Z.n5,E.zs,q.yS,Z.dn,c._Y,c.JL,c.sg,I.KE,I.hX,ve.gD,c.JJ,c.u,Ze.ey,b.sg,b.O5,H.Nt,c.Fj,Z.hq,E.lW,f.BZ,J.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.Ee,z.NW,f.ge,J.nU,f.ev,we.gM,f.XQ,f.Gk],pipes:[P.X$],styles:[""]}),n}(),Ln=C(567);function Dn(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Yn(n,o){if(1&n&&(e.TgZ(0,"mat-hint",29),e.YNc(1,Dn,3,3,"span",30),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==a.mainQuestionCtrl||null==a.mainQuestionCtrl.errors?null:a.mainQuestionCtrl.errors.required)||(null==a.mainQuestionCtrl||null==a.mainQuestionCtrl.errors?null:a.mainQuestionCtrl.errors.whiteSpace))}}function Jn(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function jn(n,o){if(1&n&&(e.TgZ(0,"mat-hint",29),e.YNc(1,Jn,3,3,"span",30),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.questionTypeIdCtrl||null==a.questionTypeIdCtrl.errors?null:a.questionTypeIdCtrl.errors.required)}}function Vn(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Gn(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Pn(n,o){if(1&n&&(e.TgZ(0,"mat-hint",29),e.YNc(1,Vn,3,3,"span",30),e.YNc(2,Gn,3,3,"span",30),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.questionMarkCtrl.errors?null:a.questionMarkCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.questionMarkCtrl.errors?null:a.questionMarkCtrl.errors.bigZero)}}function Mn(n,o){1&n&&(e.TgZ(0,"mat-checkbox",31),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function On(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Bn(n,o){if(1&n&&(e.TgZ(0,"mat-hint",29),e.YNc(1,On,3,3,"span",30),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==a.questionPerfectAnswerCtrl||null==a.questionPerfectAnswerCtrl.errors?null:a.questionPerfectAnswerCtrl.errors.required)||(null==a.questionPerfectAnswerCtrl||null==a.questionPerfectAnswerCtrl.errors?null:a.questionPerfectAnswerCtrl.errors.whiteSpace))}}function Rn(n,o){if(1&n&&(e.TgZ(0,"div",13),e.TgZ(1,"mat-form-field",5),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",32),e.YNc(6,Bn,2,1,"mat-hint",7),e.qZA(),e.qZA()),2&n){var a=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,2,"labels.perfect_answer")," "),e.xp6(3),e.Q6J("ngIf",a.questionPerfectAnswerCtrl.invalid&&(a.questionPerfectAnswerCtrl.touched||a.submitted))}}function Hn(n,o){1&n&&(e.TgZ(0,"mat-checkbox",52),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function $n(n,o){1&n&&(e.TgZ(0,"mat-checkbox",53),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function zn(n,o){1&n&&(e.TgZ(0,"mat-checkbox",54),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function Wn(n,o){1&n&&(e.TgZ(0,"mat-checkbox",55),e._uU(1," Remove Image "),e.qZA()),2&n&&e.Q6J("value",!0)}function Xn(n,o){if(1&n){var a=e.EpF();e.ynx(0,3),e.TgZ(1,"mat-card"),e.TgZ(2,"mat-radio-group",33),e.TgZ(3,"mat-radio-button",34),e.NdJ("click",function(){return e.CHM(a),e.oxw().onSelectCorrect(0)}),e.qZA(),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"mat-card-content"),e.TgZ(8,"div",3),e.TgZ(9,"div",13),e.TgZ(10,"mat-form-field",5),e.TgZ(11,"mat-label"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",35),e.qZA(),e.qZA(),e.TgZ(15,"div",13),e.TgZ(16,"div",3),e.TgZ(17,"div",4),e.TgZ(18,"mat-label"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"label",36),e._UZ(22,"i",37),e.qZA(),e.TgZ(23,"input",38),e.NdJ("change",function(l){return e.CHM(a),e.oxw().importOneFile(l)}),e.qZA(),e.qZA(),e.TgZ(24,"div",11),e.YNc(25,Hn,2,1,"mat-checkbox",39),e.TgZ(26,"div",15),e._UZ(27,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"mat-card"),e.TgZ(29,"mat-radio-group",40),e.TgZ(30,"mat-radio-button",34),e.NdJ("click",function(){return e.CHM(a),e.oxw().onSelectCorrect(1)}),e.qZA(),e.qZA(),e.TgZ(31,"mat-card-subtitle"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-card-content"),e.TgZ(35,"div",3),e.TgZ(36,"div",13),e.TgZ(37,"mat-form-field",5),e.TgZ(38,"mat-label"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"input",41),e.qZA(),e.qZA(),e.TgZ(42,"div",13),e.TgZ(43,"div",3),e.TgZ(44,"div",4),e.TgZ(45,"mat-label"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"label",36),e._UZ(49,"i",37),e.qZA(),e.TgZ(50,"input",42),e.NdJ("change",function(l){return e.CHM(a),e.oxw().importTwoFile(l)}),e.qZA(),e.qZA(),e.TgZ(51,"div",11),e.TgZ(52,"div",15),e.YNc(53,$n,2,1,"mat-checkbox",43),e._UZ(54,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"mat-card"),e.TgZ(56,"mat-radio-group",44),e.TgZ(57,"mat-radio-button",34),e.NdJ("click",function(){return e.CHM(a),e.oxw().onSelectCorrect(2)}),e.qZA(),e.qZA(),e.TgZ(58,"mat-card-subtitle"),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"mat-card-content"),e.TgZ(62,"div",3),e.TgZ(63,"div",13),e.TgZ(64,"mat-form-field",5),e.TgZ(65,"mat-label"),e._uU(66),e.ALo(67,"translate"),e.qZA(),e._UZ(68,"input",45),e.qZA(),e.qZA(),e.TgZ(69,"div",13),e.TgZ(70,"div",3),e.TgZ(71,"div",4),e.TgZ(72,"mat-label"),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"label",36),e._UZ(76,"i",37),e.qZA(),e.TgZ(77,"input",46),e.NdJ("change",function(l){return e.CHM(a),e.oxw().importThreeFile(l)}),e.qZA(),e.qZA(),e.TgZ(78,"div",11),e.TgZ(79,"div",15),e.YNc(80,zn,2,1,"mat-checkbox",47),e._UZ(81,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(82,"mat-card"),e.TgZ(83,"mat-radio-group",48),e.TgZ(84,"mat-radio-button",34),e.NdJ("click",function(){return e.CHM(a),e.oxw().onSelectCorrect(3)}),e.qZA(),e.qZA(),e.TgZ(85,"mat-card-subtitle"),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.TgZ(88,"mat-card-content"),e.TgZ(89,"div",3),e.TgZ(90,"div",13),e.TgZ(91,"mat-form-field",5),e.TgZ(92,"mat-label"),e._uU(93),e.ALo(94,"translate"),e.qZA(),e._UZ(95,"input",49),e.qZA(),e.qZA(),e.TgZ(96,"div",13),e.TgZ(97,"div",3),e.TgZ(98,"div",4),e.TgZ(99,"mat-label"),e._uU(100),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"label",36),e._UZ(103,"i",37),e.qZA(),e.TgZ(104,"input",50),e.NdJ("change",function(l){return e.CHM(a),e.oxw().importFourFile(l)}),e.qZA(),e.qZA(),e.TgZ(105,"div",11),e.TgZ(106,"div",15),e.YNc(107,Wn,2,1,"mat-checkbox",51),e._UZ(108,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){var t=e.oxw();e.xp6(3),e.Q6J("value",0)("checked",t.oneIsCorrect),e.xp6(2),e.hij(" ",e.lcZ(6,28,"labels.AnswerNumber")," (1) "),e.xp6(7),e.hij(" ",e.lcZ(13,30,"labels.AnswerText")," (1) "),e.xp6(7),e.hij(" ",e.lcZ(20,32,"labels.AnswerPic")," (1) "),e.xp6(6),e.Q6J("ngIf",t.answerOneImageCtrl.value),e.xp6(2),e.Q6J("src",t.answerOneImageCtrl.value,e.LSH),e.xp6(3),e.Q6J("value",1)("checked",t.twoIsCorrect),e.xp6(2),e.hij(" ",e.lcZ(33,34,"labels.AnswerNumber")," (2) "),e.xp6(7),e.hij(" ",e.lcZ(40,36,"labels.AnswerText")," (2) "),e.xp6(7),e.hij(" ",e.lcZ(47,38,"labels.AnswerPic")," (2) "),e.xp6(7),e.Q6J("ngIf",t.answerTwoImageCtrl.value),e.xp6(1),e.Q6J("src",t.answerTwoImageCtrl.value,e.LSH),e.xp6(3),e.Q6J("value",2)("checked",t.threeIsCorrect),e.xp6(2),e.hij(" ",e.lcZ(60,40,"labels.AnswerNumber")," (3) "),e.xp6(7),e.hij(" ",e.lcZ(67,42,"labels.AnswerText")," (3) "),e.xp6(7),e.hij(" ",e.lcZ(74,44,"labels.AnswerPic")," (3) "),e.xp6(7),e.Q6J("ngIf",t.answerThreeImageCtrl.value),e.xp6(1),e.Q6J("src",t.answerThreeImageCtrl.value,e.LSH),e.xp6(3),e.Q6J("value",3)("checked",t.fourIsCorrect),e.xp6(2),e.hij(" ",e.lcZ(87,46,"labels.AnswerNumber")," (4) "),e.xp6(7),e.hij(" ",e.lcZ(94,48,"labels.AnswerText")," (4) "),e.xp6(7),e.hij(" ",e.lcZ(101,50,"labels.AnswerPic")," (4) "),e.xp6(7),e.Q6J("ngIf",t.answerFourImageCtrl.value),e.xp6(1),e.Q6J("src",t.answerFourImageCtrl.value,e.LSH)}}function Kn(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){return e.CHM(a),e.oxw().onSubmit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function ei(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){return e.CHM(a),e.oxw().onSubmit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Update")," "))}function ti(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"tr",58),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"button",59),e.NdJ("click",function(){var r=e.CHM(a).$implicit;return e.oxw().getQuestionForEditByID(r.Id)}),e.TgZ(9,"mat-icon"),e._uU(10,"edit"),e.qZA(),e.qZA(),e.TgZ(11,"button",60),e.NdJ("click",function(){var r=e.CHM(a).$implicit;return e.oxw().removeExamQuestion(r.Id)}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=o.$implicit;e.xp6(2),e.Oqu(t.Id),e.xp6(2),e.Oqu(t.Text),e.xp6(2),e.Oqu(t.QuestionTypeAr)}}var ai=function(){var n=function(){function o(a,t,i,l,r,s){(0,D.Z)(this,o),this.fb=a,this.examService=t,this.authserv=i,this.toastr=l,this.spinner=r,this.data=s,this.unitId=0,this.lessonId=0,this.units=[],this.lessions=[],this.questionsInGrid=[],this.questionId=0,this.submitted=!1,this.oneIsCorrect=!1,this.twoIsCorrect=!1,this.threeIsCorrect=!1,this.fourIsCorrect=!1,this.questionFile=null,this.answerOneFile=null,this.answerTwoFile=null,this.answerThreeFile=null,this.answerFourFile=null,this.perfectAnswerAttach_preview=null,this.examId=s.examId,this.examGroupHeaderId=s.examGroupHeaderId,this.subjectId=s.subjectId,0!=this.examGroupHeaderId&&this.getAllQuestionsByHeadId(),0!=this.subjectId&&this.getAllUnitsBySublectId(),console.log("this.examId",this.examId),console.log("this.examGroupHeaderId",this.examGroupHeaderId),console.log("this.subjectId",this.subjectId)}return(0,L.Z)(o,[{key:"mainQuestionCtrl",get:function(){return this.myForm.get("mainQuestion")}},{key:"questionTypeIdCtrl",get:function(){return this.myForm.get("questionTypeId")}},{key:"questionImageCtrl",get:function(){return this.myForm.get("questionImage")}},{key:"unitIdCtrl",get:function(){return this.myForm.get("unitId")}},{key:"lessonIdCtrl",get:function(){return this.myForm.get("lessonId")}},{key:"questionTextCtrl",get:function(){return this.myForm.get("exam_question_text")}},{key:"questionPerfectAnswerCtrl",get:function(){return this.myForm.get("questionPerfectAnswer")}},{key:"perfect_answer_attachCtrl",get:function(){return this.myForm.get("perfect_answer_attach")}},{key:"questionMarkCtrl",get:function(){return this.myForm.get("questionMark")}},{key:"answerOneIdCtrl",get:function(){return this.myForm.get("answerOneId")}},{key:"answerOneCtrl",get:function(){return this.myForm.get("answerOne")}},{key:"answerOneIsCorrectCtrl",get:function(){return this.myForm.get("answerOneIsCorrect")}},{key:"answerOneImageCtrl",get:function(){return this.myForm.get("answerOneImage")}},{key:"answerTwoIdCtrl",get:function(){return this.myForm.get("answerTwoId")}},{key:"answerTwoCtrl",get:function(){return this.myForm.get("answerTwo")}},{key:"answerTwoIsCorrectCtrl",get:function(){return this.myForm.get("answerTwoIsCorrect")}},{key:"answerTwoImageCtrl",get:function(){return this.myForm.get("answerTwoImage")}},{key:"answerThreeIdCtrl",get:function(){return this.myForm.get("answerThreeId")}},{key:"answerThreeCtrl",get:function(){return this.myForm.get("answerThree")}},{key:"answerThreeIsCorrectCtrl",get:function(){return this.myForm.get("answerThreeIsCorrect")}},{key:"answerThreeImageCtrl",get:function(){return this.myForm.get("answerThreeImage")}},{key:"answerFourIdCtrl",get:function(){return this.myForm.get("answerFourId")}},{key:"answerFourCtrl",get:function(){return this.myForm.get("answerFour")}},{key:"answerFourIsCorrectCtrl",get:function(){return this.myForm.get("answerFourIsCorrect")}},{key:"answerFourImageCtrl",get:function(){return this.myForm.get("answerFourImage")}},{key:"answerOneRemove_imageCtrl",get:function(){return this.myForm.get("answerOneRemove_image")}},{key:"answerTwoRemove_imageCtrl",get:function(){return this.myForm.get("answerTwoRemove_image")}},{key:"answerThreeRemove_imageCtrl",get:function(){return this.myForm.get("answerThreeRemove_image")}},{key:"answerFourRemove_imageCtrl",get:function(){return this.myForm.get("answerFourRemove_image")}},{key:"questionImageRemove_imageCtrl",get:function(){return this.myForm.get("remove_image")}},{key:"ngOnInit",value:function(){this.myForm=this.fb.group({mainQuestion:[""],questionTypeId:["",c.kI.required],questionImage:[""],remove_image:[!1],unitId:[""],lessionId:[""],exam_question_text:[""],questionPerfectAnswer:[""],perfect_answer_attach:[""],questionMark:["",[c.kI.required,F.w.bigZero]],answerOneId:[""],answerOne:[""],answerOneIsCorrect:[],answerOneImage:[""],answerTwoId:[""],answerTwo:[""],answerTwoIsCorrect:[],answerTwoImage:[""],answerThreeId:[""],answerThree:[""],answerThreeIsCorrect:[],answerThreeImage:[""],answerFourId:[""],answerFour:[""],answerFourIsCorrect:[],answerFourImage:[""],answerOneRemove_image:[!1],answerTwoRemove_image:[!1],answerThreeRemove_image:[!1],answerFourRemove_image:[!1]}),this.educationCompanyId=this.authserv.getEduCompId(),this.questionTypeValidation()}},{key:"getAllQuestionsByHeadId",value:function(){var t=this;this.spinner.show(),this.examService.getAllQuestionsByHeadId(this.examGroupHeaderId).subscribe(function(i){i&&(console.log("getAllQuestionsByHeadId",i),t.questionsInGrid=[],t.questionsInGrid=i,t.spinner.hide())})}},{key:"questionTypeValidation",value:function(){var t,i,l,r;1===(null===(t=this.questionTypeIdCtrl)||void 0===t?void 0:t.value)?console.log("PerfectAnswer is required"):(console.log("PerfectAnswer is not required"),null===(i=this.questionPerfectAnswerCtrl)||void 0===i||i.clearAsyncValidators(),null===(l=this.questionPerfectAnswerCtrl)||void 0===l||l.reset()),null===(r=this.questionPerfectAnswerCtrl)||void 0===r||r.updateValueAndValidity()}},{key:"onSubmit",value:function(){var t,i,l,r,s,u,m,d,_,p,h,g,v,x,A,y,Q,k,Y,M,S,j,V,G,N,B,W,X,K,ee,te,ae,ne,ie,oe,le,re,se,ue;if(this.submitted=!0,1==(null===(t=this.questionTypeIdCtrl)||void 0===t?void 0:t.value)){var me=this.questionFile||null,de={exam_question_main_question:null===(i=this.mainQuestionCtrl)||void 0===i?void 0:i.value,exam_question_mark:null===(l=this.questionMarkCtrl)||void 0===l?void 0:l.value,exam_question_perfect_answer:null===(r=this.questionPerfectAnswerCtrl)||void 0===r?void 0:r.value,perfect_answer_attach:this.perfectAnswerAttach_preview,exam_question_text:null===(s=this.questionTextCtrl)||void 0===s?void 0:s.value,exam_question_type_id:null===(u=this.questionTypeIdCtrl)||void 0===u?void 0:u.value,exam_selected_question_head_id:this.examGroupHeaderId,exam_selected_subject_id:this.subjectId,exam_question_image:me,remove_image:null===(m=this.questionImageRemove_imageCtrl)||void 0===m?void 0:m.value,exam_question_id:this.questionId};if(!(null===(d=this.questionTextCtrl)||void 0===d?void 0:d.value)&&null==me&&null==this.questionImageCtrl)return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 \u0627\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0647 \u0627\u0644\u0633\u0624\u0627\u0644");this.questionId>0?this.editTextQuestion(de):this.addTextQuestion(de)}if(2==(null===(_=this.questionTypeIdCtrl)||void 0===_?void 0:_.value)){var ce=this.questionFile||null,Te=this.questionImageCtrl,he={choice_id:null!==(h=null===(p=this.answerOneIdCtrl)||void 0===p?void 0:p.value)&&void 0!==h?h:0,choice_text:null===(g=this.answerOneCtrl)||void 0===g?void 0:g.value,is_correct:0===this.answerOneIsCorrectCtrl.value,choice_image:this.answerOneFile||null,remove_image:null===(v=this.answerOneRemove_imageCtrl)||void 0===v?void 0:v.value,path:null===(x=this.answerOneImageCtrl)||void 0===x?void 0:x.value},ge={choice_id:null!==(y=null===(A=this.answerTwoIdCtrl)||void 0===A?void 0:A.value)&&void 0!==y?y:0,choice_text:null===(Q=this.answerTwoCtrl)||void 0===Q?void 0:Q.value,is_correct:!!(null===(k=this.answerTwoIsCorrectCtrl)||void 0===k?void 0:k.value),choice_image:this.answerTwoFile||null,remove_image:null===(Y=this.answerTwoRemove_imageCtrl)||void 0===Y?void 0:Y.value,path:null===(M=this.answerTwoImageCtrl)||void 0===M?void 0:M.value},Qe={choice_id:null!==(j=null===(S=this.answerThreeIdCtrl)||void 0===S?void 0:S.value)&&void 0!==j?j:0,choice_text:null===(V=this.answerThreeCtrl)||void 0===V?void 0:V.value,is_correct:!!(null===(G=this.answerThreeIsCorrectCtrl)||void 0===G?void 0:G.value),choice_image:this.answerThreeFile||null,remove_image:null===(N=this.answerThreeRemove_imageCtrl)||void 0===N?void 0:N.value,path:null===(B=this.answerThreeImageCtrl)||void 0===B?void 0:B.value},Fe={choice_id:null!==(X=null===(W=this.answerFourIdCtrl)||void 0===W?void 0:W.value)&&void 0!==X?X:0,choice_text:null===(K=this.answerFourCtrl)||void 0===K?void 0:K.value,is_correct:!!(null===(ee=this.answerFourIsCorrectCtrl)||void 0===ee?void 0:ee.value),choice_image:this.answerFourFile||null,remove_image:null===(te=this.answerFourRemove_imageCtrl)||void 0===te?void 0:te.value,path:null===(ae=this.answerFourImageCtrl)||void 0===ae?void 0:ae.value},Ye={exam_question_main_question:null===(ne=this.mainQuestionCtrl)||void 0===ne?void 0:ne.value,exam_question_mark:null===(ie=this.questionMarkCtrl)||void 0===ie?void 0:ie.value,exam_question_perfect_answer:null===(oe=this.questionPerfectAnswerCtrl)||void 0===oe?void 0:oe.value,perfect_answer_attach:this.perfectAnswerAttach_preview,exam_question_text:null===(le=this.questionTextCtrl)||void 0===le?void 0:le.value,exam_question_type_id:null===(re=this.questionTypeIdCtrl)||void 0===re?void 0:re.value,exam_selected_question_head_id:this.examGroupHeaderId,exam_selected_subject_id:this.subjectId,exam_question_image:ce,remove_image:null===(se=this.questionImageRemove_imageCtrl)||void 0===se?void 0:se.value,exam_question_id:this.questionId,mcq_choices:[he,ge,Qe,Fe]};if(console.log("toAddEdit_mcq_question=> ",Ye),!(null===(ue=this.questionTextCtrl)||void 0===ue?void 0:ue.value)&&null==ce&&null==Te)return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 \u0627\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0647 \u0627\u0644\u0633\u0624\u0627\u0644");if(!(he.is_correct||ge.is_correct||Qe.is_correct||Fe.is_correct))return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0627\u0644\u0635\u062d\u064a\u062d\u0629");if(""===he.choice_text&&null===he.choice_image&&null==he.path)return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 \u0627\u0644\u0623\u0648\u0644 \u0627\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0629 ");if(""===ge.choice_text&&null===ge.choice_image&&null==ge.path)return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 \u0627\u0644\u062b\u0627\u0646\u064a \u0627\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0629 ");if(""===Qe.choice_text&&null===Qe.choice_image&&null==Qe.path)return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 \u0627\u0644\u062b\u0627\u0644\u062b \u0627\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0629 ");if(""===Fe.choice_text&&null===Fe.choice_image&&null==Fe.path)return void this.toastr.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 \u0627\u0644\u0631\u0627\u0628\u0639 \u0627\u0648 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0648\u0631\u0629 ");this.questionId>0?this.editMcqQuestion(Ye):this.addMcqQuestion(Ye)}}},{key:"addTextQuestion",value:function(t){var i=this;this.spinner.show(),this.examService.addQuestion(t).subscribe(function(l){var r,s,u,m,d,_,p,h,g;200==l.returnValue?(i.getAllQuestionsByHeadId(),null===(r=i.mainQuestionCtrl)||void 0===r||r.setValue(null),null===(s=i.questionMarkCtrl)||void 0===s||s.setValue(null),null===(u=i.questionTypeIdCtrl)||void 0===u||u.setValue(null),null===(m=i.questionImageCtrl)||void 0===m||m.setValue(null),null===(d=i.questionTextCtrl)||void 0===d||d.setValue(null),null===(_=i.questionPerfectAnswerCtrl)||void 0===_||_.setValue(null),null===(p=i.perfect_answer_attachCtrl)||void 0===p||p.setValue(null),null===(h=i.unitIdCtrl)||void 0===h||h.setValue(null),null===(g=i.lessonIdCtrl)||void 0===g||g.setValue(null),i.myForm.reset(),i.resetFileInputs()):i.toastr.error(l.returnString),i.spinner.hide()})}},{key:"editTextQuestion",value:function(t){var i=this;this.spinner.show(),this.examService.editQuestion(t).subscribe(function(l){var r,s,u,m,d,_,p,h,g,v,x;if(l){var A=i.questionsInGrid.find(function(y){return y.Id==i.questionId});A&&(A.Text=null===(r=i.questionTextCtrl)||void 0===r?void 0:r.value,A.QuestionTypeAr="\u0645\u0642\u0627\u0644",A.Image=null===(s=i.questionImageCtrl)||void 0===s?void 0:s.value),null===(u=i.mainQuestionCtrl)||void 0===u||u.setValue(null),null===(m=i.questionMarkCtrl)||void 0===m||m.setValue(null),null===(d=i.questionTypeIdCtrl)||void 0===d||d.setValue(null),null===(_=i.questionImageCtrl)||void 0===_||_.setValue(null),null===(p=i.questionTextCtrl)||void 0===p||p.setValue(null),null===(h=i.questionPerfectAnswerCtrl)||void 0===h||h.setValue(null),null===(g=i.perfect_answer_attachCtrl)||void 0===g||g.setValue(null),null===(v=i.unitIdCtrl)||void 0===v||v.setValue(null),null===(x=i.lessonIdCtrl)||void 0===x||x.setValue(null),i.myForm.reset(),i.resetFileInputs(),i.questionId=0}i.spinner.hide()})}},{key:"addMcqQuestion",value:function(t){var i=this;this.myForm.valid&&(this.spinner.show(),this.examService.addQuestion(t).subscribe(function(l){var r,s,u,m,d,_,p,h,g;200==l.returnValue?(i.getAllQuestionsByHeadId(),null===(r=i.mainQuestionCtrl)||void 0===r||r.setValue(null),null===(s=i.questionMarkCtrl)||void 0===s||s.setValue(null),null===(u=i.questionTypeIdCtrl)||void 0===u||u.setValue(null),null===(m=i.questionImageCtrl)||void 0===m||m.setValue(null),null===(d=i.questionTextCtrl)||void 0===d||d.setValue(null),null===(_=i.questionPerfectAnswerCtrl)||void 0===_||_.setValue(null),null===(p=i.perfect_answer_attachCtrl)||void 0===p||p.setValue(null),null===(h=i.unitIdCtrl)||void 0===h||h.setValue(null),null===(g=i.lessonIdCtrl)||void 0===g||g.setValue(null),i.myForm.reset(),i.resetFileInputs(),i.submitted=!1):i.toastr.error(l.returnString),i.spinner.hide()}))}},{key:"editMcqQuestion",value:function(t){var i=this;this.myForm.valid&&(this.spinner.show(),this.examService.editQuestion(t).subscribe(function(l){var r,s,u,m,d,_,p,h,g;l&&(i.getAllQuestionsByHeadId(),null===(r=i.mainQuestionCtrl)||void 0===r||r.setValue(null),null===(s=i.questionMarkCtrl)||void 0===s||s.setValue(null),null===(u=i.questionTypeIdCtrl)||void 0===u||u.setValue(null),null===(m=i.questionImageCtrl)||void 0===m||m.setValue(null),null===(d=i.questionTextCtrl)||void 0===d||d.setValue(null),null===(_=i.questionPerfectAnswerCtrl)||void 0===_||_.setValue(null),null===(p=i.perfect_answer_attachCtrl)||void 0===p||p.setValue(null),null===(h=i.unitIdCtrl)||void 0===h||h.setValue(null),null===(g=i.lessonIdCtrl)||void 0===g||g.setValue(null),i.myForm.reset(),i.resetFileInputs(),i.submitted=!1,i.questionId=0),i.spinner.hide()}))}},{key:"getQuestionForEditByID",value:function(t){var i=this;this.spinner.show(),this.examService.getQuestionForEditByID(t).subscribe(function(l){var r,s,u,m,d,_,p,h,g,v,x,A,y,Q,k,Y,M,S,j,V,G,N,B,W,X,K,ee,te,ae,ne,ie,oe,le,re,se,ue,me,_e,de,ce,Te,Ie,he,ye,ge,Ue;console.log("getQuestionForEditByID",l),l&&(null===(r=i.mainQuestionCtrl)||void 0===r||r.setValue(l.main_question),null===(s=i.questionMarkCtrl)||void 0===s||s.setValue(l.mark),null===(u=i.questionTextCtrl)||void 0===u||u.setValue(l.question_text),null===(m=i.questionImageCtrl)||void 0===m||m.setValue(null!=(null==l?void 0:l.attach_path)?"mozakretyapi"+(null==l?void 0:l.attach_path):null),null===(d=i.questionTypeIdCtrl)||void 0===d||d.setValue(l.question_type_id),i.questionId=t,null===(_=i.questionPerfectAnswerCtrl)||void 0===_||_.setValue(l.perfect_answer),2==l.question_type_id&&(null===(p=i.answerOneIdCtrl)||void 0===p||p.setValue(null===(h=l.MCQ_Choices[0])||void 0===h?void 0:h.Id),null===(g=i.answerOneCtrl)||void 0===g||g.setValue(null===(v=l.MCQ_Choices[0])||void 0===v?void 0:v.Text),null===(x=i.answerOneImageCtrl)||void 0===x||x.setValue(null!=(null===(A=null==l?void 0:l.MCQ_Choices[0])||void 0===A?void 0:A.Image)?"mozakretyapi"+(null===(y=null==l?void 0:l.MCQ_Choices[0])||void 0===y?void 0:y.Image):null),null===(Q=i.answerOneIsCorrectCtrl)||void 0===Q||Q.setValue(null===(k=l.MCQ_Choices[0])||void 0===k?void 0:k.Is_Correct),i.oneIsCorrect=null===(Y=l.MCQ_Choices[0])||void 0===Y?void 0:Y.Is_Correct,null===(M=i.answerTwoIdCtrl)||void 0===M||M.setValue(null===(S=l.MCQ_Choices[1])||void 0===S?void 0:S.Id),null===(j=i.answerTwoCtrl)||void 0===j||j.setValue(null===(V=l.MCQ_Choices[1])||void 0===V?void 0:V.Text),null===(G=i.answerTwoImageCtrl)||void 0===G||G.setValue(null!=(null===(N=null==l?void 0:l.MCQ_Choices[1])||void 0===N?void 0:N.Image)?"mozakretyapi"+(null===(B=null==l?void 0:l.MCQ_Choices[1])||void 0===B?void 0:B.Image):null),null===(W=i.answerTwoIsCorrectCtrl)||void 0===W||W.setValue(null===(X=l.MCQ_Choices[1])||void 0===X?void 0:X.Is_Correct),i.twoIsCorrect=null===(K=l.MCQ_Choices[1])||void 0===K?void 0:K.Is_Correct,null===(ee=i.answerThreeIdCtrl)||void 0===ee||ee.setValue(null===(te=l.MCQ_Choices[2])||void 0===te?void 0:te.Id),null===(ae=i.answerThreeCtrl)||void 0===ae||ae.setValue(null===(ne=l.MCQ_Choices[2])||void 0===ne?void 0:ne.Text),null===(ie=i.answerThreeImageCtrl)||void 0===ie||ie.setValue(null!=(null===(oe=null==l?void 0:l.MCQ_Choices[2])||void 0===oe?void 0:oe.Image)?"mozakretyapi"+(null===(le=null==l?void 0:l.MCQ_Choices[2])||void 0===le?void 0:le.Image):null),null===(re=i.answerThreeIsCorrectCtrl)||void 0===re||re.setValue(null===(se=l.MCQ_Choices[2])||void 0===se?void 0:se.Is_Correct),i.threeIsCorrect=null===(ue=l.MCQ_Choices[2])||void 0===ue?void 0:ue.Is_Correct,null===(me=i.answerFourIdCtrl)||void 0===me||me.setValue(null===(_e=l.MCQ_Choices[3])||void 0===_e?void 0:_e.Id),null===(de=i.answerFourCtrl)||void 0===de||de.setValue(null===(ce=l.MCQ_Choices[3])||void 0===ce?void 0:ce.Text),null===(Te=i.answerFourImageCtrl)||void 0===Te||Te.setValue(null!=(null===(Ie=null==l?void 0:l.MCQ_Choices[3])||void 0===Ie?void 0:Ie.Image)?"mozakretyapi"+(null===(he=null==l?void 0:l.MCQ_Choices[3])||void 0===he?void 0:he.Image):null),null===(ye=i.answerFourIsCorrectCtrl)||void 0===ye||ye.setValue(null===(ge=l.MCQ_Choices[3])||void 0===ge?void 0:ge.Is_Correct),i.fourIsCorrect=null===(Ue=l.MCQ_Choices[3])||void 0===Ue?void 0:Ue.Is_Correct),console.log("answer 1",i.oneIsCorrect),console.log("answer 2",i.twoIsCorrect),console.log("answer 3",i.threeIsCorrect),console.log("answer 4",i.fourIsCorrect)),i.spinner.hide()})}},{key:"removeExamQuestion",value:function(t){var i=this;confirm("\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u062d\u0630\u0641")&&(this.spinner.show(),this.examService.deleteExamQuestion(t).subscribe(function(r){if("Done"===r.returnString){var s=i.questionsInGrid.findIndex(function(u){return u.Id==t});i.questionsInGrid.splice(s,1)}else i.toastr.info(r.returnString);i.spinner.hide()}))}},{key:"importFile",value:function(t){var i=this,l=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,m=t.target.files[0].lastModifiedDate;if(t.target.files){var d=new FileReader;d.readAsDataURL(t.target.files[0]),d.onload=function(_){var p=_.target.result,h={FileAsBase64:p,name:l,size:r,type:s,LastModified:u,LastModifiedDate:m};i.questionImageCtrl.setValue(p),i.questionFile=h}}}},{key:"importOneFile",value:function(t){var i=this,l=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,m=t.target.files[0].lastModifiedDate;if(t.target.files){var d=new FileReader;d.readAsDataURL(t.target.files[0]),d.onload=function(_){var p=_.target.result;i.answerOneFile={FileAsBase64:p,name:l,size:r,type:s,LastModified:u,LastModifiedDate:m},i.answerOneImageCtrl.setValue(p)}}}},{key:"importTwoFile",value:function(t){var i=this,l=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,m=t.target.files[0].lastModifiedDate;if(t.target.files){var d=new FileReader;d.readAsDataURL(t.target.files[0]),d.onload=function(_){var p=_.target.result;i.answerTwoFile={FileAsBase64:p,name:l,size:r,type:s,LastModified:u,LastModifiedDate:m},i.answerTwoImageCtrl.setValue(p)}}}},{key:"importThreeFile",value:function(t){var i=this,l=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,m=t.target.files[0].lastModifiedDate;if(t.target.files){var d=new FileReader;d.readAsDataURL(t.target.files[0]),d.onload=function(_){var p=_.target.result;i.answerThreeFile={FileAsBase64:p,name:l,size:r,type:s,LastModified:u,LastModifiedDate:m},i.answerThreeImageCtrl.setValue(p)}}}},{key:"importFourFile",value:function(t){var i=this,l=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,m=t.target.files[0].lastModifiedDate;if(t.target.files){var d=new FileReader;d.readAsDataURL(t.target.files[0]),d.onload=function(_){var p=_.target.result;i.answerFourFile={FileAsBase64:p,name:l,size:r,type:s,LastModified:u,LastModifiedDate:m},i.answerFourImageCtrl.setValue(p)}}}},{key:"perfectAnswerAttach",value:function(t){var i=this,l=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,m=t.target.files[0].lastModifiedDate;if(t.target.files){var d=new FileReader;d.readAsDataURL(t.target.files[0]),d.onload=function(_){var p=_.target.result,h={FileAsBase64:p.replace("data:application/pdf;base64,","").replace("data:audio/mpeg;base64,",""),name:l,size:r,type:s,LastModified:u,LastModifiedDate:m};i.perfectAnswerAttach_preview=h,i.perfect_answer_attachCtrl.setValue(p)}}}},{key:"getAllUnitsBySublectId",value:function(){var t=this;this.examService.getAllUnitsBySublectId(this.subjectId).subscribe(function(i){t.units=i})}},{key:"getAllLessonsByUnitId",value:function(){var i,t=this;this.examService.getAllLessonsByUnitId(null===(i=this.unitIdCtrl)||void 0===i?void 0:i.value).subscribe(function(l){l&&(t.lessions=l)})}},{key:"onSelectCorrect",value:function(t){var i,l,r,s,u,m,d,_,p,h,g,v,x,A,y,Q;console.log("answer is Correct",t),0===t&&(null===(i=this.answerOneIsCorrectCtrl)||void 0===i||i.setValue(0),null===(l=this.answerTwoIsCorrectCtrl)||void 0===l||l.setValue(null),null===(r=this.answerThreeIsCorrectCtrl)||void 0===r||r.setValue(null),null===(s=this.answerFourIsCorrectCtrl)||void 0===s||s.setValue(null)),1===t&&(null===(u=this.answerOneIsCorrectCtrl)||void 0===u||u.setValue(null),null===(m=this.answerTwoIsCorrectCtrl)||void 0===m||m.setValue(1),null===(d=this.answerThreeIsCorrectCtrl)||void 0===d||d.setValue(null),null===(_=this.answerFourIsCorrectCtrl)||void 0===_||_.setValue(null)),2===t&&(null===(p=this.answerOneIsCorrectCtrl)||void 0===p||p.setValue(null),null===(h=this.answerTwoIsCorrectCtrl)||void 0===h||h.setValue(null),null===(g=this.answerThreeIsCorrectCtrl)||void 0===g||g.setValue(2),null===(v=this.answerFourIsCorrectCtrl)||void 0===v||v.setValue(null)),3===t&&(null===(x=this.answerOneIsCorrectCtrl)||void 0===x||x.setValue(null),null===(A=this.answerTwoIsCorrectCtrl)||void 0===A||A.setValue(null),null===(y=this.answerThreeIsCorrectCtrl)||void 0===y||y.setValue(null),null===(Q=this.answerFourIsCorrectCtrl)||void 0===Q||Q.setValue(3))}},{key:"resetFileInputs",value:function(){document.querySelectorAll('input[type="file"]').forEach(function(i){i.value=null}),this.questionFile=null,this.answerOneFile=null,this.answerTwoFile=null,this.answerThreeFile=null,this.answerFourFile=null}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(c.qu),e.Y36(Ce),e.Y36(O.e),e.Y36(R._W),e.Y36(U.t2),e.Y36(w.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-sub-question"]],decls:80,vars:46,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-12"],["appearance","legacy"],["matInput","","type","text","formControlName","mainQuestion"],["class","text-danger",4,"ngIf"],["formControlName","questionTypeId",3,"selectionChange"],[3,"value"],["matInput","","type","number","formControlName","questionMark"],[1,"col-md-8","col-12"],["matInput","","type","text","formControlName","exam_question_text"],[1,"col-12"],["type","file","name","questionImage","accept","image/*",1,"form-control","font-dro","clearInputs",3,"change"],[1,"question-img"],["formControlName","remove_image","class","remove_image",3,"value",4,"ngIf"],[1,"img-fluid",3,"src"],["class","col-12",4,"ngIf"],["class","row",4,"ngIf"],["mat-raised-button","","id","examQuestionsButton","class","btn btn-primary",3,"click",4,"ngIf"],["mat-raised-button","","id","editQuestionButton","class","btn btn-primary",3,"click",4,"ngIf"],[1,"col-md-12"],[1,"full-wid-table",2,"overflow","hidden !important"],["id","sotbmod",1,"table","table-striped","table-hover","table-full-width","rtl"],["id","addedExamQuestionsHolder"],["id","ExamQuestion-2626853",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",1,"btn-danger"],[1,"text-danger"],[4,"ngIf"],["formControlName","remove_image",1,"remove_image",3,"value"],["matInput","","type","text","formControlName","questionPerfectAnswer"],["formControlName","answerOneIsCorrect"],[3,"value","checked","click"],["matInput","","type","text","formControlName","answerOne"],["for","radio-0"],[1,"icon","icon_radio"],["type","file","accept","image/*","name","answerOneImage",1,"form-control","font-dro","clearInputs",3,"change"],["formControlName","answerOneRemove_image","class","remove_image",3,"value",4,"ngIf"],["formControlName","answerTwoIsCorrect"],["matInput","","type","text","formControlName","answerTwo"],["type","file","accept","image/*","name","answerTwoImage",1,"form-control","font-dro","clearInputs",3,"change"],["formControlName","answerTwoRemove_image","class","remove_image",3,"value",4,"ngIf"],["formControlName","answerThreeIsCorrect"],["matInput","","type","text","formControlName","answerThree"],["type","file","accept","image/*","name","answerThreeImage",1,"form-control","font-dro","clearInputs",3,"change"],["formControlName","answerThreeRemove_image","class","remove_image",3,"value",4,"ngIf"],["formControlName","answerFourIsCorrect"],["matInput","","type","text","formControlName","answerFour"],["type","file","accept","image/*","name","answerFourImage",1,"form-control","font-dro","clearInputs",3,"change"],["formControlName","answerFourRemove_image","class","remove_image",3,"value",4,"ngIf"],["formControlName","answerOneRemove_image",1,"remove_image",3,"value"],["formControlName","answerTwoRemove_image",1,"remove_image",3,"value"],["formControlName","answerThreeRemove_image",1,"remove_image",3,"value"],["formControlName","answerFourRemove_image",1,"remove_image",3,"value"],["mat-raised-button","","id","examQuestionsButton",1,"btn","btn-primary",3,"click"],["mat-raised-button","","id","editQuestionButton",1,"btn","btn-primary",3,"click"],["id","ExamQuestion-2626853"],["mat-mini-fab","","color","primary",3,"click"],["mat-mini-fab","","color","warn",3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"form",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"mat-form-field",5),e.TgZ(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",6),e.YNc(12,Yn,2,1,"mat-hint",7),e.qZA(),e.qZA(),e.TgZ(13,"div",4),e.TgZ(14,"mat-form-field",5),e.TgZ(15,"mat-label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"mat-select",8),e.NdJ("selectionChange",function(){return t.questionTypeValidation()}),e.TgZ(19,"mat-option"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"mat-option",9),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"mat-option",9),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.qZA(),e.YNc(28,jn,2,1,"mat-hint",7),e.qZA(),e.qZA(),e.TgZ(29,"div",4),e.TgZ(30,"mat-form-field",5),e.TgZ(31,"mat-label"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",10),e.YNc(35,Pn,3,2,"mat-hint",7),e.qZA(),e.qZA(),e.TgZ(36,"div",11),e.TgZ(37,"mat-form-field",5),e.TgZ(38,"mat-label"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"input",12),e.qZA(),e.qZA(),e.TgZ(42,"div",13),e.TgZ(43,"div",3),e.TgZ(44,"div",4),e.TgZ(45,"mat-label"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"input",14),e.NdJ("change",function(l){return t.importFile(l)}),e.qZA(),e.qZA(),e.TgZ(49,"div",11),e.TgZ(50,"div",15),e.YNc(51,Mn,2,1,"mat-checkbox",16),e._UZ(52,"img",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(53,Rn,7,4,"div",18),e.qZA(),e._UZ(54,"hr"),e.YNc(55,Xn,109,52,"ng-container",19),e.TgZ(56,"mat-card-actions",13),e.YNc(57,Kn,3,3,"button",20),e.YNc(58,ei,3,3,"button",21),e.qZA(),e.TgZ(59,"div",22),e.TgZ(60,"div",23),e.TgZ(61,"table",24),e.TgZ(62,"thead"),e.TgZ(63,"tr"),e.TgZ(64,"th"),e._uU(65,"#"),e.qZA(),e.TgZ(66,"th"),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"th"),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"\xad"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"tbody",25),e.YNc(75,ti,14,3,"tr",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",27),e.TgZ(77,"button",28),e._uU(78,"Close"),e.qZA(),e.qZA(),e._UZ(79,"ngx-spinner")),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,24,"labels.addSubQuestion")),e.xp6(3),e.Q6J("formGroup",t.myForm),e.xp6(5),e.hij("",e.lcZ(10,26,"labels.mainQuestion")," "),e.xp6(3),e.Q6J("ngIf",t.mainQuestionCtrl.invalid&&(t.mainQuestionCtrl.touched||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(17,28,"labels.QuestionType")," "),e.xp6(4),e.hij(" ",e.lcZ(21,30,"General.Choose")," "),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.hij(" ",e.lcZ(24,32,"labels.Article")," "),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.hij(" ",e.lcZ(27,34,"labels.Mcq")," "),e.xp6(2),e.Q6J("ngIf",(null==t.questionTypeIdCtrl?null:t.questionTypeIdCtrl.invalid)&&((null==t.questionTypeIdCtrl?null:t.questionTypeIdCtrl.touched)||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(33,36,"labels.QuestionMark")," "),e.xp6(3),e.Q6J("ngIf",t.questionMarkCtrl.invalid&&(t.questionMarkCtrl.touched||t.submitted)),e.xp6(4),e.hij("",e.lcZ(40,38,"labels.question_ar_text")," "),e.xp6(7),e.hij(" ",e.lcZ(47,40,"labels.QuestionImage")," "),e.xp6(5),e.Q6J("ngIf",t.questionImageCtrl.value),e.xp6(1),e.Q6J("src",null==t.questionImageCtrl?null:t.questionImageCtrl.value,e.LSH),e.xp6(1),e.Q6J("ngIf",1==(null==t.questionTypeIdCtrl?null:t.questionTypeIdCtrl.value)),e.xp6(2),e.Q6J("ngIf",2==(null==t.questionTypeIdCtrl?null:t.questionTypeIdCtrl.value)),e.xp6(2),e.Q6J("ngIf",0==t.questionId),e.xp6(1),e.Q6J("ngIf",t.questionId>0),e.xp6(9),e.Oqu(e.lcZ(68,42,"labels.question_ar_text")),e.xp6(3),e.Oqu(e.lcZ(71,44,"labels.QuestionType")),e.xp6(5),e.Q6J("ngForOf",t.questionsInGrid))},directives:[w.uh,w.xY,c._Y,c.JL,c.sg,I.KE,I.hX,H.Nt,c.Fj,c.JJ,c.u,b.O5,ve.gD,Ze.ey,c.wV,Z.hq,b.sg,w.H8,E.lW,w.ZT,U.Ro,I.bx,Ge.oG,Z.a8,$.VQ,$.U0,Z.$j,Z.dn,be.Hw],pipes:[P.X$],styles:[".mat-dialog-content[_ngcontent-%COMP%]{max-height:80vh}.mat-card-subtitle[_ngcontent-%COMP%]{margin-top:5px!important}.question-img[_ngcontent-%COMP%]{overflow:hidden!important;max-width:100%!important;max-height:156px!important}.remove_image[_ngcontent-%COMP%]{display:block}"]}),n}(),Me=C(1059),Oe=C(4850),Be=C(1079);function ni(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Navbar.newexam")," "))}function ii(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.AsE(" ",e.lcZ(2,2,"labels.EditExam")," - ",a.exam_ar_name," ")}}function oi(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.country_id),e.xp6(1),e.hij(" ",a.country_ar_name," ")}}function li(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function ri(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,li,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.myForm.countryIdCtrl||null==a.myForm.countryIdCtrl.errors?null:a.myForm.countryIdCtrl.errors.required)}}function si(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.stage_ar_name," ")}}function ui(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function mi(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,ui,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.myForm.stageIdCtrl||null==a.myForm.stageIdCtrl.errors?null:a.myForm.stageIdCtrl.errors.required)}}function di(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.Educational_year_ar_name," ")}}function ci(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function pi(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,ci,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.educationYearIdCtrl||null==a.educationYearIdCtrl.errors?null:a.educationYearIdCtrl.errors.required)}}function _i(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.subject_id),e.xp6(1),e.hij(" ",a.subject_ar_name," ")}}function hi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function gi(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,hi,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.subjectIdCtrl||null==a.subjectIdCtrl.errors?null:a.subjectIdCtrl.errors.required)}}function fi(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.teacherUserId),e.xp6(1),e.hij(" ",a.teacher_ar_name," ")}}function vi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function Zi(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,vi,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.teacherUserIdCtrl||null==a.teacherUserIdCtrl.errors?null:a.teacherUserIdCtrl.errors.required)}}function Ci(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.exam_type_id),e.xp6(1),e.hij(" ",a.exam_ar_type_name," ")}}function Ti(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function Ai(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Ti,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.examTypeIdCtrl||null==a.examTypeIdCtrl.errors?null:a.examTypeIdCtrl.errors.required)}}function xi(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.unit_ar_name," ")}}function Ii(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function bi(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Ii,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.unitIdCtrl||null==a.unitIdCtrl.errors?null:a.unitIdCtrl.errors.required)}}function qi(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.lesson_ar_name," ")}}function yi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Ui(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,yi,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.lessionIdCtrl||null==a.lessionIdCtrl.errors?null:a.lessionIdCtrl.errors.required)}}function Qi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Fi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Ni(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Qi,3,3,"span",2),e.YNc(2,Fi,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.examNameCtrl||null==a.examNameCtrl.errors?null:a.examNameCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.examNameCtrl||null==a.examNameCtrl.errors?null:a.examNameCtrl.errors.whiteSpace)}}function wi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Ei(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,wi,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.examHoursCtrl||null==a.examHoursCtrl.errors?null:a.examHoursCtrl.errors.required)}}function ki(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Si(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,ki,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.examMinutesCtrl||null==a.examMinutesCtrl.errors?null:a.examMinutesCtrl.errors.required)}}function Li(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Di(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Li,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.examPriceCtrl||null==a.examPriceCtrl.errors?null:a.examPriceCtrl.errors.required)}}function Yi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Ji(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function ji(n,o){if(1&n&&(e.TgZ(0,"mat-hint",58),e.YNc(1,Yi,3,3,"span",2),e.YNc(2,Ji,3,3,"span",2),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==a.repeatNumbersCtrl||null==a.repeatNumbersCtrl.errors?null:a.repeatNumbersCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.repeatNumbersCtrl||null==a.repeatNumbersCtrl.errors?null:a.repeatNumbersCtrl.errors.bigZero)}}function Vi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Gi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function Pi(n,o){if(1&n&&(e.TgZ(0,"mat-hint",58),e.YNc(1,Vi,3,3,"span",2),e.YNc(2,Gi,3,3,"span",2),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==a.repeatingPriceCtrl||null==a.repeatingPriceCtrl.errors?null:a.repeatingPriceCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.repeatingPriceCtrl||null==a.repeatingPriceCtrl.errors?null:a.repeatingPriceCtrl.errors.minusNum)}}function Mi(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e.TgZ(2,"mat-form-field",7),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",55),e.YNc(7,ji,3,2,"mat-hint",56),e.qZA(),e.qZA(),e.TgZ(8,"div",45),e.TgZ(9,"mat-form-field",7),e.TgZ(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",57),e.YNc(14,Pi,3,2,"mat-hint",56),e.qZA(),e.qZA(),e.BQk()),2&n){var a=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,"labels.repeatNumbers")),e.xp6(3),e.Q6J("ngIf",(null==a.repeatNumbersCtrl?null:a.repeatNumbersCtrl.invalid)&&((null==a.repeatNumbersCtrl?null:a.repeatNumbersCtrl.touched)||a.submitted)),e.xp6(4),e.Oqu(e.lcZ(12,6,"labels.repeatingPrice")),e.xp6(3),e.Q6J("ngIf",(null==a.repeatingPriceCtrl?null:a.repeatingPriceCtrl.invalid)&&((null==a.repeatingPriceCtrl?null:a.repeatingPriceCtrl.touched)||a.submitted))}}function Oi(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(a),e.oxw(2).onSubmit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Update")," "))}function Bi(n,o){if(1&n&&(e.TgZ(0,"mat-card-actions",51),e.YNc(1,Oi,3,3,"button",52),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",a.examId>0)}}function Ri(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.question_group_ar_name),e.xp6(1),e.hij(" ",a.question_group_ar_name," ")}}function Hi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function $i(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Hi,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.examGroupCtrl||null==a.examGroupCtrl.errors?null:a.examGroupCtrl.errors.required)}}function zi(n,o){if(1&n&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.question_head_ar_name),e.xp6(1),e.hij(" ",a.question_head_ar_name," ")}}function Wi(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Xi(n,o){if(1&n&&(e.TgZ(0,"mat-hint",54),e.YNc(1,Wi,3,3,"span",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.examHeaderCtrl||null==a.examHeaderCtrl.errors?null:a.examHeaderCtrl.errors.required)}}function Ki(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(a),e.oxw().onSubmit()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Add")," "))}function eo(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(a),e.oxw().onAddExamGroupHeader()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.AddQuestion")," "))}function to(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(a),e.oxw().editExamGroupHead()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.UpdateQuestion")," "))}function ao(n,o){1&n&&(e.TgZ(0,"th",73),e._uU(1,"#"),e.qZA())}function no(n,o){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){var a=o.index;e.xp6(1),e.hij(" ",a+1," ")}}function io(n,o){1&n&&(e.TgZ(0,"th",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.\u064eQuestionNumber")," "))}function oo(n,o){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.hij(" ",a.questionNumber," ")}}function lo(n,o){1&n&&(e.TgZ(0,"th",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.QuestionHeader")," "))}function ro(n,o){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.hij(" ",a.questionType," ")}}function so(n,o){1&n&&(e.TgZ(0,"th",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.\u064eQuestionContent")," "))}function uo(n,o){if(1&n&&(e.TgZ(0,"td",74),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.hij(" ",a.question_title," ")}}function mo(n,o){1&n&&(e.TgZ(0,"th",73),e._uU(1," actions "),e.qZA())}function co(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"a",79),e.NdJ("click",function(){e.CHM(a);var i=e.oxw(2).$implicit;return e.oxw(2).getExamHeadById(i)}),e._UZ(1,"i",80),e.qZA()}}function po(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"a",81),e.NdJ("click",function(){e.CHM(a);var i=e.oxw(2).$implicit;return e.oxw(2).openDeleateDialog(i)}),e._UZ(1,"i",82),e.qZA()}}function _o(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"a",83),e.NdJ("click",function(){e.CHM(a);var i=e.oxw(2).$implicit;return e.oxw(2).addSubQuestionDialog(i)}),e._UZ(1,"i",84),e.qZA()}}function ho(n,o){if(1&n&&(e.ynx(0),e.YNc(1,co,2,0,"a",76),e.YNc(2,po,2,0,"a",77),e.YNc(3,_o,2,0,"a",78),e.BQk()),2&n){var a=o.$implicit;e.xp6(1),e.Q6J("ngIf","EditGroup"===a.functionName),e.xp6(1),e.Q6J("ngIf","DeleteGroup"===a.functionName),e.xp6(1),e.Q6J("ngIf","addSubQuestion"===a.functionName)}}function go(n,o){if(1&n&&(e.TgZ(0,"td",74),e.YNc(1,ho,4,3,"ng-container",75),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.rowFunctions)}}function fo(n,o){1&n&&e._UZ(0,"tr",85)}function vo(n,o){1&n&&e._UZ(0,"tr",86)}function Zo(n,o){if(1&n&&(e.TgZ(0,"tr",87),e.TgZ(1,"td",88),e._uU(2),e.qZA(),e.qZA()),2&n){var a=e.oxw(2);e.xp6(2),e.hij(' No data matching the filter "',a.input.value,'" ')}}var Co=function(){return[10]};function To(n,o){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-card"),e.TgZ(3,"mat-card-title"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"mat-card-content",4),e.TgZ(7,"div",0),e.TgZ(8,"div",1),e.TgZ(9,"div",60),e.TgZ(10,"table",61),e.ynx(11,62),e.YNc(12,ao,2,0,"th",63),e.YNc(13,no,2,1,"td",64),e.BQk(),e.ynx(14,65),e.YNc(15,io,3,3,"th",63),e.YNc(16,oo,2,1,"td",64),e.BQk(),e.ynx(17,66),e.YNc(18,lo,3,3,"th",63),e.YNc(19,ro,2,1,"td",64),e.BQk(),e.ynx(20,67),e.YNc(21,so,3,3,"th",63),e.YNc(22,uo,2,1,"td",64),e.BQk(),e.ynx(23,68),e.YNc(24,mo,2,0,"th",63),e.YNc(25,go,2,1,"td",64),e.BQk(),e.YNc(26,fo,1,0,"tr",69),e.YNc(27,vo,1,0,"tr",70),e.YNc(28,Zo,3,1,"tr",71),e.qZA(),e._UZ(29,"mat-paginator",72),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){var a=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,5,"labels.QuestionsGroup"),""),e.xp6(6),e.Q6J("dataSource",a.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(7,Co))}}var Ao=function(o){return{functionId:o}},xo=function(){var n=function(){function o(a,t,i,l,r,s,u,m,d,_,p){var h=this;(0,D.Z)(this,o),this.location=a,this.fb=t,this.authserv=i,this.examService=l,this.route=r,this.router=s,this.msg=u,this.generalService=m,this.dialog=d,this.datePipe=_,this.spinner=p,this.countries=[],this.stages=[],this.educationYears=[],this.subjects=[],this.examTypes=[],this.units=[],this.lessions=[],this.discountTypes=[],this.examGroups=[],this.examHeaders=[],this.GroupsHeadersList=[],this.examGroupHeaderIdToEdit=0,this.displayedColumns=["#","questionNumber","questionType","question_title","actions"],this.submitted=!1,this.GroupHeadsubmitted=!1,this.examId=0,this.editGroupHeaderMode=!1,this.isRepeatableExam=!1,this.isSendWhats=!1,this.examGroupHeaderId=0,this.route.queryParamMap.subscribe(function(g){h.examId=Number(g.get("examId")),h.examId>0&&(h.getExamById(),h.getAllGroupHeaderByExamId()),h.functionId=Number(g.get("functionId")),h.functionId&&h.authserv.getUserRowFunctions(h.functionId).subscribe(function(v){v&&(h.rowFunctions=v)})})}return(0,L.Z)(o,[{key:"countryIdCtrl",get:function(){return this.myForm.get("countryId")}},{key:"stageIdCtrl",get:function(){return this.myForm.get("stageId")}},{key:"educationYearIdCtrl",get:function(){return this.myForm.get("educationYearId")}},{key:"subjectIdCtrl",get:function(){return this.myForm.get("subjectId")}},{key:"teacherUserIdCtrl",get:function(){return this.myForm.get("teacherUserId")}},{key:"examTypeIdCtrl",get:function(){return this.myForm.get("examTypeId")}},{key:"unitIdCtrl",get:function(){return this.myForm.get("unitId")}},{key:"lessionIdCtrl",get:function(){return this.myForm.get("lessionId")}},{key:"examNameCtrl",get:function(){return this.myForm.get("examName")}},{key:"examHoursCtrl",get:function(){return this.myForm.get("examHours")}},{key:"examMinutesCtrl",get:function(){return this.myForm.get("examMinutes")}},{key:"examPriceCtrl",get:function(){return this.myForm.get("examPrice")}},{key:"discountCtrl",get:function(){return this.myForm.get("discount")}},{key:"discountTypeCtrl",get:function(){return this.myForm.get("discountType")}},{key:"fromDateCtrl",get:function(){return this.myForm.get("fromDate")}},{key:"toDateCtrl",get:function(){return this.myForm.get("toDate")}},{key:"formHourCtrl",get:function(){return this.myForm.get("formHour")}},{key:"toHoursCtrl",get:function(){return this.myForm.get("toHours")}},{key:"resualtDateCtrl",get:function(){return this.myForm.get("resualtDate")}},{key:"resualtTimeCtrl",get:function(){return this.myForm.get("resualtTime")}},{key:"canSellIndividuallyCtrl",get:function(){return this.myForm.get("canSellIndividually")}},{key:"isRepeatableCtrl",get:function(){return this.myForm.get("isRepeatable")}},{key:"repeatNumbersCtrl",get:function(){return this.myForm.get("repeatNumbers")}},{key:"repeatingPriceCtrl",get:function(){return this.myForm.get("repeatingPrice")}},{key:"hasCustomDiscountCtrl",get:function(){return this.myForm.get("hasCustomDiscount")}},{key:"sendWhatsAppMsgCtrl",get:function(){return this.myForm.get("sendWhatsAppMsg")}},{key:"examGroupCtrl",get:function(){return this.GroupHeadersForm.get("examGroup")}},{key:"examHeaderCtrl",get:function(){return this.GroupHeadersForm.get("examHeader")}},{key:"examContentCtrl",get:function(){return this.GroupHeadersForm.get("examContent")}},{key:"isPublishCtrl",get:function(){return this.myForm.get("isPublish")}},{key:"ngOnInit",value:function(){var t,i,l,r,s,u;this.myForm=this.fb.group({countryId:[""],stageId:[""],educationYearId:[""],subjectId:["",[c.kI.required]],teacherUserId:["",[c.kI.required]],examTypeId:["",[c.kI.required]],unitId:[""],lessionId:[""],examName:["",[c.kI.required,F.w.whiteSpace]],examHours:["",[c.kI.required,F.w.minusNum]],examMinutes:["",[c.kI.required,F.w.minusNum]],examPrice:[0,[c.kI.required,F.w.minusNum]],discount:[""],discountType:[""],fromDate:[""],toDate:[""],formHour:[""],toHours:[""],resualtDate:[""],resualtTime:[""],canSellIndividually:[!0,c.kI.required],isRepeatable:[!1,c.kI.required],repeatNumbers:[""],repeatingPrice:[0],hasCustomDiscount:[!1,c.kI.required],sendWhatsAppMsg:[!1,c.kI.required],isPublish:[0]}),this.GroupHeadersForm=this.fb.group({examGroup:["",c.kI.required],examHeader:["",c.kI.required],examContent:[""]}),this.EduCompId=this.authserv.getEduCompId(),this.branchId=this.authserv.getBranchId(),null===(t=this.stageIdCtrl)||void 0===t||t.disable(),null===(i=this.educationYearIdCtrl)||void 0===i||i.disable(),null===(l=this.subjectIdCtrl)||void 0===l||l.disable(),null===(r=this.teacherUserIdCtrl)||void 0===r||r.disable(),null===(s=this.unitIdCtrl)||void 0===s||s.disable(),null===(u=this.lessionIdCtrl)||void 0===u||u.disable(),this.discountCtrl.disable(),this.getAllCountieres(),this.getAllExamTypes(),this.getAllQuestionGroups(),this.getAllQuestionHeaders(),this.examTypeValidator(),this.RepeatableValidator()}},{key:"ngAfterViewInit",value:function(){var t=this;this.authserv.EduCompId.subscribe(function(i){t.EduCompId=i.EduCompId}),this.authserv.branchId.subscribe(function(i){t.branchId=i.branchId}),this.examId>0&&this.getExamById(),this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}},{key:"filter_question_group",value:function(t){var i=t.toLowerCase();return this.examGroups.filter(function(l){return l.question_group_ar_name.toLowerCase().includes(i)})}},{key:"filter_question_header",value:function(t){var i=t.toLowerCase();return this.examHeaders.filter(function(l){return l.question_head_ar_name.toLowerCase().includes(i)})}},{key:"getExamById",value:function(){var t=this;this.spinner.show(),this.examService.getExamById(this.examId).subscribe(function(i){var l,r,s,u,m,d,_,p,h,g,v,x,A,y,Q,k,Y,M,S,j,V,G,N,B,W,X,K,ee,te,ae,ne,ie,oe,le,re,se,ue,me,_e,de,ce;if(i){null===(l=t.stageIdCtrl)||void 0===l||l.enable(),null===(r=t.educationYearIdCtrl)||void 0===r||r.enable(),null===(s=t.subjectIdCtrl)||void 0===s||s.enable(),null===(u=t.teacherUserIdCtrl)||void 0===u||u.enable(),null===(m=t.unitIdCtrl)||void 0===m||m.enable(),null===(d=t.lessionIdCtrl)||void 0===d||d.enable(),null===(_=t.toHoursCtrl)||void 0===_||_.setValue(null==i?void 0:i.toHour),null===(p=t.isPublishCtrl)||void 0===p||p.setValue(null==i?void 0:i.isPublish),null===(h=t.discountCtrl)||void 0===h||h.setValue(null==i?void 0:i.Discount),null===(g=t.examNameCtrl)||void 0===g||g.setValue(null==i?void 0:i.exam_ar_name),t.exam_ar_name=null==i?void 0:i.exam_ar_name,null===(v=t.formHourCtrl)||void 0===v||v.setValue(null==i?void 0:i.fromHour),null===(x=t.examPriceCtrl)||void 0===x||x.setValue(null==i?void 0:i.price),null===(A=t.resualtTimeCtrl)||void 0===A||A.setValue(null==i?void 0:i.ResultTime),null===(y=t.discountTypeCtrl)||void 0===y||y.setValue(String(null==i?void 0:i.DiscountType)),null===(Q=t.isRepeatableCtrl)||void 0===Q||Q.setValue(null==i?void 0:i.repeatableExam),t.isRepeatableExam=null==i?void 0:i.repeatableExam,null===(k=t.repeatNumbersCtrl)||void 0===k||k.setValue(null==i?void 0:i.repeatableExam_Count),null===(Y=t.sendWhatsAppMsgCtrl)||void 0===Y||Y.setValue(null==i?void 0:i.SendWhatsApp),t.isSendWhats=null==i?void 0:i.SendWhatsApp,null===(M=t.hasCustomDiscountCtrl)||void 0===M||M.setValue((null==i?void 0:i.Discount)>0),null===(S=t.canSellIndividuallyCtrl)||void 0===S||S.setValue(null==i?void 0:i.Individually_Purchased),null===(j=t.countryIdCtrl)||void 0===j||j.setValue(i.countryId),null===(V=t.repeatingPriceCtrl)||void 0===V||V.setValue(i.StudentRepeatExamCost);var Te=i.exam_period_minute%60,Ie=(i.exam_period_minute-Te)/60;null===(G=t.examMinutesCtrl)||void 0===G||G.setValue(Te),null===(N=t.examHoursCtrl)||void 0===N||N.setValue(Ie),null!=i.Lesson_ID&&(null===(B=t.examTypeIdCtrl)||void 0===B||B.setValue(1)),null!=(null==i?void 0:i.Unit_ID)&&null==i.Lesson_ID&&(null===(W=t.examTypeIdCtrl)||void 0===W||W.setValue(2)),null!=(null==i?void 0:i.Subject_ID)&&null==(null==i?void 0:i.Unit_ID)&&null==i.Lesson_ID&&(null===(X=t.examTypeIdCtrl)||void 0===X||X.setValue(3)),null==(null==i?void 0:i.Subject_ID)&&null==(null==i?void 0:i.Unit_ID)&&null==i.Lesson_ID&&1==i.quiz&&(null===(K=t.examTypeIdCtrl)||void 0===K||K.setValue(4)),null===(ee=t.fromDateCtrl)||void 0===ee||ee.setValue(i.Avilable_Date_From),null===(te=t.toDateCtrl)||void 0===te||te.setValue(i.Avilable_Date_To),null===(ae=t.resualtDateCtrl)||void 0===ae||ae.setValue(i.ResultDate),null===(ne=t.countryIdCtrl)||void 0===ne||ne.setValue(1),t.onSelectCountry(),null===(ie=t.stageIdCtrl)||void 0===ie||ie.setValue(i.stageId),t.onSelectStages(),null===(oe=t.educationYearIdCtrl)||void 0===oe||oe.setValue(i.eduYearId),t.onSelectEducationYears(),null===(le=t.subjectIdCtrl)||void 0===le||le.setValue(null==i?void 0:i.main_subject_id),t.onSelectSubjects(),null===(re=t.teacherUserIdCtrl)||void 0===re||re.setValue(null==i?void 0:i.teacherUserId),null===(se=t.unitIdCtrl)||void 0===se||se.setValue(null==i?void 0:i.Unit_ID),t.onSelectUnit(),null===(ue=t.lessionIdCtrl)||void 0===ue||ue.setValue(null==i?void 0:i.Lesson_ID),null===(me=t.stageIdCtrl)||void 0===me||me.setValue(i.stageId),null===(_e=t.educationYearIdCtrl)||void 0===_e||_e.setValue(i.eduYearId),null===(de=t.teacherUserIdCtrl)||void 0===de||de.setValue(null==i?void 0:i.teacherUserId),null===(ce=t.unitIdCtrl)||void 0===ce||ce.setValue(null==i?void 0:i.Unit_ID),null==i.DiscountType&&null!=i.Discount&&t.discountTypeCtrl.setValue(String(2)),t.discountTypeCtrl.value&&t.discountCtrl.enable()}t.spinner.hide()})}},{key:"getAllGroupHeaderByExamId",value:function(){var t=this;this.examService.getAllGroupHeaderByExamId(this.examId).subscribe(function(i){i&&(t.GroupsHeadersList=i,t.dataSource=new f.by(i),t.itemsCount=i.length)})}},{key:"getAllQuestionGroups",value:function(){var t=this;this.examService.getAllQuestionGroups().subscribe(function(i){i&&(t.examGroups=i,t.filteredExamGroups=t.examGroupCtrl.valueChanges.pipe((0,Me.O)(""),(0,Oe.U)(function(l){return t.filter_question_group(l||"")})))})}},{key:"getAllQuestionHeaders",value:function(){var t=this;this.examService.getAllQuestionHeaders().subscribe(function(i){i&&(t.examHeaders=i,t.filteredExamHeaders=t.examHeaderCtrl.valueChanges.pipe((0,Me.O)(""),(0,Oe.U)(function(l){return t.filter_question_header(l||"")})))})}},{key:"onChangeDate",value:function(){var t;console.log(null===(t=this.fromDateCtrl)||void 0===t?void 0:t.value)}},{key:"onSubmit",value:function(){var t,i,l,r,s,u,m,d,_,p,h,g,v,x,A,y,Q,k,Y,M,S,j,V,G,N={id:this.examId,Avilable_Date_From:this.datePipe.transform(this.fromDateCtrl.value),Avilable_Date_To:this.datePipe.transform(this.toDateCtrl.value),CustomDiscountApplied:null===(t=this.hasCustomDiscountCtrl)||void 0===t?void 0:t.value,Discount:null===(i=this.discountCtrl)||void 0===i?void 0:i.value,DiscountType:null===(l=this.discountTypeCtrl)||void 0===l?void 0:l.value,EduCompId:this.EduCompId,Individually_Purchased:null===(r=this.canSellIndividuallyCtrl)||void 0===r?void 0:r.value,ResultDate:this.datePipe.transform(this.resualtDateCtrl.value),ResultTime:null===(s=this.resualtTimeCtrl)||void 0===s?void 0:s.value,SendWhatsApp:null===(u=this.sendWhatsAppMsgCtrl)||void 0===u?void 0:u.value,StudentRepeatExamCost:null===(m=this.repeatingPriceCtrl)||void 0===m?void 0:m.value,exam_ar_name:null===(d=this.examNameCtrl)||void 0===d?void 0:d.value,fromHour:null===(_=this.formHourCtrl)||void 0===_?void 0:_.value,lesson_ID:null===(p=this.lessionIdCtrl)||void 0===p?void 0:p.value,price:null===(h=this.examPriceCtrl)||void 0===h?void 0:h.value,repeatableExam:null===(g=this.isRepeatableCtrl)||void 0===g?void 0:g.value,repeatableExam_Count:null===(v=this.repeatNumbersCtrl)||void 0===v?void 0:v.value,subject_ID:null===(x=this.subjectIdCtrl)||void 0===x?void 0:x.value,teacherUserId:null===(A=this.teacherUserIdCtrl)||void 0===A?void 0:A.value,teacher_subject_id:null===(y=this.subjectIdCtrl)||void 0===y?void 0:y.value,toHour:null===(Q=this.toHoursCtrl)||void 0===Q?void 0:Q.value,unit_ID:null===(k=this.unitIdCtrl)||void 0===k?void 0:k.value,exam_hour:null===(Y=this.examHoursCtrl)||void 0===Y?void 0:Y.value,exam_minute:null===(M=this.examMinutesCtrl)||void 0===M?void 0:M.value,isPublish:null===(S=this.isPublishCtrl)||void 0===S?void 0:S.value},B={exam_hour:null===(j=this.examHoursCtrl)||void 0===j?void 0:j.value,exam_minute:null===(V=this.examMinutesCtrl)||void 0===V?void 0:V.value,exam_type_id:null===(G=this.examTypeIdCtrl)||void 0===G?void 0:G.value,exam:N};this.addExam(B)}},{key:"addExam",value:function(t){var l,r,i=this,s=this.GroupHeadersForm.valid;if(this.submitted=!0,0!=this.examId||s){if(1==(null===(l=this.hasCustomDiscountCtrl)||void 0===l?void 0:l.value)&&this.repeatNumbersCtrl.value<=0)return void this.msg.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0639\u062f\u062f \u0645\u0631\u0627\u062a \u0627\u0644\u062a\u0643\u0631\u0627\u0631");if(1==(null===(r=this.hasCustomDiscountCtrl)||void 0===r?void 0:r.value)&&this.repeatingPriceCtrl.value<0)return void this.msg.warning("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0633\u0639\u0631 \u062a\u062c\u062f\u064a\u062f \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646 ");this.myForm.valid?(this.spinner.show(),this.examService.addExam(t).subscribe(function(u){200==u.returnValue&&u.examId>0&&(i.examId=u.examId,i.router.navigate([],{queryParams:{examId:u.examId},queryParamsHandling:"merge"}),i.onAddExamGroupHeader(),i.msg.success("\u062a\u0645 \u0627\u0636\u0627\u0641\u0629/ \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646 \u0628\u0646\u062c\u0627\u062d"),i.submitted=!1),i.spinner.hide()})):this.msg.error("Check your inputs")}else this.GroupHeadsubmitted=!0}},{key:"onAddExamGroupHeader",value:function(){var i,l,r,s,u,t=this;if(null===(l=null===(i=this.dataSource)||void 0===i?void 0:i.data)||void 0===l?void 0:l.find(function(p){var h,g;return p.group_name==(null===(h=t.examGroupCtrl)||void 0===h?void 0:h.value)&&p.head_name==(null===(g=t.examHeaderCtrl)||void 0===g?void 0:g.value)}))this.msg.info("Cannot add the same header with same group");else{var _={exam_question_group_text:null===(r=this.examGroupCtrl)||void 0===r?void 0:r.value,exam_question_head_title:null===(s=this.examContentCtrl)||void 0===s?void 0:s.value,exam_question_head_text:null===(u=this.examHeaderCtrl)||void 0===u?void 0:u.value,exam:{id:this.examId}};this.GroupHeadersForm.valid?(this.spinner.show(),this.examService.addExamGroupHeader(_).subscribe(function(p){var x;p&&(t.getAllGroupHeaderByExamId(),t.msg.success("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629"),t.examGroupCtrl,t.examHeaderCtrl,t.examContentCtrl,null===(x=t.examContentCtrl)||void 0===x||x.setValue(null),t.spinner.hide())})):0==this.examId&&this.msg.error("Check your inputs")}}},{key:"getExamHeadById",value:function(t){var i,l,r;this.editGroupHeaderMode=!0,this.examGroupHeaderIdToEdit=t.id,null===(i=this.examGroupCtrl)||void 0===i||i.setValue(null==t?void 0:t.questionNumber),null===(l=this.examContentCtrl)||void 0===l||l.setValue(null==t?void 0:t.question_title),null===(r=this.examHeaderCtrl)||void 0===r||r.setValue(null==t?void 0:t.questionType)}},{key:"editExamGroupHead",value:function(){var i,l,r,t=this,s={exam_question_head_id:this.examGroupHeaderIdToEdit,group:null===(i=this.examGroupCtrl)||void 0===i?void 0:i.value,head:null===(l=this.examHeaderCtrl)||void 0===l?void 0:l.value,title:null===(r=this.examContentCtrl)||void 0===r?void 0:r.value};this.spinner.show(),this.examService.editExamGroupHeader(s).subscribe(function(u){var m,d;if(u){var _=t.dataSource.data.find(function(p){return p.id==t.examGroupHeaderIdToEdit});_&&(_.questionNumber=s.group,_.questionType=s.head,_.question_title=null===(m=t.examContentCtrl)||void 0===m?void 0:m.value),t.editGroupHeaderMode=!1,null===(d=t.examContentCtrl)||void 0===d||d.setValue(null),t.msg.success("\u062a\u0645 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d")}t.spinner.hide()})}},{key:"removeExamGroupHead",value:function(t){var i=this;this.spinner.show(),this.examService.deleteExamGroupHeader(t.id).subscribe(function(l){if(200==l.returnValue){var r=i.dataSource.data.findIndex(function(s){return s==t});i.dataSource.data.splice(r,1),i.dataSource.paginator=i.paginator,i.msg.success("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641")}else i.msg.error(l.returnString);i.spinner.hide()})}},{key:"openDeleateDialog",value:function(t){var i=this;this.dialog.open(fe.F,{data:{msg:t.questionNumber}}).afterClosed().subscribe(function(l){l&&i.removeExamGroupHead(t)})}},{key:"addSubQuestionDialog",value:function(t){this.dialog.open(ai,{data:{examId:this.examId,examGroupHeaderId:t.id,subjectId:this.subjectIdCtrl.value},minHeight:"96vh",minWidth:"70vw"}).afterClosed().subscribe(function(i){})}},{key:"addSubQuestion",value:function(t){this.examGroupHeaderId=t}},{key:"getAllExamTypes",value:function(){var t=this;this.examService.getAllExamType().subscribe(function(i){i&&(t.examTypes=i)})}},{key:"onSelectExamType",value:function(){var t,i,l,r,s,u,m,d;1==(null===(t=this.examTypeIdCtrl)||void 0===t?void 0:t.value)?(null===(i=this.unitIdCtrl)||void 0===i||i.enable(),null===(l=this.lessionIdCtrl)||void 0===l||l.enable()):2==(null===(r=this.examTypeIdCtrl)||void 0===r?void 0:r.value)?(null===(s=this.unitIdCtrl)||void 0===s||s.enable(),null===(u=this.lessionIdCtrl)||void 0===u||u.disable()):(null===(m=this.unitIdCtrl)||void 0===m||m.disable(),null===(d=this.lessionIdCtrl)||void 0===d||d.disable())}},{key:"getAllCountieres",value:function(){var t=this;this.examService.getAllCountries().subscribe(function(i){i&&(t.countries=i)})}},{key:"onSelectCountry",value:function(){var i,l,r,s,u,m,t=this;(null===(i=this.countryIdCtrl)||void 0===i?void 0:i.value)?this.examService.getAllStages(null===(l=this.countryIdCtrl)||void 0===l?void 0:l.value).subscribe(function(d){var _;d&&(t.stages=d,null===(_=t.stageIdCtrl)||void 0===_||_.enable())}):(null===(r=this.stageIdCtrl)||void 0===r||r.disable(),null===(s=this.educationYearIdCtrl)||void 0===s||s.disable(),null===(u=this.subjectIdCtrl)||void 0===u||u.disable(),null===(m=this.teacherUserIdCtrl)||void 0===m||m.disable())}},{key:"onSelectStages",value:function(){var i,l,r,s,u,m,d,_,t=this;null===(i=this.educationYearIdCtrl)||void 0===i||i.setValue(""),null===(l=this.subjectIdCtrl)||void 0===l||l.setValue(""),null===(r=this.teacherUserIdCtrl)||void 0===r||r.setValue(""),(null===(s=this.stageIdCtrl)||void 0===s?void 0:s.value)?this.examService.getAllEducationYears(null===(u=this.stageIdCtrl)||void 0===u?void 0:u.value).subscribe(function(p){var h;p&&(t.educationYears=p,null===(h=t.educationYearIdCtrl)||void 0===h||h.enable())}):(null===(m=this.educationYearIdCtrl)||void 0===m||m.disable(),null===(d=this.subjectIdCtrl)||void 0===d||d.disable(),null===(_=this.teacherUserIdCtrl)||void 0===_||_.disable())}},{key:"onSelectEducationYears",value:function(){var i,l,r,s,u,m,t=this;null===(i=this.subjectIdCtrl)||void 0===i||i.setValue(""),null===(l=this.teacherUserIdCtrl)||void 0===l||l.setValue(""),(null===(r=this.educationYearIdCtrl)||void 0===r?void 0:r.value)?this.examService.getAllSubjects(null===(s=this.educationYearIdCtrl)||void 0===s?void 0:s.value).subscribe(function(d){var _;d&&(t.subjects=d,null===(_=t.subjectIdCtrl)||void 0===_||_.enable())}):(null===(u=this.subjectIdCtrl)||void 0===u||u.disable(),null===(m=this.teacherUserIdCtrl)||void 0===m||m.disable())}},{key:"onSelectSubjects",value:function(){var i,l,r,s,t=this;(null===(i=this.subjectIdCtrl)||void 0===i?void 0:i.value)?(0,Ln.D)([this.generalService.getTeacherBySubjectAndEduCompId(this.EduCompId,null===(l=this.subjectIdCtrl)||void 0===l?void 0:l.value),this.examService.getAllUnitsBySublectId(null===(r=this.subjectIdCtrl)||void 0===r?void 0:r.value)]).subscribe(function(u){var m;t.teachers=u[0].teachers,t.units=u[1],null===(m=t.teacherUserIdCtrl)||void 0===m||m.enable()}):null===(s=this.teacherUserIdCtrl)||void 0===s||s.disable()}},{key:"onSelectUnit",value:function(){var i,l,t=this;null!=(null===(i=this.unitIdCtrl)||void 0===i?void 0:i.value)&&this.examService.getAllLessonsByUnitId(null===(l=this.unitIdCtrl)||void 0===l?void 0:l.value).subscribe(function(r){r&&(t.lessions=r)})}},{key:"examTypeValidator",value:function(){var t,i,l,r,s,u,m,d,_,p,h,g,v=null===(t=this.examTypeIdCtrl)||void 0===t?void 0:t.value;1==v?(null===(i=this.unitIdCtrl)||void 0===i||i.setValidators([c.kI.required]),null===(l=this.lessionIdCtrl)||void 0===l||l.setValidators([c.kI.required])):2==v?(null===(r=this.unitIdCtrl)||void 0===r||r.setValidators([c.kI.required]),null===(s=this.lessionIdCtrl)||void 0===s||s.clearValidators(),null===(u=this.lessionIdCtrl)||void 0===u||u.reset()):(null===(m=this.unitIdCtrl)||void 0===m||m.clearValidators(),null===(d=this.unitIdCtrl)||void 0===d||d.reset(),null===(_=this.lessionIdCtrl)||void 0===_||_.clearValidators(),null===(p=this.lessionIdCtrl)||void 0===p||p.reset()),null===(h=this.unitIdCtrl)||void 0===h||h.updateValueAndValidity(),null===(g=this.lessionIdCtrl)||void 0===g||g.updateValueAndValidity()}},{key:"RepeatableValidator",value:function(){var t,i,l,r,s,u,m,d,_,p=null===(t=this.hasCustomDiscountCtrl)||void 0===t?void 0:t.value;1==p?(null===(i=this.repeatNumbersCtrl)||void 0===i||i.setValidators([c.kI.required]),null===(l=this.repeatingPriceCtrl)||void 0===l||l.setValidators([c.kI.required])):0==p&&(null===(r=this.repeatNumbersCtrl)||void 0===r||r.clearValidators(),null===(s=this.repeatingPriceCtrl)||void 0===s||s.clearValidators(),null===(u=this.repeatNumbersCtrl)||void 0===u||u.reset(),null===(m=this.repeatingPriceCtrl)||void 0===m||m.reset()),null===(d=this.repeatNumbersCtrl)||void 0===d||d.updateValueAndValidity(),null===(_=this.repeatingPriceCtrl)||void 0===_||_.updateValueAndValidity()}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(b.Ye),e.Y36(c.qu),e.Y36(O.e),e.Y36(Ce),e.Y36(q.gz),e.Y36(q.F0),e.Y36(R._W),e.Y36(xe.m),e.Y36(w.uw),e.Y36(b.uU),e.Y36(U.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-exam"]],viewQuery:function(a,t){var i;1&a&&(e.Gf(z.NW,5),e.Gf(J.YE,5)),2&a&&(e.iGM(i=e.CRH())&&(t.paginator=i.first),e.iGM(i=e.CRH())&&(t.sort=i.first))},decls:291,vars:195,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],["mat-raised-button","","routerLink","../",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-3","col-12"],["appearance","legacy"],["formControlName","countryId",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","danger",4,"ngIf"],["formControlName","stageId",3,"selectionChange"],["formControlName","educationYearId",3,"selectionChange"],["formControlName","subjectId",3,"selectionChange"],["formControlName","teacherUserId",3,"selectionChange"],["formControlName","examTypeId",3,"selectionChange"],["formControlName","unitId",3,"selectionChange"],["formControlName","lessionId"],["matInput","","formControlName","examName"],["matInput","","type","number","formControlName","examHours"],["matInput","","type","number","formControlName","examMinutes"],["matInput","","type","number","formControlName","examPrice"],["formControlName","discountType",3,"selectionChange"],["value","1"],["value","2"],["matInput","","type","number","formControlName","discount"],["matInput","","formControlName","fromDate",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["fromDate",""],["matInput","","formControlName","toDate",3,"matDatepicker"],["toDate",""],["matInput","","type","time","formControlName","formHour"],["matInput","","type","time","formControlName","toHours"],["matInput","","formControlName","resualtDate",3,"matDatepicker"],["resualtDate",""],["matInput","","type","time","formControlName","resualtTime"],["formControlName","canSellIndividually",1,"row"],[3,"value"],["formControlName","isRepeatable",1,"row"],[3,"value","change"],["formControlName","sendWhatsAppMsg",1,"row"],["formControlName","hasCustomDiscount",1,"row"],["align","end",4,"ngIf"],[1,"form-horizontal",3,"formGroup"],[1,"col-md-6","col-12"],["type","text","matInput","","formControlName","examGroup",3,"matAutocomplete"],["autoExamGroup","matAutocomplete"],["type","text","matInput","","formControlName","examHeader",3,"matAutocomplete"],["autoExamHeader","matAutocomplete"],["matInput","","formControlName","examContent","cols","20"],["align","end"],["mat-raised-button","","class","btn btn-primary",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"danger"],["matInput","","type","number","formControlName","repeatNumbers"],["class","text-danger",4,"ngIf"],["matInput","","type","number","formControlName","repeatingPrice"],[1,"text-danger"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","questionNumber"],["matColumnDef","questionType"],["matColumnDef","question_title"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngFor","ngForOf"],["class","success p-0","matTooltip","Edit Group",3,"click",4,"ngIf"],["class","danger p-0","matTooltip","Delete Group",3,"click",4,"ngIf"],["class","info p-0","matTooltip","Add sub question",3,"click",4,"ngIf"],["matTooltip","Edit Group",1,"success","p-0",3,"click"],[1,"ft-edit-2","font-medium-3","mr-2"],["matTooltip","Delete Group",1,"danger","p-0",3,"click"],[1,"ft-trash","font-medium-3","mr-2"],["matTooltip","Add sub question",1,"info","p-0",3,"click"],[1,"ft-git-branch","font-medium-3","mr-2"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,t){if(1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e.YNc(5,ni,3,3,"span",2),e.YNc(6,ii,3,4,"span",2),e.TgZ(7,"a",3),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.TgZ(10,"mat-card-content",4),e.TgZ(11,"div",0),e.TgZ(12,"div",1),e.TgZ(13,"form",5),e.TgZ(14,"div",0),e.TgZ(15,"div",6),e.TgZ(16,"mat-form-field",7),e.TgZ(17,"mat-label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"mat-select",8),e.NdJ("selectionChange",function(){return t.onSelectCountry()}),e.TgZ(21,"mat-option",9),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.YNc(24,oi,2,2,"mat-option",10),e.qZA(),e.YNc(25,ri,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(26,"div",6),e.TgZ(27,"mat-form-field",7),e.TgZ(28,"mat-label"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"mat-select",12),e.NdJ("selectionChange",function(){return t.onSelectStages()}),e.TgZ(32,"mat-option",9),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.YNc(35,si,2,2,"mat-option",10),e.qZA(),e.YNc(36,mi,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(37,"div",6),e.TgZ(38,"mat-form-field",7),e.TgZ(39,"mat-label"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"mat-select",13),e.NdJ("selectionChange",function(){return t.onSelectEducationYears()}),e.TgZ(43,"mat-option",9),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.YNc(46,di,2,2,"mat-option",10),e.qZA(),e.YNc(47,pi,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(48,"div",6),e.TgZ(49,"mat-form-field",7),e.TgZ(50,"mat-label"),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"mat-select",14),e.NdJ("selectionChange",function(){return t.onSelectSubjects()}),e.TgZ(54,"mat-option",9),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.YNc(57,_i,2,2,"mat-option",10),e.qZA(),e.YNc(58,gi,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(59,"div",6),e.TgZ(60,"mat-form-field",7),e.TgZ(61,"mat-label"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"mat-select",15),e.NdJ("selectionChange",function(){return t.onSelectSubjects()}),e.TgZ(65,"mat-option"),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.YNc(68,fi,2,2,"mat-option",10),e.qZA(),e.YNc(69,Zi,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(70,"div",6),e.TgZ(71,"mat-form-field",7),e.TgZ(72,"mat-label"),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"mat-select",16),e.NdJ("selectionChange",function(){return t.onSelectExamType(),t.examTypeValidator()}),e.TgZ(76,"mat-option",9),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.YNc(79,Ci,2,2,"mat-option",10),e.qZA(),e.YNc(80,Ai,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(81,"div",6),e.TgZ(82,"mat-form-field",7),e.TgZ(83,"mat-label"),e._uU(84),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"mat-select",17),e.NdJ("selectionChange",function(){return t.onSelectUnit()}),e.TgZ(87,"mat-option",9),e._uU(88),e.ALo(89,"translate"),e.qZA(),e.YNc(90,xi,2,2,"mat-option",10),e.qZA(),e.YNc(91,bi,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(92,"div",6),e.TgZ(93,"mat-form-field",7),e.TgZ(94,"mat-label"),e._uU(95),e.ALo(96,"translate"),e.qZA(),e.TgZ(97,"mat-select",18),e.TgZ(98,"mat-option",9),e._uU(99),e.ALo(100,"translate"),e.qZA(),e.YNc(101,qi,2,2,"mat-option",10),e.qZA(),e.YNc(102,Ui,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(103,"div",6),e.TgZ(104,"mat-form-field",7),e.TgZ(105,"mat-label"),e._uU(106),e.ALo(107,"translate"),e.qZA(),e._UZ(108,"input",19),e.YNc(109,Ni,3,2,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(110,"div",6),e.TgZ(111,"mat-form-field",7),e.TgZ(112,"mat-label"),e._uU(113),e.ALo(114,"translate"),e.qZA(),e._UZ(115,"input",20),e.YNc(116,Ei,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(117,"div",6),e.TgZ(118,"mat-form-field",7),e.TgZ(119,"mat-label"),e._uU(120),e.ALo(121,"translate"),e.qZA(),e._UZ(122,"input",21),e.YNc(123,Si,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(124,"div",6),e.TgZ(125,"mat-form-field",7),e.TgZ(126,"mat-label"),e._uU(127),e.ALo(128,"translate"),e.qZA(),e._UZ(129,"input",22),e.YNc(130,Di,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(131,"div",6),e.TgZ(132,"mat-form-field",7),e.TgZ(133,"mat-label"),e._uU(134),e.ALo(135,"translate"),e.qZA(),e.TgZ(136,"mat-select",23),e.NdJ("selectionChange",function(){return t.discountTypeCtrl.value?t.discountCtrl.enable():t.discountCtrl.disable()}),e.TgZ(137,"mat-option",9),e._uU(138),e.ALo(139,"translate"),e.qZA(),e.TgZ(140,"mat-option",24),e._uU(141,"\u0639\u0627\u0645"),e.qZA(),e.TgZ(142,"mat-option",25),e._uU(143,"\u062e\u0627\u0635"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(144,"div",6),e.TgZ(145,"mat-form-field",7),e.TgZ(146,"mat-label"),e._uU(147),e.ALo(148,"translate"),e.qZA(),e._UZ(149,"input",26),e.qZA(),e.qZA(),e.TgZ(150,"div",6),e.TgZ(151,"mat-form-field",7),e.TgZ(152,"mat-label"),e._uU(153),e.ALo(154,"translate"),e.qZA(),e.TgZ(155,"input",27),e.NdJ("dateChange",function(){return t.onChangeDate()}),e.qZA(),e._UZ(156,"mat-datepicker-toggle",28),e._UZ(157,"mat-datepicker",null,29),e.qZA(),e.qZA(),e.TgZ(159,"div",6),e.TgZ(160,"mat-form-field",7),e.TgZ(161,"mat-label"),e._uU(162),e.ALo(163,"translate"),e.qZA(),e._UZ(164,"input",30),e._UZ(165,"mat-datepicker-toggle",28),e._UZ(166,"mat-datepicker",null,31),e.qZA(),e.qZA(),e.TgZ(168,"div",6),e.TgZ(169,"mat-form-field",7),e.TgZ(170,"mat-label"),e._uU(171),e.ALo(172,"translate"),e.qZA(),e._UZ(173,"input",32),e.qZA(),e.qZA(),e.TgZ(174,"div",6),e.TgZ(175,"mat-form-field",7),e.TgZ(176,"mat-label"),e._uU(177),e.ALo(178,"translate"),e.qZA(),e._UZ(179,"input",33),e.qZA(),e.qZA(),e.TgZ(180,"div",6),e.TgZ(181,"mat-form-field",7),e.TgZ(182,"mat-label"),e._uU(183),e.ALo(184,"translate"),e.qZA(),e._UZ(185,"input",34),e._UZ(186,"mat-datepicker-toggle",28),e._UZ(187,"mat-datepicker",null,35),e.qZA(),e.qZA(),e.TgZ(189,"div",6),e.TgZ(190,"mat-form-field",7),e.TgZ(191,"mat-label"),e._uU(192),e.ALo(193,"translate"),e.qZA(),e._UZ(194,"input",36),e.qZA(),e.qZA(),e.TgZ(195,"div",6),e.TgZ(196,"mat-label"),e._uU(197),e.ALo(198,"translate"),e.qZA(),e.TgZ(199,"mat-radio-group",37),e.TgZ(200,"div",6),e.TgZ(201,"mat-radio-button",38),e._uU(202),e.ALo(203,"translate"),e.qZA(),e.qZA(),e.TgZ(204,"div",6),e.TgZ(205,"mat-radio-button",38),e._uU(206),e.ALo(207,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(208,"div",6),e.TgZ(209,"mat-label"),e._uU(210),e.ALo(211,"translate"),e.qZA(),e.TgZ(212,"mat-radio-group",39),e.TgZ(213,"div",6),e.TgZ(214,"mat-radio-button",40),e.NdJ("change",function(){return t.RepeatableValidator()}),e._uU(215),e.ALo(216,"translate"),e.qZA(),e.qZA(),e.TgZ(217,"div",6),e.TgZ(218,"mat-radio-button",40),e.NdJ("change",function(){return t.RepeatableValidator()}),e._uU(219),e.ALo(220,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(221,"div",6),e.TgZ(222,"mat-label"),e._uU(223),e.ALo(224,"translate"),e.qZA(),e.TgZ(225,"mat-radio-group",41),e.TgZ(226,"div",6),e.TgZ(227,"mat-radio-button",38),e._uU(228),e.ALo(229,"translate"),e.qZA(),e.qZA(),e.TgZ(230,"div",6),e.TgZ(231,"mat-radio-button",38),e._uU(232),e.ALo(233,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(234,"div",6),e.TgZ(235,"mat-label"),e._uU(236),e.ALo(237,"translate"),e.qZA(),e.TgZ(238,"mat-radio-group",42),e.TgZ(239,"div",6),e.TgZ(240,"mat-radio-button",38),e._uU(241),e.ALo(242,"translate"),e.qZA(),e.qZA(),e.TgZ(243,"div",6),e.TgZ(244,"mat-radio-button",38),e._uU(245),e.ALo(246,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(247,Mi,15,8,"ng-container",2),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(248,Bi,2,1,"mat-card-actions",43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(249,"div",0),e.TgZ(250,"div",1),e.TgZ(251,"mat-card"),e.TgZ(252,"mat-card-title"),e._uU(253),e.ALo(254,"translate"),e.qZA(),e.TgZ(255,"mat-card-content",4),e.TgZ(256,"form",44),e.TgZ(257,"div",0),e.TgZ(258,"div",45),e.TgZ(259,"mat-form-field",7),e.TgZ(260,"mat-label"),e._uU(261),e.ALo(262,"translate"),e.qZA(),e._UZ(263,"input",46),e.TgZ(264,"mat-autocomplete",null,47),e.YNc(266,Ri,2,2,"mat-option",10),e.ALo(267,"async"),e.qZA(),e.YNc(268,$i,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(269,"div",45),e.TgZ(270,"mat-form-field",7),e.TgZ(271,"mat-label"),e._uU(272),e.ALo(273,"translate"),e.qZA(),e._UZ(274,"input",48),e.TgZ(275,"mat-autocomplete",null,49),e.YNc(277,zi,2,2,"mat-option",10),e.ALo(278,"async"),e.qZA(),e.YNc(279,Xi,2,1,"mat-hint",11),e.qZA(),e.qZA(),e.TgZ(280,"div",1),e.TgZ(281,"mat-form-field",7),e.TgZ(282,"mat-label"),e._uU(283),e.ALo(284,"translate"),e.qZA(),e._UZ(285,"textarea",50),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(286,"mat-card-actions",51),e.YNc(287,Ki,3,3,"button",52),e.YNc(288,eo,3,3,"button",52),e.YNc(289,to,3,3,"button",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(290,To,30,8,"div",53)),2&a){var i=e.MAs(158),l=e.MAs(167),r=e.MAs(188),s=e.MAs(265),u=e.MAs(276);e.xp6(5),e.Q6J("ngIf",0==t.examId),e.xp6(1),e.Q6J("ngIf",t.examId>0),e.xp6(1),e.Q6J("queryParams",e.VKq(193,Ao,t.functionId)),e.xp6(1),e.hij(" ",e.lcZ(9,97,"General.Back")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.hij("",e.lcZ(19,99,"labels.Country")," "),e.xp6(4),e.hij(" ",e.lcZ(23,101,"labels.Country")," "),e.xp6(2),e.Q6J("ngForOf",t.countries),e.xp6(1),e.Q6J("ngIf",(null==t.countryIdCtrl?null:t.countryIdCtrl.invalid)&&((null==t.countryIdCtrl?null:t.countryIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(30,103,"Navbar.EducationalStage")),e.xp6(4),e.Oqu(e.lcZ(34,105,"Navbar.EducationalStage")),e.xp6(2),e.Q6J("ngForOf",t.stages),e.xp6(1),e.Q6J("ngIf",(null==t.stageIdCtrl?null:t.stageIdCtrl.invalid)&&((null==t.stageIdCtrl?null:t.stageIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(41,107,"labels.EducationalYear")),e.xp6(4),e.Oqu(e.lcZ(45,109,"labels.EducationalYear")),e.xp6(2),e.Q6J("ngForOf",t.educationYears),e.xp6(1),e.Q6J("ngIf",(null==t.educationYearIdCtrl?null:t.educationYearIdCtrl.invalid)&&((null==t.educationYearIdCtrl?null:t.educationYearIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(52,111,"Material.Subjects")),e.xp6(4),e.Oqu(e.lcZ(56,113,"Material.Subjects")),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(1),e.Q6J("ngIf",(null==t.subjectIdCtrl?null:t.subjectIdCtrl.invalid)&&((null==t.subjectIdCtrl?null:t.subjectIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(63,115,"Material.Teacher")),e.xp6(4),e.hij(" ",e.lcZ(67,117,"Material.Teacher")," "),e.xp6(2),e.Q6J("ngForOf",t.teachers),e.xp6(1),e.Q6J("ngIf",(null==t.teacherUserIdCtrl?null:t.teacherUserIdCtrl.invalid)&&((null==t.teacherUserIdCtrl?null:t.teacherUserIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(74,119,"Material.ExamType")),e.xp6(4),e.Oqu(e.lcZ(78,121,"Material.ExamType")),e.xp6(2),e.Q6J("ngForOf",t.examTypes),e.xp6(1),e.Q6J("ngIf",(null==t.examTypeIdCtrl?null:t.examTypeIdCtrl.invalid)&&((null==t.examTypeIdCtrl?null:t.examTypeIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(85,123,"labels.Unit")),e.xp6(4),e.Oqu(e.lcZ(89,125,"labels.Unit")),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(1),e.Q6J("ngIf",(null==t.unitIdCtrl?null:t.unitIdCtrl.invalid)&&((null==t.unitIdCtrl?null:t.unitIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(96,127,"labels.Lesson")),e.xp6(4),e.Oqu(e.lcZ(100,129,"labels.Lesson")),e.xp6(2),e.Q6J("ngForOf",t.lessions),e.xp6(1),e.Q6J("ngIf",(null==t.lessionIdCtrl?null:t.lessionIdCtrl.invalid)&&((null==t.lessionIdCtrl?null:t.lessionIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(107,131,"labels.ExamNm")),e.xp6(3),e.Q6J("ngIf",(null==t.lessionIdCtrl?null:t.lessionIdCtrl.invalid)&&((null==t.lessionIdCtrl?null:t.lessionIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(114,133,"labels.ExamHours")),e.xp6(3),e.Q6J("ngIf",(null==t.examHoursCtrl?null:t.examHoursCtrl.invalid)&&((null==t.examHoursCtrl?null:t.examHoursCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(121,135,"labels.ExamMinute")),e.xp6(3),e.Q6J("ngIf",(null==t.examMinutesCtrl?null:t.examMinutesCtrl.invalid)&&((null==t.examMinutesCtrl?null:t.examMinutesCtrl.touched)||t.submitted)),e.xp6(4),e.hij("",e.lcZ(128,137,"labels.ExamPrice")," "),e.xp6(3),e.Q6J("ngIf",(null==t.examPriceCtrl?null:t.examPriceCtrl.invalid)&&((null==t.examPriceCtrl?null:t.examPriceCtrl.touched)||t.submitted)),e.xp6(4),e.hij(" ",e.lcZ(135,139,"labels.DiscountType")," "),e.xp6(4),e.hij("",e.lcZ(139,141,"General.Choose")," "),e.xp6(9),e.hij(" ",e.lcZ(148,143,"labels.Discount")," "),e.xp6(6),e.hij(" ",e.lcZ(154,145,"labels.FromDate"),""),e.xp6(2),e.Q6J("matDatepicker",i),e.xp6(1),e.Q6J("for",i),e.xp6(6),e.hij(" ",e.lcZ(163,147,"labels.ToDate"),""),e.xp6(2),e.Q6J("matDatepicker",l),e.xp6(1),e.Q6J("for",l),e.xp6(6),e.Oqu(e.lcZ(172,149,"labels.FromTime")),e.xp6(6),e.Oqu(e.lcZ(178,151,"labels.ToTime")),e.xp6(6),e.hij(" ",e.lcZ(184,153,"labels.ExamResultDate"),""),e.xp6(2),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(6),e.Oqu(e.lcZ(193,155,"labels.examResultTime")),e.xp6(5),e.hij(" ",e.lcZ(198,157,"labels.SellExamOnly")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(203,159,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(207,161,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(211,163,"labels.RepeatedExam")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(216,165,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(220,167,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(224,169,"Navbar.SendWhatsappMsg")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(229,171,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(233,173,"labels.Yes")," "),e.xp6(4),e.hij(" ",e.lcZ(237,175,"labels.CustomDiscount")," "),e.xp6(4),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(242,177,"labels.No")," "),e.xp6(3),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(246,179,"labels.Yes")," "),e.xp6(2),e.Q6J("ngIf",1==(null==t.isRepeatableCtrl?null:t.isRepeatableCtrl.value)),e.xp6(1),e.Q6J("ngIf",t.examId>0),e.xp6(5),e.hij(" ",e.lcZ(254,181,"labels.addGxamGroups"),""),e.xp6(3),e.Q6J("formGroup",t.GroupHeadersForm),e.xp6(5),e.hij(" ",e.lcZ(262,183,"labels.\u064eQuestionNumber")," "),e.xp6(2),e.Q6J("matAutocomplete",s),e.xp6(3),e.Q6J("ngForOf",e.lcZ(267,185,t.filteredExamGroups)),e.xp6(2),e.Q6J("ngIf",(null==t.examGroupCtrl?null:t.examGroupCtrl.invalid)&&((null==t.examGroupCtrl?null:t.examGroupCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(273,187,"labels.QuestionHeader")),e.xp6(2),e.Q6J("matAutocomplete",u),e.xp6(3),e.Q6J("ngForOf",e.lcZ(278,189,t.filteredExamHeaders)),e.xp6(2),e.Q6J("ngIf",(null==t.examHeaderCtrl?null:t.examHeaderCtrl.invalid)&&((null==t.examHeaderCtrl?null:t.examHeaderCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(284,191,"labels.\u064eQuestionContent")),e.xp6(4),e.Q6J("ngIf",0==t.examId),e.xp6(1),e.Q6J("ngIf",t.GroupsHeadersList.length>0&&!t.editGroupHeaderMode),e.xp6(1),e.Q6J("ngIf",t.editGroupHeaderMode),e.xp6(1),e.Q6J("ngIf",t.GroupsHeadersList.length>0)}},directives:[U.Ro,Z.a8,Z.n5,b.O5,E.zs,q.yS,Z.dn,c._Y,c.JL,c.sg,I.KE,I.hX,ve.gD,c.JJ,c.u,Ze.ey,b.sg,H.Nt,c.Fj,c.wV,qe.hl,qe.nW,I.R9,qe.Mq,$.VQ,$.U0,Be.ZL,Be.XC,Z.hq,I.bx,E.lW,f.BZ,J.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.Ee,z.NW,f.ge,J.nU,f.ev,we.gM,f.XQ,f.Gk],pipes:[P.X$,b.Ov],styles:[""]}),n}(),pe=C(8198);function Io(n,o){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.country_id),e.xp6(1),e.hij(" ",a.country_ar_name," ")}}function bo(n,o){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.stage_ar_name," ")}}function qo(n,o){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.Educational_year_ar_name," ")}}function yo(n,o){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.subject_id),e.xp6(1),e.hij(" ",a.subject_ar_name," ")}}function Uo(n,o){if(1&n&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.teacherUserId),e.xp6(1),e.hij(" ",a.teacher_ar_name," ")}}function Qo(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1,"#"),e.qZA())}function Fo(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var a=o.index;e.xp6(1),e.Oqu(a+1)}}function No(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Name")," "))}function wo(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.Name)}}function Eo(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Subject")," "))}function ko(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.Subject)}}function So(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Year")," "))}function Lo(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.hij(" ",a.Year," ")}}function Do(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Teacher")," "))}function Yo(n,o){if(1&n&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.Teacher)}}function Jo(n,o){1&n&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ThePublish")," "))}function jo(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"i",38),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Published")," "))}function Vo(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.UnPublished")," "))}function Go(n,o){if(1&n&&(e.TgZ(0,"td",36),e.YNc(1,jo,4,3,"span",37),e.YNc(2,Vo,3,3,"span",37),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Q6J("ngIf",null==a?null:a.IsPublish),e.xp6(1),e.Q6J("ngIf",!(null!=a&&a.IsPublish))}}function Po(n,o){1&n&&e._UZ(0,"th",35)}function Mo(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",48),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"labels.Publish")," "))}function Oo(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",49),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"labels.Unpublish")," "))}function Bo(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"a",47),e.NdJ("click",function(){e.CHM(a);var l=e.oxw(2).$implicit;return e.oxw().onPublishExam(l)}),e.YNc(1,Mo,4,3,"span",37),e.YNc(2,Oo,4,3,"span",37),e.qZA()}if(2&n){var t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!t.IsPublish),e.xp6(1),e.Q6J("ngIf",t.IsPublish)}}var Ro=function(o,a){return{examId:o,functionId:a}};function Ho(n,o){if(1&n&&(e.TgZ(0,"a",50),e._UZ(1,"i",51),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.Q6J("queryParams",e.WLB(4,Ro,a.Id,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"General.Edit")," ")}}function $o(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"a",47),e.NdJ("click",function(){e.CHM(a);var i=e.oxw(2).$implicit;return e.oxw().openDeleateDialog(i)}),e._UZ(1,"i",52),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"General.Delete")," "))}var ke=function(o){return{functionId:o}};function zo(n,o){if(1&n&&(e.TgZ(0,"a",53),e._UZ(1,"i",54),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.MGl("routerLink","/dashboard/exams-setup/exam-preview/",a.Id,""),e.Q6J("queryParams",e.VKq(5,ke,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(3,3,"General.ExamPreview")," ")}}var Wo=function(o){return{functionId:o,IsTemplate:!1}};function Xo(n,o){if(1&n&&(e.TgZ(0,"a",53),e._UZ(1,"i",55),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.MGl("routerLink","/dashboard/exams-setup/exam-whatsapp-msgs/",a.Id,""),e.Q6J("queryParams",e.VKq(5,Wo,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(3,3,"whatsApp.whatsAppSettings")," ")}}function Ko(n,o){if(1&n&&(e.TgZ(0,"a",56),e._UZ(1,"i",57),e._uU(2,"\u0627\u0644\u0646\u0642\u0627\u0637"),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.MGl("routerLink","../exam-points/",a.Id,""),e.Q6J("queryParams",e.VKq(2,ke,t.functionId))}}function el(n,o){if(1&n&&(e.TgZ(0,"a",56),e._UZ(1,"i",58),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.MGl("routerLink","/dashboard/exams-setup/exam/upload-exam-student-grades/",a.Id,""),e.Q6J("queryParams",e.VKq(5,ke,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(3,3,"Exam.StudentGradesUploadExam")," ")}}function tl(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Bo,3,2,"a",43),e.YNc(2,Ho,4,7,"a",44),e.YNc(3,$o,4,3,"a",43),e.YNc(4,zo,4,7,"a",45),e.YNc(5,Xo,4,7,"a",45),e.YNc(6,Ko,3,4,"a",46),e.YNc(7,el,4,7,"a",46),e.BQk()),2&n){var a=o.$implicit;e.xp6(1),e.Q6J("ngIf","publish"===a.functionName),e.xp6(1),e.Q6J("ngIf","Edit"===a.functionName),e.xp6(1),e.Q6J("ngIf","Delete"===a.functionName),e.xp6(1),e.Q6J("ngIf","Show"===a.functionName),e.xp6(1),e.Q6J("ngIf","whatsApp"===a.functionName),e.xp6(1),e.Q6J("ngIf","Points"===a.functionName),e.xp6(1),e.Q6J("ngIf","Grades"===a.functionName)}}function al(n,o){if(1&n&&(e.TgZ(0,"td",36),e.TgZ(1,"div",39),e.TgZ(2,"button",40),e._uU(3," actions "),e.qZA(),e.TgZ(4,"div",41),e.YNc(5,tl,8,7,"ng-container",42),e.qZA(),e.qZA(),e.qZA()),2&n){var a=e.oxw();e.xp6(5),e.Q6J("ngForOf",a.rowFunctions)}}function nl(n,o){1&n&&e._UZ(0,"tr",59)}function il(n,o){if(1&n&&e._UZ(0,"tr",60),2&n){var a=o.$implicit;e.ekj("bg-light-info",!(null!=a&&a.IsPublish))}}function ol(n,o){if(1&n&&(e.TgZ(0,"tr",61),e.TgZ(1,"td",62),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var a=e.MAs(81);e.xp6(2),e.hij(' No data matching the filter "',a.value,'" ')}}var ll=function(){return[10]},rl=function(){var n=function(){function o(a,t,i,l,r,s,u,m){var d=this;(0,D.Z)(this,o),this.route=a,this.fb=t,this.authserv=i,this.examService=l,this.msg=r,this.spinner=s,this.generalService=u,this.dialog=m,this.countries=[],this.stages=[],this.educationYears=[],this.subjects=[],this.displayedColumns=["#","name","subject","year","teacher","publish","actions"],a.queryParamMap.subscribe(function(_){d.functionId=Number(_.get("functionId")),d.functionId&&d.authserv.getUserRowFunctions(d.functionId).subscribe(function(p){p&&(d.rowFunctions=p)})})}return(0,L.Z)(o,[{key:"ngOnInit",value:function(){this.EduCompId=this.authserv.getEduCompId(),this.branchId=this.authserv.getBranchId(),this.myForm=this.fb.group({countryId:[""],stageId:[""],educationYearId:[""],subjectId:["0"],teacherUserId:["0"],page:[""],EduCompId:[this.EduCompId]}),this.getAllCountieres(),this.getAllExams(1)}},{key:"countryIdCtrl",get:function(){return this.myForm.get("countryId")}},{key:"stageIdCtrl",get:function(){return this.myForm.get("stageId")}},{key:"educationYearIdCtrl",get:function(){return this.myForm.get("educationYearId")}},{key:"subjectIdCtrl",get:function(){return this.myForm.get("subjectId")}},{key:"teacherUserIdCtrl",get:function(){return this.myForm.get("teacherUserId")}},{key:"page",get:function(){return this.myForm.get("page")}},{key:"ngAfterViewInit",value:function(){var t=this;this.authserv.EduCompId.subscribe(function(i){t.EduCompId=i.EduCompId,t.getAllExams(1)}),this.authserv.branchId.subscribe(function(i){t.branchId=i.branchId}),this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getAllExams",value:function(t){var l,r,s,i=this;null===(l=this.page)||void 0===l||l.setValue(t),this.myForm.controls.EduCompId.setValue(this.EduCompId);var u={subjectId:null===(r=this.subjectIdCtrl)||void 0===r?void 0:r.value,teacherUserId:null===(s=this.teacherUserIdCtrl)||void 0===s?void 0:s.value,page:t,EduCompId:this.EduCompId};this.spinner.show(),this.examService.getAllNormalExams(u).subscribe(function(m){m&&(i.dataSource=new f.by(m.examList.reverse()),i.totalItems=m.totalCount),i.spinner.hide()})}},{key:"removeExam",value:function(t){var i=this;this.examService.deleteExam(t.Id).subscribe(function(l){if(1==l.data){var r=i.dataSource.data.findIndex(function(s){return s===t});i.dataSource.data.splice(r,1),i.dataSource.paginator=i.paginator,i.msg.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0625\u0645\u062a\u062d\u0627\u0646")}else i.msg.warning(l.returnString)})}},{key:"openDeleateDialog",value:function(t){var i=this;this.dialog.open(fe.F,{data:{msg:t.Name}}).afterClosed().subscribe(function(l){l&&i.removeExam(t)})}},{key:"onPublishExam",value:function(t){var i=this;this.examService.publishExam(t.Id).subscribe(function(l){if(l){var s,r=(0,Ee.Z)(i.dataSource.data);try{for(r.s();!(s=r.n()).done;){var u=s.value;if(u.Id===t.Id){u.IsPublish=!u.IsPublish;break}}}catch(m){r.e(m)}finally{r.f()}i.msg.success("Done")}})}},{key:"getAllCountieres",value:function(){var t=this;this.examService.getAllCountries().subscribe(function(i){i&&(t.countries=i)})}},{key:"onSelectCountry",value:function(){var i,l,r,s,u,m,d,_,p,h,t=this;null===(i=this.stageIdCtrl)||void 0===i||i.setValue(""),null===(l=this.educationYearIdCtrl)||void 0===l||l.setValue(""),null===(r=this.subjectIdCtrl)||void 0===r||r.setValue(""),null===(s=this.teacherUserIdCtrl)||void 0===s||s.setValue(""),(null===(u=this.countryIdCtrl)||void 0===u?void 0:u.value)?this.examService.getAllStages(null===(m=this.countryIdCtrl)||void 0===m?void 0:m.value).subscribe(function(g){var v;g&&(t.stages=g,null===(v=t.stageIdCtrl)||void 0===v||v.enable())}):(null===(d=this.stageIdCtrl)||void 0===d||d.disable(),null===(_=this.educationYearIdCtrl)||void 0===_||_.disable(),null===(p=this.subjectIdCtrl)||void 0===p||p.disable(),null===(h=this.teacherUserIdCtrl)||void 0===h||h.disable())}},{key:"onSelectStages",value:function(){var i,l,r,s,u,m,d,_,t=this;null===(i=this.educationYearIdCtrl)||void 0===i||i.setValue(""),null===(l=this.subjectIdCtrl)||void 0===l||l.setValue(""),null===(r=this.teacherUserIdCtrl)||void 0===r||r.setValue(""),(null===(s=this.stageIdCtrl)||void 0===s?void 0:s.value)?this.examService.getAllEducationYears(null===(u=this.stageIdCtrl)||void 0===u?void 0:u.value).subscribe(function(p){var h;p&&(t.educationYears=p,null===(h=t.educationYearIdCtrl)||void 0===h||h.enable())}):(null===(m=this.educationYearIdCtrl)||void 0===m||m.disable(),null===(d=this.subjectIdCtrl)||void 0===d||d.disable(),null===(_=this.teacherUserIdCtrl)||void 0===_||_.disable())}},{key:"onSelectEducationYears",value:function(){var i,l,r,s,u,m,t=this;null===(i=this.subjectIdCtrl)||void 0===i||i.setValue(""),null===(l=this.teacherUserIdCtrl)||void 0===l||l.setValue(""),(null===(r=this.educationYearIdCtrl)||void 0===r?void 0:r.value)?this.examService.getAllSubjects(null===(s=this.educationYearIdCtrl)||void 0===s?void 0:s.value).subscribe(function(d){var _;d&&(t.subjects=d,null===(_=t.subjectIdCtrl)||void 0===_||_.enable())}):(null===(u=this.subjectIdCtrl)||void 0===u||u.disable(),null===(m=this.teacherUserIdCtrl)||void 0===m||m.disable())}},{key:"onSelectSubjects",value:function(){var i,l,r,s,t=this;null===(i=this.teacherUserIdCtrl)||void 0===i||i.setValue(""),(null===(l=this.subjectIdCtrl)||void 0===l?void 0:l.value)?this.generalService.getTeacherBySubjectAndEduCompId(this.EduCompId,null===(r=this.subjectIdCtrl)||void 0===r?void 0:r.value).subscribe(function(u){var m;u&&(t.teachers=u.teachers,console.log("teachers:",u),null===(m=t.teacherUserIdCtrl)||void 0===m||m.enable())}):null===(s=this.teacherUserIdCtrl)||void 0===s||s.disable()}},{key:"track",value:function(t,i){return i.Id}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(q.gz),e.Y36(c.qu),e.Y36(O.e),e.Y36(Ce),e.Y36(R._W),e.Y36(U.t2),e.Y36(xe.m),e.Y36(w.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-exams-index"]],viewQuery:function(a,t){var i;1&a&&(e.Gf(z.NW,5),e.Gf(J.YE,5)),2&a&&(e.iGM(i=e.CRH())&&(t.paginator=i.first),e.iGM(i=e.CRH())&&(t.sort=i.first))},decls:109,vars:58,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","","routerLink","../add-exam",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"fa","fa-plus-square"],["mat-raised-button","",1,"btn","btn-info","float-right",3,"click"],[1,"fa","fa-search"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-4","col-12"],["appearance","legacy"],["formControlName","countryId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","stageId",3,"selectionChange"],["formControlName","educationYearId",3,"selectionChange"],["formControlName","subjectId",3,"selectionChange"],["formControlName","teacherUserId"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","subject"],["matColumnDef","year"],["matColumnDef","teacher"],["matColumnDef","publish"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"bg-light-info",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","length","pageSize","page"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["aria-hidden","true",1,"fa","fa-check-circle","success","ml-1"],["ngbDropdown","",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],[4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","","routerLink","../add-exam",3,"queryParams",4,"ngIf"],["ngbDropdownItem","","target","_blank",3,"routerLink","queryParams",4,"ngIf"],["ngbDropdownItem","",3,"routerLink","queryParams",4,"ngIf"],["ngbDropdownItem","",3,"click"],[1,"ft-upload","font-medium-3","mr-2"],[1,"ft-download","font-medium-3","mr-2"],["ngbDropdownItem","","routerLink","../add-exam",3,"queryParams"],[1,"fa","fa-edit","font-medium-3","mr-2"],[1,"fa","fa-times","font-medium-3","mr-2"],["ngbDropdownItem","","target","_blank",3,"routerLink","queryParams"],[1,"fa","fa-video-camera","font-medium-3","mr-2"],[1,"fa","fa-whatsapp","font-medium-3","mr-2"],["ngbDropdownItem","",3,"routerLink","queryParams"],[1,"fa","fa-gift","font-medium-3","mr-2"],[1,"fa","fa-upload","font-medium-3","mr-2"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"a",2),e._UZ(8,"i",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",4),e.NdJ("click",function(){return t.getAllExams(1)}),e._UZ(12,"i",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.TgZ(15,"mat-card-content",6),e.TgZ(16,"div",0),e.TgZ(17,"div",1),e.TgZ(18,"form",7),e.TgZ(19,"div",0),e.TgZ(20,"div",8),e.TgZ(21,"mat-form-field",9),e.TgZ(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"mat-select",10),e.NdJ("selectionChange",function(){return t.onSelectCountry()}),e.TgZ(26,"mat-option"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,Io,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"mat-form-field",9),e.TgZ(32,"mat-label"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"mat-select",12),e.NdJ("selectionChange",function(){return t.onSelectStages()}),e.TgZ(36,"mat-option"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.YNc(39,bo,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",8),e.TgZ(41,"mat-form-field",9),e.TgZ(42,"mat-label"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"mat-select",13),e.NdJ("selectionChange",function(){return t.onSelectEducationYears()}),e.TgZ(46,"mat-option"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.YNc(49,qo,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",8),e.TgZ(51,"mat-form-field",9),e.TgZ(52,"mat-label"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"mat-select",14),e.NdJ("selectionChange",function(){return t.onSelectSubjects()}),e.TgZ(56,"mat-option"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.YNc(59,yo,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",8),e.TgZ(61,"mat-form-field",9),e.TgZ(62,"mat-label"),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"mat-select",15),e.TgZ(66,"mat-option"),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.YNc(69,Uo,2,2,"mat-option",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",0),e.TgZ(71,"div",1),e.TgZ(72,"mat-card"),e.TgZ(73,"mat-card-title"),e._uU(74),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"mat-card-content"),e.TgZ(77,"mat-form-field",16),e.TgZ(78,"mat-label"),e._uU(79,"Filter"),e.qZA(),e.TgZ(80,"input",17,18),e.NdJ("keyup",function(l){return t.applyFilter(l)}),e.qZA(),e.qZA(),e.TgZ(82,"div",19),e.TgZ(83,"table",20),e.ynx(84,21),e.YNc(85,Qo,2,0,"th",22),e.YNc(86,Fo,2,1,"td",23),e.BQk(),e.ynx(87,24),e.YNc(88,No,3,3,"th",22),e.YNc(89,wo,2,1,"td",23),e.BQk(),e.ynx(90,25),e.YNc(91,Eo,3,3,"th",22),e.YNc(92,ko,2,1,"td",23),e.BQk(),e.ynx(93,26),e.YNc(94,So,3,3,"th",22),e.YNc(95,Lo,2,1,"td",23),e.BQk(),e.ynx(96,27),e.YNc(97,Do,3,3,"th",22),e.YNc(98,Yo,2,1,"td",23),e.BQk(),e.ynx(99,28),e.YNc(100,Jo,3,3,"th",22),e.YNc(101,Go,3,2,"td",23),e.BQk(),e.ynx(102,29),e.YNc(103,Po,1,0,"th",22),e.YNc(104,al,6,1,"td",23),e.BQk(),e.YNc(105,nl,1,0,"tr",30),e.YNc(106,il,1,2,"tr",31),e.YNc(107,ol,3,1,"tr",32),e.qZA(),e.TgZ(108,"mat-paginator",33),e.NdJ("page",function(l){return t.getAllExams(l.pageIndex+1)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(5),e.hij(" ",e.lcZ(6,27,"General.Search")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(55,ke,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(10,29,"General.Add")," "),e.xp6(4),e.hij(" ",e.lcZ(14,31,"General.Search")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.Oqu(e.lcZ(24,33,"labels.Country")),e.xp6(4),e.Oqu(e.lcZ(28,35,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.countries),e.xp6(4),e.Oqu(e.lcZ(34,37,"labels.Stage")),e.xp6(4),e.Oqu(e.lcZ(38,39,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.stages),e.xp6(4),e.Oqu(e.lcZ(44,41,"labels.Year")),e.xp6(4),e.Oqu(e.lcZ(48,43,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.educationYears),e.xp6(4),e.Oqu(e.lcZ(54,45,"labels.Subject")),e.xp6(4),e.Oqu(e.lcZ(58,47,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(4),e.Oqu(e.lcZ(64,49,"labels.Teacher")),e.xp6(4),e.Oqu(e.lcZ(68,51,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.teachers),e.xp6(5),e.hij(" ",e.lcZ(75,53,"Navbar.Exams"),""),e.xp6(9),e.Q6J("dataSource",t.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(57,ll))("length",t.totalItems)("pageSize",10))},directives:[U.Ro,Z.a8,Z.n5,E.zs,q.yS,Z.dn,c._Y,c.JL,c.sg,I.KE,I.hX,ve.gD,c.JJ,c.u,Ze.ey,b.sg,H.Nt,f.BZ,J.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.Ee,z.NW,f.ge,J.nU,f.ev,b.O5,pe.jt,pe.iD,pe.Vi,pe.TH,f.XQ,f.Gk],pipes:[P.X$],styles:[""]}),n}(),Re=C(5130);function sl(n,o){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.teacherUserId),e.xp6(1),e.hij(" ",a.teacher_ar_name," ")}}function ul(n,o){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function ml(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function dl(n,o){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,ml,3,3,"span",39),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.myForm.stageIdCtrl||null==a.myForm.stageIdCtrl.errors?null:a.myForm.stageIdCtrl.errors.required)}}function cl(n,o){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text_Ar," ")}}function pl(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function _l(n,o){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,pl,3,3,"span",39),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.educationYearIdCtrl||null==a.educationYearIdCtrl.errors?null:a.educationYearIdCtrl.errors.required)}}function hl(n,o){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function gl(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function fl(n,o){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,gl,3,3,"span",39),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.subjectIdCtrl||null==a.subjectIdCtrl.errors?null:a.subjectIdCtrl.errors.required)}}function vl(n,o){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function Zl(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function Cl(n,o){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,Zl,3,3,"span",39),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.unitIdCtrl||null==a.unitIdCtrl.errors?null:a.unitIdCtrl.errors.required)}}function Tl(n,o){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function Al(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function xl(n,o){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,Al,3,3,"span",39),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.lessionIdCtrl||null==a.lessionIdCtrl.errors?null:a.lessionIdCtrl.errors.required)}}function Il(n,o){if(1&n&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.Value),e.xp6(1),e.hij(" ",a.Text," ")}}function bl(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ql(n,o){if(1&n&&(e.TgZ(0,"mat-hint",38),e.YNc(1,bl,3,3,"span",39),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.lessionIdCtrl||null==a.lessionIdCtrl.errors?null:a.lessionIdCtrl.errors.required)}}function yl(n,o){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Name")," "))}function Ul(n,o){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.Name)}}function Ql(n,o){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Materials")," "))}function Fl(n,o){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.Subject)}}function Nl(n,o){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.EducationalYear")," "))}function wl(n,o){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.Year)}}function El(n,o){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Teacher")," "))}function kl(n,o){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.Teacher)}}function Sl(n,o){1&n&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ThePublish")," "))}function Ll(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"i",42),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Published")," "))}function Dl(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.UnPublished")," "))}function Yl(n,o){if(1&n&&(e.TgZ(0,"td",41),e.YNc(1,Ll,4,3,"span",39),e.YNc(2,Dl,3,3,"span",39),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Q6J("ngIf",null==a?null:a.isPublish),e.xp6(1),e.Q6J("ngIf",!(null!=a&&a.isPublish))}}function Jl(n,o){1&n&&e._UZ(0,"th",40)}function jl(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",52),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"labels.Publish")," "))}function Vl(n,o){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",53),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"labels.Unpublish")," "))}function Gl(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"a",51),e.NdJ("click",function(){e.CHM(a);var l=e.oxw(2).$implicit;return e.oxw().PublishDepublishTemplate(l.Id)}),e.YNc(1,jl,4,3,"span",39),e.YNc(2,Vl,4,3,"span",39),e.qZA()}if(2&n){var t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!t.isPublish),e.xp6(1),e.Q6J("ngIf",t.isPublish)}}var Pl=function(o,a){return{templateId:o,functionId:a}};function Ml(n,o){if(1&n&&(e.TgZ(0,"a",54),e._UZ(1,"i",55),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.Q6J("queryParams",e.WLB(4,Pl,a.Id,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"General.Edit")," ")}}function Ol(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"a",51),e.NdJ("click",function(){e.CHM(a);var i=e.oxw(2).$implicit;return e.oxw().GenerateExamFromTemplate(i.Id)}),e._UZ(1,"i",56),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"General.ExamPreview")," "))}var Bl=function(o){return{functionId:o,IsTemplate:!0}};function Rl(n,o){if(1&n&&(e.TgZ(0,"a",57),e._UZ(1,"i",58),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.MGl("routerLink","/dashboard/exams-setup/exam-whatsapp-msgs/",a.Id,""),e.Q6J("queryParams",e.VKq(5,Bl,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(3,3,"whatsApp.whatsAppSettings")," ")}}var De=function(o){return{functionId:o}};function Hl(n,o){if(1&n&&(e.TgZ(0,"a",59),e._UZ(1,"i",60),e._uU(2,"\u0627\u0644\u0646\u0642\u0627\u0637"),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.MGl("routerLink","../template-points/",a.Id,""),e.Q6J("queryParams",e.VKq(2,De,t.functionId))}}function $l(n,o){if(1&n&&(e.TgZ(0,"a",59),e._UZ(1,"i",61),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){var a=e.oxw(2).$implicit,t=e.oxw();e.MGl("routerLink","/dashboard/exams-setup/templates/upload-exam-student-grades/",a.Id,""),e.Q6J("queryParams",e.VKq(5,De,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(3,3,"Exam.StudentGradesUploadTemplate")," ")}}function zl(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"a",51),e.NdJ("click",function(){e.CHM(a);var i=e.oxw(2).$implicit;return e.oxw().openDeleateDialog(i)}),e._UZ(1,"i",62),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"General.Delete")," "))}function Wl(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Gl,3,2,"a",47),e.YNc(2,Ml,4,7,"a",48),e.YNc(3,Ol,4,3,"a",47),e.YNc(4,Rl,4,7,"a",49),e.YNc(5,Hl,3,4,"a",50),e.YNc(6,$l,4,7,"a",50),e.YNc(7,zl,4,3,"a",47),e.BQk()),2&n){var a=o.$implicit;e.xp6(1),e.Q6J("ngIf","Publish"===a.functionName),e.xp6(1),e.Q6J("ngIf","Edit"===a.functionName),e.xp6(1),e.Q6J("ngIf","previewTemplate"===a.functionName),e.xp6(1),e.Q6J("ngIf","whatsApp"===a.functionName),e.xp6(1),e.Q6J("ngIf","Points"===a.functionName),e.xp6(1),e.Q6J("ngIf","Grades"===a.functionName),e.xp6(1),e.Q6J("ngIf","Delete"===a.functionName)}}function Xl(n,o){if(1&n&&(e.TgZ(0,"td",41),e.TgZ(1,"div",43),e.TgZ(2,"button",44),e._uU(3," actions "),e.qZA(),e.TgZ(4,"div",45),e.YNc(5,Wl,8,7,"ng-container",46),e.qZA(),e.qZA(),e.qZA()),2&n){var a=e.oxw();e.xp6(5),e.Q6J("ngForOf",a.rowFunctions)}}function Kl(n,o){1&n&&e._UZ(0,"tr",63)}function er(n,o){if(1&n&&e._UZ(0,"tr",64),2&n){var a=o.$implicit;e.ekj("bg-light-info",!(null!=a&&a.isPublish))}}function tr(n,o){if(1&n&&(e.TgZ(0,"tr",65),e.TgZ(1,"td",66),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var a=e.MAs(107);e.xp6(2),e.hij(' No data matching the filter "',a.value,'" ')}}var ar=function(){return[10]},nr=function(){var n=function(){function o(a,t,i,l,r,s,u,m,d,_,p){var h=this;(0,D.Z)(this,o),this.toastr=a,this.dialog=t,this.route=i,this.router=l,this.GeneralService=r,this.authserv=s,this.fb=u,this.EducationalService=m,this.StudentService=d,this.TemplatesService=_,this.spinner=p,this.Templates=[],this.Teachers=[],this.stages=[],this.years=[],this.educationYears=[],this.subjects=[],this.units=[],this.lessons=[],this.topics=[],this.submitted=!1,this.displayedColumns=["Name","Teacher","Subject","Year","publish","actions"],i.queryParamMap.subscribe(function(g){h.functionId=Number(g.get("functionId")),h.functionId&&h.authserv.getUserRowFunctions(h.functionId).subscribe(function(v){v&&(h.rowFunctions=v)})})}return(0,L.Z)(o,[{key:"stageIdCtrl",get:function(){return this.myForm.get("stageId")}},{key:"teacherUserIdCtrl",get:function(){return this.myForm.get("teacherUserId")}},{key:"educationYearIdCtrl",get:function(){return this.myForm.get("yearId")}},{key:"subjectIdCtrl",get:function(){return this.myForm.get("subjectId")}},{key:"unitIdCtrl",get:function(){return this.myForm.get("unitId")}},{key:"lessonIdCtrl",get:function(){return this.myForm.get("lessonId")}},{key:"topicIdCtrl",get:function(){return this.myForm.get("topicId")}},{key:"page",get:function(){return this.myForm.get("page")}},{key:"ngOnInit",value:function(){this.EduCompId=this.authserv.getEduCompId(),this.myForm=this.fb.group({teacherUserId:[""],yearId:[""],stageId:[""],subjectId:[""],unitId:[""],lessonId:[""],topicId:[""],page:[""]}),this.getTeachersByEducompId(),this.getTemplates(1),this.getTeachersByEducompId(),this.stageIdCtrl.disable(),this.educationYearIdCtrl.disable(),this.subjectIdCtrl.disable(),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable()}},{key:"ngAfterViewInit",value:function(){var t=this;this.authserv.EduCompId.subscribe(function(i){t.EduCompId=i.EduCompId,t.getTemplates(1)}),this.authserv.branchId.subscribe(function(i){}),this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getTemplates",value:function(t){var l,i=this;this.spinner.show(),null===(l=this.page)||void 0===l||l.setValue(t),this.TemplatesService.getTemplates(this.EduCompId,t,this.myForm.value).subscribe(function(r){i.Templates=r.result,i.dataSource=new f.by(r.result),i.itemsCount=r.TotalItemCount,i.spinner.hide(),i.spinner.hide()})}},{key:"PublishDepublishTemplate",value:function(t){var i=this;this.spinner.show(),this.TemplatesService.PublishDepublishTemplate(t).subscribe(function(l){if("Done"==l.returnString){var s,r=(0,Ee.Z)(i.Templates);try{for(r.s();!(s=r.n()).done;){var u=s.value;if(u.Id===t){u.isPublish=!u.isPublish;break}}}catch(m){r.e(m)}finally{r.f()}}else i.toastr.error(l.returnString);i.spinner.hide()})}},{key:"openDeleateDialog",value:function(t){var i=this;this.dialog.open(fe.F,{data:{msg:t.Name}}).afterClosed().subscribe(function(l){l&&i.deleteTemplate(t)})}},{key:"deleteTemplate",value:function(t){var i=this;this.TemplatesService.deleteTemplate(t.Id).subscribe(function(l){var r=i.Templates.findIndex(function(s){return s.Id==t.Id});i.Templates.splice(r,1),i.toastr.success(" Deleted"),i.getTemplates(1)})}},{key:"getTeachersByEducompId",value:function(){var t=this;this.GeneralService.getTeachersByEducompId(this.EduCompId).subscribe(function(i){t.Teachers=i.lstTeachers}),this.getStageByTeacherId()}},{key:"getStageByTeacherId",value:function(){var t=this;this.stageIdCtrl.setValue(""),this.educationYearIdCtrl.setValue(""),this.subjectIdCtrl.setValue(""),this.unitIdCtrl.setValue(""),this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.teacherUserIdCtrl.value?(console.log("teacher",this.teacherUserIdCtrl.value),this.EducationalService.getStageByTeacherId(this.teacherUserIdCtrl.value).subscribe(function(i){console.log(i),t.stages=i,t.stageIdCtrl.enable()})):(this.stageIdCtrl.setValue(""),this.stageIdCtrl.disable(),this.educationYearIdCtrl.disable(),this.subjectIdCtrl.disable(),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable())}},{key:"returnYears",value:function(){var t=this;this.educationYearIdCtrl.setValue(""),this.subjectIdCtrl.setValue(""),this.unitIdCtrl.setValue(""),this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.stageIdCtrl.value?this.EducationalService.returnYears(this.stageIdCtrl.value).subscribe(function(i){console.log(i),t.years=i,t.educationYearIdCtrl.enable()}):(this.educationYearIdCtrl.setValue(""),this.educationYearIdCtrl.disable(),this.subjectIdCtrl.disable(),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable())}},{key:"returnTeacherSubjects",value:function(){var t=this;if(this.subjectIdCtrl.setValue(""),this.unitIdCtrl.setValue(""),this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.educationYearIdCtrl.value){var i={yearId:this.educationYearIdCtrl.value,teacherUserId:this.myForm.controls.teacherUserId.value};console.log(i),this.EducationalService.returnTeacherSubjects(i).subscribe(function(l){console.log("subjects",l),t.subjects=l,t.subjectIdCtrl.enable()})}else this.subjectIdCtrl.setValue(""),this.subjectIdCtrl.disable(),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable()}},{key:"GetUnits",value:function(){var t=this;this.unitIdCtrl.setValue(""),this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.subjectIdCtrl.value?this.EducationalService.GetUnits(this.subjectIdCtrl.value).subscribe(function(i){console.log("unit",i),t.units=i,t.unitIdCtrl.enable()}):(this.unitIdCtrl.setValue(""),this.unitIdCtrl.disable(),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable())}},{key:"GetLessons",value:function(){var t=this;this.lessonIdCtrl.setValue(""),this.topicIdCtrl.setValue(""),""!=this.unitIdCtrl.value?this.EducationalService.GetLessons(this.unitIdCtrl.value).subscribe(function(i){console.log("lesson",i),t.lessons=i,t.lessonIdCtrl.enable()}):(this.lessonIdCtrl.setValue(""),this.lessonIdCtrl.disable(),this.topicIdCtrl.disable())}},{key:"GetTopics",value:function(){var t=this;this.topicIdCtrl.setValue(""),""!=this.lessonIdCtrl.value?this.EducationalService.GetTopics(this.lessonIdCtrl.value).subscribe(function(i){console.log(i),t.topics=i,t.topicIdCtrl.enable()}):(this.topicIdCtrl.setValue(""),this.topicIdCtrl.disable())}},{key:"GenerateExamFromTemplate",value:function(t){var i=this;this.spinner.show(),this.StudentService.GenerateExamFromTemplate(t).subscribe(function(l){if(l.returnValue=l.examId){var r="/dashboard/exams-setup/exam-preview/".concat(l.examId,"?templateId=").concat(t);window.open(r,"_blank")}else i.toastr.error(l.returnString);i.spinner.hide()})}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(R._W),e.Y36(w.uw),e.Y36(q.gz),e.Y36(q.F0),e.Y36(xe.m),e.Y36(O.e),e.Y36(c.qu),e.Y36(Ne.i),e.Y36(Re.V),e.Y36(Le),e.Y36(U.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-templates-index"]],viewQuery:function(a,t){var i;1&a&&(e.Gf(z.NW,5),e.Gf(J.YE,5)),2&a&&(e.iGM(i=e.CRH())&&(t.paginator=i.first),e.iGM(i=e.CRH())&&(t.sort=i.first))},decls:132,vars:78,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","","routerLink","../add-template",1,"btn","btn-info","bg-light-info","float-right",3,"queryParams"],[1,"fa","fa-plus-square"],["mat-raised-button","",1,"btn","btn-info","float-right",3,"click"],[1,"fa","fa-search"],[1,"container-fluid"],[1,"form-container",3,"formGroup"],[1,"col-md-4","col-12"],["appearance","legacy"],["formControlName","teacherUserId",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","stageId",3,"selectionChange"],["class","danger",4,"ngIf"],["formControlName","yearId",3,"selectionChange"],["formControlName","subjectId",3,"selectionChange"],["formControlName","unitId",3,"selectionChange"],["formControlName","lessonId",3,"selectionChange"],["formControlName","topicId"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Subject"],["matColumnDef","Year"],["matColumnDef","Teacher"],["matColumnDef","publish"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"bg-light-info",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","length","pageSize","page"],[3,"value"],[1,"danger"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["aria-hidden","true",1,"fa","fa-check-circle","success","ml-1"],["ngbDropdown","",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],[4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","","routerLink","../add-template",3,"queryParams",4,"ngIf"],["ngbDropdownItem","","target","_blank",3,"routerLink","queryParams",4,"ngIf"],["ngbDropdownItem","",3,"routerLink","queryParams",4,"ngIf"],["ngbDropdownItem","",3,"click"],[1,"ft-upload","font-medium-3","mr-2"],[1,"ft-download","font-medium-3","mr-2"],["ngbDropdownItem","","routerLink","../add-template",3,"queryParams"],[1,"fa","fa-edit","mr-2"],[1,"fa","fa-video-camera","mr-2"],["ngbDropdownItem","","target","_blank",3,"routerLink","queryParams"],[1,"fa","fa-whatsapp","font-medium-3","mr-2"],["ngbDropdownItem","",3,"routerLink","queryParams"],[1,"fa","fa-gift","font-medium-3","mr-2"],[1,"fa","fa-upload","font-medium-3","mr-2"],[1,"fa","fa-times","mr-2"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"a",2),e._UZ(8,"i",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",4),e.NdJ("click",function(){return t.getTemplates(1)}),e._UZ(12,"i",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.TgZ(15,"mat-card-content",6),e.TgZ(16,"div",0),e.TgZ(17,"div",1),e.TgZ(18,"form",7),e.TgZ(19,"div",0),e.TgZ(20,"div",8),e.TgZ(21,"mat-form-field",9),e.TgZ(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"mat-select",10),e.NdJ("selectionChange",function(){return t.getStageByTeacherId()}),e.TgZ(26,"mat-option",11),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,sl,2,2,"mat-option",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"mat-form-field",9),e.TgZ(32,"mat-label"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"mat-select",13),e.NdJ("selectionChange",function(){return t.returnYears()}),e.TgZ(36,"mat-option",11),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.YNc(39,ul,2,2,"mat-option",12),e.qZA(),e.YNc(40,dl,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(41,"div",8),e.TgZ(42,"mat-form-field",9),e.TgZ(43,"mat-label"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"mat-select",15),e.NdJ("selectionChange",function(){return t.returnTeacherSubjects()}),e.TgZ(47,"mat-option",11),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.YNc(50,cl,2,2,"mat-option",12),e.qZA(),e.YNc(51,_l,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(52,"div",8),e.TgZ(53,"mat-form-field",9),e.TgZ(54,"mat-label"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"mat-select",16),e.NdJ("selectionChange",function(){return t.GetUnits()}),e.TgZ(58,"mat-option",11),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.YNc(61,hl,2,2,"mat-option",12),e.qZA(),e.YNc(62,fl,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(63,"div",8),e.TgZ(64,"mat-form-field",9),e.TgZ(65,"mat-label"),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"mat-select",17),e.NdJ("selectionChange",function(){return t.GetLessons()}),e.TgZ(69,"mat-option",11),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.YNc(72,vl,2,2,"mat-option",12),e.qZA(),e.YNc(73,Cl,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(74,"div",8),e.TgZ(75,"mat-form-field",9),e.TgZ(76,"mat-label"),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"mat-select",18),e.NdJ("selectionChange",function(){return t.GetTopics()}),e.TgZ(80,"mat-option",11),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.YNc(83,Tl,2,2,"mat-option",12),e.qZA(),e.YNc(84,xl,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.TgZ(85,"div",8),e.TgZ(86,"mat-form-field",9),e.TgZ(87,"mat-label"),e._uU(88),e.ALo(89,"translate"),e.qZA(),e.TgZ(90,"mat-select",19),e.TgZ(91,"mat-option",11),e._uU(92),e.ALo(93,"translate"),e.qZA(),e.YNc(94,Il,2,2,"mat-option",12),e.qZA(),e.YNc(95,ql,2,1,"mat-hint",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(96,"div",0),e.TgZ(97,"div",1),e.TgZ(98,"mat-card"),e.TgZ(99,"mat-card-title"),e._uU(100),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"mat-card-content"),e.TgZ(103,"mat-form-field",20),e.TgZ(104,"mat-label"),e._uU(105,"Filter"),e.qZA(),e.TgZ(106,"input",21,22),e.NdJ("keyup",function(l){return t.applyFilter(l)}),e.qZA(),e.qZA(),e.TgZ(108,"div",23),e.TgZ(109,"table",24),e.ynx(110,25),e.YNc(111,yl,3,3,"th",26),e.YNc(112,Ul,2,1,"td",27),e.BQk(),e.ynx(113,28),e.YNc(114,Ql,3,3,"th",26),e.YNc(115,Fl,2,1,"td",27),e.BQk(),e.ynx(116,29),e.YNc(117,Nl,3,3,"th",26),e.YNc(118,wl,2,1,"td",27),e.BQk(),e.ynx(119,30),e.YNc(120,El,3,3,"th",26),e.YNc(121,kl,2,1,"td",27),e.BQk(),e.ynx(122,31),e.YNc(123,Sl,3,3,"th",26),e.YNc(124,Yl,3,2,"td",27),e.BQk(),e.ynx(125,32),e.YNc(126,Jl,1,0,"th",26),e.YNc(127,Xl,6,1,"td",27),e.BQk(),e.YNc(128,Kl,1,0,"tr",33),e.YNc(129,er,1,2,"tr",34),e.YNc(130,tr,3,1,"tr",35),e.qZA(),e.TgZ(131,"mat-paginator",36),e.NdJ("page",function(l){return t.getTemplates(l.pageIndex+1)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(5),e.hij(" ",e.lcZ(6,39,"General.Search")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(75,De,t.functionId)),e.xp6(2),e.hij(" ",e.lcZ(10,41,"General.Add")," "),e.xp6(4),e.hij(" ",e.lcZ(14,43,"General.Search")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.hij(" ",e.lcZ(24,45,"Material.Teacher")," "),e.xp6(4),e.hij(" ",e.lcZ(28,47,"Material.Teacher"),""),e.xp6(2),e.Q6J("ngForOf",t.Teachers),e.xp6(4),e.Oqu(e.lcZ(34,49,"Navbar.EducationalStage")),e.xp6(4),e.Oqu(e.lcZ(38,51,"Navbar.EducationalStage")),e.xp6(2),e.Q6J("ngForOf",t.stages),e.xp6(1),e.Q6J("ngIf",(null==t.stageIdCtrl?null:t.stageIdCtrl.invalid)&&((null==t.stageIdCtrl?null:t.stageIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(45,53,"labels.EducationalYear")),e.xp6(4),e.Oqu(e.lcZ(49,55,"labels.EducationalYear")),e.xp6(2),e.Q6J("ngForOf",t.years),e.xp6(1),e.Q6J("ngIf",(null==t.educationYearIdCtrl?null:t.educationYearIdCtrl.invalid)&&((null==t.educationYearIdCtrl?null:t.educationYearIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(56,57,"Material.Subjects")),e.xp6(4),e.Oqu(e.lcZ(60,59,"Material.Subjects")),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(1),e.Q6J("ngIf",(null==t.subjectIdCtrl?null:t.subjectIdCtrl.invalid)&&((null==t.subjectIdCtrl?null:t.subjectIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(67,61,"labels.Unit")),e.xp6(4),e.Oqu(e.lcZ(71,63,"labels.Unit")),e.xp6(2),e.Q6J("ngForOf",t.units),e.xp6(1),e.Q6J("ngIf",(null==t.unitIdCtrl?null:t.unitIdCtrl.invalid)&&((null==t.unitIdCtrl?null:t.unitIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(78,65,"labels.Lesson")),e.xp6(4),e.Oqu(e.lcZ(82,67,"labels.Lesson")),e.xp6(2),e.Q6J("ngForOf",t.lessons),e.xp6(1),e.Q6J("ngIf",(null==t.lessonIdCtrl?null:t.lessonIdCtrl.invalid)&&((null==t.lessonIdCtrl?null:t.lessonIdCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(89,69,"labels.Topic")),e.xp6(4),e.Oqu(e.lcZ(93,71,"labels.Topic")),e.xp6(2),e.Q6J("ngForOf",t.topics),e.xp6(1),e.Q6J("ngIf",(null==t.lessonIdCtrl?null:t.lessonIdCtrl.invalid)&&((null==t.lessonIdCtrl?null:t.lessonIdCtrl.touched)||t.submitted)),e.xp6(5),e.hij(" ",e.lcZ(101,73,"Navbar.Templates")," "),e.xp6(9),e.Q6J("dataSource",t.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(77,ar))("length",t.itemsCount)("pageSize",10))},directives:[U.Ro,Z.a8,Z.n5,E.zs,q.yS,Z.dn,c._Y,c.JL,c.sg,I.KE,I.hX,ve.gD,c.JJ,c.u,Ze.ey,b.sg,b.O5,H.Nt,f.BZ,J.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.Ee,z.NW,I.bx,f.ge,J.nU,f.ev,pe.jt,pe.iD,pe.Vi,pe.TH,f.XQ,f.Gk],pipes:[P.X$],styles:[""]}),n}();function ir(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function or(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function lr(n,o){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,ir,3,3,"span",18),e.YNc(2,or,3,3,"span",18),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.teacherCommentCtrl||null==a.teacherCommentCtrl.errors?null:a.teacherCommentCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.teacherCommentCtrl||null==a.teacherCommentCtrl.errors?null:a.teacherCommentCtrl.errors.whiteSpace)}}function rr(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function sr(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterCorrectValue")," "))}function ur(n,o){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,rr,3,3,"span",18),e.YNc(2,sr,3,3,"span",18),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.markCtrl||null==a.markCtrl.errors?null:a.markCtrl.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.markCtrl||null==a.markCtrl.errors?null:a.markCtrl.errors.whiteSpace)}}var mr=function(){var n=function(){function o(a,t,i,l,r,s,u,m,d,_){(0,D.Z)(this,o),this.data=a,this.fb=t,this.route=i,this.authserv=l,this.router=r,this.msg=s,this.GeneralService=u,this.examService=m,this.spinner=d,this.dialog=_}return(0,L.Z)(o,[{key:"questionNameCtrl",get:function(){return this.myForm.get("questionName")}},{key:"questionAnswerCtrl",get:function(){return this.myForm.get("studentAnswer")}},{key:"perfectAnswerCtrl",get:function(){return this.myForm.get("perfectAnswer")}},{key:"markCtrl",get:function(){return this.myForm.get("mark")}},{key:"teacherCommentCtrl",get:function(){return this.myForm.get("teacherComment")}},{key:"questionIdCtrl",get:function(){return this.myForm.get("questionId")}},{key:"examStudentIdCtrl",get:function(){return this.myForm.get("examStudentId")}},{key:"teacherUserIdCtrl",get:function(){return this.myForm.get("teacherUserId")}},{key:"questionMarkCtrl",get:function(){return this.myForm.get("questionMark")}},{key:"FormCtrl",get:function(){return this.myForm.controls}},{key:"ngOnInit",value:function(){console.log("data",this.data),this.EduCompId=this.authserv.getEduCompId(),this.myForm=this.fb.group({questionName:[""],studentAnswer:[""],questionId:[],examStudentId:[],teacherComment:["",c.kI.required],teacherUserId:[],questionMark:[],mark:[,c.kI.required]}),this.fileName=this.downloadUrl.substring(18),console.log("attach file",this.fileName),console.log("attach download",this.downloadUrl),this.questionNameCtrl.setValue(this.data.msg.questionName),this.questionNameCtrl.disable(),this.questionIdCtrl.setValue(this.data.msg.questionId),this.examStudentIdCtrl.setValue(this.data.msg.examStudentId),this.teacherUserIdCtrl.setValue(this.data.msg.teacherUserId),this.questionMarkCtrl.setValue(this.data.msg.questionMark),this.FormCtrl.studentAnswer.setValue(this.data.msg.studentAnswer)}},{key:"CorrectQuestion",value:function(){var t=this;if(this.myForm.valid){if(console.log("my form",this.myForm.value),this.markCtrl.value>this.questionMarkCtrl.value)return void this.msg.error("\u064a\u062c\u0628 \u0627\u062f\u062e\u0627\u0644 \u0642\u064a\u0645\u0629 \u0627\u0644\u0646\u062a\u064a\u062c\u0629 \u0623\u0642\u0644 \u0645\u0646 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629");this.spinner.show(),this.examService.submitCorrection(this.myForm.value).subscribe(function(l){1==l.returnValue?(t.msg.success("\u062a\u0645 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0633\u0624\u0627\u0644"),t.dialog.closeAll()):t.msg.error(l.returnString),t.spinner.hide()})}}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(w.WI),e.Y36(c.qu),e.Y36(q.gz),e.Y36(O.e),e.Y36(q.F0),e.Y36(R._W),e.Y36(xe.m),e.Y36(Ce),e.Y36(U.t2),e.Y36(w.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-correction-dialog"]],decls:50,vars:26,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","",1,"btn","btn-danger","float-right",3,"mat-dialog-close"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-12","col-12"],["appearance","legacy"],["matInput","","cols","20","formControlName","questionName","readonly",""],["matInput","","cols","20","formControlName","studentAnswer","readonly",""],[1,"question-img"],["alt","Question Image",1,"img-fluid",3,"src"],[1,"col-md-6","col-12"],["matInput","","formControlName","teacherComment"],["class","danger",4,"ngIf"],["matInput","","type","number","formControlName","mark"],["align","end"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],[1,"danger"],[4,"ngIf"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"a",2),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.TgZ(11,"mat-card-content",3),e.TgZ(12,"div",0),e.TgZ(13,"div",1),e.TgZ(14,"form",4),e.TgZ(15,"div",0),e.TgZ(16,"div",5),e.TgZ(17,"mat-form-field",6),e.TgZ(18,"mat-label"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"textarea",7),e._uU(22,"                    "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",5),e.TgZ(24,"mat-form-field",6),e.TgZ(25,"mat-label"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e._UZ(28,"textarea",8),e.qZA(),e.qZA(),e.TgZ(29,"div",5),e.TgZ(30,"div",9),e._UZ(31,"img",10),e.qZA(),e.qZA(),e.TgZ(32,"div",11),e.TgZ(33,"mat-form-field",6),e.TgZ(34,"mat-label"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"input",12),e.YNc(38,lr,3,2,"mat-hint",13),e.qZA(),e.qZA(),e.TgZ(39,"div",11),e.TgZ(40,"mat-form-field",6),e.TgZ(41,"mat-label"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",14),e.YNc(45,ur,3,2,"mat-hint",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"mat-card-actions",15),e.TgZ(47,"button",16),e.NdJ("click",function(){return t.CorrectQuestion()}),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(6),e.hij(" ",e.lcZ(7,12,"labels.Correct")," "),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(1),e.hij(" ",e.lcZ(10,14,"General.Close")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.hij("",e.lcZ(20,16,"labels.\u064eQuestionContent")," "),e.xp6(7),e.Oqu(e.lcZ(27,18,"labels.StudentAnswer")),e.xp6(5),e.Q6J("src",t.data.imageAttatch,e.LSH),e.xp6(4),e.Oqu(e.lcZ(36,20,"labels.TeacherComment")),e.xp6(3),e.Q6J("ngIf",(null==t.teacherCommentCtrl?null:t.teacherCommentCtrl.invalid)&&((null==t.teacherCommentCtrl?null:t.teacherCommentCtrl.touched)||t.submitted)),e.xp6(4),e.Oqu(e.lcZ(43,22,"labels.Mark")),e.xp6(3),e.Q6J("ngIf",(null==t.markCtrl?null:t.markCtrl.invalid)&&((null==t.markCtrl?null:t.markCtrl.touched)||t.submitted)),e.xp6(3),e.hij(" ",e.lcZ(49,24,"General.Add")," "))},directives:[U.Ro,Z.a8,Z.n5,E.zs,w.ZT,Z.dn,c._Y,c.JL,c.sg,I.KE,I.hX,H.Nt,c.Fj,c.JJ,c.u,b.O5,c.wV,Z.hq,E.lW,I.bx],pipes:[P.X$],styles:[".question-img[_ngcontent-%COMP%]{overflow:hidden!important;max-width:100%!important;max-height:156px!important}"]}),n}();function dr(n,o){1&n&&(e.TgZ(0,"th",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ExamNm")," "))}function cr(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.examName)}}function pr(n,o){1&n&&(e.TgZ(0,"th",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.\u064eQuestionContent")," "))}function _r(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.questionName)}}function hr(n,o){1&n&&(e.TgZ(0,"th",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.Teacher")," "))}function gr(n,o){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Oqu(a.teacherName)}}function fr(n,o){1&n&&(e.TgZ(0,"th",25),e._uU(1,"actions"),e.qZA())}function vr(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"td",26),e.TgZ(1,"button",27),e.NdJ("click",function(){var l=e.CHM(a).$implicit;return e.oxw().openCorrectDialog(l)}),e.TgZ(2,"mat-icon"),e._uU(3,"done"),e.qZA(),e.qZA(),e.qZA()}}function Zr(n,o){1&n&&e._UZ(0,"tr",28)}function Cr(n,o){1&n&&e._UZ(0,"tr",29)}function Tr(n,o){if(1&n&&(e.TgZ(0,"tr",30),e.TgZ(1,"td",31),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var a=e.MAs(37);e.xp6(2),e.hij(' No data matching the filter "',a.value,'" ')}}var Ar=function(){return[10]},xr=function(){var n=function(){function o(a,t,i,l,r,s){var u=this;(0,D.Z)(this,o),this.examService=a,this.route=t,this.authserv=i,this.fb=l,this.spinner=r,this.dialog=s,this.correction=[],this.displayedColumns=["examName","questionName","teacherName","actions"],t.queryParamMap.subscribe(function(m){u.functionId=Number(m.get("functionId")),u.functionId&&u.authserv.getUserRowFunctions(u.functionId).subscribe(function(d){d&&(u.rowFunctions=d)})})}return(0,L.Z)(o,[{key:"page",get:function(){return this.myForm.get("page")}},{key:"CorrectedQuestionsIdCtrl",get:function(){return this.myForm.get("CorrectedQuestions")}},{key:"ngOnInit",value:function(){this.EduCompId=this.authserv.getEduCompId(),this.myForm=this.fb.group({page:[""],EduCompId:[this.EduCompId],CorrectedQuestions:[1]}),this.getAllQuestions(1,1)}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getAllQuestions",value:function(t,i){var r,l=this;null===(r=this.myForm.controls.page)||void 0===r||r.setValue(t),this.spinner.show(),this.examService.getQuestionByCorrectionType(t,i).subscribe(function(s){s&&(console.log("quesions not corrected: ",s.examsList),l.correction=s.examsList.examQuestions,console.log("correct list",l.correction),l.dataSource=new f.by(s.examsList),l.itemsCount=s.itemsCount,l.spinner.hide())})}},{key:"openCorrectDialog",value:function(t){this.dialog.open(mr,{data:{msg:t}}).afterClosed().subscribe(function(i){i&&console.log("dialog")})}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(Ce),e.Y36(q.gz),e.Y36(O.e),e.Y36(c.qu),e.Y36(U.t2),e.Y36(w.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-correction-index"]],viewQuery:function(a,t){var i;1&a&&(e.Gf(z.NW,5),e.Gf(J.YE,5)),2&a&&(e.iGM(i=e.CRH())&&(t.paginator=i.first),e.iGM(i=e.CRH())&&(t.sort=i.first))},decls:56,vars:25,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","",1,"btn","btn-info","float-right"],[1,"fa","fa-search"],[1,"container-fluid"],[1,"form-container",3,"formGroup"],[1,"col-md-12","col-12"],["formControlName","CorrectedQuestions",1,"row"],[1,"col-md-4","col-12"],[3,"value","change"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","examName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","questionName"],["matColumnDef","teacherName"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","length","pageSize","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"a",2),e._UZ(8,"i",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.TgZ(11,"mat-card-content",4),e.TgZ(12,"div",0),e.TgZ(13,"div",1),e.TgZ(14,"form",5),e.TgZ(15,"div",0),e.TgZ(16,"div",6),e.TgZ(17,"mat-radio-group",7),e.TgZ(18,"div",8),e.TgZ(19,"mat-radio-button",9),e.NdJ("change",function(){return t.getAllQuestions(1,0)}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.qZA(),e.TgZ(22,"div",8),e.TgZ(23,"mat-radio-button",9),e.NdJ("change",function(){return t.getAllQuestions(1,1)}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",0),e.TgZ(27,"div",1),e.TgZ(28,"mat-card"),e.TgZ(29,"mat-card-title"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"mat-card-content"),e.TgZ(33,"mat-form-field",10),e.TgZ(34,"mat-label"),e._uU(35,"Filter"),e.qZA(),e.TgZ(36,"input",11,12),e.NdJ("keyup",function(l){return t.applyFilter(l)}),e.qZA(),e.qZA(),e.TgZ(38,"div",13),e.TgZ(39,"table",14),e.ynx(40,15),e.YNc(41,dr,3,3,"th",16),e.YNc(42,cr,2,1,"td",17),e.BQk(),e.ynx(43,18),e.YNc(44,pr,3,3,"th",16),e.YNc(45,_r,2,1,"td",17),e.BQk(),e.ynx(46,19),e.YNc(47,hr,3,3,"th",16),e.YNc(48,gr,2,1,"td",17),e.BQk(),e.ynx(49,20),e.YNc(50,fr,2,0,"th",16),e.YNc(51,vr,4,0,"td",17),e.BQk(),e.YNc(52,Zr,1,0,"tr",21),e.YNc(53,Cr,1,0,"tr",22),e.YNc(54,Tr,3,1,"tr",23),e.qZA(),e.TgZ(55,"mat-paginator",24),e.NdJ("page",function(l){return t.getAllQuestions(l.pageIndex+1,t.CorrectedQuestionsIdCtrl.value)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(5),e.hij(" ",e.lcZ(6,14,"labels.ExamsCorrection")," "),e.xp6(4),e.hij(" ",e.lcZ(10,16,"General.Search")," "),e.xp6(5),e.Q6J("formGroup",t.myForm),e.xp6(5),e.Q6J("value",0),e.xp6(1),e.hij(" ",e.lcZ(21,18,"labels.CorrectedQuestions")," "),e.xp6(3),e.Q6J("value",1),e.xp6(1),e.hij(" ",e.lcZ(25,20,"labels.UnCorrectedQuestions")," "),e.xp6(6),e.hij(" ",e.lcZ(31,22,"labels.ExamsCorrection")," "),e.xp6(9),e.Q6J("dataSource",t.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(24,Ar))("length",0)("pageSize",10))},directives:[U.Ro,Z.a8,Z.n5,E.zs,Z.dn,c._Y,c.JL,c.sg,$.VQ,c.JJ,c.u,$.U0,I.KE,I.hX,H.Nt,f.BZ,J.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.Ee,z.NW,f.ge,J.nU,f.ev,E.lW,be.Hw,f.XQ,f.Gk],pipes:[P.X$],styles:[""]}),n}();function Ir(n,o){1&n&&(e.TgZ(0,"button",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.Q6J("mat-dialog-close",!0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"Material.ResetExam")," "))}var br=function(){var n=function(){function o(a){(0,D.Z)(this,o),this.data=a,console.log(a)}return(0,L.Z)(o,[{key:"ngOnInit",value:function(){}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(w.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-save-exam-dialog"]],decls:14,vars:14,consts:[["mat-dialog-title","",1,"primary-color"],["mat-dialog-content",""],[1,"primary"],["mat-dialog-actions",""],["routerLink","/home",1,"btn","btn-warning",3,"mat-dialog-close"],["id","btnSubmit","class","btn btn-primary bg-light-primary",3,"mat-dialog-close",4,"ngIf"],["id","btnSubmit",1,"btn","btn-primary","bg-light-primary",3,"mat-dialog-close"]],template:function(a,t){1&a&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",1),e.TgZ(5,"p",2),e.TgZ(6,"strong"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",3),e.TgZ(10,"button",4),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Ir,3,4,"button",5),e.qZA()),2&a&&(e.xp6(1),e.AsE(" ",e.lcZ(2,8,"labels.ExamRuselts")," ",t.data.title,"\n"),e.xp6(6),e.lnq(" ",e.lcZ(8,10,"labels.StudentMark")," : (",t.data.solvidResults.result," / ",t.data.solvidResults.total_mark,") "),e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(1),e.hij(" ",e.lcZ(12,12,"General.BackToHome")," "),e.xp6(2),e.Q6J("ngIf",t.data.solvidResults&&t.data.solvidResults.repeatable))},directives:[w.uh,w.xY,w.H8,q.rH,w.ZT,b.O5],pipes:[P.X$],styles:[""]}),n}(),qr=C(8723),He=C(3251),yr=C(1033);function Ur(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",4),e.TgZ(2,"mat-card",10),e.TgZ(3,"mat-card-content"),e.TgZ(4,"div",11),e.TgZ(5,"div",12),e.TgZ(6,"h4",13),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"h5"),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&n){var a=e.oxw(2);e.xp6(7),e.hij(" ",e.lcZ(8,2,"labels.TotalMark")," "),e.xp6(3),e.Oqu(a.examTotalMark)}}function Qr(n,o){if(1&n&&(e._UZ(0,"img",20),e.ALo(1,"sliceExamPic")),2&n){var a=e.oxw().$implicit;e.MGl("src","/mozakretyapi",e.lcZ(1,1,null==a.QuestionDetails?null:a.QuestionDetails.questionAttach),"",e.LSH)}}function Fr(n,o){if(1&n&&(e._UZ(0,"img",20),e.ALo(1,"sliceExamPic")),2&n){var a=e.oxw().$implicit;e.MGl("src","/mozakretyapi",e.lcZ(1,1,a.MCQAttach),"",e.LSH)}}function Nr(n,o){if(1&n&&(e.TgZ(0,"div",4),e.TgZ(1,"mat-radio-button",21),e.TgZ(2,"span"),e._uU(3),e.YNc(4,Fr,2,3,"img",16),e.qZA(),e.qZA(),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Q6J("value",a.Id)("disabled",!0),e.xp6(2),e.hij(" ",a.MCQText," "),e.xp6(1),e.Q6J("ngIf",a.MCQAttach)}}function wr(n,o){if(1&n&&(e.TgZ(0,"form"),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.YNc(3,Qr,2,3,"img",16),e.TgZ(4,"div",3),e.TgZ(5,"mat-radio-group",17,18),e.YNc(7,Nr,5,4,"div",19),e.qZA(),e.qZA(),e._UZ(8,"mat-card-actions"),e._UZ(9,"hr"),e.qZA()),2&n){var a=o.$implicit,t=o.index;e.xp6(2),e.AsE(" ",t+1,") ",null==a.QuestionDetails?null:a.QuestionDetails.questionText," "),e.xp6(1),e.Q6J("ngIf",null==a.QuestionDetails?null:a.QuestionDetails.questionAttach),e.xp6(2),e.MGl("id","question-",null==a.QuestionDetails?null:a.QuestionDetails.questionId,""),e.xp6(2),e.Q6J("ngForOf",a.MCQ)}}function Er(n,o){if(1&n&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-title"),e._uU(2),e.qZA(),e.TgZ(3,"mat-card-content"),e.YNc(4,wr,10,5,"form",15),e.qZA(),e.qZA()),2&n){var a=o.$implicit;e.xp6(2),e.hij(" ",a.HeadName,""),e.xp6(2),e.Q6J("ngForOf",null==a?null:a.Questions)}}function kr(n,o){if(1&n&&(e.TgZ(0,"mat-tab",14),e.YNc(1,Er,5,2,"mat-card",15),e.qZA()),2&n){var a=o.$implicit;e.Gre("group-",a.GroupId,""),e.s9C("label",a.GroupName),e.xp6(1),e.Q6J("ngForOf",a.Heads)}}function Sr(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"span",6),e._uU(7),e.qZA(),e.TgZ(8,"span",6),e._uU(9),e.qZA(),e.TgZ(10,"span",6),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,Ur,11,4,"ng-container",0),e.qZA(),e.qZA(),e.TgZ(13,"div",7),e.TgZ(14,"mat-card"),e._UZ(15,"mat-card-title"),e.TgZ(16,"mat-card-content"),e.TgZ(17,"mat-tab-group"),e.YNc(18,kr,2,5,"mat-tab",8),e.qZA(),e.qZA(),e._UZ(19,"mat-card-actions",9),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&n){var a=e.oxw();e.xp6(7),e.hij(" ",a.ExamName," "),e.xp6(2),e.hij(" ",a.TeacherName," "),e.xp6(2),e.hij(" ",a.SubjectName," "),e.xp6(1),e.Q6J("ngIf",!a.isSolved),e.xp6(6),e.Q6J("ngForOf",a.ExamGroups)}}var Lr=function(){var n=function(){function o(a,t,i,l,r,s){var u=this;(0,D.Z)(this,o),this.studentServ=a,this.toastr=t,this.route=i,this.router=l,this.spinner=r,this.dialog=s,this.ExamDetails=[],this.ExamGroups=null,this.solvedQuestionNumberArr=[],this.AnswerdQuestionsNumber=[],this.IsAvaliable=!0,this.exam_period_minute=0,this.isSolved=!1,this.PickedChoiceId=[],this.route.paramMap.subscribe(function(m){u.examId=m.get("examId"),console.log("this.examId",u.examId)})}return(0,L.Z)(o,[{key:"ngOnInit",value:function(){this.returnStudentExam(this.examId)}},{key:"returnStudentExam",value:function(t){var i=this;this.spinner.show(),this.studentServ.returnStudentExam(t).subscribe(function(l){if(console.log("exam: ",l),-5===l.returnValue)return i.spinner.hide(),void i.returnExamResults(l.examId);if(505===l.returnValue)return i.toastr.warning("\u064a\u062c\u0628 \u0634\u0631\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0636\u0631\u0629 \u0627\u0648\u0644\u0627"),i.router.navigateByUrl("/home"),void i.spinner.hide();if(200===l.returnValue){i.isSolved=!1,i.ExamGroups=l.exam.groups,i.ExamName=l.exam.details.exam_ar_name,i.IsAvaliable=l.mv.IsAvailable,i.TeacherName=l.teacherName,i.SubjectName=l.mv.subject.subject_ar_name,i.studentUserId=l.mv.exam_student.studentUserId,i.examTotalMark=l.mv.examTotalMark,i.exam_period_minute=l.exam.details.exam_period_minute,i.solvedExamStudent_ID=l.mv.solvedExamStudent_ID,i.student_grade=l.mv.exam_student.student_grade;for(var r=l.exam.groups.length,s=0,u=0;u<r;u++){var m=l.exam.groups[u].Heads.length;if(0!=m)for(var d=0;d<m;d++)s+=l.exam.groups[u].Heads[d].Questions.length;i.questionNumber=s}0!=l.exam.details.exam_period_minute&&null!=l.exam.details.exam_period_minute&&i.timer(l.exam.details.exam_period_minute);var p=new Date,h=p.getHours(),g=p.getMinutes(),v=p.getSeconds();i.ExamStarTime=h+":"+g+":"+v;var A,x=l.exam.groups[0].Heads[0].Questions.length;for(A=0;A<=x;A++)l.exam.groups[0].Heads[0].Questions[A]&&l.exam.groups[0].Heads[0].Questions[A].QuestionDetails&&l.exam.groups[0].Heads[0].Questions[A].QuestionDetails.StudentChoice&&"T"==l.exam.groups[0].Heads[0].Questions[A].QuestionDetails.StudentChoice.RESULT&&i.solvedQuestionNumberArr.push({id:A}),i.spinner.hide();i.spinner.hide()}})}},{key:"returnExamResults",value:function(t){var i=this;this.spinner.show(),this.studentServ.returnStudentExamResults(t).subscribe(function(l){var r;i.isSolved=!0,i.ExamGroups=l.item.groups,i.ExamName=l.item.details.exam_ar_name,i.TeacherName=l.teacherName,i.SubjectName=l.SubjectName,i.examTotalMark=l.ex.total_mark,i.student_grade=null===(r=l.ex.exam_student)||void 0===r?void 0:r.student_grade,i.studentMark=l.ex.exam_result,i.examDuration=l.ex.examDuration,i.examResultDate=l.ex.examResultDate,i.examResultTime=l.ex.examResultTime,i.IsResultAvalable=l.ex.IsResultAvalable,i.isSolviedResultsOff=!l.ex.IsResultAvalable,i.showResult=l.ex.showResult,i.PointsGained=l.ex.PointsGained,i.repeatable=l.ex.repeatable,i.repeatableExam_Count=l.ex.repeatableExam_Count,i.solvidResults=[],i.spinner.hide()})}},{key:"onRadioChange",value:function(t,i){var l={questionId:i,choiceId:t.value},r=this.PickedChoiceId.findIndex(function(s){return s.questionId===i});console.log(r),r>=0?this.PickedChoiceId[r]=l:this.PickedChoiceId.push(l)}},{key:"SingleQuestionForm",value:function(t){var i=this,l=this.PickedChoiceId.find(function(s){return s.questionId===t});null!=(null==l?void 0:l.choiceId)&&null!=(null==l?void 0:l.choiceId)?this.studentServ.SubmitSingleQuestion({examId:this.examId,studentUserId:this.studentUserId,PickedChoiceId:l.choiceId,questionId:t}).subscribe(function(s){if(200==s.returnValue){document.getElementById("alert-".concat(t)).style.display="none";var u=document.querySelector("#btn-"+t);u.classList.remove("btn-primary"),u.classList.add("btn-success"),u.innerHTML="\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0625\u062c\u0627\u0628\u0629";var m=document.getElementById("stu-cho-".concat(t));m.style.display="block",m.innerHTML='\u062a\u0645 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0625\u062c\u0627\u0628\u0629 : ("'.concat(s.returnedChoice,'")'),i.AnswerdQuestionsNumber.find(function(_){return _.questionId===t})||i.AnswerdQuestionsNumber.push({questionId:t})}505==s.returnValue&&(document.querySelector("#alert-"+t).innerHTML="\u0645\u0646 \u0641\u0636\u0644\u0643 \u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u062e\u062a\u064a\u0627\u0631 \u0625\u062c\u0627\u0628\u0647",i.toastr.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u062e\u062a\u064a\u0627\u0631 \u0625\u062c\u0627\u0628\u0647","\u062e\u0637\u0623"))}):this.toastr.warning("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062e\u062a\u0631 \u0625\u062c\u0627\u0628\u0629")}},{key:"SubmitExam",value:function(){var t=this;this.questionNumber-this.solvedQuestionNumberArr.length>this.AnswerdQuestionsNumber.length?this.toastr.error(' \u0644\u0645 \u064a\u062a\u0645 \u0625\u062c\u0627\u0628\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u0627\u0633\u0626\u0644\u0647\u060c \u0639\u062f\u062f \u0627\u0644\u0627\u0633\u0626\u0644\u0647 \u0627\u0644\u062a\u064a \u0644\u0645 \u064a\u062a\u0645 \u0625\u062c\u0627\u0628\u062a\u0647\u0627 "'+(this.questionNumber-this.solvedQuestionNumberArr.length-this.AnswerdQuestionsNumber.length)+'" \u0633\u0624\u0627\u0644'):(this.spinner.show(),this.studentServ.SubmitExam({examId:this.examId,studentUserId:this.studentUserId,solvedExamStudent_ID:this.solvedExamStudent_ID,ExamStarTime:this.ExamStarTime}).subscribe(function(r){0==r.returnValue?(t.toastr.warning(" \u062a\u0645 \u062d\u0644 \u0627\u0644\u0625\u0645\u062a\u062d\u0627\u0646 \u0645\u0646 \u0642\u0628\u0644","\u062e\u0637\u0623"),t.spinner.hide()):(t.solvidResults=r,t.openDialog(r),t.spinner.hide())}))}},{key:"timer",value:function(t){var i=this,l=60*t,r=l;(0,qr.H)(0,1e3).subscribe(function(){r>0?(r==l/2&&i.toastr.warning('\u0628\u0627\u0642\u064a \u0645\u0646 \u0648\u0642\u062a \u0627\u0644\u0625\u0645\u062a\u062d\u0627\u0646  " '+t/2+'" \u062f\u0642\u064a\u0642\u0647'),r==l/4&&i.toastr.warning('\u0628\u0627\u0642\u064a \u0645\u0646 \u0648\u0642\u062a \u0627\u0644\u0625\u0645\u062a\u062d\u0627\u0646  " '+t/4+'" \u062f\u0642\u064a\u0642\u0647'),--r,i.counter=r):0==r&&(i.toastr.error("\u062a\u0645 \u0625\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u0648\u0642\u062a "),r=null,i.spinner.show(),i.studentServ.SubmitExam({examId:i.examId,studentUserId:i.studentUserId,solvedExamStudent_ID:i.solvedExamStudent_ID,ExamStarTime:i.ExamStarTime}).subscribe(function(p){0==p.returnValue?(i.toastr.error(" \u062a\u0645 \u062d\u0644 \u0627\u0644\u0625\u0645\u062a\u062d\u0627\u0646 \u0645\u0646 \u0642\u0628\u0644","\u062e\u0637\u0623"),i.spinner.hide()):(i.solvidResults=p,i.openDialog(p),i.spinner.hide())}))})}},{key:"openDialog",value:function(t){var i=this;this.dialog.open(br,{data:{solvidResults:t}}).afterClosed().subscribe(function(r){r?i.refresh():i.router.navigateByUrl("/home")})}},{key:"refresh",value:function(){null==window||window.location.reload()}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(Re.V),e.Y36(R._W),e.Y36(q.gz),e.Y36(q.F0),e.Y36(U.t2),e.Y36(w.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-exam-preview"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","exam-container"],[1,"col-md-3","col-12"],[1,"row"],[1,"col-12"],["role","alert",1,"alert","bg-light-primary","mb-2"],[1,"badge","bg-primary","mb-1","mr-2"],[1,"col-md-9","col-12"],[3,"label","class",4,"ngFor","ngForOf"],["align","end"],[1,"card","card-inverse","bg-info"],[1,"media"],[1,"media-body","text-left"],[1,"card-text"],[3,"label"],[4,"ngFor","ngForOf"],["class","examimage",3,"src",4,"ngIf"],[1,"exam-radio-group",3,"id"],["choice",""],["class","col-12",4,"ngFor","ngForOf"],[1,"examimage",3,"src"],[3,"value","disabled"]],template:function(a,t){1&a&&e.YNc(0,Sr,20,5,"ng-container",0),2&a&&e.Q6J("ngIf",t.ExamGroups)},directives:[b.O5,Z.a8,Z.n5,Z.dn,He.SP,b.sg,Z.hq,He.uX,c._Y,c.JL,$.VQ,$.U0],pipes:[P.X$,yr.H],styles:[".alert.bg-light-primary[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{color:#fff!important}"]}),n}();function Dr(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," You must enter a value. "),e.qZA())}function Yr(n,o){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,Dr,2,0,"span",5),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==a.FormCtrls.from.errors?null:a.FormCtrls.from.errors.required)||(null==a.FormCtrls.from.errors?null:a.FormCtrls.from.errors.minusNum))}}function Jr(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," You must enter a value. "),e.qZA())}function jr(n,o){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,Jr,2,0,"span",5),e.qZA()),2&n){var a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==a.FormCtrls.to.errors?null:a.FormCtrls.to.errors.required)||(null==a.FormCtrls.to.errors?null:a.FormCtrls.to.errors.minusNum))}}function Vr(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e.TgZ(2,"mat-form-field",7),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",15),e.YNc(7,Yr,2,1,"mat-hint",9),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"mat-form-field",7),e.TgZ(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",16),e.YNc(14,jr,2,1,"mat-hint",9),e.qZA(),e.qZA(),e.BQk()),2&n){var a=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,4,"labels.From")," "),e.xp6(3),e.Q6J("ngIf",a.FormCtrls.from.invalid&&(a.FormCtrls.from.touched||a.Submitted)),e.xp6(4),e.hij(" ",e.lcZ(12,6,"labels.To")," "),e.xp6(3),e.Q6J("ngIf",a.FormCtrls.to.invalid&&(a.FormCtrls.to.touched||a.Submitted))}}function Gr(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1," You must enter a value. "),e.qZA())}function Pr(n,o){if(1&n&&(e.TgZ(0,"mat-hint",17),e.YNc(1,Gr,2,0,"span",5),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==a.FormCtrls.value.errors?null:a.FormCtrls.value.errors.required)||(null==a.FormCtrls.value.errors?null:a.FormCtrls.value.errors.minusNum))}}function Mr(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ByQuestion")," "))}function Or(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.ByExam")," "))}function Br(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"tr"),e.YNc(1,Mr,3,3,"td",5),e.YNc(2,Or,3,3,"td",5),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"button",18),e.NdJ("click",function(){var r=e.CHM(a).$implicit;return e.oxw().openDeleateExamPointDialog(r)}),e.TgZ(11,"mat-icon"),e._uU(12,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.ByQuestion),e.xp6(1),e.Q6J("ngIf",!t.ByQuestion),e.xp6(2),e.Oqu(t.FromValue),e.xp6(2),e.Oqu(t.ToValue),e.xp6(2),e.Oqu(t.Value)}}function Rr(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"pagination-controls",19),e.NdJ("pageChange",function(l){e.CHM(a);var r=e.oxw();return r.p=l,r.getExamCustomPoints(l)}),e.qZA()}if(2&n){var t=e.oxw();e.Q6J("maxSize",t.maxSize)}}var Hr=function(o){return{functionId:o}},$r=function(o,a){return{itemsPerPage:5,currentPage:o,totalItems:a}},zr=function(){var n=function(){function o(a,t,i,l,r,s,u){var m=this;(0,D.Z)(this,o),this.fb=a,this.toastr=t,this.authserv=i,this.route=l,this.PointsService=r,this.dialog=s,this.spinner=u,this.Submitted=!1,this.p=1,this.maxSize=9,l.paramMap.subscribe(function(d){m.examId=Number(d.get("examId"))}),this.route.queryParamMap.subscribe(function(d){m.functionId=Number(d.get("functionId"))})}return(0,L.Z)(o,[{key:"ngOnInit",value:function(){this.getExamCustomPoints(1),this.myForm=this.fb.group({ByQuestion:[!1,[c.kI.required]],from:["",[c.kI.required,F.w.minusNum]],to:["",[c.kI.required,F.w.minusNum]],value:["",[c.kI.required,F.w.minusNum]]}),this.ByQuestionValidators(!1)}},{key:"FormCtrls",get:function(){return this.myForm.controls}},{key:"addExamCustomPoint",value:function(){var i,l,r,s,t=this;this.Submitted=!0;var u={itemId:this.examId,ByQuestion:null===(i=this.FormCtrls)||void 0===i?void 0:i.ByQuestion.value,from:null===(l=this.FormCtrls)||void 0===l?void 0:l.from.value,to:null===(r=this.FormCtrls)||void 0===r?void 0:r.to.value,value:null===(s=this.FormCtrls)||void 0===s?void 0:s.value.value};this.myForm.valid&&(this.spinner.show(),this.PointsService.addExamCustomPoint(u).subscribe(function(m){var d;1==m.returnValue&&(t.getExamCustomPoints(1),t.toastr.success("\u062a\u0645 \u0625\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0646\u0642\u0627\u0637"),t.Submitted=!1,t.myForm.reset(),null===(d=t.FormCtrls)||void 0===d||d.ByQuestion.setValue(!1)),t.spinner.hide()}))}},{key:"getExamCustomPoints",value:function(t){var i=this;this.spinner.show(),this.PointsService.getExamCustomPoints(t,this.examId).subscribe(function(l){1==l.returnValue&&(i.ItemsCount=l.itemsCount,i.Points=l.points),i.spinner.hide()})}},{key:"deleteExamCustomPoint",value:function(t){var i=this;this.spinner.show(),this.PointsService.deleteExamCustomPoint(t.Id).subscribe(function(l){if(1==l.returnValue){var r=i.Points.findIndex(function(s){return s==t});i.Points.splice(r,1),i.toastr.success("\u062a\u0645 \u0627\u0644\u062d\u0630\u0641")}i.spinner.hide()})}},{key:"openDeleateExamPointDialog",value:function(t){var i=this;this.dialog.open(fe.F,{data:{msg:"".concat(t.Value,": points")}}).afterClosed().subscribe(function(l){l&&i.deleteExamCustomPoint(t)})}},{key:"track",value:function(t,i){return i.Id}},{key:"ByQuestionValidators",value:function(t){1==t?(this.FormCtrls.from.reset(),this.FormCtrls.from.clearValidators(),this.FormCtrls.to.reset(),this.FormCtrls.to.clearValidators()):(this.FormCtrls.from.setValidators([c.kI.required,F.w.minusNum]),this.FormCtrls.to.setValidators([c.kI.required,F.w.bigZero])),this.FormCtrls.from.updateValueAndValidity(),this.FormCtrls.to.updateValueAndValidity()}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(c.qu),e.Y36(R._W),e.Y36(O.e),e.Y36(q.gz),e.Y36(je.q),e.Y36(w.uw),e.Y36(U.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-exams-custome-points"]],decls:47,vars:39,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","","routerLink","/dashboard/exams-setup/exam/index",1,"btn","btn-info","bg-light-warning","float-right",3,"queryParams"],[1,"container-fluid"],[3,"formGroup"],[4,"ngIf"],[1,"col-lg-4","col-12"],["appearance","legacy"],["matInput","","type","number","formControlName","value"],["class","text-danger",4,"ngIf"],["align","end"],["mat-raised-button","","type","button",1,"btn","btn-primary",3,"click"],[1,"table"],[4,"ngFor","ngForOf","ngForTrackBy"],["dir","ltr","previousLabel","","nextLabel","",3,"maxSize","pageChange",4,"ngIf"],["matInput","","type","number","formControlName","from"],["matInput","","type","number","formControlName","to"],[1,"text-danger"],["mat-mini-fab","","color","warn",3,"click"],["dir","ltr","previousLabel","","nextLabel","",3,"maxSize","pageChange"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"a",2),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA(),e.TgZ(10,"mat-card-content",3),e.TgZ(11,"form",4),e.TgZ(12,"div",0),e.YNc(13,Vr,15,8,"ng-container",5),e.TgZ(14,"div",6),e.TgZ(15,"mat-form-field",7),e.TgZ(16,"mat-label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",8),e.YNc(20,Pr,2,1,"mat-hint",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"mat-card-actions",10),e.TgZ(22,"button",11),e.NdJ("click",function(){return t.addExamCustomPoint()}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.ynx(25),e.TgZ(26,"table",12),e.TgZ(27,"thead"),e.TgZ(28,"tr"),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"tbody"),e.YNc(44,Br,13,5,"tr",13),e.ALo(45,"paginate"),e.qZA(),e.YNc(46,Rr,1,1,"pagination-controls",14),e.qZA(),e.BQk(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(5),e.hij(" ",e.lcZ(6,15,"labels.ExamPoints")," "),e.xp6(2),e.Q6J("queryParams",e.VKq(34,Hr,t.functionId)),e.xp6(1),e.hij(" ",e.lcZ(9,17,"General.Back")," "),e.xp6(3),e.Q6J("formGroup",t.myForm),e.xp6(2),e.Q6J("ngIf",!1===t.FormCtrls.ByQuestion.value),e.xp6(4),e.hij(" ",e.lcZ(18,19,"labels.pointsNumber")," "),e.xp6(3),e.Q6J("ngIf",t.FormCtrls.value.invalid&&(t.FormCtrls.value.touched||t.Submitted)),e.xp6(3),e.hij(" ",e.lcZ(24,21,"General.Add")," "),e.xp6(7),e.hij(" ",e.lcZ(31,23,"labels.ByQuestion")," "),e.xp6(3),e.hij(" ",e.lcZ(34,25,"labels.From")," "),e.xp6(3),e.hij(" ",e.lcZ(37,27,"labels.To")," "),e.xp6(3),e.hij(" ",e.lcZ(40,29,"labels.pointsNumber")," "),e.xp6(5),e.Q6J("ngForOf",e.xi3(45,31,t.Points,e.WLB(36,$r,t.p,t.ItemsCount)))("ngForTrackBy",t.track),e.xp6(2),e.Q6J("ngIf",(null==t.Points?null:t.Points.length)>5))},directives:[U.Ro,Z.a8,Z.n5,E.zs,q.yS,Z.dn,c._Y,c.JL,c.sg,b.O5,I.KE,I.hX,H.Nt,c.wV,c.Fj,c.JJ,c.u,Z.hq,E.lW,b.sg,I.bx,be.Hw,Ae.LS,Se.Lv],pipes:[P.X$,Ae._s],styles:[""]}),n}();function Wr(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Exam.StudentGradesUploadExam")," - ",null==a.Exam?null:a.Exam.exam_ar_name," ")}}function Xr(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.AsE(" ",e.lcZ(2,2,"Exam.StudentGradesUploadTemplate")," - ",null==a.template?null:a.template.Name," ")}}var $e=function(o){return{functionId:o}};function Kr(n,o){if(1&n&&(e.TgZ(0,"a",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var a=e.oxw();e.Q6J("queryParams",e.VKq(4,$e,a.functionId)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"General.Back")," ")}}function es(n,o){if(1&n&&(e.TgZ(0,"a",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var a=e.oxw();e.Q6J("queryParams",e.VKq(4,$e,a.functionId)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"General.Back")," ")}}function ts(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(a),e.oxw().UploadExamStudentGrades()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Upload")," "))}function as(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(a),e.oxw().uploadTemplateStudentGrades()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"General.Upload")," "))}function ns(n,o){if(1&n&&(e.TgZ(0,"li",19),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.hij(" ",a," ")}}function is(n,o){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-card"),e.TgZ(3,"mat-card-title"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"mat-card-content"),e.TgZ(7,"div",0),e.TgZ(8,"div",16),e.TgZ(9,"ul",17),e.YNc(10,ns,2,1,"li",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){var a=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,2,"labels.StudentCodesFailureList")," "),e.xp6(6),e.Q6J("ngForOf",a.errors)}}var ze=function(){var n=function(){function o(a,t,i,l,r,s,u){var m=this;(0,D.Z)(this,o),this.route=a,this.toastr=t,this.ExamsService=i,this.TemplatesService=l,this.AuthService=r,this.spinner=s,this.translate=u,this.errorMsg=!1,this.file=null,this.route.paramMap.subscribe(function(d){m.examId=Number(d.get("examId")),m.templateId=Number(d.get("templateId"))}),a.queryParamMap.subscribe(function(d){m.functionId=Number(d.get("functionId"))}),console.log("examId",this.examId),console.log("templateId",this.templateId),this.examId>0&&this.getExamById(this.examId),this.templateId>0&&this.getTemplateById()}return(0,L.Z)(o,[{key:"ngOnInit",value:function(){this.EduCompId=Number(this.AuthService.getEduCompId())}},{key:"getExamById",value:function(t){var i=this;this.spinner.show(),this.ExamsService.getExamById(t).subscribe(function(l){l&&(i.Exam=l),i.spinner.hide()})}},{key:"getTemplateById",value:function(){var t=this;this.spinner.show(),this.TemplatesService.getTemplateById(this.templateId).subscribe(function(i){console.log("getTemplateById",i),t.template=i,t.spinner.hide()})}},{key:"UploadExamStudentGrades",value:function(){var t=this,i={};i.examId=this.examId,i.file=this.file,i.examGrade=this.Exam.examGrade,null!=i.file?null!=i.examId?null!=i.examGrade?(this.spinner.show(),this.ExamsService.UploadExamStudentGrades(i).subscribe(function(l){l.isSendAllSuccess?t.toastr.success("\u062a\u0645 \u0631\u0641\u0639 \u0627\u0644\u062f\u0631\u062c\u0627\u062a"):l.isSendAllSuccess||(t.toastr.error("\u0644\u0645 \u064a\u062a\u0645 \u0631\u0641\u0639 \u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0631\u062c\u0627\u062a"),t.errors=l.errors),t.spinner.hide()})):this.translate.get("UploadStudentGrades.examGradeErr").subscribe(function(l){t.toastr.warning(l)}):this.translate.get("UploadStudentGrades.examIdErr").subscribe(function(l){t.toastr.warning(l)}):this.translate.get("UploadStudentGrades.fileErr").subscribe(function(l){t.toastr.warning(l)})}},{key:"uploadTemplateStudentGrades",value:function(){var t=this,i={};i.templateId=this.templateId,i.file=this.file,i.examGrade=this.template.TemplateGrade,null!=i.file?null!=i.templateId?null!=i.examGrade?(this.spinner.show(),this.TemplatesService.uploadTemplateStudentGrade(i).subscribe(function(l){l.isSendAllSuccess?t.toastr.success("\u062a\u0645 \u0631\u0641\u0639 \u0627\u0644\u062f\u0631\u062c\u0627\u062a"):l.isSendAllSuccess||(t.toastr.error("\u0644\u0645 \u064a\u062a\u0645 \u0631\u0641\u0639 \u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0631\u062c\u0627\u062a"),t.errors=l.errors),t.spinner.hide()})):this.translate.get("UploadStudentGrades.examGradeErr").subscribe(function(l){t.toastr.warning(l)}):this.translate.get("UploadStudentGrades.examIdErr").subscribe(function(l){t.toastr.warning(l)}):this.translate.get("UploadStudentGrades.fileErr").subscribe(function(l){t.toastr.warning(l)})}},{key:"onChange",value:function(t){var i=this,l=t.target.files[0].name,r=t.target.files[0].size,s=t.target.files[0].type,u=t.target.files[0].lastModified,m=t.target.files[0].lastModifiedDate;if(t.target.files){var d=new FileReader;d.readAsDataURL(t.target.files[0]),d.onload=function(_){i.file={FileAsBase64:_.target.result,name:l,size:r,type:s,LastModified:u,LastModifiedDate:m}}}}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(q.gz),e.Y36(R._W),e.Y36(Ce),e.Y36(Le),e.Y36(O.e),e.Y36(U.t2),e.Y36(P.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-upload-exam-grades"]],decls:28,vars:11,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],["mat-raised-button","","class","btn btn-warning bg-light-warning float-right","routerLink","/dashboard/exams-setup/exam/index",3,"queryParams",4,"ngIf"],["mat-raised-button","","class","btn btn-warning bg-light-warning float-right","routerLink","/dashboard/exams-setup/templates/index",3,"queryParams",4,"ngIf"],[1,"form-container"],[1,"col-lg-6","col-12"],["accept",".xlsx,.xls","type","file",1,"form-control",3,"change"],["fileInput",""],["type","number","readonly","","disabled","",1,"form-control",3,"value"],["align","end"],["mat-raised-button","","class","btn btn-primary",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["mat-raised-button","","routerLink","/dashboard/exams-setup/exam/index",1,"btn","btn-warning","bg-light-warning","float-right",3,"queryParams"],["mat-raised-button","","routerLink","/dashboard/exams-setup/templates/index",1,"btn","btn-warning","bg-light-warning","float-right",3,"queryParams"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],[1,"col-6"],[1,"list-group"],["class","list-group-item disabled",4,"ngFor","ngForOf"],[1,"list-group-item","disabled"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e.YNc(5,Wr,3,4,"span",2),e.YNc(6,Xr,3,4,"span",2),e.YNc(7,Kr,3,6,"a",3),e.YNc(8,es,3,6,"a",4),e.qZA(),e.TgZ(9,"mat-card-content"),e.TgZ(10,"div",0),e.TgZ(11,"div",1),e.TgZ(12,"form",5),e.TgZ(13,"div",0),e.TgZ(14,"div",6),e.TgZ(15,"mat-label"),e._uU(16," Excel Sheet"),e.qZA(),e.TgZ(17,"input",7,8),e.NdJ("change",function(l){return t.onChange(l)}),e.qZA(),e.qZA(),e.TgZ(19,"div",6),e.TgZ(20,"mat-label"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"mat-card-actions",10),e.YNc(25,ts,3,3,"button",11),e.YNc(26,as,3,3,"button",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(27,is,11,4,"div",12),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(5),e.Q6J("ngIf",t.examId>0),e.xp6(1),e.Q6J("ngIf",t.templateId>0),e.xp6(1),e.Q6J("ngIf",t.examId>0),e.xp6(1),e.Q6J("ngIf",t.templateId>0),e.xp6(13),e.Oqu(e.lcZ(22,9,"Exam.Grade")),e.xp6(2),e.Q6J("value",t.examId>0?null==t.Exam?null:t.Exam.examGrade:null==t.template?null:t.template.TemplateGrade),e.xp6(2),e.Q6J("ngIf",t.examId>0),e.xp6(1),e.Q6J("ngIf",t.templateId>0),e.xp6(1),e.Q6J("ngIf",(null==t.errors?null:t.errors.length)>0))},directives:[U.Ro,Z.a8,Z.n5,b.O5,Z.dn,c._Y,c.JL,I.hX,Z.hq,E.zs,q.yS,E.lW,b.sg],pipes:[P.X$],styles:[""]}),n}(),os=C(9430),ls=C(4578),We=function(o){return{functionId:o}};function rs(n,o){if(1&n&&(e.TgZ(0,"a",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var a=e.oxw();e.Q6J("queryParams",e.VKq(4,We,a.functionId)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"General.Back")," ")}}function ss(n,o){if(1&n&&(e.TgZ(0,"a",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){var a=e.oxw();e.Q6J("queryParams",e.VKq(4,We,a.functionId)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"General.Back")," ")}}function us(n,o){if(1&n&&(e.TgZ(0,"mat-option",34),e._UZ(1,"span",35),e.qZA()),2&n){var a=o.$implicit;e.Q6J("value",a.msgId),e.xp6(1),e.Q6J("innerHTML",a.msgTitle,e.oJD)}}function ms(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.MustChoosevalue")," "))}function ds(n,o){if(1&n&&(e.TgZ(0,"mat-hint",36),e.YNc(1,ms,3,3,"span",37),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",null==a.FormCtrls.whats_app_msg_id.errors?null:a.FormCtrls.whats_app_msg_id.errors.required)}}function cs(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function ps(n,o){if(1&n&&(e.TgZ(0,"mat-hint",36),e.YNc(1,cs,3,3,"span",37),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==a.FormCtrls.FromGrade.errors?null:a.FormCtrls.FromGrade.errors.required)||(null==a.FormCtrls.FromGrade.errors?null:a.FormCtrls.FromGrade.errors.minusNum))}}function _s(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.mustEnterValue")," "))}function hs(n,o){if(1&n&&(e.TgZ(0,"mat-hint",36),e.YNc(1,_s,3,3,"span",37),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==a.FormCtrls.ToGrade.errors?null:a.FormCtrls.ToGrade.errors.required)||(null==a.FormCtrls.ToGrade.errors?null:a.FormCtrls.ToGrade.errors.minusNum))}}function gs(n,o){1&n&&(e.TgZ(0,"th",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"whatsApp.Title")," "))}function fs(n,o){if(1&n&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.hij(" ",a.msgTitle," ")}}function vs(n,o){1&n&&(e.TgZ(0,"th",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"whatsApp.Body")," "))}function Zs(n,o){if(1&n&&(e.TgZ(0,"td",40),e._UZ(1,"span",41),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.s9C("content",a.msgBody),e.Q6J("innerHTML",a.msgBody,e.oJD)("title",a.msgBody)}}function Cs(n,o){1&n&&(e.TgZ(0,"th",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"whatsApp.FromGrade")," "))}function Ts(n,o){if(1&n&&(e.TgZ(0,"td",39),e._UZ(1,"span",35),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Q6J("innerHTML",a.fromGrade,e.oJD)}}function As(n,o){1&n&&(e.TgZ(0,"th",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"whatsApp.ToGrade")," "))}function xs(n,o){if(1&n&&(e.TgZ(0,"td",39),e._UZ(1,"span",35),e.qZA()),2&n){var a=o.$implicit;e.xp6(1),e.Q6J("innerHTML",a.toGrade,e.oJD)}}function Is(n,o){1&n&&e._UZ(0,"th",38)}function bs(n,o){if(1&n){var a=e.EpF();e.TgZ(0,"td",39),e.TgZ(1,"button",42),e.NdJ("click",function(){var l=e.CHM(a).$implicit;return e.oxw().openDeleateDialog(l)}),e.ALo(2,"translate"),e.TgZ(3,"mat-icon"),e._uU(4,"delete"),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(2,1,"General.Delete")))}function qs(n,o){1&n&&e._UZ(0,"tr",43)}function ys(n,o){1&n&&e._UZ(0,"tr",44)}function Us(n,o){if(1&n&&(e.TgZ(0,"tr",45),e.TgZ(1,"td",46),e._uU(2),e.qZA(),e.qZA()),2&n){e.oxw();var a=e.MAs(52);e.xp6(2),e.hij(' No data matching the filter "',a.value,'" ')}}var Qs=function(){return[5,10]},Ns=[{path:"",redirectTo:"exam",pathMatch:"full"},{path:"exam-preview/:examId",component:Lr},{path:"exam-whatsapp-msgs/:examId",component:function(){var n=function(){function o(a,t,i,l,r,s,u){var m=this;(0,D.Z)(this,o),this.fb=a,this.msg=t,this.authService=i,this.route=l,this.dialog=r,this.whatsAppService=s,this.spinner=u,this.Submitted=!1,this.availableWhatsAppMsg=[],this.displayedColumns=["msgTitle","FromGrade","ToGrade","msgBody","actions"],l.paramMap.subscribe(function(d){m.examId=Number(d.get("examId"))}),this.route.queryParamMap.subscribe(function(d){m.functionId=Number(d.get("functionId")),m.IsTemplate=d.get("IsTemplate")})}return(0,L.Z)(o,[{key:"ngOnInit",value:function(){this.EduCompId=Number(this.authService.getEduCompId()),this.myForm=this.fb.group({Id:[null],whats_app_msg_id:["",[c.kI.required]],FromGrade:["",[c.kI.required,F.w.minusNum]],ToGrade:["",[c.kI.required,F.w.minusNum]]}),this.getAvailableWhatsAppMsgToExam(),this.getExamWhatsAppMsgs()}},{key:"FormCtrls",get:function(){return this.myForm.controls}},{key:"ngAfterViewInit",value:function(){var t=this;this.authService.EduCompId.subscribe(function(i){t.EduCompId=i.EduCompId})}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"getAvailableWhatsAppMsgToExam",value:function(){var t=this;this.spinner.show(),this.whatsAppService.getAvailableWhatsAppMsgToExam(this.EduCompId,this.examId).subscribe(function(i){t.availableWhatsAppMsg=i,t.spinner.hide()})}},{key:"getExamWhatsAppMsgs",value:function(){var t=this;this.spinner.show(),this.whatsAppService.getExamWhatsAppMsgs(this.examId).subscribe(function(i){t.dataSource=new f.by(i),console.log("getExamWhatsAppMsgs",i),t.spinner.hide()})}},{key:"addEditWhatAppMsg",value:function(){var i,l,r,s,t=this;this.Submitted=!0;var u={};u.Id=null===(i=this.FormCtrls.Id)||void 0===i?void 0:i.value,u.whats_app_msg_id=null===(l=this.FormCtrls.whats_app_msg_id)||void 0===l?void 0:l.value,u.exam_id=this.examId,u.FromGrade=null===(r=this.FormCtrls.FromGrade)||void 0===r?void 0:r.value,u.ToGrade=null===(s=this.FormCtrls.ToGrade)||void 0===s?void 0:s.value,u.IsTemplate=this.IsTemplate,this.myForm.valid?(this.spinner.show(),this.whatsAppService.addEditExamWhatssAppMsg(u).subscribe(function(m){t.Submitted=!1,"Success"==m.returnString?(t.getAvailableWhatsAppMsgToExam(),t.getExamWhatsAppMsgs(),t.msg.success(null==u.Id?"whatsApp.ExamMsgAdded":"whatsApp.ExamMsgUpdated"),t.myForm.reset(),t.FormCtrls.whats_app_msg_id.enable()):t.msg.error(m.returnString),t.spinner.hide()})):this.msg.warning("General.FormNotValid")}},{key:"getMsgToEdit",value:function(t){this.myForm.patchValue(t),this.FormCtrls.whats_app_msg_id.setValue(t.whatsAppMsgId),this.FormCtrls.whats_app_msg_id.disable(),this.FormCtrls.FromGrade.setValue(t.fromGrade),this.FormCtrls.ToGrade.setValue(t.toGrade),console.log(t)}},{key:"openDeleateDialog",value:function(t){var i=this;this.dialog.open(fe.F,{data:{msg:t.msgTitle}}).afterClosed().subscribe(function(l){l&&i.removeWhatsApp(t)})}},{key:"removeWhatsApp",value:function(t){var i=this;this.whatsAppService.deleteExamWhatsAppMsgById(t.Id).subscribe(function(l){if(1==l.returnValue){var r=i.dataSource.data.findIndex(function(s){return s.Id==t.Id});i.dataSource.data.splice(r,1),i.dataSource.paginator=i.paginator,i.dataSource.sort=i.sort,i.getAvailableWhatsAppMsgToExam(),i.msg.success("whatsApp.MsgDeleted")}})}}]),o}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(c.qu),e.Y36(os.K),e.Y36(O.e),e.Y36(q.gz),e.Y36(w.uw),e.Y36(ls.J),e.Y36(U.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-exams-whatsapp"]],viewQuery:function(a,t){var i;1&a&&(e.Gf(z.NW,5),e.Gf(J.YE,5)),2&a&&(e.iGM(i=e.CRH())&&(t.paginator=i.first),e.iGM(i=e.CRH())&&(t.sort=i.first))},decls:74,vars:34,consts:[[1,"row"],[1,"col-12"],["mat-raised-button","","routerLink","/dashboard/exams-setup/exam/index","class","btn btn-info bg-light-warning float-right",3,"queryParams",4,"ngIf"],["mat-raised-button","","routerLink","/dashboard/exams-setup/templates/index","class","btn btn-info bg-light-warning float-right",3,"queryParams",4,"ngIf"],[1,"container-fluid"],[3,"formGroup"],[1,"col-lg-4","col-12"],["appearance","legacy"],["formControlName","whats_app_msg_id"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["matInput","","type","number","formControlName","FromGrade"],["matInput","","type","number","formControlName","ToGrade"],["align","end"],["mat-raised-button","","type","button",1,"btn","btn-primary",3,"click"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"mat-elevation-z8","f-w"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","msgTitle"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","msgBody"],["mat-cell","","class","msgBody",4,"matCellDef"],["matColumnDef","FromGrade"],["matColumnDef","ToGrade"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],["mat-raised-button","","routerLink","/dashboard/exams-setup/exam/index",1,"btn","btn-info","bg-light-warning","float-right",3,"queryParams"],["mat-raised-button","","routerLink","/dashboard/exams-setup/templates/index",1,"btn","btn-info","bg-light-warning","float-right",3,"queryParams"],[3,"value"],[3,"innerHTML"],[1,"text-danger"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"msgBody"],["data-toggle","popover","data-trigger","hover","data-original-title","Hover Triggered",1,"msgBody","contetnt",3,"innerHTML","title","content"],["mat-mini-fab","","color","warn",1,"mr-2",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"mat-card"),e.TgZ(4,"mat-card-title"),e._uU(5),e.ALo(6,"translate"),e.YNc(7,rs,3,6,"a",2),e.YNc(8,ss,3,6,"a",3),e.qZA(),e.TgZ(9,"mat-card-content",4),e.TgZ(10,"form",5),e.TgZ(11,"div",0),e.TgZ(12,"div",6),e.TgZ(13,"mat-form-field",7),e.TgZ(14,"mat-label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"mat-select",8),e.TgZ(18,"mat-option"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.YNc(21,us,2,2,"mat-option",9),e.qZA(),e.YNc(22,ds,2,1,"mat-hint",10),e.qZA(),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"mat-form-field",7),e.TgZ(25,"mat-label"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e._UZ(28,"input",11),e.YNc(29,ps,2,1,"mat-hint",10),e.qZA(),e.qZA(),e.TgZ(30,"div",6),e.TgZ(31,"mat-form-field",7),e.TgZ(32,"mat-label"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"input",12),e.YNc(36,hs,2,1,"mat-hint",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"mat-card-actions",13),e.TgZ(38,"button",14),e.NdJ("click",function(){return t.addEditWhatAppMsg()}),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",0),e.TgZ(42,"div",1),e.TgZ(43,"mat-card"),e.TgZ(44,"mat-card-title"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"mat-card-content"),e.TgZ(48,"mat-form-field",15),e.TgZ(49,"mat-label"),e._uU(50,"Filter"),e.qZA(),e.TgZ(51,"input",16,17),e.NdJ("keyup",function(l){return t.applyFilter(l)}),e.qZA(),e.qZA(),e.TgZ(53,"div",18),e.TgZ(54,"table",19),e.ynx(55,20),e.YNc(56,gs,3,3,"th",21),e.YNc(57,fs,2,1,"td",22),e.BQk(),e.ynx(58,23),e.YNc(59,vs,3,3,"th",21),e.YNc(60,Zs,2,3,"td",24),e.BQk(),e.ynx(61,25),e.YNc(62,Cs,3,3,"th",21),e.YNc(63,Ts,2,1,"td",22),e.BQk(),e.ynx(64,26),e.YNc(65,As,3,3,"th",21),e.YNc(66,xs,2,1,"td",22),e.BQk(),e.ynx(67,27),e.YNc(68,Is,1,0,"th",21),e.YNc(69,bs,5,3,"td",22),e.BQk(),e.YNc(70,qs,1,0,"tr",28),e.YNc(71,ys,1,0,"tr",29),e.YNc(72,Us,3,1,"tr",30),e.qZA(),e._UZ(73,"mat-paginator",31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(5),e.hij(" ",e.lcZ(6,19,"whatsApp.whatsAppSettings")," "),e.xp6(2),e.Q6J("ngIf",!t.IsTemplate),e.xp6(1),e.Q6J("ngIf",t.IsTemplate),e.xp6(2),e.Q6J("formGroup",t.myForm),e.xp6(5),e.hij(" ",e.lcZ(16,21,"whatsApp.Messages")," "),e.xp6(4),e.Oqu(e.lcZ(20,23,"General.Choose")),e.xp6(2),e.Q6J("ngForOf",t.availableWhatsAppMsg),e.xp6(1),e.Q6J("ngIf",t.FormCtrls.whats_app_msg_id.invalid&&(t.FormCtrls.whats_app_msg_id.touched||t.Submitted)),e.xp6(4),e.hij(" ",e.lcZ(27,25,"whatsApp.FromGrade")," "),e.xp6(3),e.Q6J("ngIf",t.FormCtrls.FromGrade.invalid&&(t.FormCtrls.FromGrade.touched||t.Submitted)),e.xp6(4),e.hij(" ",e.lcZ(34,27,"whatsApp.ToGrade")," "),e.xp6(3),e.Q6J("ngIf",t.FormCtrls.ToGrade.invalid&&(t.FormCtrls.ToGrade.touched||t.Submitted)),e.xp6(3),e.hij(" ",e.lcZ(40,29,"General.Add")," "),e.xp6(6),e.hij(" ",e.lcZ(46,31,"whatsApp.WhatAppMsgs")," "),e.xp6(9),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(33,Qs))("pageSize",10))},directives:[U.Ro,Z.a8,Z.n5,b.O5,Z.dn,c._Y,c.JL,c.sg,I.KE,I.hX,ve.gD,c.JJ,c.u,Ze.ey,b.sg,H.Nt,c.wV,c.Fj,Z.hq,E.lW,f.BZ,J.YE,f.w1,f.fO,f.Dz,f.as,f.nj,f.Ee,z.NW,E.zs,q.yS,I.bx,f.ge,J.nU,f.ev,we.gM,be.Hw,f.XQ,f.Gk],pipes:[P.X$],styles:[".msgBody[_ngcontent-%COMP%]{max-width:600px;line-height:1.7;overflow:hidden}th.mat-header-cell[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type{width:650px;max-width:650px;overflow:hidden;height:50px;text-overflow:ellipsis;white-space:nowrap}.contetnt[_ngcontent-%COMP%]{display:block!important;height:50px;overflow:hidden}"]}),n}()},{path:"exam",children:[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:rl},{path:"add-exam",component:xo},{path:"exam-points/:examId",component:zr},{path:"upload-exam-student-grades/:examId",component:ze}]},{path:"question-bank",children:[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:Sn},{path:"add-question",component:Ra}]},{path:"templates",children:[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:nr},{path:"add-template",component:xa},{path:"template-points/:templateId",component:dt},{path:"upload-exam-student-grades/:templateId",component:ze}]},{path:"exam-correction",children:[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:xr}]}],ws=function(){var n=(0,L.Z)(function o(){(0,D.Z)(this,o)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[q.Bz.forChild(Ns)],q.Bz]}),n}(),Es=C(8250),ks=C(8046),Ss=C(8116),Ls=function(){var n=(0,L.Z)(function o(){(0,D.Z)(this,o)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[ws,b.ez,c.UX,Es.m,ks.q,pe.IJ,U.ef,Ae.JX,Ss.fi.forRoot({modules:{syntax:!0}})]]}),n}()}}]);