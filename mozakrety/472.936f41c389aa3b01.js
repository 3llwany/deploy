"use strict";(self.webpackChunkmozakretyNew=self.webpackChunkmozakretyNew||[]).push([[472],{6471:function(it,F,v){v.d(F,{i:function(){return V}});var G=v(5671),Y=v(3144),l=v(2340),B=v(1891),U=v(520),V=function(){var S=function(){function d(m){(0,G.Z)(this,d),this.http=m,this.yearByStageURL=l.N.apiURL+"Admin/educationalYear/",this.matBySbjectURL=l.N.apiURL+"codes/returnMaterialsByMainSubjectTeacherId/"}return(0,Y.Z)(d,[{key:"getEducationalEntities",value:function(){return this.http.get(l.N.apiURL+"Admin/getEducationalEntities")}},{key:"addNewEducationalEntity",value:function(c){return this.http.post(l.N.apiURL+"Admin/addNewEducationalEntity",c)}},{key:"removeEducationalEntity",value:function(c){return this.http.post(l.N.apiURL+"Admin/removeEducationalEntity/"+c,null)}},{key:"getEducationaStages",value:function(){return this.http.get(l.N.apiURL+"Admin/getEducationaStages")}},{key:"AddEducationalStage",value:function(c,T){return this.http.post("".concat(l.N.apiURL,"Admin/AddEducationalStage/").concat(c,"/").concat(T),null)}},{key:"EditEducationalStage",value:function(c,T,K){return this.http.post("".concat(l.N.apiURL,"Admin/EditEducationalStage/").concat(c,"/").concat(T,"/").concat(K),null)}},{key:"DeleteEducationalStage",value:function(c){return this.http.post("".concat(l.N.apiURL,"Admin/RemoveEducationalStage/").concat(c),null)}},{key:"getStageByTeacherId",value:function(c){return this.http.get("".concat(l.N.apiURL,"AJAX/returnStages/").concat(c))}},{key:"getEducationalYear",value:function(){return this.http.get(l.N.apiURL+"Admin/educationalYear")}},{key:"AddEducationalYear",value:function(c){return this.http.post(l.N.apiURL+"Admin/educationalYear",c)}},{key:"deleteEducationalYear",value:function(c){return this.http.delete("".concat(l.N.apiURL,"Admin/educationalYear/").concat(c))}},{key:"getEducationalStageByCountryID",value:function(c){return this.http.get("".concat(l.N.apiURL,"Admin/stages/").concat(c))}},{key:"returnYears",value:function(c){return this.http.get("".concat(l.N.apiURL,"AJAX/GetEducationalYearOfStudents/").concat(c))}},{key:"returnTeacherSubjects",value:function(c){return this.http.post("".concat(l.N.apiURL,"AJAX/returnSubjectsByYearTeacherIDs"),c)}},{key:"GetUnits",value:function(c){return this.http.get(l.N.apiURL+"AJAX/GetUnits/"+c)}},{key:"GetLessons",value:function(c){return this.http.get("".concat(l.N.apiURL,"AJAX/GetLessons/").concat(c))}},{key:"GetTopics",value:function(c){return this.http.get(l.N.apiURL+"AJAX/GetTopics/"+c)}},{key:"getYearbyStageID",value:function(c){return this.http.get("".concat(l.N.apiURL,"Admin/educationalYear/").concat(c))}},{key:"GetMaterialsBySubject",value:function(c,T,K){return this.http.get("".concat("".concat(l.N.apiURL,"codes/returnMaterialsByMainSubjectTeacherId/").concat(c),"/",T,"/").concat(K))}}]),d}();return S.\u0275fac=function(m){return new(m||S)(B.LFG(U.eN))},S.\u0275prov=B.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S}()},2397:function(it,F,v){v.d(F,{q:function(){return V}});var G=v(5671),Y=v(3144),l=v(2340),B=v(1891),U=v(520),V=function(){var S=function(){function d(m){(0,G.Z)(this,d),this.http=m}return(0,Y.Z)(d,[{key:"addPoints",value:function(c,T){return this.http.post("".concat(l.N.apiURL,"SetupPoints/SetupPoints/").concat(c),T)}},{key:"getPoints",value:function(c,T,K){return this.http.get("".concat(l.N.apiURL,"SetupPoints/returnPointSystemByResourceId/").concat(c,"/").concat(T,"/").concat(K))}},{key:"deletePoint",value:function(c){return this.http.post("".concat(l.N.apiURL,"SetupPoints/DeletePointSystemDetails/").concat(c),null)}},{key:"addLectureCustomPoint",value:function(c){return this.http.post("".concat(l.N.apiURL,"SetupPoints/CustomMaterialPoint"),c)}},{key:"getLectureCustomPoints",value:function(c,T){return this.http.get("".concat(l.N.apiURL,"SetupPoints/returnCustomPointMaterialByMaterialId/").concat(T,"/").concat(c))}},{key:"deleteLectureCustomPoint",value:function(c){return this.http.post("".concat(l.N.apiURL,"SetupPoints/DeleteCustomMaterialPoint/").concat(c),null)}},{key:"addExamCustomPoint",value:function(c){return this.http.post(l.N.apiURL+"SetupPoints/CustomExamPoint",c)}},{key:"getExamCustomPoints",value:function(c,T){return this.http.get("".concat(l.N.apiURL,"SetupPoints/returnCustomPointExamByExamId/").concat(T,"/").concat(c))}},{key:"deleteExamCustomPoint",value:function(c){return this.http.post("".concat(l.N.apiURL,"SetupPoints/DeleteCustomExamPoint/").concat(c),null)}},{key:"addTemplateCustomPoint",value:function(c){return this.http.post(l.N.apiURL+"SetupPoints/CustomTemplatePoint",c)}},{key:"getTemplateCustomPoints",value:function(c,T){return this.http.get("".concat(l.N.apiURL,"SetupPoints/returnCustomPointTemplateByTemplateId/").concat(T,"/").concat(c))}}]),d}();return S.\u0275fac=function(m){return new(m||S)(B.LFG(U.eN))},S.\u0275prov=B.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S}()},4578:function(it,F,v){v.d(F,{J:function(){return V}});var G=v(5671),Y=v(3144),l=v(2340),B=v(1891),U=v(520),V=function(){var S=function(){function d(m){(0,G.Z)(this,d),this.http=m}return(0,Y.Z)(d,[{key:"sendSingularWhatsAppMsg",value:function(c){return this.http.post("".concat(l.N.apiURL,"whats-app/send-singular-message"),c)}},{key:"sendWhatsAppMsg",value:function(c){return this.http.post("".concat(l.N.apiURL,"whats-app/send-message"),c)}},{key:"getAllWhatsAppMsg",value:function(c){return this.http.post("".concat(l.N.apiURL,"whats-app/GetAllWhatsAppSetups"),c)}},{key:"RemoveWhatsAppMsg",value:function(c){return this.http.delete("".concat(l.N.apiURL,"whats-app/delete-by-Id/").concat(c))}},{key:"addEditWhatAppMsg",value:function(c){return this.http.post("".concat(l.N.apiURL,"whats-app/addEditWhatAppMsg"),c)}},{key:"GetAllWhatsAppVariables",value:function(){return this.http.get("".concat(l.N.apiURL,"whats-app/GetAllWhatsAppVariables"))}},{key:"getWhatsMsgById",value:function(c){return this.http.get("".concat(l.N.apiURL,"whats-app/GetWhatsMsgById/").concat(c))}},{key:"getAvailableWhatsAppMsgToExam",value:function(c,T){return this.http.get("".concat(l.N.apiURL,"whats-app/GetAvailableWhatsAppMsgToExam/").concat(c,"/").concat(T))}},{key:"addEditExamWhatssAppMsg",value:function(c){return this.http.post("".concat(l.N.apiURL,"whats-app/addEditExamWhatsAppMsg"),c)}},{key:"getExamWhatsAppMsgs",value:function(c){return this.http.get("".concat(l.N.apiURL,"whats-app/GetExamWhatsAppMsgs/").concat(c))}},{key:"deleteExamWhatsAppMsgById",value:function(c){return this.http.delete("".concat(l.N.apiURL,"whats-app/DeleteExamWhatsAppMsgById/").concat(c))}}]),d}();return S.\u0275fac=function(m){return new(m||S)(B.LFG(U.eN))},S.\u0275prov=B.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S}()},5792:function(it,F,v){v.d(F,{I:function(){return ht}});var G=v(5671),Y=v(3144),l=v(1891),B=v(5086),U=v(7322),V=v(4107),S=v(3075),d=v(508),m=v(9808),c=v(530),T=v(1195);function K(Z,J){if(1&Z&&(l.TgZ(0,"mat-option",5),l._uU(1),l.qZA()),2&Z){var D=J.$implicit;l.Q6J("value",D.subject_id),l.xp6(1),l.hij(" ",D.subject_ar_name," ")}}var ht=function(){var Z=function(){function J(D){(0,G.Z)(this,J),this.GeneralService=D,this.multiple=!1,this.selectionChange=new l.vpe}return(0,Y.Z)(J,[{key:"ngOnInit",value:function(){var j=this;this.subjectControl.disable(),this.teacherIdControl.value>0&&(this.getSubjectByTeacherId(this.teacherIdControl.value),this.subjectControl.enable()),this.teacherIdControl.valueChanges.subscribe(function(H){H>0?(j.getSubjectByTeacherId(H),j.subjectControl.enable()):(j.subjectControl.setValue(null),j.subjectControl.disable())}),this.subjectControl.valueChanges.subscribe(function(H){})}},{key:"onChange",value:function(j){this.selectionChange.emit(j.value)}},{key:"getSubjectByTeacherId",value:function(j){var H=this;this.GeneralService.getSubjectByTeacherId(j,36).subscribe(function(rt){H.subjects=rt.subjects})}}]),J}();return Z.\u0275fac=function(D){return new(D||Z)(l.Y36(B.m))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-subjects-by-teacherid"]],inputs:{subjectControl:"subjectControl",teacherIdControl:"teacherIdControl",submitted:"submitted",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},decls:11,vars:12,consts:[["appearance","legacy"],[3,"formControl","multiple","selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","submitted","isSelect"],[3,"value"]],template:function(D,j){1&D&&(l.TgZ(0,"mat-form-field",0),l.TgZ(1,"mat-label"),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.TgZ(4,"mat-select",1),l.NdJ("selectionChange",function(rt){return j.onChange(rt)}),l.TgZ(5,"mat-option",2),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.YNc(8,K,2,2,"mat-option",3),l.qZA(),l.TgZ(9,"mat-hint"),l._UZ(10,"input-validation-msg",4),l.qZA(),l.qZA()),2&D&&(l.xp6(2),l.Oqu(l.lcZ(3,8,"Material.Subjects")),l.xp6(2),l.Q6J("formControl",j.subjectControl)("multiple",j.multiple),l.xp6(2),l.hij(" ",l.lcZ(7,10,"Material.Subjects")," "),l.xp6(2),l.Q6J("ngForOf",j.subjects),l.xp6(2),l.Q6J("control",j.subjectControl)("submitted",j.submitted)("isSelect",!0))},directives:[U.KE,U.hX,V.gD,S.JJ,S.oH,d.ey,m.sg,U.bx,c.p],pipes:[T.X$],styles:[""]}),Z}()},8116:function(it,F,v){v.d(F,{g6:function(){return Mt},fi:function(){return Tt}});var G=v(136),Y=v(7777),l=v(7685),B=v(4902),U=v(5671),V=v(3144),S=v(9808),d=v(1891);function D(e,i,n,t){return new(n||(n=Promise))(function(o,u){function h(a){try{p(t.next(a))}catch(b){u(b)}}function C(a){try{p(t.throw(a))}catch(b){u(b)}}function p(a){a.done?o(a.value):function r(o){return o instanceof n?o:new n(function(u){u(o)})}(a.value).then(h,C)}p((t=t.apply(e,i||[])).next())})}var ft=v(2313),wt=v(2654),st=v(3753),pt=v(13),mt=v(3075);function et(){et=function(){return e};var e={},i=Object.prototype,n=i.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.asyncIterator||"@@asyncIterator",u=t.toStringTag||"@@toStringTag";function h(f,s,y){return Object.defineProperty(f,s,{value:y,enumerable:!0,configurable:!0,writable:!0}),f[s]}try{h({},"")}catch(f){h=function(y,_,w){return y[_]=w}}function C(f,s,y,_){var W,z,M,I,O=Object.create((s&&s.prototype instanceof b?s:b).prototype),P=new $(_||[]);return O._invoke=(W=f,z=y,M=P,I="suspendedStart",function(q,Et){if("executing"===I)throw new Error("Generator is already running");if("completed"===I){if("throw"===q)throw Et;return{value:void 0,done:!0}}for(M.method=q,M.arg=Et;;){var _t=M.delegate;if(_t){var ct=Q(_t,M);if(ct){if(ct===a)continue;return ct}}if("next"===M.method)M.sent=M._sent=M.arg;else if("throw"===M.method){if("suspendedStart"===I)throw I="completed",M.arg;M.dispatchException(M.arg)}else"return"===M.method&&M.abrupt("return",M.arg);I="executing";var nt=p(W,z,M);if("normal"===nt.type){if(I=M.done?"completed":"suspendedYield",nt.arg===a)continue;return{value:nt.arg,done:M.done}}"throw"===nt.type&&(I="completed",M.method="throw",M.arg=nt.arg)}}),O}function p(f,s,y){try{return{type:"normal",arg:f.call(s,y)}}catch(_){return{type:"throw",arg:_}}}e.wrap=C;var a={};function b(){}function g(){}function E(){}var L={};h(L,r,function(){return this});var A=Object.getPrototypeOf,x=A&&A(A(ut([])));x&&x!==i&&n.call(x,r)&&(L=x);var N=E.prototype=b.prototype=Object.create(L);function k(f){["next","throw","return"].forEach(function(s){h(f,s,function(y){return this._invoke(s,y)})})}function R(f,s){function y(w,O,P,W){var z=p(f[w],f,O);if("throw"!==z.type){var M=z.arg,I=M.value;return I&&"object"==typeof I&&n.call(I,"__await")?s.resolve(I.__await).then(function(q){y("next",q,P,W)},function(q){y("throw",q,P,W)}):s.resolve(I).then(function(q){M.value=q,P(M)},function(q){return y("throw",q,P,W)})}W(z.arg)}var _;this._invoke=function(w,O){function P(){return new s(function(W,z){y(w,O,W,z)})}return _=_?_.then(P,P):P()}}function Q(f,s){var y=f.iterator[s.method];if(void 0===y){if(s.delegate=null,"throw"===s.method){if(f.iterator.return&&(s.method="return",s.arg=void 0,Q(f,s),"throw"===s.method))return a;s.method="throw",s.arg=new TypeError("The iterator does not provide a 'throw' method")}return a}var _=p(y,f.iterator,s.arg);if("throw"===_.type)return s.method="throw",s.arg=_.arg,s.delegate=null,a;var w=_.arg;return w?w.done?(s[f.resultName]=w.value,s.next=f.nextLoc,"return"!==s.method&&(s.method="next",s.arg=void 0),s.delegate=null,a):w:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,a)}function X(f){var s={tryLoc:f[0]};1 in f&&(s.catchLoc=f[1]),2 in f&&(s.finallyLoc=f[2],s.afterLoc=f[3]),this.tryEntries.push(s)}function tt(f){var s=f.completion||{};s.type="normal",delete s.arg,f.completion=s}function $(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(X,this),this.reset(!0)}function ut(f){if(f){var s=f[r];if(s)return s.call(f);if("function"==typeof f.next)return f;if(!isNaN(f.length)){var y=-1,_=function w(){for(;++y<f.length;)if(n.call(f,y))return w.value=f[y],w.done=!1,w;return w.value=void 0,w.done=!0,w};return _.next=_}}return{next:yt}}function yt(){return{value:void 0,done:!0}}return g.prototype=E,h(N,"constructor",E),h(E,"constructor",g),g.displayName=h(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(f){var s="function"==typeof f&&f.constructor;return!!s&&(s===g||"GeneratorFunction"===(s.displayName||s.name))},e.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,E):(f.__proto__=E,h(f,u,"GeneratorFunction")),f.prototype=Object.create(N),f},e.awrap=function(f){return{__await:f}},k(R.prototype),h(R.prototype,o,function(){return this}),e.AsyncIterator=R,e.async=function(f,s,y,_,w){void 0===w&&(w=Promise);var O=new R(C(f,s,y,_),w);return e.isGeneratorFunction(s)?O:O.next().then(function(P){return P.done?P.value:O.next()})},k(N),h(N,u,"Generator"),h(N,r,function(){return this}),h(N,"toString",function(){return"[object Generator]"}),e.keys=function(f){var s=[];for(var y in f)s.push(y);return s.reverse(),function _(){for(;s.length;){var w=s.pop();if(w in f)return _.value=w,_.done=!1,_}return _.done=!0,_}},e.values=ut,$.prototype={constructor:$,reset:function(s){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(tt),!s)for(var y in this)"t"===y.charAt(0)&&n.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var s=this.tryEntries[0].completion;if("throw"===s.type)throw s.arg;return this.rval},dispatchException:function(s){if(this.done)throw s;var y=this;function _(M,I){return P.type="throw",P.arg=s,y.next=M,I&&(y.method="next",y.arg=void 0),!!I}for(var w=this.tryEntries.length-1;w>=0;--w){var O=this.tryEntries[w],P=O.completion;if("root"===O.tryLoc)return _("end");if(O.tryLoc<=this.prev){var W=n.call(O,"catchLoc"),z=n.call(O,"finallyLoc");if(W&&z){if(this.prev<O.catchLoc)return _(O.catchLoc,!0);if(this.prev<O.finallyLoc)return _(O.finallyLoc)}else if(W){if(this.prev<O.catchLoc)return _(O.catchLoc,!0)}else{if(!z)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return _(O.finallyLoc)}}}},abrupt:function(s,y){for(var _=this.tryEntries.length-1;_>=0;--_){var w=this.tryEntries[_];if(w.tryLoc<=this.prev&&n.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var O=w;break}}O&&("break"===s||"continue"===s)&&O.tryLoc<=y&&y<=O.finallyLoc&&(O=null);var P=O?O.completion:{};return P.type=s,P.arg=y,O?(this.method="next",this.next=O.finallyLoc,a):this.complete(P)},complete:function(s,y){if("throw"===s.type)throw s.arg;return"break"===s.type||"continue"===s.type?this.next=s.arg:"return"===s.type?(this.rval=this.arg=s.arg,this.method="return",this.next="end"):"normal"===s.type&&y&&(this.next=y),a},finish:function(s){for(var y=this.tryEntries.length-1;y>=0;--y){var _=this.tryEntries[y];if(_.finallyLoc===s)return this.complete(_.completion,_.afterLoc),tt(_),a}},catch:function(s){for(var y=this.tryEntries.length-1;y>=0;--y){var _=this.tryEntries[y];if(_.tryLoc===s){var w=_.completion;if("throw"===w.type){var O=w.arg;tt(_)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(s,y,_){return this.delegate={iterator:ut(s),resultName:y,nextLoc:_},"next"===this.method&&(this.arg=void 0),a}},e}var Ot=[[["","quill-editor-toolbar",""]]],Lt=["[quill-editor-toolbar]"],lt={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},at=function(i,n){return i||n||"html"},vt=new d.OlP("config",{providedIn:"root",factory:function(){return{modules:lt}}}),gt=function(){var e=function(){function i(n,t){(0,U.Z)(this,i),this.config=t,this.count=0,this.document=n.get(S.K0),this.config||(this.config={modules:lt})}return(0,V.Z)(i,[{key:"getQuill",value:function(){var t=this;return this.count++,!this.Quill&&1===this.count&&(this.$importPromise=new Promise(function(r){return D(t,void 0,void 0,et().mark(function o(){var h,C,p,a,u=this;return et().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return p=this.document.addEventListener,this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener,g.next=4,v.e(971).then(v.t.bind(v,9971,19));case 4:a=g.sent,this.document.addEventListener=p,this.Quill=a.default?a.default:a,null===(h=this.config.customOptions)||void 0===h||h.forEach(function(E){var L=u.Quill.import(E.import);L.whitelist=E.whitelist,u.Quill.register(L,!0,u.config.suppressGlobalRegisterWarning)}),null===(C=this.config.customModules)||void 0===C||C.forEach(function(E){u.Quill.register(E.path,E.implementation,u.config.suppressGlobalRegisterWarning)}),r(this.Quill);case 10:case"end":return g.stop()}},o,this)}))})),this.$importPromise}}]),i}();return e.\u0275fac=function(n){return new(n||e)(d.LFG(d.zs3),d.LFG(vt,8))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),St=function(){var e=function(){function i(n,t,r,o,u,h,C,p){var a=this;(0,U.Z)(this,i),this.elementRef=t,this.cd=r,this.domSanitizer=o,this.platformId=u,this.renderer=h,this.zone=C,this.service=p,this.required=!1,this.customToolbarPosition="top",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new d.vpe,this.onEditorChanged=new d.vpe,this.onContentChanged=new d.vpe,this.onSelectionChanged=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.disabled=!1,this.subscription=null,this.valueGetter=function(b,g){var E=g.querySelector(".ql-editor").innerHTML;("<p><br></p>"===E||"<div><br></div>"===E)&&(E=a.defaultEmptyValue);var L=E,A=at(a.format,a.service.config.format);if("text"===A)L=b.getText();else if("object"===A)L=b.getContents();else if("json"===A)try{L=JSON.stringify(b.getContents())}catch(x){L=b.getText()}return L},this.valueSetter=function(b,g){var E=at(a.format,a.service.config.format);if("html"===E)return a.sanitize&&(g=a.domSanitizer.sanitize(d.q3G.HTML,g)),b.clipboard.convert(g);if("json"===E)try{return JSON.parse(g)}catch(L){return[{insert:g}]}return g},this.selectionChangeHandler=function(b,g,E){var L=!b&&!!a.onModelTouched;!a.onBlur.observers.length&&!a.onFocus.observers.length&&!a.onSelectionChanged.observers.length&&!L||a.zone.run(function(){null===b?a.onBlur.emit({editor:a.quillEditor,source:E}):null===g&&a.onFocus.emit({editor:a.quillEditor,source:E}),a.onSelectionChanged.emit({editor:a.quillEditor,oldRange:g,range:b,source:E}),L&&a.onModelTouched(),a.cd.markForCheck()})},this.textChangeHandler=function(b,g,E){var L=a.quillEditor.getText(),A=a.quillEditor.getContents(),x=a.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===x||"<div><br></div>"===x)&&(x=a.defaultEmptyValue);var N=a.trackChanges||a.service.config.trackChanges,k=("user"===E||N&&"all"===N)&&!!a.onModelChange;!a.onContentChanged.observers.length&&!k||a.zone.run(function(){k&&a.onModelChange(a.valueGetter(a.quillEditor,a.editorElem)),a.onContentChanged.emit({content:A,delta:b,editor:a.quillEditor,html:x,oldDelta:g,source:E,text:L}),a.cd.markForCheck()})},this.editorChangeHandler=function(b,g,E,L){if(a.onEditorChanged.observers.length)if("text-change"===b){var A=a.quillEditor.getText(),x=a.quillEditor.getContents(),N=a.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===N||"<div><br></div>"===N)&&(N=a.defaultEmptyValue),a.zone.run(function(){a.onEditorChanged.emit({content:x,delta:g,editor:a.quillEditor,event:b,html:N,oldDelta:E,source:L,text:A}),a.cd.markForCheck()})}else a.zone.run(function(){a.onEditorChanged.emit({editor:a.quillEditor,event:b,oldRange:E,range:g,source:L}),a.cd.markForCheck()})},this.document=n.get(S.K0)}return(0,V.Z)(i,[{key:"ngAfterViewInit",value:function(){return D(this,void 0,void 0,et().mark(function t(){var o,u,h,C,p,a,b,g,E,L,x,r=this;return et().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!(0,S.PM)(this.platformId)){k.next=2;break}return k.abrupt("return");case 2:return k.next=4,this.service.getQuill();case 4:if(o=k.sent,this.elementRef.nativeElement.insertAdjacentHTML("top"===this.customToolbarPosition?"beforeend":"afterbegin",this.preserveWhitespace?"<pre quill-editor-element></pre>":"<div quill-editor-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]"),u=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),h=Object.assign({},this.modules||this.service.config.modules),u?h.toolbar=u:void 0===h.toolbar&&(h.toolbar=lt.toolbar),void 0===(C=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder)&&(C="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(function(R){r.renderer.setStyle(r.editorElem,R,r.styles[R])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(function(R){var Q=o.import(R.import);Q.whitelist=R.whitelist,o.register(Q,!0)}),this.customModules.forEach(function(R){o.register(R.path,R.implementation)}),(p=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds)||(p=this.service.config.bounds?this.service.config.bounds:this.document.body),!(a=this.debug)&&!1!==a&&this.service.config.debug&&(a=this.service.config.debug),!(b=this.readOnly)&&!1!==this.readOnly&&(b=void 0!==this.service.config.readOnly&&this.service.config.readOnly),g=this.defaultEmptyValue,this.service.config.hasOwnProperty("defaultEmptyValue")&&(g=this.service.config.defaultEmptyValue),!(E=this.scrollingContainer)&&null!==this.scrollingContainer&&(E=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null),!(L=this.formats)&&void 0===L&&(L=this.service.config.formats?(0,B.Z)(this.service.config.formats):null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(function(){var R,Q,X;if(r.quillEditor=new o(r.editorElem,{bounds:p,debug:a,formats:L,modules:h,placeholder:C,readOnly:b,defaultEmptyValue:g,scrollingContainer:E,strict:r.strict,theme:r.theme||(r.service.config.theme?r.service.config.theme:"snow")}),r.linkPlaceholder){var tt=null===(Q=null===(R=r.quillEditor)||void 0===R?void 0:R.theme)||void 0===Q?void 0:Q.tooltip,$=null===(X=null==tt?void 0:tt.root)||void 0===X?void 0:X.querySelector("input[data-link]");(null==$?void 0:$.dataset)&&($.dataset.link=r.linkPlaceholder)}}),this.content&&("text"===at(this.format,this.service.config.format)?this.quillEditor.setText(this.content,"silent"):(x=this.valueSetter(this.quillEditor,this.content),this.quillEditor.setContents(x,"silent")),this.quillEditor.getModule("history").clear()),this.setDisabledState(),this.addQuillEventListeners(),this.onEditorCreated.observers.length||this.onValidatorChanged){k.next=34;break}return k.abrupt("return");case 34:requestAnimationFrame(function(){r.onValidatorChanged&&r.onValidatorChanged(),r.onEditorCreated.emit(r.quillEditor)});case 35:case"end":return k.stop()}},t,this)}))}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"ngOnChanges",value:function(t){var r=this;if(this.quillEditor){if(t.readOnly&&this.quillEditor.enable(!t.readOnly.currentValue),t.placeholder&&(this.quillEditor.root.dataset.placeholder=t.placeholder.currentValue),t.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=t.defaultEmptyValue.currentValue),t.styles){var o=t.styles.currentValue,u=t.styles.previousValue;u&&Object.keys(u).forEach(function(p){r.renderer.removeStyle(r.editorElem,p)}),o&&Object.keys(o).forEach(function(p){r.renderer.setStyle(r.editorElem,p,r.styles[p])})}if(t.classes){var h=t.classes.currentValue,C=t.classes.previousValue;C&&this.removeClasses(C),h&&this.addClasses(h)}t.debounceTime&&this.addQuillEventListeners()}}},{key:"addClasses",value:function(t){var r=this;i.normalizeClassNames(t).forEach(function(o){r.renderer.addClass(r.editorElem,o)})}},{key:"removeClasses",value:function(t){var r=this;i.normalizeClassNames(t).forEach(function(o){r.renderer.removeClass(r.editorElem,o)})}},{key:"writeValue",value:function(t){if((!this.filterNull||null!==t)&&(this.content=t,this.quillEditor)){var r=at(this.format,this.service.config.format),o=this.valueSetter(this.quillEditor,t);if(this.compareValues){var u=this.quillEditor.getContents();if(JSON.stringify(u)===JSON.stringify(o))return}if(t)return void("text"===r?this.quillEditor.setText(t):this.quillEditor.setContents(o));this.quillEditor.setText("")}}},{key:"setDisabledState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.disabled;this.disabled=t,this.quillEditor&&(t?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}},{key:"registerOnChange",value:function(t){this.onModelChange=t}},{key:"registerOnTouched",value:function(t){this.onModelTouched=t}},{key:"registerOnValidatorChange",value:function(t){this.onValidatorChanged=t}},{key:"validate",value:function(){if(!this.quillEditor)return null;var t={},r=!0,o=this.quillEditor.getText(),u=this.trimOnValidation?o.trim().length:1===o.length&&0===o.trim().length?0:o.length-1,h=this.quillEditor.getContents().ops,C=h&&1===h.length&&["\n",""].includes(h[0].insert);return this.minLength&&u&&u<this.minLength&&(t.minLengthError={given:u,minLength:this.minLength},r=!1),this.maxLength&&u>this.maxLength&&(t.maxLengthError={given:u,maxLength:this.maxLength},r=!1),this.required&&!u&&C&&(t.requiredError={empty:!0},r=!1),r?null:t}},{key:"addQuillEventListeners",value:function(){var t=this;this.dispose(),this.zone.runOutsideAngular(function(){t.subscription=new wt.w,t.subscription.add((0,st.R)(t.quillEditor,"selection-change").subscribe(function(u){var h=(0,l.Z)(u,3);t.selectionChangeHandler(h[0],h[1],h[2])}));var r=(0,st.R)(t.quillEditor,"text-change"),o=(0,st.R)(t.quillEditor,"editor-change");"number"==typeof t.debounceTime&&(r=r.pipe((0,pt.b)(t.debounceTime)),o=o.pipe((0,pt.b)(t.debounceTime))),t.subscription.add(r.subscribe(function(u){var h=(0,l.Z)(u,3);t.textChangeHandler(h[0],h[1],h[2])})),t.subscription.add(o.subscribe(function(u){var h=(0,l.Z)(u,4);t.editorChangeHandler(h[0],h[1],h[2],h[3])}))})}},{key:"dispose",value:function(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}],[{key:"normalizeClassNames",value:function(t){return t.trim().split(" ").reduce(function(o,u){var h=u.trim();return h&&o.push(h),o},[])}}]),i}();return e.\u0275fac=function(n){return new(n||e)(d.Y36(d.zs3),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(ft.H7),d.Y36(d.Lbi),d.Y36(d.Qsj),d.Y36(d.R0b),d.Y36(gt))},e.\u0275dir=d.lG2({type:e,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[d.TTD]}),e}(),Mt=function(){var e=function(i){(0,G.Z)(t,i);var n=(0,Y.Z)(t);function t(r,o,u,h,C,p,a,b){return(0,U.Z)(this,t),n.call(this,r,o,u,h,C,p,a,b)}return(0,V.Z)(t)}(St);return e.\u0275fac=function(n){return new(n||e)(d.Y36(d.zs3),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(ft.H7),d.Y36(d.Lbi),d.Y36(d.Qsj),d.Y36(d.R0b),d.Y36(gt))},e.\u0275cmp=d.Xpm({type:e,selectors:[["quill-editor"]],features:[d._Bn([{multi:!0,provide:mt.JU,useExisting:(0,d.Gpc)(function(){return e})},{multi:!0,provide:mt.Cf,useExisting:(0,d.Gpc)(function(){return e})}]),d.qOj],ngContentSelectors:Lt,decls:1,vars:0,template:function(n,t){1&n&&(d.F$t(Ot),d.Hsn(0))},styles:[":host{display:inline-block}\n"],encapsulation:2}),e}(),Tt=function(){var e=function(){function i(){(0,U.Z)(this,i)}return(0,V.Z)(i,null,[{key:"forRoot",value:function(t){return{ngModule:i,providers:[{provide:vt,useValue:t}]}}}]),i}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[S.ez]]}),e}()}}]);