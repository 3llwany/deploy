{"version":3,"file":"src_app_assistant_assistant_module_ts.js","mappings":"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","sources":["./src/app/assistant/assistant-routing.module.ts","./src/app/assistant/assistant.module.ts","./src/app/assistant/pages/chats/chats.component.ts","./src/app/assistant/pages/chats/chats.component.html"],"sourcesContent":["import { ChatsComponent } from \"./pages/chats/chats.component\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"chat\",\r\n    component: ChatsComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AssistantRoutingModule {}\r\n","import { ReactiveFormsModule } from \"@angular/forms\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { MaterialModule } from \"./../shared/material/material.module\";\r\nimport { SharedModule } from \"app/shared/shared.module\";\r\nimport { NgxSpinnerModule } from \"ngx-spinner\";\r\nimport { NgxPaginationModule } from \"ngx-pagination\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\n\r\nimport { AssistantRoutingModule } from \"./assistant-routing.module\";\r\nimport { ChatsComponent } from \"./pages/chats/chats.component\";\r\n\r\n@NgModule({\r\n  declarations: [ChatsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AssistantRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgxPaginationModule,\r\n    NgxSpinnerModule,\r\n    SharedModule,\r\n    MaterialModule,\r\n  ],\r\n})\r\nexport class AssistantModule {}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmDialogComponent } from \"app/shared/components/dialogs/confirm-dialog/confirm-dialog.component\";\r\nimport { DeleteDialogComponent } from \"app/shared/components/dialogs/delete-dialog/delete-dialog.component\";\r\nimport { GeneralService } from \"app/shared/services/General/general.service\";\r\nimport { FileService } from \"app/shared/services/General/upload-file.service\";\r\nimport { MsgsVM, MsgReplayVM } from \"app/student/models/ask-teacher\";\r\nimport { AskTeacherService } from \"app/student/services/AskTeacher.service\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { ToastrService } from \"ngx-toastr\";\r\n\r\n@Component({\r\n\tselector: \"app-chats\",\r\n\ttemplateUrl: \"./chats.component.html\",\r\n\tstyleUrls: [\"./chats.component.scss\"],\r\n})\r\nexport class ChatsComponent implements OnInit {\r\n\t//Pagination vars\r\n\topenPages: number = 1;\r\n\tclosedPages: number = 1;\r\n\tmaxsize = 5;\r\n\r\n\t//Opend Msgs List\r\n\topendMsgs: MsgsVM[] = [];\r\n\topenMsgsCount: any;\r\n\r\n\t// Closed Msgs List\r\n\tclosedMsgs: MsgsVM[] = [];\r\n\tclosedMgsCount: any;\r\n\r\n\tMsgReplaies: MsgReplayVM[] = []; //List of replaies For an Msg\r\n\tTeacherSubjectIds: any;\r\n\tParentReplyId?: number;\r\n\tcurrentMsgUserData?: MsgsVM;\r\n\tselectedMsgToReplay: MsgsVM = null;\r\n\r\n\t// Current User Vars\r\n\tcurrentUserPicPath: any;\r\n\tar_name: any;\r\n\tcurrentUserId: any;\r\n\r\n\tattachecFilePath: any = null;\r\n\tmyForm!: FormGroup;\r\n\tisContentOverlay = false;\r\n\r\n\tconstructor(\r\n\t\tprivate fb: FormBuilder,\r\n\t\tprivate AskTeacherServ: AskTeacherService,\r\n\t\tprivate GeneralServ: GeneralService,\r\n\t\tprivate toaster: ToastrService,\r\n\t\tpublic fileService: FileService,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate router: Router,\r\n\t\tpublic dialog: MatDialog,\r\n\t\tprivate spinner: NgxSpinnerService\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.myForm = this.fb.group({\r\n\t\t\tthreadId: [null, Validators.required],\r\n\t\t\tTeacherSubjectIds: [[], Validators.required],\r\n\t\t\tParentReplyId: [null],\r\n\t\t\tAttach: [null],\r\n\t\t\tReplyText: [\"\"],\r\n\t\t});\r\n\r\n\t\tthis.getTeacherSubjectIds();\r\n\t\tthis.returnProfile();\r\n\t}\r\n\r\n\tget FormCtrl() {\r\n\t\treturn this.myForm.controls;\r\n\t}\r\n\r\n\tgetTeacherSubjectIds() {\r\n\t\tthis.AskTeacherServ.getTeacherSubjectIds().subscribe((res: any) => {\r\n\t\t\tif (res) {\r\n\t\t\t\t//  console.log(\"TeacherSubjectIds\", res);\r\n\t\t\t\tthis.FormCtrl.TeacherSubjectIds.setValue(res);\r\n\t\t\t\tthis.getOpenedMsgs();\r\n\t\t\t\tthis.getClosedMsgs();\r\n\t\t\t}\r\n\t\t\tthis.spinner.hide();\r\n\t\t});\r\n\t}\r\n\r\n\t// Return opend msgs\r\n\tgetOpenedMsgs() {\r\n\t\tthis.spinner.show();\r\n\t\tthis.AskTeacherServ.getTeacherOpenedClosedMsgs(\r\n\t\t\tthis.openPages,\r\n\t\t\ttrue,\r\n\t\t\tthis.FormCtrl.TeacherSubjectIds.value\r\n\t\t).subscribe((res: any) => {\r\n\t\t\t// console.log(\"OpenedMsgs\", res);\r\n\t\t\tthis.opendMsgs = res.messageThreads;\r\n\t\t\tthis.openMsgsCount = res.itemsCount;\r\n\t\t\tthis.spinner.hide();\r\n\t\t});\r\n\t}\r\n\r\n\t// Return Closed msgs\r\n\tgetClosedMsgs() {\r\n\t\tthis.spinner.show();\r\n\t\tthis.AskTeacherServ.getTeacherOpenedClosedMsgs(\r\n\t\t\tthis.closedPages,\r\n\t\t\tfalse,\r\n\t\t\tthis.FormCtrl.TeacherSubjectIds.value\r\n\t\t).subscribe((res: any) => {\r\n\t\t\t//console.log(\"ClosedMsgs\", res);\r\n\t\t\tthis.closedMsgs = res.messageThreads;\r\n\t\t\tthis.closedMgsCount = res.itemsCount;\r\n\t\t\tthis.spinner.hide();\r\n\t\t});\r\n\t}\r\n\r\n\tgetMsgReplaies(msgId: any) {\r\n\t\tthis.spinner.show();\r\n\t\tthis.AskTeacherServ.getTeacherMsgReplaies(msgId).subscribe((res: any) => {\r\n\t\t\tthis.MsgReplaies = res.replies;\r\n\t\t\t// console.log('getMsgReplaies', res);\r\n\t\t\t// setTimeout(function () {\r\n\t\t\t//   $(\".chat-box .chat-body\").animate(\r\n\t\t\t//     { scrollTop: $(\".chat-box .chat-body\").prop(\"scrollHeight\") },\r\n\t\t\t//     1000\r\n\t\t\t//   );\r\n\t\t\t// }, 1000);\r\n\r\n\t\t\tthis.spinner.hide();\r\n\t\t});\r\n\t}\r\n\r\n\tReplayToMessage() {\r\n\t\tthis.spinner.show();\r\n\t\tif (this.myForm.valid) {\r\n\t\t\tthis.AskTeacherServ.SendMessage(this.myForm.value).subscribe((res: any) => {\r\n\t\t\t\t// console.log('ReplayToMessage', res);\r\n\t\t\t\tif (res.returnString == \"Success\") {\r\n\t\t\t\t\tthis.getMsgReplaies(this.FormCtrl.threadId.value);\r\n\t\t\t\t\tthis.FormCtrl.ReplyText.reset();\r\n\t\t\t\t\tthis.FormCtrl.Attach.reset();\r\n\t\t\t\t\tthis.escpreview();\r\n\t\t\t\t\t// $(\".chat-box .chat-body\").animate(\r\n\t\t\t\t\t//   { scrollTop: $(\".chat-box .chat-body\").prop(\"scrollHeight\") },\r\n\t\t\t\t\t//   1000\r\n\t\t\t\t\t// );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.toaster.error(res.returnString);\r\n\t\t\t\t}\r\n\t\t\t\tthis.spinner.hide();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcloseMsg(msgId: any) {\r\n\t\tthis.spinner.show();\r\n\t\tthis.AskTeacherServ.closeMsg(msgId).subscribe((res: any) => {\r\n\t\t\t//  console.log('closeMsg', res);\r\n\t\t\tif (res.returnValue == 1) {\r\n\t\t\t\tthis.toaster.success(\"تم اغلاق الرسالة\");\r\n\t\t\t\tthis.currentMsgUserData!.Opened = !this.currentMsgUserData.Opened;\r\n\t\t\t\tthis.getOpenedMsgs();\r\n\t\t\t\tthis.getClosedMsgs();\r\n\t\t\t}\r\n\t\t\tthis.spinner.hide();\r\n\t\t});\r\n\t}\r\n\r\n\tremoveReply(msgId: number) {\r\n\t\tthis.spinner.show();\r\n\t\tthis.AskTeacherServ.removeReply(msgId).subscribe((res: any) => {\r\n\t\t\t//  console.log('removeReply', res);\r\n\t\t\tif (res.returnValue == 1) {\r\n\t\t\t\tthis.toaster.success(\"تم حذف الرسالة\");\r\n\t\t\t\tthis.getMsgReplaies(this.FormCtrl.threadId.value);\r\n\t\t\t}\r\n\t\t\tthis.spinner.hide();\r\n\t\t});\r\n\t}\r\n\r\n\tselectMsg(msg: MsgsVM) {\r\n\t\tif (this.FormCtrl.threadId.value != msg.Id) {\r\n\t\t\tthis.MsgReplaies = [];\r\n\t\t}\r\n\t\tthis.getMsgReplaies(msg.Id);\r\n\t\tthis.currentMsgUserData = msg;\r\n\t\tconsole.log(\"selectMsg\", msg);\r\n\t\tthis.FormCtrl.threadId.setValue(msg.Id);\r\n\r\n\t\t// $(\".chat-box .chat-body\").animate(\r\n\t\t//   { scrollTop: $(\".chat-box .chat-body\").prop(\"scrollHeight\") },\r\n\t\t//   1000\r\n\t\t// );\r\n\t}\r\n\r\n\tgetParentReplyId(msg: MsgsVM) {\r\n\t\tthis.FormCtrl.ParentReplyId.setValue(msg.Id);\r\n\t\tthis.selectedMsgToReplay = msg;\r\n\t\tif (msg) {\r\n\t\t\tconsole.log(\"ParentReplyIdMsg\", msg);\r\n\t\t}\r\n\t\tconsole.log(this.myForm.value);\r\n\t}\r\n\r\n\t//Start: Return Profile Data\r\n\treturnProfile() {\r\n\t\tthis.spinner.show();\r\n\t\tthis.GeneralServ.returnProfile().subscribe((res: any) => {\r\n\t\t\tthis.currentUserId = res.user.user_ID;\r\n\t\t\tthis.ar_name = res.user.ar_name;\r\n\t\t\tthis.currentUserPicPath = res.picturePath;\r\n\t\t\tthis.spinner.hide();\r\n\t\t});\r\n\t}\r\n\r\n\tescpreview() {\r\n\t\tthis.FormCtrl.Attach.setValue(null);\r\n\t\tthis.FormCtrl.ParentReplyId.setValue(\"\");\r\n\t\tthis.selectedMsgToReplay = null;\r\n\t\tthis.attachecFilePath = null;\r\n\t}\r\n\r\n\ttrack(index: number, el: any): number {\r\n\t\treturn el.Id;\r\n\t}\r\n\r\n\tattacheReplayPic(event: any) {\r\n\t\tlet fileName = <File>event.target.files[0].name;\r\n\t\tlet fileSize = <File>event.target.files[0].size;\r\n\t\tlet fileType = <File>event.target.files[0].type;\r\n\t\tlet LastModified = <File>event.target.files[0].lastModified;\r\n\t\tlet LastModifiedDate = <File>event.target.files[0].lastModifiedDate;\r\n\r\n\t\tif (event.target.files) {\r\n\t\t\tvar reader = new FileReader();\r\n\t\t\treader.readAsDataURL(event.target.files[0]);\r\n\t\t\treader.onload = (event: any) => {\r\n\t\t\t\tlet fileReder = event.target.result;\r\n\t\t\t\tthis.attachecFilePath = fileReder;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tFileAsBase64: fileReder,\r\n\t\t\t\t\tname: fileName,\r\n\t\t\t\t\tsize: fileSize,\r\n\t\t\t\t\ttype: fileType,\r\n\t\t\t\t\tLastModified: LastModified,\r\n\t\t\t\t\tLastModifiedDate: LastModifiedDate,\r\n\t\t\t\t};\r\n\t\t\t\tthis.FormCtrl.Attach.setValue(data);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tonSidebarToggle() {\r\n\t\tthis.isContentOverlay = true;\r\n\t}\r\n\r\n\tonContentOverlay() {\r\n\t\tthis.isContentOverlay = false;\r\n\t}\r\n\r\n\topenDeleteDialog(msg: MsgReplayVM): void {\r\n\t\tconst dialogRef = this.dialog.open(DeleteDialogComponent, {\r\n\t\t\tdata: {\r\n\t\t\t\ttitle: \"General.ConfirmDelete\",\r\n\t\t\t\tmsg: msg.Message,\r\n\t\t\t},\r\n\t\t});\r\n\t\tdialogRef.afterClosed().subscribe((confirm) => {\r\n\t\t\tif (confirm) this.removeReply(msg.Id);\r\n\t\t});\r\n\t}\r\n\r\n\topenConfirmDialog(msgId: number): void {\r\n\t\tconst dialogRef = this.dialog.open(ConfirmDialogComponent, {\r\n\t\t\tdata: {\r\n\t\t\t\ttitle: \"General.ConfirmCloseMsg\",\r\n\t\t\t\tbtn: \"General.Confirm\",\r\n\t\t\t},\r\n\t\t});\r\n\t\tdialogRef.afterClosed().subscribe((confirm) => {\r\n\t\t\tif (confirm) this.closeMsg(msgId);\r\n\t\t});\r\n\t}\r\n}\r\n","<ngx-spinner></ngx-spinner>\r\n<div class=\"chat-application overflow-hidden\">\r\n\t<div\r\n\t\tclass=\"app-content-overlay\"\r\n\t\t#contentOverlay\r\n\t\tclass=\"app-content-overlay\"\r\n\t\t[ngClass]=\"{ show: isContentOverlay }\"\r\n\t\t(click)=\"onContentOverlay()\"\r\n\t></div>\r\n\t<!-- Left Col: Msgs List-->\r\n\t<div class=\"chat-sidebar d-md-block\" #chatSidebar>\r\n\t\t<span class=\"sidebar-close-icon d-md-none\" (click)=\"isContentOverlay = false\">\r\n\t\t\t<i class=\"ft-x\"></i>\r\n\t\t</span>\r\n\t\t<div class=\"chat-sidebar-content\">\r\n\t\t\t<mat-tab-group>\r\n\t\t\t\t<!-- Opend Msgs List -->\r\n\t\t\t\t<mat-tab label=\"{{ 'labels.Opend' | translate }}\">\r\n\t\t\t\t\t<div id=\"users-list\" class=\"list-group\">\r\n\t\t\t\t\t\t<div class=\"users-list-padding position-relative\">\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\"list-group-item\"\r\n\t\t\t\t\t\t\t\t*ngFor=\"\r\n\t\t\t\t\t\t\t\t\tlet msg of opendMsgs\r\n\t\t\t\t\t\t\t\t\t\t| paginate\r\n\t\t\t\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemsPerPage: 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentPage: openPages,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotalItems: openMsgsCount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'opend'\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t(click)=\"selectMsg(msg)\"\r\n\t\t\t\t\t\t\t\tid=\"msg-{{ msg.Id }}\"\r\n\t\t\t\t\t\t\t\t[ngClass]=\"{\r\n\t\t\t\t\t\t\t\t\t'selected-chat': msg.Id == FormCtrl.threadId.value\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"media align-items-center py-1\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"avatar avatar-md mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t<img [src]=\"fileService.previewPicture(currentUserPicPath)\" alt=\"Avatar\" />\r\n\r\n\t\t\t\t\t\t\t\t\t\t<!-- <span class=\"avatar-status-online\"></span> -->\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<div class=\"media-body\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 class=\"list-group-item-heading mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ msg.ar_name }}\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-small-2 float-right grey darken-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ msg.ThreadUpdateDate | date : \"dd/MM/yyyy\" }} -\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ msg.ThreadUpdateDate | Time }}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"list-group-item-text grey darken-2 m-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <i class=\"ft-check primary font-small-2 mr-1\"></i> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{{ msg.ThreadText }}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <span class=\"float-right primary\"></span> -->\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<div class=\"pagination-box\" *ngIf=\"opendMsgs?.length > 5\">\r\n\t\t\t\t\t\t\t\t<pagination-controls\r\n\t\t\t\t\t\t\t\t\tdir=\"ltr\"\r\n\t\t\t\t\t\t\t\t\t(pageChange)=\"p = $event; getOpenedMsgs(p, TeacherSubjectId)\"\r\n\t\t\t\t\t\t\t\t\tpreviousLabel=\"\"\r\n\t\t\t\t\t\t\t\t\tnextLabel=\"\"\r\n\t\t\t\t\t\t\t\t\tid=\"opend\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</pagination-controls>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</mat-tab>\r\n\t\t\t\t<!-- Closed Msgs List -->\r\n\t\t\t\t<mat-tab label=\"{{ 'labels.Closed' | translate }}\">\r\n\t\t\t\t\t<div id=\"users-list\" class=\"list-group\">\r\n\t\t\t\t\t\t<div class=\"users-list-padding position-relative\">\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\"list-group-item\"\r\n\t\t\t\t\t\t\t\t*ngFor=\"\r\n\t\t\t\t\t\t\t\t\tlet msg of closedMsgs\r\n\t\t\t\t\t\t\t\t\t\t| paginate\r\n\t\t\t\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemsPerPage: 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentPage: closedPages,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotalItems: openMsgsCount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'closed'\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t(click)=\"selectMsg(msg)\"\r\n\t\t\t\t\t\t\t\tid=\"msg-{{ msg.Id }}\"\r\n\t\t\t\t\t\t\t\t[ngClass]=\"{\r\n\t\t\t\t\t\t\t\t\t'selected-chat': msg.Id == FormCtrl.threadId.value\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"media align-items-center py-1\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"avatar avatar-md mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t<img [src]=\"fileService.previewPicture(currentUserPicPath)\" alt=\"Avatar\" />\r\n\t\t\t\t\t\t\t\t\t\t<!-- <span class=\"avatar-status-online\"></span> -->\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<div class=\"media-body\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 class=\"list-group-item-heading mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{{ msg.ar_name }}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-small-2 float-right grey darken-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ msg.ThreadUpdateDate | date : \"dd/MM/yyyy\" }} -\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ msg.ThreadUpdateDate | Time }}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"list-group-item-text grey darken-2 m-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <i class=\"ft-check primary font-small-2 mr-1\"></i> -->\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{{ msg.ThreadText }}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <span class=\"float-right primary\"></span> -->\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<div class=\"pagination-box\" *ngIf=\"closedMsgs?.length > 5\">\r\n\t\t\t\t\t\t\t\t<pagination-controls\r\n\t\t\t\t\t\t\t\t\tdir=\"ltr\"\r\n\t\t\t\t\t\t\t\t\t(pageChange)=\"p = $event; getClosedMsgs(p, TeacherSubjectId)\"\r\n\t\t\t\t\t\t\t\t\tpreviousLabel=\"\"\r\n\t\t\t\t\t\t\t\t\tnextLabel=\"\"\r\n\t\t\t\t\t\t\t\t\tid=\"closed\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</pagination-controls>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</mat-tab>\r\n\t\t\t</mat-tab-group>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<!-- Right Col: Chat content -->\r\n\t<!-- Top Header -->\r\n\t<div class=\"chat-name p-2\">\r\n\t\t<div class=\"media p-1 align-items-center\">\r\n\t\t\t<span\r\n\t\t\t\t(click)=\"onSidebarToggle()\"\r\n\t\t\t\tclass=\"chat-app-sidebar-toggle ft-menu font-medium-4 mr-3 d-block d-md-none\"\r\n\t\t\t>\r\n\t\t\t</span>\r\n\r\n\t\t\t<ng-container *ngIf=\"FormCtrl.threadId.value != null\">\r\n\t\t\t\t<div class=\"media-body\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc=\"{{ currentMsgUserData?.attach_path }}\"\r\n\t\t\t\t\t\twidth=\"37\"\r\n\t\t\t\t\t\tclass=\"avatar mr-1\"\r\n\t\t\t\t\t\talt=\"avatar\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{{ currentMsgUserData?.ar_name }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span class=\"badge bg-light-primary mb-1 mr-2\">\r\n\t\t\t\t\t\t{{ currentMsgUserData?.email }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span class=\"badge bg-light-primary mb-1 mr-2\">\r\n\t\t\t\t\t\t{{ currentMsgUserData?.subject_ar_name }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"position-relative float-right\">\r\n\t\t\t\t\t<span class=\"badge bg-light-success mb-1 mr-2\" *ngIf=\"currentMsgUserData?.Opened\">\r\n\t\t\t\t\t\t{{ \"labels.Opend\" | translate }}\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t<span class=\"badge bg-light-danger mb-1 mr-2\" *ngIf=\"!currentMsgUserData?.Opened\">\r\n\t\t\t\t\t\t{{ \"labels.Closed\" | translate }}\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"escprev\"\r\n\t\t\t\t\t\t(click)=\"openConfirmDialog(currentMsgUserData?.Id)\"\r\n\t\t\t\t\t\tmat-mini-fab\r\n\t\t\t\t\t\tcolor=\"warn\"\r\n\t\t\t\t\t\t[disabled]=\"!currentMsgUserData?.Opened\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<mat-icon>block</mat-icon>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</ng-container>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<section class=\"chat-app-window position-relative\">\r\n\t\t<div class=\"chats\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"chat\"\r\n\t\t\t\t*ngFor=\"let msg of MsgReplaies\"\r\n\t\t\t\t[ngClass]=\"{\r\n\t\t\t\t\t'chat-right': msg.userId == currentUserId,\r\n\t\t\t\t\t'chat-left': msg.userId != currentUserId,\r\n\t\t\t\t\t'msg-not-seen': !msg.isShown\r\n\t\t\t\t}\"\r\n\t\t\t\tid=\"replay-{{ msg.Id }}\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"chat-avatar\">\r\n\t\t\t\t\t<div class=\"avatar avatar-md\">\r\n\t\t\t\t\t\t<!-- user picture -->\r\n\t\t\t\t\t\t<img [src]=\"fileService.previewPicture(msg.UserprofilePicture)\" alt=\"avatar\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"chat-body\">\r\n\t\t\t\t\t<div class=\"chat-content\">\r\n\t\t\t\t\t\t<!-- username -->\r\n\t\t\t\t\t\t<p class=\"username\">\r\n\t\t\t\t\t\t\t{{ msg.Username }}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<!-- msg replay -->\r\n\t\t\t\t\t\t<div class=\"replay-box rounded bg-light-secondary\" *ngIf=\"msg.ParentReply.Id != null\">\r\n\t\t\t\t\t\t\t<p class=\"content replytext\" *ngIf=\"!msg.ParentReply.IsDelete\">\r\n\t\t\t\t\t\t\t\t<span style=\"display: block\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"ft-repeat\"></i>\r\n\t\t\t\t\t\t\t\t\t<strong> {{ msg.ParentReply.Username }}:</strong>\r\n\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{{ msg.ParentReply.Message }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t<!-- msg replay Attach -->\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t*ngIf=\"msg.ParentReply.Attach\"\r\n\t\t\t\t\t\t\t\t\t[src]=\"fileService.previewPicture(msg.ParentReply.Attach)\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"width: 50px; height: 50px\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<!-- deleted msg -->\r\n\t\t\t\t\t\t\t<p class=\"content replytext\" *ngIf=\"msg.ParentReply.IsDelete\">\r\n\t\t\t\t\t\t\t\t<span class=\"deleted-msg\"\r\n\t\t\t\t\t\t\t\t\t><i class=\"fa fa-ban\"></i>{{ \"labels.MsgDeleted\" | translate }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<!-- not deleted Message content -->\r\n\t\t\t\t\t\t<p *ngIf=\"!msg.IsDelete\" class=\"content\">\r\n\t\t\t\t\t\t\t{{ msg.Message }}\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t<p *ngIf=\"msg.IsDelete\" class=\"content\" class=\"content replytext\">\r\n\t\t\t\t\t\t\t<span class=\"deleted-msg\">\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-ban\"></i>{{ \"labels.MsgDeleted\" | translate }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t<!-- not deleted Message Attach -->\r\n\t\t\t\t\t\t<div *ngIf=\"msg.Attach && !msg.IsDelete\">\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t[href]=\"fileService.previewPicture(msg.Attach | sliceExamPic)\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\tdata-lightbox=\"image-1\"\r\n\t\t\t\t\t\t\t\tdata-title=\"\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclass=\"img-responsive\"\r\n\t\t\t\t\t\t\t\t\t[src]=\"fileService.previewPicture(msg.Attach | sliceExamPic)\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<p class=\"msg-time\">\r\n\t\t\t\t\t\t\t<!-- not deleted time and date -->\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{{ msg.Date | date : \"dd/MM/yyyy\" }} -\r\n\t\t\t\t\t\t\t\t{{ msg.Date | Time }}\r\n\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t<span *ngIf=\"!msg.IsDelete\" class=\"cursor-pointer\" (click)=\"openDeleteDialog(msg)\">\r\n\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\tclass=\"ft-trash-2 mr-1\"\r\n\t\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\r\n\t\t\t\t\t\t\t\t\tdata-placement=\"top\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Delete This Message\"\r\n\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t<span class=\"cursor-pointer\" (click)=\"getParentReplyId(msg)\">\r\n\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\tclass=\"ft-repeat\"\r\n\t\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\r\n\t\t\t\t\t\t\t\t\tdata-placement=\"top\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Reply To This Message\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</section>\r\n\r\n\t<!-- Replay Options -->\r\n\t<section\r\n\t\tclass=\"chat-app-form chat-replay-options bg-light-primary\"\r\n\t\t*ngIf=\"this.attachecFilePath != null || selectedMsgToReplay != null\"\r\n\t>\r\n\t\t<div class=\"row\">\r\n\t\t\t<button class=\"escprev\" (click)=\"escpreview()\" mat-mini-fab color=\"warn\">\r\n\t\t\t\t<mat-icon>clear</mat-icon>\r\n\t\t\t</button>\r\n\t\t\t<div class=\"col-4\" *ngIf=\"this.attachecFilePath != null\" class=\"img-responsive\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tclass=\"img-responsive\"\r\n\t\t\t\t\t[src]=\"fileService.previewPicture(attachecFilePath)\"\r\n\t\t\t\t\talt=\"Photo attached\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"col-6\" *ngIf=\"selectedMsgToReplay != null\">\r\n\t\t\t\t<textarea disabled class=\"rplayedMsg\">\r\n        {{ selectedMsgToReplay.Message }}\r\n        </textarea>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</section>\r\n\r\n\t<!-- Replay to msg form -->\r\n\t<section class=\"chat-app-form px-3 py-2\" *ngIf=\"FormCtrl.threadId.value != null\">\r\n\t\t<form [formGroup]=\"myForm\" class=\"d-flex align-items-center\">\r\n\t\t\t<input\r\n\t\t\t\tformControlName=\"ReplyText\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tclass=\"form-control chat-message-send mr-2\"\r\n\t\t\t\tplaceholder=\"Type your replay here\"\r\n\t\t\t/>\r\n\r\n\t\t\t<button (click)=\"fileInput.click()\" mat-mini-fab color=\"warn\">\r\n\t\t\t\t<mat-icon>attachment</mat-icon>\r\n\t\t\t</button>\r\n\t\t\t<input\r\n\t\t\t\thidden\r\n\t\t\t\t(change)=\"attacheReplayPic($event)\"\r\n\t\t\t\t#fileInput\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\taccept=\"image/*\"\r\n\t\t\t\tid=\"file\"\r\n\t\t\t/>\r\n\t\t\t<button\r\n\t\t\t\t(click)=\"ReplayToMessage()\"\r\n\t\t\t\t[disabled]=\"FormCtrl.threadId.value == null\"\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tclass=\"btn btn-primary d-lg-flex align-items-center\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"ft-send\"></i>\r\n\t\t\t\t<span class=\"d-none d-lg-block ml-1\">\r\n\t\t\t\t\t{{ \"General.Send\" | translate }}\r\n\t\t\t\t</span>\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t</section>\r\n</div>\r\n"],"names":["ChatsComponent","RouterModule","routes","path","component","AssistantRoutingModule","forChild","imports","exports","ReactiveFormsModule","FormsModule","MaterialModule","SharedModule","NgxSpinnerModule","NgxPaginationModule","CommonModule","AssistantModule","declarations","Validators","ConfirmDialogComponent","DeleteDialogComponent","i0","ctx_r11","ctx_r13","ctx_r16","ctx_r18","ctx_r22","ctx_r38","ctx_r41","ctx_r45","_r47","ctx_r50","ctx_r51","fb","AskTeacherServ","GeneralServ","toaster","fileService","route","router","dialog","spinner","myForm","group","threadId","required","TeacherSubjectIds","ParentReplyId","Attach","ReplyText","getTeacherSubjectIds","returnProfile","controls","subscribe","res","FormCtrl","setValue","getOpenedMsgs","getClosedMsgs","hide","show","getTeacherOpenedClosedMsgs","openPages","value","opendMsgs","messageThreads","openMsgsCount","itemsCount","closedPages","closedMsgs","closedMgsCount","msgId","getTeacherMsgReplaies","MsgReplaies","replies","valid","SendMessage","returnString","getMsgReplaies","reset","escpreview","error","closeMsg","returnValue","success","currentMsgUserData","Opened","removeReply","msg","Id","console","log","selectedMsgToReplay","currentUserId","user","user_ID","ar_name","currentUserPicPath","picturePath","attachecFilePath","index","el","event","fileName","target","files","name","fileSize","size","fileType","type","LastModified","lastModified","LastModifiedDate","lastModifiedDate","reader","FileReader","readAsDataURL","onload","fileReder","result","data","FileAsBase64","isContentOverlay","dialogRef","open","title","Message","afterClosed","confirm","btn","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///"}