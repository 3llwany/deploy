"use strict";
(self["webpackChunkhr"] = self["webpackChunkhr"] || []).push([["src_app_personnel-setup_personnel-setup_module_ts"],{

/***/ 91921:
/*!***************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees-activation/employees-activation.component.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeesActivationComponent": () => (/* binding */ EmployeesActivationComponent)
/* harmony export */ });
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_employees_activation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/employees-activation */ 87908);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_activation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/services/employees-activation.service */ 92570);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-spinner */ 88035);









class EmployeesActivationComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeesActivationService) {
        super();
        this.employeesActivationService = employeesActivationService;
        this.mandatoryColomns = ["Ser", "employee", "job", "actions"];
        this.optionalColomns = [];
        this.isLoaded = false;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_5__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany())
            this.getList(this.pageFromUrl > 0 ? this.pageFromUrl : this.firstPage);
    }
    getList(page, pageSize) {
        this.isLoaded = false;
        this.removePageParams();
        this.page.pageIndex = page;
        if (pageSize)
            this.page.pageSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.pageSize,
        };
        this.employeesActivationService
            .getList(params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == 1) {
                if (res.data.length == 0 && page > 1) {
                    this.getList(this.prevPage);
                    return;
                }
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_5__.MatTableDataSource((0,app_personnel_setup_mapper_employees_activation__WEBPACK_IMPORTED_MODULE_0__.empActivationDisplay)(res.data));
                this.isLoaded = true;
                this.page.length = res.meta.totalItemCount;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    activate(employee) {
        console.log(employee);
        this.showLoading();
        this.employeesActivationService
            .activate(employee.id)
            .subscribe((res) => {
            if (res.message.messageType == 1) {
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
}
EmployeesActivationComponent.ɵfac = function EmployeesActivationComponent_Factory(t) { return new (t || EmployeesActivationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_activation_service__WEBPACK_IMPORTED_MODULE_2__.EmployeesActivationService)); };
EmployeesActivationComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({ type: EmployeesActivationComponent, selectors: [["app-employees-activation"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵInheritDefinitionFeature"]], decls: 7, vars: 7, consts: [[1, "row"], [1, "col-12"], [1, "form-card"], ["title", "employeesActivation", 3, "globalFunctions"], [3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "onChangePage", "rowactions"]], template: function EmployeesActivationComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "div", 0)(2, "div", 1)(3, "mat-card", 2)(4, "mat-card-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](5, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](6, "app-material-table", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("onChangePage", function EmployeesActivationComponent_Template_app_material_table_onChangePage_6_listener($event) { return ctx.getList($event.pageIndex + 1, $event.pageSize); })("rowactions", function EmployeesActivationComponent_Template_app_material_table_rowactions_6_listener($event) { return ctx.activate($event.data); });
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("globalFunctions", ctx.globalFunctions);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("isLoaded", ctx.isLoaded)("dataSource", ctx.dataSource)("mandatoryColomns", ctx.mandatoryColomns)("optionalColomns", ctx.optionalColomns)("page", ctx.page)("actions", ctx.rowFunctions);
    } }, dependencies: [_shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_3__.MaterialTableComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_4__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardTitle, ngx_spinner__WEBPACK_IMPORTED_MODULE_8__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llZXMtYWN0aXZhdGlvbi5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 29222:
/*!*********************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/add-employee/add-employee.component.ts ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddEmployeeComponent": () => (/* binding */ AddEmployeeComponent)
/* harmony export */ });
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_local_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/local-storage */ 66606);
/* harmony import */ var app_shared_enums_languages_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/enums/languages.enum */ 88367);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_buttons_back_btn_back_btn_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/components/resources/buttons/back-btn/back-btn.component */ 61064);
/* harmony import */ var _shared_components_resources_buttons_add_new_btn_add_new_btn_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/components/resources/buttons/add-new-btn/add-new-btn.component */ 52682);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/list */ 6517);
/* harmony import */ var primeng_image__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! primeng/image */ 21478);
/* harmony import */ var primeng_skeleton__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! primeng/skeleton */ 32712);
/* harmony import */ var _personal_information_emp_personal_info_core_empl_personal_info_core_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../personal-information/emp-personal-info-core/empl-personal-info-core.component */ 59897);
/* harmony import */ var _employee_career_emp_career_core_emp_career_core_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../employee-career/emp-career-core/emp-career-core.component */ 70923);
/* harmony import */ var _employee_general_info_emp_general_info_core_emp_general_info_core_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../employee-general-info/emp-general-info-core/emp-general-info-core.component */ 78392);
/* harmony import */ var _employement_information_employement_info_core_employement_info_core_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../employement-information/employement-info-core/employement-info-core.component */ 20001);
/* harmony import */ var _employee_balances_employee_balances_core_employee_balances_core_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../employee-balances/employee-balances-core/employee-balances-core.component */ 21918);
/* harmony import */ var _sap_integration_emp_sap_integration_core_emp_sap_integration_core_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../sap-integration/emp-sap-integration-core/emp-sap-integration-core.component */ 56333);
/* harmony import */ var _payments_information_emp_payments_info_core_emp_payments_info_core_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../payments-information/emp-payments-info-core/emp-payments-info-core.component */ 61198);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @ngx-translate/core */ 89461);




























const _c0 = ["tabs"];
function AddEmployeeComponent_div_4_p_image_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "p-image", 29);
} if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("src", (ctx_r11.employee.img == null ? null : ctx_r11.employee.img.length) > 1 ? ctx_r11.fileService.preview(ctx_r11.employee.img) : ctx_r11.assets.user_avatar)("preview", true);
} }
function AddEmployeeComponent_div_4_ng_container_8_div_14_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "span", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "i", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](2, "mat-list-item", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](4, "span", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const policy_r15 = ctx.$implicit;
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", ctx_r14.msgTranslate(policy_r15.ar_Name, policy_r15.en_Name), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", ctx_r14.msgTranslate(policy_r15 == null ? null : policy_r15.core_PolicyGroup_Type == null ? null : policy_r15.core_PolicyGroup_Type.ar_Name, policy_r15 == null ? null : policy_r15.core_PolicyGroup_Type == null ? null : policy_r15.core_PolicyGroup_Type.en_Name), " ");
} }
function AddEmployeeComponent_div_4_ng_container_8_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 38)(1, "mat-nav-list");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](2, AddEmployeeComponent_div_4_ng_container_8_div_14_span_2_Template, 6, 2, "span", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", ctx_r13.StatusPosition == null ? null : ctx_r13.StatusPosition.policies);
} }
function AddEmployeeComponent_div_4_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "div", 30)(2, "h4", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](4, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](6, "div", 32)(7, "div", 33)(8, "div", 34)(9, "div", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](10, "i", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](11, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](13, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](14, AddEmployeeComponent_div_4_ng_container_8_div_14_Template, 3, 1, "div", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", ctx_r12.msgTranslate(ctx_r12.employee.person.ar_Name, ctx_r12.employee.person.en_Name), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate"](ctx_r12.StatusPosition == null ? null : ctx_r12.StatusPosition.job_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind2"](13, 4, ctx_r12.employee.person.hireDate, "dd-MM-yyyy"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r12.StatusPosition == null ? null : ctx_r12.StatusPosition.policies);
} }
function AddEmployeeComponent_div_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 22)(1, "section", 23)(2, "div", 24)(3, "p", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipe"](5, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](6, "img", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](7, AddEmployeeComponent_div_4_p_image_7_Template, 1, 2, "p-image", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](8, AddEmployeeComponent_div_4_ng_container_8_Template, 15, 7, "ng-container", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpipeBind1"](5, 4, "good_evening"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("src", ctx_r0.assets.emp_profile_banner, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r0.employee);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r0.employee);
} }
function AddEmployeeComponent_div_6_p_image_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "p-image", 51);
} if (rf & 2) {
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("src", (ctx_r16.employee.img == null ? null : ctx_r16.employee.img.length) > 1 ? ctx_r16.fileService.preview(ctx_r16.employee == null ? null : ctx_r16.employee.img) : ctx_r16.assets.user_avatar_rounded)("preview", true);
} }
function AddEmployeeComponent_div_6_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "span", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", ctx_r17.StatusPosition == null ? null : ctx_r17.StatusPosition.job_name, " ");
} }
function AddEmployeeComponent_div_6_p_skeleton_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "p-skeleton", 52);
} }
function AddEmployeeComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_div_6_p_image_1_Template, 1, 2, "p-image", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](2, "div", 46)(3, "h4", 47)(4, "span", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](6, AddEmployeeComponent_div_6_span_6_Template, 2, 1, "span", 49);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](7, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](8, AddEmployeeComponent_div_6_p_skeleton_8_Template, 1, 0, "p-skeleton", 50);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r1.employee);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtextInterpolate1"](" ", ctx_r1.msgTranslate(ctx_r1.employee == null ? null : ctx_r1.employee.person == null ? null : ctx_r1.employee.person.ar_Name, ctx_r1.employee == null ? null : ctx_r1.employee.person == null ? null : ctx_r1.employee.person.en_Name), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r1.isEmpDataLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", !ctx_r1.isEmpDataLoaded && ctx_r1.employee);
} }
function AddEmployeeComponent_app_add_new_btn_8_Template(rf, ctx) { if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "app-add-new-btn", 53);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("onClick", function AddEmployeeComponent_app_add_new_btn_8_Template_app_add_new_btn_onClick_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r20); const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r19.onAddNew()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpropertyInterpolate1"]("url", "/personnel-setup/", ctx_r2.moduleId, "/employees/add");
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("params", ctx_r2.parentParam);
} }
function AddEmployeeComponent_ng_container_16_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r25 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 55);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function AddEmployeeComponent_ng_container_16_div_1_Template_div_click_0_listener() { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r25); const i_r23 = restoredCtx.index; const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r24.activeTab = i_r23); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "a", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function AddEmployeeComponent_ng_container_16_div_1_Template_a_click_1_listener($event) { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r25); const tab_r22 = restoredCtx.$implicit; const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r26.scrollToSection($event, tab_r22.viewName)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](2, "span", 57);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](3, "page-title", 58);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const tab_r22 = ctx.$implicit;
    const i_r23 = ctx.index;
    const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵclassProp"]("active", ctx_r21.activeTab === i_r23);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("title", tab_r22.name);
} }
function AddEmployeeComponent_ng_container_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_ng_container_16_div_1_Template, 4, 3, "div", 54);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", ctx_r4.customViews);
} }
function AddEmployeeComponent_ng_template_17_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "p-skeleton", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} }
const _c1 = function () { return [1, 2, 3, 4, 5, 6, 7]; };
function AddEmployeeComponent_ng_template_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](0, AddEmployeeComponent_ng_template_17_div_0_Template, 2, 0, "div", 59);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction0"](1, _c1));
} }
function AddEmployeeComponent_div_21_ng_container_4_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r37 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "li", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function AddEmployeeComponent_div_21_ng_container_4_li_1_Template_li_click_0_listener() { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r37); const i_r35 = restoredCtx.index; const ctx_r36 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](3); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r36.activeTab = i_r35); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "a", 65);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function AddEmployeeComponent_div_21_ng_container_4_li_1_Template_a_click_1_listener($event) { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r37); const tab_r34 = restoredCtx.$implicit; const ctx_r38 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](3); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r38.scrollToSection($event, tab_r34.viewName)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](2, "span", 57);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](3, "page-title", 66);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const tab_r34 = ctx.$implicit;
    const i_r35 = ctx.index;
    const ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵclassProp"]("active", ctx_r33.activeTab === i_r35);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("title", tab_r34.name)("icon", tab_r34.icon);
} }
function AddEmployeeComponent_div_21_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_div_21_ng_container_4_li_1_Template, 4, 4, "li", 63);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", ctx_r30.customViews);
} }
function AddEmployeeComponent_div_21_ng_template_5_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "p-skeleton", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} }
function AddEmployeeComponent_div_21_ng_template_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](0, AddEmployeeComponent_div_21_ng_template_5_div_0_Template, 2, 0, "div", 59);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction0"](1, _c1));
} }
function AddEmployeeComponent_div_21_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 2)(1, "div", 22)(2, "ul", 62, 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](4, AddEmployeeComponent_div_21_ng_container_4_Template, 2, 1, "ng-container", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](5, AddEmployeeComponent_div_21_ng_template_5_Template, 1, 2, "ng-template", null, 16, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const _r31 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵreference"](6);
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx_r7.customViews)("ngIfElse", _r31);
} }
function AddEmployeeComponent_ng_container_23_ng_container_1_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r51 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 69)(1, "emp-general-info-core", 70);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("changeEmployeeId", function AddEmployeeComponent_ng_container_23_ng_container_1_div_1_Template_emp_general_info_core_changeEmployeeId_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r51); const ctx_r50 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](3); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r50.changeEmployeeId($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const tab_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r42.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r42.icon);
} }
function AddEmployeeComponent_ng_container_23_ng_container_1_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "emp-personal-info-core", 71);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r42.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r42.icon);
} }
function AddEmployeeComponent_ng_container_23_ng_container_1_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "emp-career-core", 71);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r42.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r42.icon);
} }
function AddEmployeeComponent_ng_container_23_ng_container_1_div_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "employement-information-core", 71);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r42.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r42.icon);
} }
function AddEmployeeComponent_ng_container_23_ng_container_1_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "employee-balances-core", 71);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r42.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r42.icon);
} }
function AddEmployeeComponent_ng_container_23_ng_container_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "emp-sap-integration-core", 71);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r42.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r42.icon);
} }
function AddEmployeeComponent_ng_container_23_ng_container_1_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "emp-payments-info-core", 71);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", tab_r42.viewName);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("icon", tab_r42.icon);
} }
function AddEmployeeComponent_ng_container_23_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_ng_container_23_ng_container_1_div_1_Template, 2, 2, "div", 68);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](2, AddEmployeeComponent_ng_container_23_ng_container_1_div_2_Template, 2, 2, "div", 68);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](3, AddEmployeeComponent_ng_container_23_ng_container_1_div_3_Template, 2, 2, "div", 68);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](4, AddEmployeeComponent_ng_container_23_ng_container_1_div_4_Template, 2, 2, "div", 68);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](5, AddEmployeeComponent_ng_container_23_ng_container_1_div_5_Template, 2, 2, "div", 68);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](6, AddEmployeeComponent_ng_container_23_ng_container_1_div_6_Template, 2, 2, "div", 68);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](7, AddEmployeeComponent_ng_container_23_ng_container_1_div_7_Template, 2, 2, "div", 68);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const tab_r42 = ctx.$implicit;
    const ctx_r41 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r42.viewName == ctx_r41.viewsManager.emp_general_info_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r42.viewName == ctx_r41.viewsManager.emp_personal_info_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r42.viewName == ctx_r41.viewsManager.emp_career_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r42.viewName == ctx_r41.viewsManager.employment_info_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r42.viewName == ctx_r41.viewsManager.emp_balances_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r42.viewName == ctx_r41.viewsManager.emp_sap_integration_tab);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", tab_r42.viewName == ctx_r41.viewsManager.emp_payments_info_tab);
} }
function AddEmployeeComponent_ng_container_23_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_ng_container_23_ng_container_1_Template, 8, 7, "ng-container", 67);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", ctx_r8.customViews);
} }
function AddEmployeeComponent_ng_template_24_div_1_div_6_mat_divider_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "mat-divider");
} }
function AddEmployeeComponent_ng_template_24_div_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 77);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](1, "app-employee-profile-card-skeleton", 78);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](2, AddEmployeeComponent_ng_template_24_div_1_div_6_mat_divider_2_Template, 1, 0, "mat-divider", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const lst_r63 = ctx.last;
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("rowNo", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", !lst_r63);
} }
const _c2 = function () { return [1, 2]; };
function AddEmployeeComponent_ng_template_24_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 73)(1, "mat-card")(2, "mat-card-title", 74);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](3, "p-skeleton", 75);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](4, "mat-card-content")(5, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](6, AddEmployeeComponent_ng_template_24_div_1_div_6_Template, 3, 2, "div", 76);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction0"](1, _c2));
} }
function AddEmployeeComponent_ng_template_24_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](1, AddEmployeeComponent_ng_template_24_div_1_Template, 7, 2, "div", 72);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction0"](1, _c2));
} }
const _c3 = function (a0) { return { "--custom-width": a0 }; };
class AddEmployeeComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(data, dialogRef, empGeneralInfoService) {
        super();
        this.data = data;
        this.dialogRef = dialogRef;
        this.empGeneralInfoService = empGeneralInfoService;
        this.employeeId = 0; // get from route
        this.activeTab = 0;
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager;
        this.isEmpDataLoaded = false;
        this.showLeftArrow = false;
        this.showRightArrow = false;
        this.customBorderWidth = '100%';
        this.activatedRoute.params.subscribe((params) => {
            this.employeeId = Number(params.employeeId ?? 0);
            app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeInstanceId$.next(null);
            app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeId$.next(this.employeeId);
            this.onChangeBusinessAndCompanyId();
        });
    }
    ngOnInit() {
        // this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
        });
        // load employee status position
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeStatusPosition$.subscribe((info) => {
            this.StatusPosition = info;
            if (info)
                this.isEmpDataLoaded = true;
        });
    }
    onChangeBusinessAndCompanyId() {
        this.empGeneralInfoService.employee$.next(null);
        if (this.checkNoBusinessOrCompany() && this.employeeId > 0) {
            this.empGeneralInfoService.getEmployeeShared(this.employeeId);
        }
    }
    scrollToSection(event, sectionId) {
        event.preventDefault();
        const element = document.getElementById(sectionId);
        if (element) {
            element.scrollIntoView({ behavior: "smooth", block: "start" });
        }
    }
    changeEmployeeId(employeeId) {
        this.employeeId = employeeId;
    }
    onScroll($event) {
        let scrollTop = window.pageYOffset;
        const element = document.getElementById("top-tools");
        // arrow buttons
        let arrows = document.querySelectorAll(".arrow-button");
        // add nav-fixed to tabs
        if (scrollTop >= this.tabs.nativeElement.parentElement.offsetTop + 23) {
            this.tabs.nativeElement.classList.add("nav-fixed");
            element.classList.add("mt-2");
            arrows.forEach(ele => ele.classList.add("arrow-fixed"));
        }
        else {
            this.tabs.nativeElement.classList.remove("nav-fixed");
            element.classList.remove("mt-2");
            arrows.forEach(ele => ele.classList.remove("arrow-fixed"));
        }
        // change active tab
        this.customViews?.forEach((sec, index) => {
            const element = document.getElementById(sec.viewName);
            if (scrollTop >= element.offsetTop) {
                this.activeTab = index;
            }
        });
    }
    onAddNew() {
        this.ngOnDestroy();
    }
    ngOnDestroy() {
        this.empGeneralInfoService.cancelRequest$.next();
        this.empGeneralInfoService.cancelRequest$.complete();
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeInstanceId$.next(null);
        //  EmpGeneralInfoService.employeeInstanceId$.complete();
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeId$.next(null);
        //  EmpGeneralInfoService.employeeId$.complete();
        this.empGeneralInfoService.employee$.next(null);
        //  this.empGeneralInfoService.employee$.complete();
    }
    onModulesChanged() {
        setTimeout(() => {
            this.checkForOverflow();
        }, 100);
    }
    checkForOverflow() {
        const tabsContainer = this.tabs.nativeElement;
        if (app_shared_resources_local_storage__WEBPACK_IMPORTED_MODULE_3__.Storage.getLocalLang == app_shared_enums_languages_enum__WEBPACK_IMPORTED_MODULE_4__.Languages.ar) {
            this.showRightArrow = tabsContainer.scrollLeft < -5;
            this.showLeftArrow =
                tabsContainer.scrollWidth -
                    tabsContainer.clientWidth +
                    tabsContainer.scrollLeft >
                    10;
        }
        else {
            this.showRightArrow =
                tabsContainer.scrollWidth -
                    tabsContainer.clientWidth -
                    tabsContainer.scrollLeft >
                    20;
            this.showLeftArrow = tabsContainer.scrollLeft > 20;
        }
        // console.log(menuContainer.scrollLeft, menuContainer.scrollWidth, menuContainer.clientWidth, this.showLeftArrow, this.showRightArrow);
        this.customBorderWidth = `${tabsContainer.scrollWidth}px`;
    }
    scrollLeft() {
        this.tabs.nativeElement.scrollLeft -= 200;
        setTimeout(() => {
            this.checkForOverflow();
        }, 200);
    }
    scrollRight() {
        this.tabs.nativeElement.scrollLeft += 200;
        setTimeout(() => {
            this.checkForOverflow();
        }, 200);
    }
    onResize() {
        this.checkForOverflow();
    }
}
AddEmployeeComponent.ɵfac = function AddEmployeeComponent_Factory(t) { return new (t || AddEmployeeComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MAT_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService)); };
AddEmployeeComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdefineComponent"]({ type: AddEmployeeComponent, selectors: [["app-add-employee"]], viewQuery: function AddEmployeeComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵviewQuery"](_c0, 7);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵloadQuery"]()) && (ctx.tabs = _t.first);
    } }, hostBindings: function AddEmployeeComponent_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("scroll", function AddEmployeeComponent_scroll_HostBindingHandler($event) { return ctx.onScroll($event); }, false, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresolveWindow"])("resize", function AddEmployeeComponent_resize_HostBindingHandler($event) { return ctx.onResize($event); }, false, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresolveWindow"]);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵInheritDefinitionFeature"]], decls: 26, vars: 17, consts: [[1, "add-employee-container"], [1, "pl-4", "pt-1", "pl-1", "pb-1", "rounded-0"], [1, "row"], ["class", "col-12", 4, "ngIf"], [1, "col-12", "col-sm-7"], ["class", "media d-flex align-items-center", 4, "ngIf"], [1, "col-12", "col-sm-5", "d-flex", "justify-content-end", "align-items-center"], [3, "url", "params", "onClick", 4, "ngIf"], [3, "url", "params"], [1, "col-12", "tabs-menu-container"], [1, "arrow-button", "left", "darkBlue", 3, "click"], [1, "fas", "fa-chevron-left"], [1, "tabs-menu-sub-container"], [1, "tabs-menu", "my-1"], ["tabs", ""], [4, "ngIf", "ngIfElse"], ["tabsLoading", ""], [1, "arrow-button", "right", "darkBlue", 3, "click"], [1, "fas", "fa-chevron-right"], ["class", "row", 4, "ngIf"], ["id", "top-tools", 1, "pb-4", "pl-4", "pr-4", "pt-2"], ["loading", ""], [1, "col-12"], [1, "page-user-profile"], [1, "user-profile-images"], [1, "title-overlay"], ["alt", "User Timeline Image", 1, "img-fluid", "rounded-top", "user-timeline-image", 3, "src"], ["class", "user-profile-image rounded", "alt", "User Profile Image", "height", "140", "width", "140", 3, "src", "preview", 4, "ngIf"], [4, "ngIf"], ["alt", "User Profile Image", "height", "140", "width", "140", 1, "user-profile-image", "rounded", 3, "src", "preview"], [1, "user-profile-text"], [1, "profile-text-color", "mb-0"], [1, "card-content"], [1, "card-body"], [1, "user-profile-buttons", "d-flex", "justify-content-center", "justify-content-sm-start"], [1, "badge", "bg-light-info", "font-medium-1", "mr-3"], [1, "far", "fa-calendar-check", "font-medium-2", "mr-1", "ml-0"], ["class", "badge bg-light-info mr-3", 4, "ngIf"], [1, "badge", "bg-light-info", "mr-3"], ["class", "mr-1 ml-1", 4, "ngFor", "ngForOf"], [1, "mr-1", "ml-1"], [1, "ft-list", "font-medium-2"], [1, "pleft-4", "pright-4"], [1, "text-muted"], [1, "media", "d-flex", "align-items-center"], ["imageClass", "users-avatar-shadow avatar", "alt", "User Profile Image", "height", "80", "width", "80", 3, "src", "preview", 4, "ngIf"], [1, "media-body", "ml-3"], [1, "mb-1"], [1, "users-view-name"], ["class", "text-muted", 4, "ngIf"], ["width", "8rem", "height", ".5rem", 4, "ngIf"], ["imageClass", "users-avatar-shadow avatar", "alt", "User Profile Image", "height", "80", "width", "80", 3, "src", "preview"], ["width", "8rem", "height", ".5rem"], [3, "url", "params", "onClick"], ["class", "tab-item", 3, "active", "click", 4, "ngFor", "ngForOf"], [1, "tab-item", 3, "click"], [1, "tab-link", 3, "click"], [1, "d-none", "d-sm-inline-block"], [1, "font-size-15", 3, "title"], ["class", "m-1", 4, "ngFor", "ngForOf"], [1, "m-1"], ["width", "8rem", "height", "2rem"], [1, "nav", "nav-tabs", "my-1", "spynav"], ["class", "nav-item", 3, "active", "click", 4, "ngFor", "ngForOf"], [1, "nav-item", 3, "click"], [1, "nav-link", 3, "click"], [3, "title", "icon"], [4, "ngFor", "ngForOf"], ["class", "mbottom-10", 3, "id", 4, "ngIf"], [1, "mbottom-10", 3, "id"], [3, "icon", "changeEmployeeId"], [3, "icon"], ["class", "col-12 mb-3", 4, "ngFor", "ngForOf"], [1, "col-12", "mb-3"], [1, "border-bottom", "pb-2"], ["width", "7rem", "styleClass", "p-mb-2", "borderRadius", "10px"], ["class", "col-12 mb-2", 4, "ngFor", "ngForOf"], [1, "col-12", "mb-2"], [3, "rowNo"]], template: function AddEmployeeComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "div", 0)(1, "mat-card", 1)(2, "mat-card-content")(3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](4, AddEmployeeComponent_div_4_Template, 9, 6, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](6, AddEmployeeComponent_div_6_Template, 9, 4, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](8, AddEmployeeComponent_app_add_new_btn_8_Template, 1, 2, "app-add-new-btn", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](9, "app-back-btn", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](10, "div", 9)(11, "button", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function AddEmployeeComponent_Template_button_click_11_listener() { return ctx.scrollLeft(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](12, "i", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](13, "div", 12)(14, "div", 13, 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](16, AddEmployeeComponent_ng_container_16_Template, 2, 1, "ng-container", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](17, AddEmployeeComponent_ng_template_17_Template, 1, 2, "ng-template", null, 16, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](19, "button", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function AddEmployeeComponent_Template_button_click_19_listener() { return ctx.scrollRight(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](20, "i", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](21, AddEmployeeComponent_div_21_Template, 7, 2, "div", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](22, "div", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](23, AddEmployeeComponent_ng_container_23_Template, 2, 1, "ng-container", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](24, AddEmployeeComponent_ng_template_24_Template, 2, 2, "ng-template", null, 21, _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵreference"](18);
        const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵreference"](25);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.employee);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpropertyInterpolate1"]("url", "/personnel-setup/", ctx.moduleId, "/employees/index");
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("params", ctx.pageParams);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵclassProp"]("hidden", !(ctx.showLeftArrow && ctx.customViews));
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵstyleMap"](_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵpureFunction1"](15, _c3, ctx.customBorderWidth));
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.customViews)("ngIfElse", _r5);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵclassProp"]("hidden", !(ctx.showRightArrow && ctx.customViews));
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.customViews)("ngIfElse", _r9);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_18__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_18__.NgIf, _shared_components_resources_buttons_back_btn_back_btn_component__WEBPACK_IMPORTED_MODULE_5__.BackBtnComponent, _shared_components_resources_buttons_add_new_btn_add_new_btn_component__WEBPACK_IMPORTED_MODULE_6__.AddNewBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_7__.PageTitleComponent, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_8__.EmployeeProfileCardSkeletonComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCardTitle, _angular_material_divider__WEBPACK_IMPORTED_MODULE_20__.MatDivider, _angular_material_list__WEBPACK_IMPORTED_MODULE_21__.MatNavList, _angular_material_list__WEBPACK_IMPORTED_MODULE_21__.MatListItem, primeng_image__WEBPACK_IMPORTED_MODULE_22__.Image, primeng_skeleton__WEBPACK_IMPORTED_MODULE_23__.Skeleton, _personal_information_emp_personal_info_core_empl_personal_info_core_component__WEBPACK_IMPORTED_MODULE_9__.EmployeePersonalInfoCoreComponent, _employee_career_emp_career_core_emp_career_core_component__WEBPACK_IMPORTED_MODULE_10__.EmployeeCareerCoreComponent, _employee_general_info_emp_general_info_core_emp_general_info_core_component__WEBPACK_IMPORTED_MODULE_11__.EmpGeneralInfoCoreComponent, _employement_information_employement_info_core_employement_info_core_component__WEBPACK_IMPORTED_MODULE_12__.EmployementInformationComponent, _employee_balances_employee_balances_core_employee_balances_core_component__WEBPACK_IMPORTED_MODULE_13__.EmployeeBalancesCoreComponent, _sap_integration_emp_sap_integration_core_emp_sap_integration_core_component__WEBPACK_IMPORTED_MODULE_14__.EmpSapIntegrationCoreComponent, _payments_information_emp_payments_info_core_emp_payments_info_core_component__WEBPACK_IMPORTED_MODULE_15__.EmpPaymentsInfoCoreComponent, _angular_common__WEBPACK_IMPORTED_MODULE_18__.DatePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__.TranslatePipe], styles: [".add-employee-container[_ngcontent-%COMP%] {\n  margin: 0 -30px;\n}\n\n.divider[_ngcontent-%COMP%] {\n  margin: 40px 0;\n}\n\n.page-user-profile[_ngcontent-%COMP%] {\n  border-bottom: 1px solid #ddd;\n}\n\nmat-nav-list[_ngcontent-%COMP%] {\n  padding: 0;\n}\n\nmat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%] {\n  display: inline-block;\n  height: auto;\n  width: auto;\n  color: #2f8be6;\n}\n\n.user-timeline-image[_ngcontent-%COMP%] {\n  filter: brightness(0.6);\n  width: 100%;\n  height: 100%;\n}\n\n.title-overlay[_ngcontent-%COMP%] {\n  background-color: inherit;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  position: absolute;\n  z-index: 1;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  color: #fff;\n  font-size: 50px;\n  font-weight: 500;\n}\n\n.plicy-list[_ngcontent-%COMP%] {\n  z-index: 1;\n  top: 11px;\n  left: 11px;\n}\n\n.rounded-0[_ngcontent-%COMP%] {\n  border-radius: 0 !important;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%] {\n  position: relative;\n  margin-bottom: 10px;\n  \n  \n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .tabs-menu-sub-container[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .tabs-menu-sub-container[_ngcontent-%COMP%]   .tabs-menu[_ngcontent-%COMP%] {\n  position: relative;\n  display: flex;\n  overflow-x: hidden;\n  scroll-behavior: smooth;\n  white-space: nowrap;\n  margin: auto;\n  padding-bottom: 6px;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .tabs-menu-sub-container[_ngcontent-%COMP%]   .tabs-menu[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%] {\n  position: relative;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .tabs-menu-sub-container[_ngcontent-%COMP%]   .tabs-menu[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]   .tab-link[_ngcontent-%COMP%] {\n  margin-bottom: -4px;\n  color: #8c8c8c;\n  height: 100%;\n  border: 0;\n  border-radius: 0;\n  display: block;\n  padding: 0.5rem 1rem;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .nav-fixed[_ngcontent-%COMP%] {\n  position: fixed !important;\n  top: -6px;\n  z-index: 996;\n  background: #f7f7f8;\n  width: calc(100% - 32px);\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  height: -moz-fit-content;\n  height: fit-content;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .tabs-menu[_ngcontent-%COMP%], .tabs-menu-container[_ngcontent-%COMP%]   .tabs-menu[_ngcontent-%COMP%]   .tab-link.active[_ngcontent-%COMP%] {\n  border: none !important;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .tabs-menu[_ngcontent-%COMP%]::after, .tabs-menu-container[_ngcontent-%COMP%]   .tabs-menu[_ngcontent-%COMP%]   .tab-link.active[_ngcontent-%COMP%]::after {\n  content: \"\";\n  border: 3px solid #eaeaea !important;\n  width: 100%;\n  display: block;\n  border-radius: 10px !important;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .tabs-menu[_ngcontent-%COMP%]::after {\n  width: var(--custom-width);\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]::after, .tabs-menu-container[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]:hover::after {\n  content: \"\";\n  border: 3px solid #374761 !important;\n  width: 100%;\n  display: block;\n  border-radius: 10px !important;\n  position: absolute;\n  bottom: -6px;\n  left: 0;\n  z-index: 3;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]    > .tab-link[_ngcontent-%COMP%], .tabs-menu-container[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]:hover    > .tab-link[_ngcontent-%COMP%] {\n  color: #374761 !important;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .arrow-button[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  border: none;\n  cursor: pointer;\n  z-index: 1000;\n  background-color: #eaeaea;\n  border-radius: 5px;\n  height: 46px;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] {\n  left: 0;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] {\n  right: 0;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .arrow-fixed[_ngcontent-%COMP%] {\n  position: fixed;\n  top: 0;\n  z-index: 999;\n  height: 38px !important;\n}\n\n.tabs-menu-container[_ngcontent-%COMP%]   .arrow-fixed.left[_ngcontent-%COMP%] {\n  left: 32px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1lbXBsb3llZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7QUFDRjs7QUF1QkE7RUFDRSxjQUFBO0FBcEJGOztBQXVEQTtFQUNFLDZCQUFBO0FBcERGOztBQXVEQTtFQUNFLFVBQUE7QUFwREY7O0FBc0RFO0VBQ0UscUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUFwREo7O0FBd0RBO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQXJERjs7QUF3REE7RUFDRSx5QkFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxNQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFyREY7O0FBd0RBO0VBQ0UsVUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBckRGOztBQXdEQTtFQUNFLDJCQUFBO0FBckRGOztBQXdEQTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7RUFFQSxTQUFBO0VBaUZBLFdBQUE7QUF0SUY7O0FBc0RFO0VBQ0UsYUFBQTtBQXBESjs7QUFzREk7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7QUFwRE47O0FBc0RNO0VBQ0Usa0JBQUE7QUFwRFI7O0FBc0RRO0VBQ0UsbUJBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLFNBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxvQkFBQTtBQXBEVjs7QUEwREU7RUFDRSwwQkFBQTtFQUNBLFNBQUE7RUFDQSxZQUFBO0VBRUEsbUJBQUE7RUFDQSx3QkFBQTtFQUNBLHlIQUFBO0VBRUEsd0JBQUE7RUFBQSxtQkFBQTtBQTFESjs7QUE2REU7O0VBRUUsdUJBQUE7QUEzREo7O0FBNERJOztFQUNFLFdBQUE7RUFDQSxvQ0FBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0EsOEJBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsVUFBQTtBQXpETjs7QUE2REU7RUFDRSwwQkFBQTtBQTNESjs7QUFnRUk7O0VBQ0UsV0FBQTtFQUNBLG9DQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSw4QkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLE9BQUE7RUFDQSxVQUFBO0FBN0ROOztBQWlFRTs7RUFFRSx5QkFBQTtBQS9ESjs7QUFtRUU7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxTQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUFqRUo7O0FBb0VFO0VBQ0UsT0FBQTtBQWxFSjs7QUFvRUU7RUFDRSxRQUFBO0FBbEVKOztBQXFFRTtFQUNFLGVBQUE7RUFDQSxNQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0FBbkVKOztBQXNFRTtFQUNFLFVBQUE7QUFwRUoiLCJmaWxlIjoiYWRkLWVtcGxveWVlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmFkZC1lbXBsb3llZS1jb250YWluZXIge1xyXG4gIG1hcmdpbjogMCAtMzBweDtcclxufVxyXG5cclxuLy8gLm5hdi10YWJzIHtcclxuLy8gICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbi8vICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4vLyB9XHJcblxyXG4vLyAubmF2LXRhYnMsXHJcbi8vIC5uYXYtdGFicyAubmF2LWxpbmsuYWN0aXZlIHtcclxuLy8gICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxuLy8gICAmOjphZnRlciB7XHJcbi8vICAgICBjb250ZW50OiBcIlwiO1xyXG4vLyAgICAgYm9yZGVyOiAzcHggc29saWQgI2VhZWFlYSAhaW1wb3J0YW50O1xyXG4vLyAgICAgd2lkdGg6IDEwMCU7XHJcbi8vICAgICBkaXNwbGF5OiBibG9jaztcclxuLy8gICAgIGJvcmRlci1yYWRpdXM6IDEwcHggIWltcG9ydGFudDtcclxuLy8gICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuLy8gICAgIGJvdHRvbTogLTVweDtcclxuLy8gICAgIGxlZnQ6IDA7XHJcbi8vICAgICB6LWluZGV4OiAxO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLmRpdmlkZXIge1xyXG4gIG1hcmdpbjogNDBweCAwO1xyXG59XHJcblxyXG4vLyAubmF2LWxpbmsge1xyXG4vLyAgIGNvbG9yOiAjOGM4YzhjICFpbXBvcnRhbnQ7XHJcbi8vIH1cclxuXHJcbi8vIC5uYXYtdGFicyAubmF2LWl0ZW0ge1xyXG4vLyAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuLy8gICB6LWluZGV4OiAyO1xyXG4vLyAgIGEge1xyXG4vLyAgICAgbWFyZ2luLWJvdHRvbTogLTRweDtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIC5hY3RpdmUsXHJcbi8vIC5uYXYtaXRlbTpob3ZlciB7XHJcbi8vICAgJjo6YWZ0ZXIge1xyXG4vLyAgICAgY29udGVudDogXCJcIjtcclxuLy8gICAgIGJvcmRlcjogM3B4IHNvbGlkICMzNzQ3NjEgIWltcG9ydGFudDtcclxuLy8gICAgIHdpZHRoOiAxMDAlO1xyXG4vLyAgICAgZGlzcGxheTogYmxvY2s7XHJcbi8vICAgICBib3JkZXItcmFkaXVzOiAxMHB4ICFpbXBvcnRhbnQ7XHJcbi8vICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbi8vICAgICBib3R0b206IC00cHg7XHJcbi8vICAgICBsZWZ0OiAwO1xyXG4vLyAgICAgei1pbmRleDogMztcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIC5hY3RpdmUgPiAubmF2LWxpbmssXHJcbi8vIC5uYXYtaXRlbTpob3ZlciA+IC5uYXYtbGluayB7XHJcbi8vICAgY29sb3I6ICMzNzQ3NjEgIWltcG9ydGFudDtcclxuLy8gfVxyXG5cclxuLnBhZ2UtdXNlci1wcm9maWxlIHtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtcclxufVxyXG5cclxubWF0LW5hdi1saXN0IHtcclxuICBwYWRkaW5nOiAwO1xyXG5cclxuICAubWF0LWxpc3QtaXRlbSB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICB3aWR0aDogYXV0bztcclxuICAgIGNvbG9yOiAjMmY4YmU2O1xyXG4gIH1cclxufVxyXG5cclxuLnVzZXItdGltZWxpbmUtaW1hZ2Uge1xyXG4gIGZpbHRlcjogYnJpZ2h0bmVzcygwLjYpO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnRpdGxlLW92ZXJsYXkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LXdyYXA6IG5vd3JhcDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgei1pbmRleDogMTtcclxuICBsZWZ0OiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIHRvcDogMDtcclxuICBib3R0b206IDA7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgZm9udC1zaXplOiA1MHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi5wbGljeS1saXN0IHtcclxuICB6LWluZGV4OiAxO1xyXG4gIHRvcDogMTFweDtcclxuICBsZWZ0OiAxMXB4O1xyXG59XHJcblxyXG4ucm91bmRlZC0wIHtcclxuICBib3JkZXItcmFkaXVzOiAwICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi50YWJzLW1lbnUtY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuXHJcbiAgLyogdGFicyAqL1xyXG4gIC50YWJzLW1lbnUtc3ViLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG5cclxuICAgIC50YWJzLW1lbnUge1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcclxuICAgICAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7XHJcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgIG1hcmdpbjogYXV0bztcclxuICAgICAgcGFkZGluZy1ib3R0b206IDZweDtcclxuXHJcbiAgICAgIC50YWItaXRlbSB7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICAgICAgICAudGFiLWxpbmsge1xyXG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogLTRweDtcclxuICAgICAgICAgIGNvbG9yOiAjOGM4YzhjO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgYm9yZGVyOiAwO1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAubmF2LWZpeGVkIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50O1xyXG4gICAgdG9wOiAtNnB4O1xyXG4gICAgei1pbmRleDogOTk2O1xyXG4gICAgLy8gaGVpZ2h0OiAzOHB4O1xyXG4gICAgYmFja2dyb3VuZDogI2Y3ZjdmODtcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAzMnB4KTtcclxuICAgIGJveC1zaGFkb3c6IDBweCAycHggMXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxyXG4gICAgICAwcHggMXB4IDFweCAwcHggcmdiYSgwLCAwLCAwLCAwLjE0KSwgMHB4IDFweCAzcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xyXG4gIH1cclxuXHJcbiAgLnRhYnMtbWVudSxcclxuICAudGFicy1tZW51IC50YWItbGluay5hY3RpdmUge1xyXG4gICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAmOjphZnRlciB7XHJcbiAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgIGJvcmRlcjogM3B4IHNvbGlkICNlYWVhZWEgIWltcG9ydGFudDtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICBib3JkZXItcmFkaXVzOiAxMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgYm90dG9tOiAwO1xyXG4gICAgICBsZWZ0OiAwO1xyXG4gICAgICB6LWluZGV4OiAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnRhYnMtbWVudTo6YWZ0ZXIge1xyXG4gICAgd2lkdGg6IHZhcigtLWN1c3RvbS13aWR0aCk7XHJcbiAgfVxyXG5cclxuICAuYWN0aXZlLFxyXG4gIC50YWItaXRlbTpob3ZlciB7XHJcbiAgICAmOjphZnRlciB7XHJcbiAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgIGJvcmRlcjogM3B4IHNvbGlkICMzNzQ3NjEgIWltcG9ydGFudDtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICBib3JkZXItcmFkaXVzOiAxMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgYm90dG9tOiAtNnB4O1xyXG4gICAgICBsZWZ0OiAwO1xyXG4gICAgICB6LWluZGV4OiAzO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmFjdGl2ZSA+IC50YWItbGluayxcclxuICAudGFiLWl0ZW06aG92ZXIgPiAudGFiLWxpbmsge1xyXG4gICAgY29sb3I6ICMzNzQ3NjEgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC8qIGFycm93cyAqL1xyXG4gIC5hcnJvdy1idXR0b24ge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgei1pbmRleDogMTAwMDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlYWVhZWE7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBoZWlnaHQ6IDQ2cHg7XHJcbiAgfVxyXG5cclxuICAubGVmdCB7XHJcbiAgICBsZWZ0OiAwO1xyXG4gIH1cclxuICAucmlnaHQge1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgfVxyXG5cclxuICAuYXJyb3ctZml4ZWQge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgei1pbmRleDogOTk5O1xyXG4gICAgaGVpZ2h0OiAzOHB4ICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuYXJyb3ctZml4ZWQubGVmdCB7XHJcbiAgICBsZWZ0OiAzMnB4O1xyXG4gIH1cclxufVxyXG4iXX0= */"] });


/***/ }),

/***/ 23589:
/*!*******************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/assign-plan/assign-plan.component.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AssignPlanComponent": () => (/* binding */ AssignPlanComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-work-schedule.service */ 89320);
/* harmony import */ var app_personnel_setup_services_employees_assign_plan_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/assign-plan.service */ 21902);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_back_btn_back_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/components/resources/buttons/back-btn/back-btn.component */ 61064);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_org_management_policy_groups_policy_groups_dropdown_policy_groups_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../shared/components/dropdowns/org-management/policy-groups/policy-groups-dropdown/policy-groups-dropdown.component */ 90926);
/* harmony import */ var _shared_components_dropdowns_attendance_setup_attendance_plan_plan_by_policy_group_dropdown_plan_by_policy_group_dropdown_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../shared/components/dropdowns/attendance-setup/attendance-plan/plan-by-policy-group-dropdown/plan-by-policy-group-dropdown.component */ 40362);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_employees_employee_by_policy_group_dropdown_employee_by_policy_group_dropdown_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../shared/components/dropdowns/personnel-setup/employees/employee-by-policy-group-dropdown/employee-by-policy-group-dropdown.component */ 4526);























function AssignPlanComponent_ng_container_24_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](1, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](2, "app-material-table", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onChangePage", function AssignPlanComponent_ng_container_24_Template_app_material_table_onChangePage_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("deleteRow", function AssignPlanComponent_ng_container_24_Template_app_material_table_deleteRow_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r3.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions);
} }
class AssignPlanComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeWorkScheduleService, assignPlanService) {
        super();
        this.employeeWorkScheduleService = employeeWorkScheduleService;
        this.assignPlanService = assignPlanService;
        this.submitted = false;
        this.mandatoryColomns = [
            "Ser",
            "employee",
            "plan",
            "startDate",
            "toDate",
            "actions",
        ];
        this.isLoaded = true;
        this.optionalColomns = [];
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            policyGroupId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            plan_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            employeeIds: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            fromDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            is_Apply_Rules: [null],
        });
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        // if (this.checkNoBusinessOrCompany()) {
        // }
    }
    get formCtrls() {
        return this.form.controls;
    }
    getList(page, pageSize) {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        let planId = this.formCtrls.plan_ID.value;
        if (planId > 0) {
            this.isLoaded = false;
            this.page.pageIndex = page;
            if (pageSize)
                this.page.pageSize = pageSize;
            let params = {
                PageNumber: page,
                pageSize: this.page.pageSize,
            };
            this.assignPlanService
                .getList(planId, params)
                .pipe(this.cancelRequest())
                .subscribe((res) => {
                if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                    this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empWorkScheduleDisplay)(res.data));
                    this.isLoaded = true;
                    this.page.length = res.meta.totalItemCount;
                }
                else
                    this.errorList(res.message.messages);
            });
        }
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Plan_ID: this.formCtrls.plan_ID.value,
                    FromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.formCtrls.fromDate.value),
                    Is_Apply_Rules: this.formCtrls.is_Apply_Rules.value ?? false,
                },
                SelectedEmployeeIDs: this.formCtrls.employeeIds.value,
            };
            this.create(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.assignPlanService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    onDelete(employee) {
        let msg = employee.employee + " - " + employee.plan;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employee);
        });
    }
    delete(employee) {
        let deleteParams = {
            Person_Instance_ID: employee.person_Instance_ID,
            Plan_ID: employee.plan_ID,
            FromDate: employee.fromDate,
            ToDate: employee.toDateOriginal,
        };
        this.showLoading();
        this.employeeWorkScheduleService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.pageSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.pageSize);
                }
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.formCtrls.employeeIds.reset();
        this.formCtrls.fromDate.reset();
        this.formCtrls.is_Apply_Rules.reset();
        this.submitted = false;
    }
}
AssignPlanComponent.ɵfac = function AssignPlanComponent_Factory(t) { return new (t || AssignPlanComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeWorkScheduleService), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_assign_plan_service__WEBPACK_IMPORTED_MODULE_5__.AssignPlanService)); };
AssignPlanComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdefineComponent"]({ type: AssignPlanComponent, selectors: [["app-assign-plan"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵInheritDefinitionFeature"]], decls: 25, vars: 19, consts: [[1, "row"], [1, "col-12"], ["title", "assignPlan"], [3, "url", "params"], [1, "container-fluid"], [3, "formGroup"], [1, "col-md-4", "col-12"], [3, "control", "submitted", "filter"], [3, "control", "policyGroupCtrl", "submitted", "filter", "change"], [3, "control", "policyGroupCtrl", "submitted", "filter", "multi"], ["label", "fromDate", 3, "control", "submitted"], [1, "col-md-8", "col-12", "ptop-15", "pbottom-15"], ["label", "is_Apply_Rules", 3, "control"], ["align", "end"], [3, "onClick"], [4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "onChangePage", "deleteRow"]], template: function AssignPlanComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](1, "div", 0)(2, "div", 1)(3, "mat-card")(4, "mat-card-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](5, "page-title", 2)(6, "app-back-btn", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](7, "mat-card-content", 4)(8, "div", 0)(9, "div", 1)(10, "form", 5)(11, "div", 0)(12, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](13, "app-policy-groups-dropdown", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](14, "div", 6)(15, "app-plan-by-policy-group-dropdown", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("change", function AssignPlanComponent_Template_app_plan_by_policy_group_dropdown_change_15_listener() { return ctx.getList(ctx.firstPage); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](16, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](17, "app-employee-by-policy-group-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](18, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](19, "app-datepicker", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](20, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](21, "app-check-box", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](22, "mat-card-actions", 13)(23, "submit-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onClick", function AssignPlanComponent_Template_submit_btn_onClick_23_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](24, AssignPlanComponent_ng_container_24_Template, 3, 6, "ng-container", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpropertyInterpolate1"]("url", "/personnel-setup/", ctx.moduleId, "/employees");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("params", ctx.pageParams);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.policyGroupId)("submitted", ctx.submitted)("filter", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.plan_ID)("policyGroupCtrl", ctx.formCtrls.policyGroupId)("submitted", ctx.submitted)("filter", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.employeeIds)("policyGroupCtrl", ctx.formCtrls.policyGroupId)("submitted", ctx.submitted)("filter", true)("multi", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.fromDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.is_Apply_Rules);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.plan_ID.value > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_18__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__.CheckBoxComponent, _shared_components_resources_buttons_back_btn_back_btn_component__WEBPACK_IMPORTED_MODULE_9__.BackBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCardTitle, _angular_material_card__WEBPACK_IMPORTED_MODULE_19__.MatCardActions, _angular_material_divider__WEBPACK_IMPORTED_MODULE_20__.MatDivider, ngx_spinner__WEBPACK_IMPORTED_MODULE_21__.NgxSpinnerComponent, _shared_components_dropdowns_org_management_policy_groups_policy_groups_dropdown_policy_groups_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.PolicyGroupsDropdownComponent, _shared_components_dropdowns_attendance_setup_attendance_plan_plan_by_policy_group_dropdown_plan_by_policy_group_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.PlanByPolicyGroupDropdownComponent, _shared_components_dropdowns_personnel_setup_employees_employee_by_policy_group_dropdown_employee_by_policy_group_dropdown_component__WEBPACK_IMPORTED_MODULE_14__.EmployeeByPolicyGroupDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_16__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhc3NpZ24tcGxhbi5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 43536:
/*!******************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/card-shared-components/card-header/card-header.component.ts ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CardHeaderComponent": () => (/* binding */ CardHeaderComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/tooltip */ 6896);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ 89461);





function CardHeaderComponent_a_5_i_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "i", 6);
} }
function CardHeaderComponent_a_5_i_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "i", 7);
} }
function CardHeaderComponent_a_5_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CardHeaderComponent_a_5_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r3.click($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CardHeaderComponent_a_5_i_2_Template, 1, 0, "i", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, CardHeaderComponent_a_5_i_3_Template, 1, 0, "i", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 3, ctx_r0.isEdit ? "edit" : "add"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.isEdit);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.isEdit);
} }
const _c0 = ["*"];
class CardHeaderComponent {
    constructor() {
        // @Input() canMadeAction: boolean = false;
        this.isEdit = false;
        this.isLoaded = false;
        this.onClickIcon = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    }
    ngOnInit() {
    }
    ngOnChanges(changes) {
        // console.log(this.cardId, this.cardTitle, this.isLoaded);
    }
    click($event) {
        this.onClickIcon.emit($event);
    }
}
CardHeaderComponent.ɵfac = function CardHeaderComponent_Factory(t) { return new (t || CardHeaderComponent)(); };
CardHeaderComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CardHeaderComponent, selectors: [["card-header"]], inputs: { isEdit: "isEdit", cardTitle: "cardTitle", class: "class", isLoaded: "isLoaded" }, outputs: { onClickIcon: "onClickIcon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], ngContentSelectors: _c0, decls: 7, vars: 8, consts: [[1, "cardSectionTitle"], [1, "mb-0"], ["matTooltipPosition", "above", 3, "matTooltip", "click", 4, "ngIf"], ["matTooltipPosition", "above", 3, "matTooltip", "click"], ["class", "ft-plus-square darkBlue", 4, "ngIf"], ["class", "fas fa-pen darkBlue", 4, "ngIf"], [1, "ft-plus-square", "darkBlue"], [1, "fas", "fa-pen", "darkBlue"]], template: function CardHeaderComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "h5", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, CardHeaderComponent_a_5_Template, 4, 5, "a", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](6);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx.class);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 4, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 6, ctx.cardTitle)), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isLoaded);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_1__.NgIf, _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_2__.MatTooltip, _angular_common__WEBPACK_IMPORTED_MODULE_1__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.TranslatePipe], styles: [".side_title[_ngcontent-%COMP%] {\n  border: none;\n}\n.side_title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\n  font-weight: 500;\n  font-size: 16px;\n  color: #002a6f;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcmQtaGVhZGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtBQUNGO0FBQ0U7RUFDRSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FBQ0oiLCJmaWxlIjoiY2FyZC1oZWFkZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2lkZV90aXRsZSB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG5cclxuICBoNSB7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgY29sb3I6ICMwMDJhNmY7XHJcbiAgfVxyXG59XHJcbiJdfQ== */"] });


/***/ }),

/***/ 58588:
/*!**********************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/card-shared-components/card-row-item/card-row-item.component.ts ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CardRowItemComponent": () => (/* binding */ CardRowItemComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _shared_components_view_data_row_item_view_data_row_item_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../shared/components/view-data-row-item/view-data-row-item.component */ 93665);


class CardRowItemComponent {
    // @Output() onClick? = new EventEmitter<any>();
    constructor() {
        this.label = "";
        this.labelClass = "col-6";
        this.valueClass = "col-6";
        this.isDate = false;
        this.displayPlaceholder = true;
    }
    ngOnInit() {
        if (this.value == "null")
            this.value = null;
    }
}
CardRowItemComponent.ɵfac = function CardRowItemComponent_Factory(t) { return new (t || CardRowItemComponent)(); };
CardRowItemComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: CardRowItemComponent, selectors: [["card-row-item"]], inputs: { label: "label", labelClass: "labelClass", value: "value", valueClass: "valueClass", isDate: "isDate", displayPlaceholder: "displayPlaceholder" }, decls: 1, vars: 3, consts: [[1, "emp-custom-view", 3, "label", "value", "isDate"]], template: function CardRowItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "app-view-data-row-item", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("label", ctx.label)("value", ctx.value)("isDate", ctx.isDate);
    } }, dependencies: [_shared_components_view_data_row_item_view_data_row_item_component__WEBPACK_IMPORTED_MODULE_0__.ViewDataRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJkLXJvdy1pdGVtLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 87749:
/*!********************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/card-shared-components/see-more-btn/see-more-btn.component.ts ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SeeMoreBtnComponent": () => (/* binding */ SeeMoreBtnComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ 89461);




class SeeMoreBtnComponent {
    constructor() {
        this.isTableView = false;
        this.toggleTable = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    }
    ngOnInit() { }
    onToggleTable() {
        this.toggleTable.emit();
    }
}
SeeMoreBtnComponent.ɵfac = function SeeMoreBtnComponent_Factory(t) { return new (t || SeeMoreBtnComponent)(); };
SeeMoreBtnComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SeeMoreBtnComponent, selectors: [["see-more-btn"]], inputs: { isTableView: "isTableView" }, outputs: { toggleTable: "toggleTable" }, decls: 5, vars: 4, consts: [[1, "see-more-box"], [1, "view_see_more", 3, "click"], [1, "fas", "font-size-13", 3, "ngClass"]], template: function SeeMoreBtnComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "a", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SeeMoreBtnComponent_Template_a_click_1_listener() { return ctx.onToggleTable(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "i", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 2, ctx.isTableView ? "see_less" : "see_more"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx.isTableView ? "fa-chevron-up" : "fa-chevron-down");
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_1__.NgClass, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__.TranslatePipe], styles: [".see-more-box[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n.see-more-box[_ngcontent-%COMP%]   .view_see_more[_ngcontent-%COMP%] {\n  color: #169ed9 !important;\n  font-size: 18px !important;\n  text-decoration: underline !important;\n  margin: 0 auto;\n  display: block;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlZS1tb3JlLWJ0bi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsWUFBQTtBQUNGO0FBQ0U7RUFDRSx5QkFBQTtFQUNBLDBCQUFBO0VBQ0EscUNBQUE7RUFFQSxjQUFBO0VBQ0EsY0FBQTtBQUFKIiwiZmlsZSI6InNlZS1tb3JlLWJ0bi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zZWUtbW9yZS1ib3gge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBoZWlnaHQ6IDEwMCU7XHJcblxyXG4gIC52aWV3X3NlZV9tb3JlIHtcclxuICAgIGNvbG9yOiAjMTY5ZWQ5ICFpbXBvcnRhbnQ7XHJcbiAgICBmb250LXNpemU6IDE4cHggIWltcG9ydGFudDtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lICFpbXBvcnRhbnQ7XHJcbiAgICAvL21hcmdpbjogLTEwcHggMCAwIDUwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gIH1cclxuXHJcbn1cclxuIl19 */"] });


/***/ }),

/***/ 43996:
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/emp-permission/emp-permission-card/emp-permission-card.component.ts ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPermissionCardComponent": () => (/* binding */ EmpPermissionCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-balances */ 43242);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_permission_dialog_emp_permission_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-permission-dialog/emp-permission-dialog.component */ 68837);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employee_balances_employee_permission_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employee-balances/employee-permission.service */ 84241);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/tooltip */ 6896);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/core */ 89461);













function EmpPermissionCardComponent_div_0_ng_container_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](1, "div", 8)(2, "div", 9)(3, "div", 10)(4, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](6, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](7, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](8, "div", 11)(9, "div")(10, "table", 12)(11, "thead")(12, "tr")(13, "th", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](14, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](15, " B ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](16, "th", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](17, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](18, " U ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](19, "th", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](20, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](21, " R ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](22, "tbody")(23, "tr")(24, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](25);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](26, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](27, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](28);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](29, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](30, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](31);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](32, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](33, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](34);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const permission_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](6, 12, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](7, 14, permission_r7 == null ? null : permission_r7.permission)));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](14, 16, "balance"));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](17, 18, "used"));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](20, 20, "remaining"));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate2"]("", permission_r7 == null ? null : permission_r7.balance, "", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](26, 22, "hr"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate2"]("", permission_r7 == null ? null : permission_r7.used, "", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](29, 24, "hr"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate2"]("", permission_r7 == null ? null : permission_r7.remaining, "", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](32, 26, "hr"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate2"](" ", permission_r7 == null ? null : permission_r7.startDate, " - ", permission_r7 == null ? null : permission_r7.endDate, " ");
} }
function EmpPermissionCardComponent_div_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpPermissionCardComponent_div_0_ng_container_3_ng_container_1_Template, 35, 28, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r3.permissions);
} }
function EmpPermissionCardComponent_div_0_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "card-row-item", 15);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", null);
} }
function EmpPermissionCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpPermissionCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r8.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](3, EmpPermissionCardComponent_div_0_ng_container_3_Template, 2, 1, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](4, EmpPermissionCardComponent_div_0_ng_template_4_Template, 1, 1, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](5);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", ctx_r0.permissions == null ? null : ctx_r0.permissions.length)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", (ctx_r0.permissions == null ? null : ctx_r0.permissions.length) > 0)("ngIfElse", _r4);
} }
function EmpPermissionCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 16);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 6);
} }
class EmpPermissionCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeePermissionService) {
        super();
        this.employeePermissionService = employeePermissionService;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.permissions = null;
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isLoaded = true;
    }
    getAll() {
        this.permissions = null;
        this.employeePermissionService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                if (res.data.length > 5) {
                    let list1 = [];
                    let list2 = [];
                    // general permission
                    res.data.forEach((permission) => {
                        if (this.isGeneralPermission(permission))
                            list1.push(permission);
                        else
                            list2.push(permission);
                    });
                    let sortedList = [
                        // sort by end date (from new to old) > without general
                        ...list1,
                        ...list2
                            .sort((a, b) => new Date(b.closing_balance_date).getTime() -
                            new Date(a.closing_balance_date).getTime())
                            .slice(0, 5 - list1.length),
                    ];
                    // sort by end date (from new to old) > all list
                    sortedList.sort((a, b) => new Date(b.closing_balance_date).getTime() -
                        new Date(a.closing_balance_date).getTime());
                    this.permissions = (0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empPermissionDisplay)(sortedList).reverse();
                }
                else {
                    let sortedList = res.data;
                    sortedList.sort((a, b) => new Date(b.closing_balance_date).getTime() -
                        new Date(a.closing_balance_date).getTime());
                    this.permissions = (0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empPermissionDisplay)(sortedList).reverse();
                }
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_permission_dialog_emp_permission_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpPermissionDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    isGeneralPermission(permission) {
        return (permission.permission_Setup_Name
            .toLocaleLowerCase()
            .includes("general") ||
            permission.permission_Setup_Name.toLocaleLowerCase().includes("gp"));
    }
}
EmpPermissionCardComponent.ɵfac = function EmpPermissionCardComponent_Factory(t) { return new (t || EmpPermissionCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employee_balances_employee_permission_service__WEBPACK_IMPORTED_MODULE_5__.EmployeePermissionService)); };
EmpPermissionCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpPermissionCardComponent, selectors: [["emp-permission-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "permission", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], [4, "ngIf", "ngIfElse"], ["noData", ""], [4, "ngFor", "ngForOf"], [1, "rowItem"], [1, "row"], [1, "col-6"], [1, "col-6", "text-center", "mb-2"], [1, "table", "m-0", "smalltable", 2, "margin-top", "0 !important"], ["matTooltipPosition", "above", 3, "matTooltip"], [1, "text-muted"], ["label", "permission", 3, "value"], [3, "rowNo"]], template: function EmpPermissionCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpPermissionCardComponent_div_0_Template, 6, 4, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpPermissionCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_11__.MatTooltip, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _angular_common__WEBPACK_IMPORTED_MODULE_10__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGVybWlzc2lvbi1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 68837:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/emp-permission/emp-permission-dialog/emp-permission-dialog.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPermissionDialogComponent": () => (/* binding */ EmpPermissionDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-balances */ 43242);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employee_balances_employee_permission_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/employee-balances/employee-permission.service */ 84241);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/api */ 14356);
/* harmony import */ var primeng_messages__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! primeng/messages */ 58547);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ngx-translate/core */ 89461);
















function EmpPermissionDialogComponent_app_material_table_8_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpPermissionDialogComponent_app_material_table_8_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.getList($event.pageIndex + 1, $event.pageSize)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r1.isLoaded)("dataSource", ctx_r1.dataSource)("mandatoryColomns", ctx_r1.mandatoryColomns)("optionalColomns", ctx_r1.optionalColomns)("page", ctx_r1.page)("actions", ctx_r1.rowFunctions)("isDialogSize", true)("showFilter", false)("showSpaceTop", false);
} }
function EmpPermissionDialogComponent_ng_template_9_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](3, 1, "noDataToDisplay"), " ");
} }
function EmpPermissionDialogComponent_ng_template_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "p-messages", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmpPermissionDialogComponent_ng_template_9_ng_template_1_Template, 4, 3, "ng-template", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
class EmpPermissionDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeePermissionService, dialogRef) {
        super();
        this.employeePermissionService = employeePermissionService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        // updated: boolean = false;
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "permission",
            "startDate",
            "endDate",
            "balance",
            "used",
            "remaining",
            // "actions",
        ];
        this.optionalColomns = ["newHireBalance", "newHireCloseDate"];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() {
        // this.form = this.fb.group(
        //   {
        //     id: [0, { nonNullable: true }],
        //     permissionId: [null, [Validators.required]],
        //     startDate: [null, [Validators.required]],
        //     endDate: [null],
        //     balance: [null, [Validators.required]],
        //     used: [null, [Validators.required]],
        //     remaining: [null],
        //     permissionTaken: [null],
        //     newHireBalance: [null],
        //     newHireCloseDate: [null],
        //   },
        //   {
        //     validator: CustomValidator.compareDates("startDate", "endDate"),
        //   }
        // );
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(/* this.updated */ false);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeePermissionService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empPermissionDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    // submit() {
    //   // console.log(this.form.value);
    //   this.submitted = true;
    //   if (this.form.valid) {
    //     const model: IEmpPermissionRequest = {
    //       Person_ID: this.employeeInstanceId,
    //       id: this.form.value.id,
    //       permissionId: this.form.value.permissionId,
    //       startDate: this.form.value.startDate,
    //       endDate: this.form.value.endDate,
    //       balance: this.form.value.balance,
    //       used: this.form.value.used,
    //       permissionTaken: this.form.value.permissionTaken,
    //       newHireBalance: this.form.value.newHireBalance,
    //       newHireCloseDate: this.form.value.newHireCloseDate,
    //     };
    //     model.id == 0 ? this.create(model) : this.update(model);
    //   } // else this.toastr.error("General.formNotValid");
    // }
    // create(model: IEmpPermissionRequest) {
    //   this.showLoading();
    //   this.employeePermissionService
    //     .create(model)
    //     .subscribe((res: IResponse<IEmpPermissionModel>) => {
    //       if (res?.message?.messageType == MessageTypes.Success) {
    //         this.clearForm();
    //         this.addSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getList(this.currentPage);
    //         this.updated = true;
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    // update(model: IEmpPermissionRequest) {
    //   this.showLoading();
    //   this.employeePermissionService
    //     .update(model)
    //     .subscribe((res: IResponse<IEmpPermissionModel>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.clearForm();
    //         this.updateSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getList(this.currentPage);
    //         this.updated = true;
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    // employeePermissionToEdit(permission: IEmpPermissionDisplayModel) {
    //   this.form.patchValue(permission);
    //   // console.log(this.form.value);
    // }
    // onDelete(permission: IEmpPermissionDisplayModel): void {
    //   let msg = permission.permission;
    //   this.deleateDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(permission);
    //   });
    // }
    // delete(permission: IEmpPermissionDisplayModel) {
    //   this.showLoading();
    //   this.employeePermissionService
    //     .Delete(permission.id)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.updated = true;
    //         if (permission.id == this.formCtrls.id.value)
    //           this.clearForm();
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpPermissionDialogComponent.ɵfac = function EmpPermissionDialogComponent_Factory(t) { return new (t || EmpPermissionDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employee_balances_employee_permission_service__WEBPACK_IMPORTED_MODULE_4__.EmployeePermissionService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogRef)); };
EmpPermissionDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpPermissionDialogComponent, selectors: [["emp-permission-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"]], decls: 11, vars: 2, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "permission", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "showSpaceTop", "onChangePage", 4, "ngIf", "ngIfElse"], ["noData", ""], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "showSpaceTop", "onChangePage"], ["severity", "warn"], ["pTemplate", ""], [1, "p-message-icon", "pi", "pi-exclamation-triangle"], [1, "p-message-detail"]], template: function EmpPermissionDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function EmpPermissionDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](8, EmpPermissionDialogComponent_app_material_table_8_Template, 1, 9, "app-material-table", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](9, EmpPermissionDialogComponent_ng_template_9_Template, 2, 0, "ng-template", null, 7, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0)("ngIfElse", _r2);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_5__.MaterialTableComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_6__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_11__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_12__.NgxSpinnerComponent, primeng_api__WEBPACK_IMPORTED_MODULE_13__.PrimeTemplate, primeng_messages__WEBPACK_IMPORTED_MODULE_14__.Messages, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGVybWlzc2lvbi1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 76816:
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/emp-vacation/emp-vacation-card/emp-vacation-card.component.ts ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpVacationCardComponent": () => (/* binding */ EmpVacationCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-balances */ 43242);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_vacation_dialog_emp_vacation_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-vacation-dialog/emp-vacation-dialog.component */ 92915);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employee_balances_employee_vacation_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employee-balances/employee-vacation.service */ 56379);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/tooltip */ 6896);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/core */ 89461);













function EmpVacationCardComponent_div_0_ng_container_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](1, "div", 8)(2, "div", 9)(3, "div", 10)(4, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](6, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](7, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](8, "div", 11)(9, "div")(10, "table", 12)(11, "thead")(12, "tr")(13, "th", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](14, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](15, " B ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](16, "th", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](17, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](18, " U ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](19, "th", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](20, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](21, " R ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](22, "tbody")(23, "tr")(24, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](25);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](26, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](27);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](28, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](29);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](30, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](31);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const vacation_r7 = ctx.$implicit;
    let tmp_5_0;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](6, 9, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](7, 11, vacation_r7 == null ? null : vacation_r7.vacation)));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](14, 13, "balance"));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](17, 15, "used"));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](20, 17, "remaining"));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](vacation_r7 == null ? null : vacation_r7.balance);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"]((tmp_5_0 = vacation_r7 == null ? null : vacation_r7.used) !== null && tmp_5_0 !== undefined ? tmp_5_0 : 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](vacation_r7 == null ? null : vacation_r7.remaining);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate2"](" ", vacation_r7 == null ? null : vacation_r7.startDate, " - ", vacation_r7 == null ? null : vacation_r7.endDate, " ");
} }
function EmpVacationCardComponent_div_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpVacationCardComponent_div_0_ng_container_3_ng_container_1_Template, 32, 19, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r3.vacations);
} }
function EmpVacationCardComponent_div_0_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "card-row-item", 15);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", null);
} }
function EmpVacationCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpVacationCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r8.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](3, EmpVacationCardComponent_div_0_ng_container_3_Template, 2, 1, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](4, EmpVacationCardComponent_div_0_ng_template_4_Template, 1, 1, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](5);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", ctx_r0.vacations == null ? null : ctx_r0.vacations.length)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", (ctx_r0.vacations == null ? null : ctx_r0.vacations.length) > 0)("ngIfElse", _r4);
} }
function EmpVacationCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 16);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 6);
} }
class EmpVacationCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeVacationService) {
        super();
        this.employeeVacationService = employeeVacationService;
        this.employeeInstanceId = 0;
        this.vacations = [];
        this.isLoaded = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getCard();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.vacations = [];
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getCard();
        else
            this.isLoaded = true;
    }
    getCard() {
        this.vacations = [];
        this.employeeVacationService
            .getCard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                if (res.data.length > 0) {
                    let list1 = [];
                    let list2 = [];
                    // annual & casual vacations
                    res.data.forEach((vacation) => {
                        if (this.isAnnualOrCasualVacations(vacation))
                            list1.push(vacation);
                        else
                            list2.push(vacation);
                    });
                    let sortedList = [
                        // sort by end date (from new to old) > without annual & casual
                        ...list1,
                        ...list2
                            .sort((a, b) => new Date(b.closing_balance_date).getTime() -
                            new Date(a.closing_balance_date).getTime())
                            .slice(0, 5 - list1.length),
                    ];
                    // sort by end date (from new to old) > all list
                    sortedList.sort((a, b) => new Date(b.closing_balance_date).getTime() -
                        new Date(a.closing_balance_date).getTime());
                    this.vacations = (0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empVacationDisplay)(sortedList).reverse();
                }
                else {
                    let sortedList = res.data;
                    sortedList.sort((a, b) => new Date(b.closing_balance_date).getTime() -
                        new Date(a.closing_balance_date).getTime());
                    this.vacations = (0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empVacationDisplay)(sortedList).reverse();
                }
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_vacation_dialog_emp_vacation_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpVacationDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getCard();
            }
        });
    }
    isAnnualOrCasualVacations(vacation) {
        return (vacation.vacation_EnName.toLocaleLowerCase().includes("annual") ||
            vacation.vacation_ArName.toLocaleLowerCase().includes("annual") ||
            vacation.vacation_EnName.toLocaleLowerCase().includes("casual") ||
            vacation.vacation_ArName.toLocaleLowerCase().includes("casual"));
    }
}
EmpVacationCardComponent.ɵfac = function EmpVacationCardComponent_Factory(t) { return new (t || EmpVacationCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employee_balances_employee_vacation_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeVacationService)); };
EmpVacationCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpVacationCardComponent, selectors: [["emp-vacation-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "vacation", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], [4, "ngIf", "ngIfElse"], ["noData", ""], [4, "ngFor", "ngForOf"], [1, "rowItem"], [1, "row"], [1, "col-6"], [1, "col-6", "text-center", "mb-2"], [1, "table", "m-0", "smalltable", 2, "margin-top", "0 !important"], ["matTooltipPosition", "above", 3, "matTooltip"], [1, "text-muted"], ["label", "vacation", 3, "value"], [3, "rowNo"]], template: function EmpVacationCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpVacationCardComponent_div_0_Template, 6, 4, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpVacationCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_11__.MatTooltip, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _angular_common__WEBPACK_IMPORTED_MODULE_10__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtdmFjYXRpb24tY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 92915:
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/emp-vacation/emp-vacation-dialog/emp-vacation-dialog.component.ts ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpVacationDialogComponent": () => (/* binding */ EmpVacationDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-balances */ 43242);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employee_balances_employee_vacation_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/personnel-setup/services/employees/employee-balances/employee-vacation.service */ 56379);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _shared_components_resources_buttons_button_button_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/button/button.component */ 71812);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_attendance_setup_vacation_type_dropdown_vacation_type_dropdown_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/attendance-setup/vacation-type-dropdown/vacation-type-dropdown.component */ 72370);
























function EmpVacationDialogComponent_reset_form_btn_22_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "reset-form-btn", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function EmpVacationDialogComponent_reset_form_btn_22_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r4.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} }
function EmpVacationDialogComponent_submit_btn_23_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "submit-btn", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("onClick", function EmpVacationDialogComponent_submit_btn_23_Template_submit_btn_onClick_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r6.submit()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("id", ctx_r2.formCtrls.id.value)("color", ctx_r2.btn.darkBlue)("disabled", !ctx_r2.employeeInstanceId);
} }
function EmpVacationDialogComponent_app_material_table_25_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](0, "app-material-table", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("onChangePage", function EmpVacationDialogComponent_app_material_table_25_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r8.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpVacationDialogComponent_app_material_table_25_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r9); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r10.employeeVacationToEdit($event)); })("deleteRow", function EmpVacationDialogComponent_app_material_table_25_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵrestoreView"](_r9); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵresetView"](ctx_r11.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("isLoaded", ctx_r3.isLoaded)("dataSource", ctx_r3.dataSource)("mandatoryColomns", ctx_r3.mandatoryColomns)("optionalColomns", ctx_r3.optionalColomns)("page", ctx_r3.page)("actions", ctx_r3.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpVacationDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeVacationService, dialogRef) {
        super();
        this.employeeVacationService = employeeVacationService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        this.updated = false;
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "vacation",
            "startDate",
            "endDate",
            "balance",
            "used",
            "remaining",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.selectedVacation = null;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_vacation_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            vacation_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Validators.required]],
            opening_balance_date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Validators.required]],
            closing_balance_date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Validators.required]],
            vacationBalanceOriginal: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Validators.required]],
            vacation_Done_Balance: [null], // used
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_6__.CustomValidator.compareDates("opening_balance_date", "closing_balance_date"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.updated);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_18__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_18__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeVacationService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_18__.MatTableDataSource((0,app_personnel_setup_mapper_emp_balances__WEBPACK_IMPORTED_MODULE_0__.empVacationDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                person_Instance_ID: this.employeeInstanceId,
                vacation_ID: this.formCtrls.vacation_ID.value,
                opening_balance_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.formCtrls.opening_balance_date.value),
                closing_balance_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.formCtrls.closing_balance_date.value),
                vacation_balance: this.formCtrls.vacationBalanceOriginal.value,
            };
            this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    update(model) {
        this.showLoading();
        this.employeeVacationService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
                this.selectedVacation = null;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeVacationToEdit(vacation) {
        this.form.patchValue(vacation);
        // only to detect edit
        this.formCtrls.id.setValue(vacation.vacation_ID);
        this.selectedVacation = vacation;
        // console.log(this.form.value);
    }
    onDelete(vacation) {
        let msg = vacation.vacation;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(vacation);
        });
    }
    delete(vacation) {
        let deleteData = {
            vacation_ID: vacation.vacation_ID,
            person_Instance_ID: this.employeeInstanceId,
            opening_balance_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(vacation.opening_balance_date),
            closing_balance_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(vacation.closing_balance_date),
            vacation_balance: vacation.vacationBalanceOriginal,
        };
        this.showLoading();
        this.employeeVacationService
            .Delete(deleteData)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.updated = true;
                if (vacation.vacation_ID == this.selectedVacation?.vacation_ID &&
                    vacation.opening_balance_date ==
                        this.selectedVacation?.opening_balance_date &&
                    vacation.closing_balance_date ==
                        this.selectedVacation?.closing_balance_date &&
                    vacation.vacationBalanceOriginal ==
                        this.selectedVacation?.vacationBalanceOriginal &&
                    this.formCtrls.id.value > 0)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    regenerateBalance() {
        this.showLoading();
        this.employeeVacationService
            .regenerateBalance(this.employeeInstanceId)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
}
EmpVacationDialogComponent.ɵfac = function EmpVacationDialogComponent_Factory(t) { return new (t || EmpVacationDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employee_balances_employee_vacation_service__WEBPACK_IMPORTED_MODULE_7__.EmployeeVacationService), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_19__.MatDialogRef)); };
EmpVacationDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdefineComponent"]({ type: EmpVacationDialogComponent, selectors: [["emp-vacation-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵInheritDefinitionFeature"]], decls: 26, vars: 22, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "vacation", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo", "disable"], ["label", "startDate", 3, "control", "submitted", "disabled"], ["label", "endDate", 3, "control", "submitted", "disabled"], ["label", "balance", "type", "number", 3, "control", "submitted", "disabled"], ["label", "used", "type", "number", 3, "control", "submitted", "disabled"], [1, "emp-form-btns-float"], ["label", "regenerateBalance", 1, "float-left", 3, "color", "onClick"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick", 4, "ngIf"], [1, "clearfix"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [3, "id", "color", "disabled", "onClick"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow"]], template: function EmpVacationDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("click", function EmpVacationDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](11, "app-vacation-type-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](13, "app-datepicker", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](15, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](17, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](18, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](19, "app-input", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementStart"](20, "div", 14)(21, "app-button", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵlistener"]("onClick", function EmpVacationDialogComponent_Template_app_button_onClick_21_listener() { return ctx.regenerateBalance(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](22, EmpVacationDialogComponent_reset_form_btn_22_Template, 1, 0, "reset-form-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](23, EmpVacationDialogComponent_submit_btn_23_Template, 1, 3, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelement"](24, "div", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵtemplate"](25, EmpVacationDialogComponent_app_material_table_25_Template, 1, 8, "app-material-table", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.vacation_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0)("disable", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.opening_balance_date)("submitted", ctx.submitted)("disabled", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.closing_balance_date)("submitted", ctx.submitted)("disabled", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.vacationBalanceOriginal)("submitted", ctx.submitted)("disabled", ctx.formCtrls.id.value == 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("control", ctx.formCtrls.vacation_Done_Balance)("submitted", ctx.submitted)("disabled", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("color", ctx.btn.darkBlue);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_9__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_10__.MaterialTableComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_11__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_12__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_13__.PageTitleComponent, _shared_components_resources_buttons_button_button_component__WEBPACK_IMPORTED_MODULE_14__.ButtonComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_21__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_19__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_19__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_22__.NgxSpinnerComponent, _shared_components_dropdowns_attendance_setup_vacation_type_dropdown_vacation_type_dropdown_component__WEBPACK_IMPORTED_MODULE_15__.VacationTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_17__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_17__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtdmFjYXRpb24tZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 21918:
/*!***********************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-balances/employee-balances-core/employee-balances-core.component.ts ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeBalancesCoreComponent": () => (/* binding */ EmployeeBalancesCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_vacation_emp_vacation_card_emp_vacation_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-vacation/emp-vacation-card/emp-vacation-card.component */ 76816);
/* harmony import */ var _emp_permission_emp_permission_card_emp_permission_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-permission/emp-permission-card/emp-permission-card.component */ 43996);








function EmployeeBalancesCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "emp-vacation-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
function EmployeeBalancesCoreComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "emp-permission-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
class EmployeeBalancesCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_balances_tab);
        // console.log("balances_info", this.allowedSections);
    }
}
EmployeeBalancesCoreComponent.ɵfac = function EmployeeBalancesCoreComponent_Factory(t) { return new (t || EmployeeBalancesCoreComponent)(); };
EmployeeBalancesCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmployeeBalancesCoreComponent, selectors: [["employee-balances-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 3, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "employeeBalances", "color", "info", 3, "icon"], [1, "container-fluid", "p-0"], [1, "row", "mx-md-n2"], ["class", "col-md-6 col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-md-6", "col-12", "p-0", "px-md-2"]], template: function EmployeeBalancesCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](7, EmployeeBalancesCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](8, EmployeeBalancesCoreComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("icon", ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_vacation_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_permission_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardTitle, _emp_vacation_emp_vacation_card_emp_vacation_card_component__WEBPACK_IMPORTED_MODULE_3__.EmpVacationCardComponent, _emp_permission_emp_permission_card_emp_permission_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpPermissionCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llZS1iYWxhbmNlcy1jb3JlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 70923:
/*!*******************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-career-core/emp-career-core.component.ts ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeCareerCoreComponent": () => (/* binding */ EmployeeCareerCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_education_emp_education_card_emp_education_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-education/emp-education-card/emp-education-card.component */ 36355);
/* harmony import */ var _emp_work_experience_emp_work_experience_card_emp_work_experience_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-work-experience/emp-work-experience-card/emp-work-experience-card.component */ 5760);








function EmployeeCareerCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "emp-education-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
function EmployeeCareerCoreComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "emp-work-experience-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
class EmployeeCareerCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_career_tab);
    }
}
EmployeeCareerCoreComponent.ɵfac = function EmployeeCareerCoreComponent_Factory(t) { return new (t || EmployeeCareerCoreComponent)(); };
EmployeeCareerCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmployeeCareerCoreComponent, selectors: [["emp-career-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 2, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "career", "color", "font-dark", 1, "font-size-17", "font-weight-bold"], [1, "container-fluid", "p-0", "px-4"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmployeeCareerCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](7, EmployeeCareerCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](8, EmployeeCareerCoreComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_education_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_work_experience_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardTitle, _emp_education_emp_education_card_emp_education_card_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeEducationCardComponent, _emp_work_experience_emp_work_experience_card_emp_work_experience_card_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeWorkExperienceCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY2FyZWVyLWNvcmUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 36355:
/*!***************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-education/emp-education-card/emp-education-card.component.ts ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeEducationCardComponent": () => (/* binding */ EmployeeEducationCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-career */ 60057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_education_dialog_emp_education_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-education-dialog/emp-education-dialog.component */ 41864);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-education.service */ 54316);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-education-table/emp-education-table.component */ 11806);













function EmployeeEducationCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13)(4, "card-row-item", 14)(5, "card-row-item", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.institution);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.major);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.degree);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.year);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empEducation == null ? null : ctx_r3.empEducation.gpaGrade);
} }
function EmployeeEducationCardComponent_div_0_emp_education_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "emp-education-table", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmployeeEducationCardComponent_div_0_emp_education_table_6_Template_emp_education_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r5.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeEducationCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmployeeEducationCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r7.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmployeeEducationCardComponent_div_0_div_5_Template, 6, 5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmployeeEducationCardComponent_div_0_emp_education_table_6_Template, 1, 2, "emp-education-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmployeeEducationCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r9.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.empEducation)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isTableView", ctx_r0.isTableView);
} }
function EmployeeEducationCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 17);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 5);
} }
class EmployeeEducationCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeEducationService) {
        super();
        this.employeeEducationService = employeeEducationService;
        this.employeeId = 0;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        // this.employeeInstanceId = EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empEducation = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAllByEmployeeId();
        else
            this.isLoaded = true;
    }
    getAllByEmployeeId() {
        this.empEducation = null;
        this.employeeEducationService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                let sortedList = res.data;
                // sort by year (from new to old)
                sortedList.sort((a, b) => b.year - a.year);
                this.empEducation = (0,app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__.empEducationDisplay)(sortedList)[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_education_dialog_emp_education_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeEducationDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
    afterDelete(education) {
        if (education) {
            this.isLoaded = false;
            this.getAllByEmployeeId();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeEducationCardComponent.ɵfac = function EmployeeEducationCardComponent_Factory(t) { return new (t || EmployeeEducationCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeEducationService)); };
EmployeeEducationCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmployeeEducationCardComponent, selectors: [["emp-education-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-2"], ["cardTitle", "education", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-8"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "institution", 1, "col", 3, "value"], ["label", "major", 1, "col", 3, "value"], ["label", "degree", 1, "col", 3, "value"], ["label", "year", 1, "col", 3, "value"], ["label", "gpaGrade", 1, "col", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeEducationCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmployeeEducationCardComponent_div_0_Template, 9, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmployeeEducationCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpEducationTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZWR1Y2F0aW9uLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 41864:
/*!*******************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-education/emp-education-dialog/emp-education-dialog.component.ts ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeEducationDialogComponent": () => (/* binding */ EmployeeEducationDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-education.service */ 54316);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_institution_dropdown_institution_dropdown_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/institution-dropdown/institution-dropdown.component */ 28867);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_education_year_dropdown_education_year_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/education-year-dropdown/education-year-dropdown.component */ 59997);
/* harmony import */ var _shared_components_dropdowns_hr_setup_education_degree_dropdown_education_degree_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/education-degree-dropdown/education-degree-dropdown.component */ 28888);
/* harmony import */ var _shared_components_dropdowns_hr_setup_education_grade_dropdown_education_grade_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/education-grade-dropdown/education-grade-dropdown.component */ 94183);
/* harmony import */ var _emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../emp-education-table/emp-education-table.component */ 11806);





















function EmployeeEducationDialogComponent_reset_form_btn_23_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "reset-form-btn", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmployeeEducationDialogComponent_reset_form_btn_23_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} }
class EmployeeEducationDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeEducationService, dialogRef) {
        super();
        this.employeeEducationService = employeeEducationService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        // employeeInstanceId: number = 0;
        this.hasUpdate = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        // this.employeeInstanceId = EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_education_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            institutionID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            major: [null],
            academicID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            year: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            gradeID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            gpa: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getList(this.firstPage);
    //   }
    // }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeEducationService
    //     .getList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeEducationModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           empEducationDisplay(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //         this.isLoaded = true;
    //       } else this.errorList(res.message.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                Education: {
                    PersonID: this.employeeId,
                    InstitutionID: this.form.value.institutionID,
                    Major: this.form.value.major,
                    GradeID: this.form.value.gradeID,
                    AcademicID: this.form.value.academicID,
                    Year: this.form.value.year,
                    GPA: this.form.value.gpa,
                },
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeEducationService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        let editModel = {
            ...model,
            OriginalEducation: {
                PersonID: this.employeeId,
                AcademicID: this.selectedEducation.academicID,
                GradeID: this.selectedEducation.gradeID,
            },
        };
        this.showLoading();
        this.employeeEducationService
            .update(editModel)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
                this.selectedEducation = null;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeEducationToEdit(employeeEducationInfo) {
        this.form.patchValue(employeeEducationInfo);
        // not real id >> only to detect edit mode
        this.formCtrls.id.setValue(employeeEducationInfo.comm_Education_Degree?.id ?? 1);
        // to use in edit request
        this.selectedEducation = employeeEducationInfo;
    }
    // onDelete(employeeEducationInfo: IEmployeeEducationModel): void {
    //   let msg = `${employeeEducationInfo.degree} - ${employeeEducationInfo.grade}`;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeEducationInfo);
    //   });
    // }
    // delete(employeeEducationInfo: IEmployeeEducationModel) {
    //   let deleteParams: IEmployeeEducationDeleteParams = {
    //     PersonID: this.employeeId,
    //     GradeID: employeeEducationInfo.gradeID,
    //     AcademicID: employeeEducationInfo.academicID,
    //   };
    //   this.showLoading();
    //   this.employeeEducationService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.updated = true;
    //         if (
    //           employeeEducationInfo.academicID ==
    //             this.selectedEducation?.academicID &&
    //           employeeEducationInfo.gradeID == this.selectedEducation?.gradeID &&
    //           this.formCtrls.id.value > 0
    //         )
    //           this.clearForm();
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(education) {
        if (education.academicID == this.selectedEducation?.academicID &&
            education.gradeID == this.selectedEducation?.gradeID &&
            this.formCtrls.id.value > 0)
            this.clearForm();
        if (education)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmployeeEducationDialogComponent.ɵfac = function EmployeeEducationDialogComponent_Factory(t) { return new (t || EmployeeEducationDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeEducationService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmployeeEducationDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: EmployeeEducationDialogComponent, selectors: [["app-employee-education-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵInheritDefinitionFeature"]], decls: 26, vars: 26, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "education", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "major", 3, "control", "submitted"], ["label", "grade", 3, "control", "submitted", "filter", "appendTo"], ["label", "gpa", "type", "number", 3, "control", "submitted"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeeEducationDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmployeeEducationDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](11, "app-institution-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](13, "app-input", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](15, "app-education-degree-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](17, "app-education-year-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](18, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](19, "app-education-grade-dropdown", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](20, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](21, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](22, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](23, EmployeeEducationDialogComponent_reset_form_btn_23_Template, 1, 0, "reset-form-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](24, "submit-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onClick", function EmployeeEducationDialogComponent_Template_submit_btn_onClick_24_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](25, "emp-education-table", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("rowToEdit", function EmployeeEducationDialogComponent_Template_emp_education_table_rowToEdit_25_listener($event) { return ctx.employeeEducationToEdit($event); })("afterDelete", function EmployeeEducationDialogComponent_Template_emp_education_table_afterDelete_25_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.institutionID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.major)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.academicID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.year)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.gradeID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.gpa)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("hasUpdate", ctx.hasUpdate);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__.InputComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_institution_dropdown_institution_dropdown_component__WEBPACK_IMPORTED_MODULE_9__.InstitutionDropdownComponent, _shared_components_dropdowns_personnel_setup_education_year_dropdown_education_year_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.EducationYearDropdownComponent, _shared_components_dropdowns_hr_setup_education_degree_dropdown_education_degree_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.EducationDegreeDropdownComponent, _shared_components_dropdowns_hr_setup_education_grade_dropdown_education_grade_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.EducationGradeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_15__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormGroupDirective, _emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_13__.EmpEducationTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZWR1Y2F0aW9uLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 11806:
/*!*****************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-education/emp-education-table/emp-education-table.component.ts ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpEducationTableComponent": () => (/* binding */ EmpEducationTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-career */ 60057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-education.service */ 54316);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpEducationTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpEducationTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpEducationTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpEducationTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpEducationTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeEducationService) {
        super();
        this.employeeEducationService = employeeEducationService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "institution",
            "major",
            "degree",
            "year",
            "gpaGrade",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_education_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex((e) => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeEducationService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__.empEducationDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    toEdit(education) {
        this.rowToEdit.emit(education);
    }
    onDelete(education) {
        let msg = `${education.degree} - ${education.grade}`;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(education);
        });
    }
    delete(education) {
        let deleteParams = {
            PersonID: this.employeeId,
            GradeID: education.gradeID,
            AcademicID: education.academicID,
        };
        this.showLoading();
        this.employeeEducationService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(education);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
}
EmpEducationTableComponent.ɵfac = function EmpEducationTableComponent_Factory(t) { return new (t || EmpEducationTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_education_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeEducationService)); };
EmpEducationTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpEducationTableComponent, selectors: [["emp-education-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 1, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpEducationTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpEducationTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZWR1Y2F0aW9uLXRhYmxlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 5760:
/*!*********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-work-experience/emp-work-experience-card/emp-work-experience-card.component.ts ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeWorkExperienceCardComponent": () => (/* binding */ EmployeeWorkExperienceCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_work_experience_dialog_employee_work_experience_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-work-experience-dialog/employee-work-experience-dialog.component */ 13619);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-work-experience.service */ 63875);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../emp-work-experience-table/emp-work-experience-table.component */ 79371);












function EmployeeWorkExperienceCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13)(4, "card-row-item", 14)(5, "card-row-item", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.companyName);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.org_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.job_Title_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.from_Date)("isDate", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.empWorkExperience == null ? null : ctx_r3.empWorkExperience.to_Date)("isDate", true);
} }
function EmployeeWorkExperienceCardComponent_div_0_emp_work_experience_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "emp-work-experience-table", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("afterDelete", function EmployeeWorkExperienceCardComponent_div_0_emp_work_experience_table_6_Template_emp_work_experience_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r5.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeWorkExperienceCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmployeeWorkExperienceCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r7.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmployeeWorkExperienceCardComponent_div_0_div_5_Template, 6, 7, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](6, EmployeeWorkExperienceCardComponent_div_0_emp_work_experience_table_6_Template, 1, 2, "emp-work-experience-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("toggleTable", function EmployeeWorkExperienceCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r9.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", ctx_r0.empWorkExperience)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isTableView", ctx_r0.isTableView);
} }
function EmployeeWorkExperienceCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 17);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 5);
} }
class EmployeeWorkExperienceCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeWorkExperienceService) {
        super();
        this.employeeWorkExperienceService = employeeWorkExperienceService;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empWorkExperience = null;
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
            this.getAll();
        }
        else
            this.isLoaded = true;
    }
    getAll() {
        this.empWorkExperience = null;
        this.employeeWorkExperienceService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                var filter = res.data;
                filter.sort((a, b) => new Date(b.to_Date).getTime() - new Date(a.to_Date).getTime());
                this.empWorkExperience = filter[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_work_experience_dialog_employee_work_experience_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeWorkExperienceDialogComponent)
            .afterClosed()
            .subscribe((isHaseChange) => {
            if (isHaseChange) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    afterDelete(workExperience) {
        if (workExperience) {
            this.isLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeWorkExperienceCardComponent.ɵfac = function EmployeeWorkExperienceCardComponent_Factory(t) { return new (t || EmployeeWorkExperienceCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeWorkExperienceService)); };
EmployeeWorkExperienceCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmployeeWorkExperienceCardComponent, selectors: [["emp-work-experience-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-2"], ["cardTitle", "workExperience", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-8"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "companyName", 1, "col", 3, "value"], ["label", "department", 1, "col", 3, "value"], ["label", "position", 1, "col", 3, "value"], ["label", "startDate", 1, "col", 3, "value", "isDate"], ["label", "endDate", 1, "col", 3, "value", "isDate"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeWorkExperienceCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmployeeWorkExperienceCardComponent_div_0_Template, 9, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeeWorkExperienceCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_8__.SeeMoreBtnComponent, _emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_9__.EmpWorkExperienceTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtd29yay1leHBlcmllbmNlLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 13619:
/*!******************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-work-experience/emp-work-experience-dialog/employee-work-experience-dialog.component.ts ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeWorkExperienceDialogComponent": () => (/* binding */ EmployeeWorkExperienceDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-work-experience.service */ 63875);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-work-experience-table/emp-work-experience-table.component */ 79371);





















function EmployeeWorkExperienceDialogComponent_reset_form_btn_21_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeWorkExperienceDialogComponent_reset_form_btn_21_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmployeeWorkExperienceDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(empWorkExperienceService, dialogRef) {
        super();
        this.empWorkExperienceService = empWorkExperienceService;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.hasUpdate = false;
        this.submitted = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_work_experience_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            companyName: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_5__.CustomValidator.whiteSpace]],
            department: [null],
            position: [null],
            startDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
            endDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_5__.CustomValidator.compareDates("startDate", "endDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeInstanceId > 0) this.getList(this.firstPage);
    //   }
    // }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.empWorkExperienceService
    //     .getList(this.employeeInstanceId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmpWorkExperienceModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(empCareerDisplay(res.data));
    //         this.page.length = res.meta.totalItemCount;
    //         this.isLoaded = true;
    //       } else this.errorList(res.message.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                WorkExperience: {
                    person_Instance_ID: this.employeeInstanceId,
                    id: this.form.value.id,
                    companyName: this.form.value.companyName,
                    org_Name: this.form.value.department,
                    job_Title_Name: this.form.value.position,
                    from_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.startDate),
                    to_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.endDate),
                },
            };
            model.WorkExperience.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.empWorkExperienceService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.firstPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.empWorkExperienceService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeWorkExperienceToEdit(empWork) {
        this.form.patchValue(empWork);
        this.formCtrls.startDate.setValue(empWork.from_Date);
        this.formCtrls.endDate.setValue(empWork.to_Date);
        // console.log("empWork", empWork);
        // console.log("form", this.form.value);
    }
    // onDelete(empWork: IEmpWorkExperienceDisplay): void {
    //   let msg = this.msgTranslate(empWork.companyName);
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(empWork);
    //   });
    // }
    // delete(empWork: IEmpWorkExperienceDisplay) {
    //   this.showLoading();
    //   this.empWorkExperienceService
    //     .Delete(empWork.id)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.hasUpdate = true;
    //         if (empWork.id == this.formCtrls.id.value) this.clearForm();
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(empWork) {
        if (empWork.id == this.formCtrls.id.value)
            this.clearForm();
        if (empWork)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmployeeWorkExperienceDialogComponent.ɵfac = function EmployeeWorkExperienceDialogComponent_Factory(t) { return new (t || EmployeeWorkExperienceDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeWorkExperienceService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmployeeWorkExperienceDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeWorkExperienceDialogComponent, selectors: [["app-employee-work-experience-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 24, vars: 16, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "workExperience", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "companyName", 3, "control", "submitted"], ["label", "department", 3, "control", "submitted"], ["label", "position", 3, "control", "submitted"], ["label", "startDate", 3, "control", "submitted"], ["label", "endDate", 3, "control", "submitted"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeeWorkExperienceDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeWorkExperienceDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "app-input", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-input", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](17, "app-datepicker", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](19, "app-datepicker", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](20, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](21, EmployeeWorkExperienceDialogComponent_reset_form_btn_21_Template, 1, 0, "reset-form-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](22, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeWorkExperienceDialogComponent_Template_submit_btn_onClick_22_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](23, "emp-work-experience-table", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmployeeWorkExperienceDialogComponent_Template_emp_work_experience_table_rowToEdit_23_listener($event) { return ctx.employeeWorkExperienceToEdit($event); })("afterDelete", function EmployeeWorkExperienceDialogComponent_Template_emp_work_experience_table_afterDelete_23_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.companyName)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.department)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.position)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.startDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.endDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.hasUpdate);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_8__.InputComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpWorkExperienceTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llZS13b3JrLWV4cGVyaWVuY2UtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 79371:
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-career/emp-work-experience/emp-work-experience-table/emp-work-experience-table.component.ts ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpWorkExperienceTableComponent": () => (/* binding */ EmpWorkExperienceTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-career */ 60057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/career/employee-work-experience.service */ 63875);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpWorkExperienceTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpWorkExperienceTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpWorkExperienceTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpWorkExperienceTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpWorkExperienceTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(empWorkExperienceService) {
        super();
        this.empWorkExperienceService = empWorkExperienceService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "Ser",
            "companyName",
            "department",
            "position",
            "startDate",
            "endDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeInstanceId = 0;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_work_experience_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && this.employeeInstanceId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex((e) => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.empWorkExperienceService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_career__WEBPACK_IMPORTED_MODULE_0__.empCareerDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    toEdit(education) {
        this.rowToEdit.emit(education);
    }
    onDelete(empWork) {
        let msg = this.msgTranslate(empWork.companyName);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(empWork);
        });
    }
    delete(empWork) {
        this.showLoading();
        this.empWorkExperienceService
            .Delete(empWork.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(empWork);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
}
EmpWorkExperienceTableComponent.ɵfac = function EmpWorkExperienceTableComponent_Factory(t) { return new (t || EmpWorkExperienceTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_career_employee_work_experience_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeWorkExperienceService)); };
EmpWorkExperienceTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpWorkExperienceTableComponent, selectors: [["emp-work-experience-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 1, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpWorkExperienceTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpWorkExperienceTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtd29yay1leHBlcmllbmNlLXRhYmxlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 59330:
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-general-info/emp-general-info-card/emp-general-info-card.component.ts ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeGeneralInfoCardComponent": () => (/* binding */ EmployeeGeneralInfoCardComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _emp_general_info_dialog_emp_general_info_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-general-info-dialog/emp-general-info-dialog.component */ 71125);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../card-shared-components/card-row-item/card-row-item.component */ 58588);











function EmployeeGeneralInfoCardComponent_div_0_ng_container_14_span_1_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1, " - ");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
function EmployeeGeneralInfoCardComponent_div_0_ng_container_14_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, EmployeeGeneralInfoCardComponent_div_0_ng_container_14_span_1_span_2_Template, 2, 0, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const company_r7 = ctx.$implicit;
    const last_r8 = ctx.last;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", ctx_r6.msgTranslate(company_r7 == null ? null : company_r7.core_Company.ar_Name, company_r7 == null ? null : company_r7.core_Company == null ? null : company_r7.core_Company.en_Name), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !last_r8);
} }
function EmployeeGeneralInfoCardComponent_div_0_ng_container_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmployeeGeneralInfoCardComponent_div_0_ng_container_14_span_1_Template, 3, 2, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r3.employee.sharedCompanies);
} }
function EmployeeGeneralInfoCardComponent_div_0_ng_template_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](0, " ---");
} }
function EmployeeGeneralInfoCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onClickIcon", function EmployeeGeneralInfoCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r10.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "card-row-item", 5)(4, "card-row-item", 6)(5, "card-row-item", 7)(6, "card-row-item", 8)(7, "card-row-item", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](8, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](9, "card-row-item", 11)(10, "card-row-item", 12)(11, "card-row-item", 13)(12, "card-row-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](13, "card-row-item", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](14, EmployeeGeneralInfoCardComponent_div_0_ng_container_14_Template, 2, 1, "ng-container", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](15, EmployeeGeneralInfoCardComponent_div_0_ng_template_15_Template, 1, 0, "ng-template", null, 17, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](16);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isEdit", ctx_r0.employeeId)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.code);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.ar_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.en_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.nationalid);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.companyCode);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.hireDate)("isDate", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.msgTranslate(ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Gender == null ? null : ctx_r0.employee.person.core_Gender.ar_Name, ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Gender == null ? null : ctx_r0.employee.person.core_Gender.en_NAme));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.msgTranslate(ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Religion == null ? null : ctx_r0.employee.person.core_Religion.ar_Name, ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Religion == null ? null : ctx_r0.employee.person.core_Religion.en_Name));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", ctx_r0.msgTranslate(ctx_r0.employee == null ? null : ctx_r0.employee.nationality == null ? null : ctx_r0.employee.nationality.ar_Name, ctx_r0.employee == null ? null : ctx_r0.employee.nationality == null ? null : ctx_r0.employee.nationality.en_NAme));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("displayPlaceholder", false);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r0.employee == null ? null : ctx_r0.employee.sharedCompanies)("ngIfElse", _r4);
} }
function EmployeeGeneralInfoCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 20);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("rowNo", 8);
} }
class EmployeeGeneralInfoCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(empGeneralInfoService) {
        super();
        this.empGeneralInfoService = empGeneralInfoService;
        this.changeEmployeeId = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.isLoaded = false;
        this.isCanMadeAction = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
            this.isLoadedFun();
        });
        this.isLoadedFun();
    }
    isLoadedFun() {
        this.isLoaded = false;
        if (this.employee != null && this.employeeId > 0)
            this.isLoaded = true;
        if (this.employee == null && this.employeeId == 0)
            this.isLoaded = true;
    }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_general_info_tab);
    }
    openAddEditDialog() {
        if (!this.businessCompanyParams.CompanyID) {
            this.warning("chooseCompanyId");
            return;
        }
        let dialogRef = this.dialogsService.addEditDialog(_emp_general_info_dialog_emp_general_info_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeGeneralInfoDialogComponent, this.employee);
        // let dialogRef = this.dialog.open(EmployeeGeneralInfoDialogComponent, {
        // 	data: {
        // 		employee: this.employee,
        // 	},
        // 	position: {
        // 		top: "40px",
        // 	},
        // 	minWidth: "600px",
        // 	panelClass: "dialog-emp-form",
        // 	autoFocus: false,
        // });
        //	after add employee
        // dialogRef.componentInstance.afterAdd.subscribe((employeeInfo: IEmployee) => {
        // 	this.changeEmployeeId.emit(employeeInfo.person.id);
        // 	let url = `/personnel-setup/${this.moduleId}/employees/edit/${employeeInfo.person.id}`;
        // 	this.navigateTo(url);
        // 	this.employee = employeeInfo;
        // });
        // after close dialog
        dialogRef.afterClosed().subscribe((res) => {
            if (res && res.isUpdate) {
                // update case
                //	this.empGeneralInfoService.getEmployeeShared(this.employeeId);
            }
            else if (res && !res.isUpdate) {
                // create case : Go tO update
                let url = `/personnel-setup/${this.moduleId}/employees/edit/${res.data.person.id}`;
                this.router.navigate([url], { queryParams: this.parentParam });
            }
        });
    }
}
EmployeeGeneralInfoCardComponent.ɵfac = function EmployeeGeneralInfoCardComponent_Factory(t) { return new (t || EmployeeGeneralInfoCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService)); };
EmployeeGeneralInfoCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmployeeGeneralInfoCardComponent, selectors: [["employee-general-info-card"]], outputs: { changeEmployeeId: "changeEmployeeId" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view"], ["cardTitle", "generalInfo", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "view-data-row-container", "mtop-20"], ["label", "employeeCode", 1, "w-20", 3, "value"], ["label", "ar_Name", 1, "w-20", 3, "value"], ["label", "en_Name", 1, "w-20", 3, "value"], ["label", "nationalid", 1, "w-20", 3, "value"], ["label", "companyCode", 1, "w-20", 3, "value"], [1, "view-data-row-container", "mt-3"], ["label", "hireDate", 1, "w-20", 3, "value", "isDate"], ["label", "gender", 1, "w-20", 3, "value"], ["label", "religion", 1, "w-20", 3, "value"], ["label", "nationality", 1, "w-20", 3, "value"], ["label", "SharedCompanies", 1, "w-20", 3, "displayPlaceholder"], [4, "ngIf", "ngIfElse"], ["emptyCompanies", ""], [4, "ngFor", "ngForOf"], [4, "ngIf"], [3, "rowNo"]], template: function EmployeeGeneralInfoCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmployeeGeneralInfoCardComponent_div_0_Template, 17, 15, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmployeeGeneralInfoCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_5__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_6__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZ2VuZXJhbC1pbmZvLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 78392:
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employee-general-info/emp-general-info-core/emp-general-info-core.component.ts ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpGeneralInfoCoreComponent": () => (/* binding */ EmpGeneralInfoCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_general_info_card_emp_general_info_card_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-general-info-card/emp-general-info-card.component */ 59330);






function EmpGeneralInfoCoreComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](1, "employee-general-info-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
class EmpGeneralInfoCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_general_info_tab);
    }
}
EmpGeneralInfoCoreComponent.ɵfac = function EmpGeneralInfoCoreComponent_Factory(t) { return new (t || EmpGeneralInfoCoreComponent)(); };
EmpGeneralInfoCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: EmpGeneralInfoCoreComponent, selectors: [["emp-general-info-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵInheritDefinitionFeature"]], decls: 6, vars: 1, consts: [[1, "row"], [1, "col-12"], [1, "container-fluid", "p-0"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmpGeneralInfoCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-content", 2)(4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](5, EmpGeneralInfoCoreComponent_div_5_Template, 2, 0, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_general_info_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf, _angular_material_card__WEBPACK_IMPORTED_MODULE_5__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_5__.MatCardContent, _emp_general_info_card_emp_general_info_card_component__WEBPACK_IMPORTED_MODULE_2__.EmployeeGeneralInfoCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZ2VuZXJhbC1pbmZvLWNvcmUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 89535:
/*!***************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employees-index/employees-index.component.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeesIndexComponent": () => (/* binding */ EmployeesIndexComponent)
/* harmony export */ });
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_employee__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/employee */ 52614);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employees_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/services/employees/employees.service */ 20408);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _shared_components_side_helping_menu_side_helping_menu_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/components/side-helping-menu/side-helping-menu.component */ 60544);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_employees_employee_dropdown_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/components/dropdowns/personnel-setup/employees/employee-dropdown/employee-dropdown.component */ 70502);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! primeng/api */ 14356);
/* harmony import */ var primeng_panel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! primeng/panel */ 24266);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ngx-translate/core */ 89461);

















function EmployeesIndexComponent_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "form", 11)(1, "div", 0)(2, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](3, "app-employee-dropdown", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](4, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](5, "app-input", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](6, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](7, "app-input", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](8, "button", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](10, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](11, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](13, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](14, "div", 17);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("formGroup", ctx_r0.simpleSearchForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("control", ctx_r0.simpleSearchFormCtrls.employeeId)("filter", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("control", ctx_r0.simpleSearchFormCtrls.orgTypeId);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("control", ctx_r0.simpleSearchFormCtrls.orgId);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind1"](10, 7, "clear"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind1"](13, 9, "General.search"), " ");
} }
function EmployeesIndexComponent_ng_template_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](1, "advanced");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} }
class EmployeesIndexComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeesService) {
        super();
        this.employeesService = employeesService;
        this.mandatoryColomns = ["Ser", "id", "code", "en_Name", "ar_Name", "actions"];
        this.optionalColomns = [
            "jobTitleName",
            "organization",
            "email",
            "status",
            "statusProperty",
            "address",
            "contact",
            "isActive",
        ];
        this.isLoaded = false;
        // collapsed --> true >> closed & false >> opened
        this.isSimpleExpanded = true;
        this.isAdvancedExpanded = true;
        this.mergingTableColumn = {
            isMerge: true,
            columnImgName: "img",
            columnTextName: "en_Name",
        };
    }
    ngOnInit() {
        // if (this.CheckNoBusinessOrCompany()) this.getList(this.currentPage);
        this.simpleSearchForm = this.fb.group({
            employeeId: [null],
            orgTypeId: [null],
            orgId: [null],
        });
        this.advancedSearchForm = this.fb.group({
            name: [null],
            operator: [null],
            value: [null],
        });
    }
    get simpleSearchFormCtrls() {
        return this.simpleSearchForm.controls;
    }
    get advancedSearchFormCtrls() {
        return this.advancedSearchForm.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany())
            this.getList(this.pageFromUrl > 0 ? this.pageFromUrl : this.firstPage);
    }
    getList(page, pageSize) {
        this.isLoaded = false;
        this.removePageParams();
        this.page.pageIndex = page;
        if (pageSize)
            this.page.pageSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.pageSize,
        };
        this.employeesService
            .getListCard(params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == 1) {
                if (res.data.length == 0 && page > 1) {
                    this.getList(this.prevPage);
                    return;
                }
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_9__.MatTableDataSource((0,app_personnel_setup_mapper_employee__WEBPACK_IMPORTED_MODULE_0__.employeeToMap)(res.data));
                this.isLoaded = true;
                this.page.length = res.meta.totalItemCount;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    onDelete(employee) {
        let msg = this.msgTranslate(employee.ar_Name, employee.en_Name);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employee);
        });
    }
    delete(employee) {
        this.showLoading();
        this.employeesService.Delete(employee.id).subscribe((res) => {
            if (res.message.messageType == 1) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.pageSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.pageSize);
                }
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    //////////// search
    onAction(selectedAction) {
        // console.log(selectedAction);
        if (selectedAction?.name == "simpleSearch")
            this.toggleSimpleSearchPanel();
        if (selectedAction?.name == "advancedSearch")
            this.toggleAdvancedSearchPanel();
    }
    toggleSimpleSearchPanel() {
        this.isAdvancedExpanded = true;
        this.isSimpleExpanded = !this.isSimpleExpanded;
    }
    toggleAdvancedSearchPanel() {
        this.isSimpleExpanded = true;
        this.isAdvancedExpanded = !this.isAdvancedExpanded;
    }
}
EmployeesIndexComponent.ɵfac = function EmployeesIndexComponent_Factory(t) { return new (t || EmployeesIndexComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employees_service__WEBPACK_IMPORTED_MODULE_2__.EmployeesService)); };
EmployeesIndexComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({ type: EmployeesIndexComponent, selectors: [["app-employees-index"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵInheritDefinitionFeature"]], decls: 19, vars: 16, consts: [[1, "row"], [1, "col-12"], [1, "index-card"], ["title", "employees", 3, "globalFunctions", "action"], [3, "toggleable", "showHeader", "collapsed"], ["pTemplate", "content"], [3, "isRowClickable", "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "exportService", "mergeImgWithName", "onChangePage", "deleteRow"], ["title", "Employee dashboard", "subTitle", "employee reports & employee dashboard"], [1, "col"], [1, "btn", "btn-darkBlue"], [1, "btn", "btn-outline-secondary"], [3, "formGroup"], [1, "col-md-4", "col-12"], [3, "control", "filter"], ["label", "org", 3, "control"], ["mat-raised-button", "", 1, "btn", "bg-light-secondary", "float-right", "btn-sm"], ["mat-raised-button", "", 1, "btn", "btn-info", "bg-light-info", "float-right", "mx-2", "btn-sm"], [1, "clearfix"]], template: function EmployeesIndexComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](1, "div", 0)(2, "div", 1)(3, "mat-card", 2)(4, "mat-card-title")(5, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵlistener"]("action", function EmployeesIndexComponent_Template_page_title_action_5_listener($event) { return ctx.onAction($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](6, "p-panel", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](7, EmployeesIndexComponent_ng_template_7_Template, 15, 11, "ng-template", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](8, "p-panel", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](9, EmployeesIndexComponent_ng_template_9_Template, 2, 0, "ng-template", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](10, "app-material-table", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵlistener"]("onChangePage", function EmployeesIndexComponent_Template_app_material_table_onChangePage_10_listener($event) { return ctx.getList($event.pageIndex + 1, $event.pageSize); })("deleteRow", function EmployeesIndexComponent_Template_app_material_table_deleteRow_10_listener($event) { return ctx.onDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](11, "side-helping-menu", 7)(12, "div", 0)(13, "div", 8)(14, "button", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](15, " reports");
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](16, "div", 8)(17, "button", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](18, " dashboard");
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("globalFunctions", ctx.globalFunctions);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("toggleable", true)("showHeader", false)("collapsed", ctx.isSimpleExpanded);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("toggleable", true)("showHeader", false)("collapsed", ctx.isAdvancedExpanded);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("isRowClickable", false)("isLoaded", ctx.isLoaded)("dataSource", ctx.dataSource)("mandatoryColomns", ctx.mandatoryColomns)("optionalColomns", ctx.optionalColomns)("page", ctx.page)("actions", ctx.rowFunctions)("exportService", ctx.employeesService)("mergeImgWithName", ctx.mergingTableColumn);
    } }, dependencies: [_shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_3__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_4__.MaterialTableComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_5__.PageTitleComponent, _shared_components_side_helping_menu_side_helping_menu_component__WEBPACK_IMPORTED_MODULE_6__.SideHelpingMenuComponent, _shared_components_dropdowns_personnel_setup_employees_employee_dropdown_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_7__.EmployeeDropdownComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_10__.MatButton, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCardTitle, ngx_spinner__WEBPACK_IMPORTED_MODULE_12__.NgxSpinnerComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_13__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_13__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_13__.FormGroupDirective, primeng_api__WEBPACK_IMPORTED_MODULE_14__.PrimeTemplate, primeng_panel__WEBPACK_IMPORTED_MODULE_15__.Panel, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.TranslatePipe], styles: [".p-panel .p-panel-content {\n  border: none;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcGxveWVlcy1pbmRleC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLFlBQUE7QUFBSiIsImZpbGUiOiJlbXBsb3llZXMtaW5kZXguY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAge1xyXG4gIC5wLXBhbmVsIC5wLXBhbmVsLWNvbnRlbnQge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gIH1cclxufVxyXG4iXX0= */"] });


/***/ }),

/***/ 63042:
/*!***********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-custodies/emp-custodies-card/emp-custodies-card.component.ts ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpCustodiesCardComponent": () => (/* binding */ EmpCustodiesCardComponent)
/* harmony export */ });
/* harmony import */ var _emp_custodies_dialog_emp_custodies_dialog_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../emp-custodies-dialog/emp-custodies-dialog.component */ 9228);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-custodies.service */ 60904);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);











function EmpCustodiesCardComponent_div_0_ng_container_3_card_row_item_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "card-row-item", 8);
} if (rf & 2) {
    const custody_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("label", custody_r7.custodies)("value", custody_r7.date);
} }
function EmpCustodiesCardComponent_div_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpCustodiesCardComponent_div_0_ng_container_3_card_row_item_1_Template, 1, 2, "card-row-item", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r3.custodies);
} }
function EmpCustodiesCardComponent_div_0_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "card-row-item", 9);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", null);
} }
function EmpCustodiesCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpCustodiesCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r8.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](3, EmpCustodiesCardComponent_div_0_ng_container_3_Template, 2, 1, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](4, EmpCustodiesCardComponent_div_0_ng_template_4_Template, 1, 1, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](5);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", ctx_r0.custodies == null ? null : ctx_r0.custodies.length)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", (ctx_r0.custodies == null ? null : ctx_r0.custodies.length) > 0)("ngIfElse", _r4);
} }
function EmpCustodiesCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 10);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 2);
} }
class EmpCustodiesCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeCustodiesService) {
        super();
        this.employeeCustodiesService = employeeCustodiesService;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.custodies = null;
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getAllByEmployeeId();
        else
            this.isLoaded = true;
    }
    getAllByEmployeeId() {
        this.custodies = null;
        this.employeeCustodiesService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                // show only first three custodies
                this.custodies = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__.empCustodyDisplay)(res.data.slice(0, 3));
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_custodies_dialog_emp_custodies_dialog_component__WEBPACK_IMPORTED_MODULE_0__.EmpCustodiesDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
}
EmpCustodiesCardComponent.ɵfac = function EmpCustodiesCardComponent_Factory(t) { return new (t || EmpCustodiesCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeCustodiesService)); };
EmpCustodiesCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpCustodiesCardComponent, selectors: [["app-emp-custodies-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "custodies", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], [4, "ngIf", "ngIfElse"], ["noData", ""], [3, "label", "value", 4, "ngFor", "ngForOf"], [3, "label", "value"], ["label", "custodies", 3, "value"], [3, "rowNo"]], template: function EmpCustodiesCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpCustodiesCardComponent_div_0_Template, 6, 4, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpCustodiesCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY3VzdG9kaWVzLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 9228:
/*!***************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-custodies/emp-custodies-dialog/emp-custodies-dialog.component.ts ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpCustodiesDialogComponent": () => (/* binding */ EmpCustodiesDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-custodies.service */ 60904);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_org_management_setup_custodies_custodies_by_employee_dropdown_custodies_by_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management-setup/custodies/custodies-by-employee-dropdown/custodies-by-employee-dropdown.component */ 84490);























function EmpCustodiesDialogComponent_reset_form_btn_19_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "reset-form-btn", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpCustodiesDialogComponent_reset_form_btn_19_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} }
function EmpCustodiesDialogComponent_app_material_table_21_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "app-material-table", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onChangePage", function EmpCustodiesDialogComponent_app_material_table_21_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r5.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpCustodiesDialogComponent_app_material_table_21_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r7.employeeCustodyToEdit($event)); })("deleteRow", function EmpCustodiesDialogComponent_app_material_table_21_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r8.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("page", ctx_r2.page)("actions", ctx_r2.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpCustodiesDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeCustodiesService, dialogRef) {
        super();
        this.employeeCustodiesService = employeeCustodiesService;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.updated = false;
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "custodies",
            "froM_DATE",
            "endDate",
            "notes",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_custodies_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            covenantId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            froM_DATE: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            endDate: [null /* , [Validators.required] */],
            notes: [null],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_6__.CustomValidator.compareDates("froM_DATE", "endDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.updated);
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeCustodiesService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empCustodyDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    PersonInstanceId: this.employeeInstanceId,
                    ID: this.form.value.id,
                    CovenantId: this.form.value.covenantId,
                    FromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.froM_DATE),
                    ToDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.endDate),
                    Notes: this.form.value.notes,
                },
            };
            model.EmployeeData.ID == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeCustodiesService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeCustodiesService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeCustodyToEdit(employeeCustodyInfo) {
        this.form.patchValue(employeeCustodyInfo);
        this.formCtrls.froM_DATE.setValue(employeeCustodyInfo.fromDate);
        this.formCtrls.endDate.setValue(employeeCustodyInfo.toDate);
        // console.log(this.form.value);
    }
    onDelete(employeeCustodyInfo) {
        let msg = employeeCustodyInfo.custodies;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeCustodyInfo);
        });
    }
    delete(employeeCustodyInfo) {
        this.showLoading();
        this.employeeCustodiesService
            .Delete(employeeCustodyInfo.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.updated = true;
                if (employeeCustodyInfo.id == this.formCtrls.id.value)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpCustodiesDialogComponent.ɵfac = function EmpCustodiesDialogComponent_Factory(t) { return new (t || EmpCustodiesDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_custodies_service__WEBPACK_IMPORTED_MODULE_7__.EmployeeCustodiesService), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogRef)); };
EmpCustodiesDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdefineComponent"]({ type: EmpCustodiesDialogComponent, selectors: [["app-emp-custodies-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵInheritDefinitionFeature"]], decls: 22, vars: 17, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "custodies", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "employeeInstanceId", "submitted", "filter", "appendTo"], ["label", "froM_DATE", 3, "control", "submitted"], ["label", "endDate", 3, "control", "submitted"], ["label", "notes", 3, "control", "submitted"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow"]], template: function EmpCustodiesDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpCustodiesDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](11, "app-custodies-by-employee-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](13, "app-datepicker", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](15, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](17, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](18, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](19, EmpCustodiesDialogComponent_reset_form_btn_19_Template, 1, 0, "reset-form-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](20, "submit-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onClick", function EmpCustodiesDialogComponent_Template_submit_btn_onClick_20_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](21, EmpCustodiesDialogComponent_app_material_table_21_Template, 1, 8, "app-material-table", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.covenantId)("employeeInstanceId", ctx.employeeInstanceId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.froM_DATE)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.endDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.notes)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_9__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_10__.MaterialTableComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_11__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_12__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_13__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_20__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_21__.NgxSpinnerComponent, _shared_components_dropdowns_org_management_setup_custodies_custodies_by_employee_dropdown_custodies_by_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_14__.CustodiesByEmployeeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_16__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY3VzdG9kaWVzLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 78471:
/*!********************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-card/emp-hiring-documents-card.component.ts ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpHiringDocumentsCardComponent": () => (/* binding */ EmpHiringDocumentsCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_hiring_documents_dialog_emp_hiring_documents_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-hiring-documents-dialog/emp-hiring-documents-dialog.component */ 10205);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-hiring-document.service */ 72463);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);











function EmpHiringDocumentsCardComponent_div_0_ng_container_3_div_1_p_7_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "p")(1, "i", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("click", function EmpHiringDocumentsCardComponent_div_0_ng_container_3_div_1_p_7_Template_i_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r13); const hiringDocument_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]().$implicit; const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r11.fileService.downloadFromServer(hiringDocument_r7.attachmentID)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} }
function EmpHiringDocumentsCardComponent_div_0_ng_container_3_div_1_ng_template_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](0, " --- ");
} }
function EmpHiringDocumentsCardComponent_div_0_ng_container_3_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 9)(1, "div", 10)(2, "div", 11)(3, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](5, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](6, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](7, EmpHiringDocumentsCardComponent_div_0_ng_container_3_div_1_p_7_Template, 2, 0, "p", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](8, EmpHiringDocumentsCardComponent_div_0_ng_container_3_div_1_ng_template_8_Template, 1, 0, "ng-template", null, 12, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const hiringDocument_r7 = ctx.$implicit;
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](5, 3, hiringDocument_r7 == null ? null : hiringDocument_r7.documentName));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", (hiringDocument_r7 == null ? null : hiringDocument_r7.attachmentID) > 0)("ngIfElse", _r9);
} }
function EmpHiringDocumentsCardComponent_div_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpHiringDocumentsCardComponent_div_0_ng_container_3_div_1_Template, 10, 5, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r3.hiringDocuments);
} }
function EmpHiringDocumentsCardComponent_div_0_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "card-row-item", 14);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", null);
} }
function EmpHiringDocumentsCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpHiringDocumentsCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r15); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r14.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](3, EmpHiringDocumentsCardComponent_div_0_ng_container_3_Template, 2, 1, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](4, EmpHiringDocumentsCardComponent_div_0_ng_template_4_Template, 1, 1, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](6, "card-row-item", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](5);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", ctx_r0.hiringDocuments == null ? null : ctx_r0.hiringDocuments.length)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", (ctx_r0.hiringDocuments == null ? null : ctx_r0.hiringDocuments.length) > 0)("ngIfElse", _r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.docCompletePercentage + "%");
} }
function EmpHiringDocumentsCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 15);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 4);
} }
class EmpHiringDocumentsCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeHiringDocumentService) {
        super();
        this.employeeHiringDocumentService = employeeHiringDocumentService;
        this.employeeInstanceId = 0;
        this.docCompletePercentage = 0;
        this.isLoaded = false;
        this.isLoadedPercentage = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.isLoadedPercentage = false;
                this.getAll();
                this.getPercentage();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.hiringDocuments = null;
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
            this.getAll();
            this.getPercentage();
        }
        else {
            this.isLoaded = true;
            this.isLoadedPercentage = true;
        }
    }
    getAll() {
        this.hiringDocuments = null;
        this.employeeHiringDocumentService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                // get last three documents
                this.hiringDocuments = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empHiringDocumentDisplay)(res.data.length > 3 ? res.data.slice(-3) : res.data);
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    getPercentage() {
        this.docCompletePercentage = 0;
        this.employeeHiringDocumentService
            .getCard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.docCompletePercentage = res.data;
                this.isLoadedPercentage = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_hiring_documents_dialog_emp_hiring_documents_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpHiringDocumentsDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.isLoadedPercentage = false;
                this.getAll();
                this.getPercentage();
            }
        });
    }
}
EmpHiringDocumentsCardComponent.ɵfac = function EmpHiringDocumentsCardComponent_Factory(t) { return new (t || EmpHiringDocumentsCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeHiringDocumentService)); };
EmpHiringDocumentsCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpHiringDocumentsCardComponent, selectors: [["emp-hiring-documents-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "hiringDocuments", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], [4, "ngIf", "ngIfElse"], ["noData", ""], ["label", "documentsCompletionPercentage", 3, "value"], ["class", "rowItem", 4, "ngFor", "ngForOf"], [1, "rowItem"], [1, "row"], [1, "col-6"], ["noAttach", ""], [1, "fas", "fa-cloud-download-alt", "font-size-20", "icon-lightGreen", 3, "click"], ["label", "hiringDocuments", 3, "value"], [3, "rowNo"]], template: function EmpHiringDocumentsCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpHiringDocumentsCardComponent_div_0_Template, 7, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpHiringDocumentsCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isLoaded && ctx.isLoadedPercentage)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _angular_common__WEBPACK_IMPORTED_MODULE_10__.TitleCasePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtaGlyaW5nLWRvY3VtZW50cy1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 10205:
/*!************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-dialog/emp-hiring-documents-dialog.component.ts ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpHiringDocumentsDialogComponent": () => (/* binding */ EmpHiringDocumentsDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/emp-hire-doc-type.enum */ 50046);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-hiring-document.service */ 72463);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_radio_button_radio_button_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/radio-button/radio-button.component */ 92393);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/prime-ng/file-upload/file-upload.component */ 34292);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_attachment_types_by_employee_id_dropdown_attachment_types_by_employee_id_dropdown_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/attachment-types-by-employee-id-dropdown/attachment-types-by-employee-id-dropdown.component */ 12810);























function EmpHiringDocumentsDialogComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "div", 10)(1, "primeng-file-upload", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("ondelete", function EmpHiringDocumentsDialogComponent_div_14_Template_primeng_file_upload_ondelete_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r4.deleteFile($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx_r1.formCtrls.file)("submitted", ctx_r1.submitted)("multiple", false)("isEdit", ctx_r1.formCtrls.id.value > 0)("removeFiles", ctx_r1.removeFiles);
} }
function EmpHiringDocumentsDialogComponent_reset_form_btn_16_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "reset-form-btn", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpHiringDocumentsDialogComponent_reset_form_btn_16_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r6.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} }
function EmpHiringDocumentsDialogComponent_app_material_table_18_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "app-material-table", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onChangePage", function EmpHiringDocumentsDialogComponent_app_material_table_18_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r8.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpHiringDocumentsDialogComponent_app_material_table_18_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r9); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r10.employeeHiringDocumentToEdit($event)); })("deleteRow", function EmpHiringDocumentsDialogComponent_app_material_table_18_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r9); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r11.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("isLoaded", ctx_r3.isLoaded)("dataSource", ctx_r3.dataSource)("mandatoryColomns", ctx_r3.mandatoryColomns)("optionalColomns", ctx_r3.optionalColomns)("page", ctx_r3.page)("actions", ctx_r3.rowFunctions)("isDialogSize", true)("showFilter", false)("attachIconColumnData", ctx_r3.attachIconColumnData);
} }
class EmpHiringDocumentsDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_4__.AppHelpers {
    constructor(employeeHiringDocumentService, dialogRef) {
        super();
        this.employeeHiringDocumentService = employeeHiringDocumentService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        this.updated = false;
        this.mandatoryColomns = [
            "Ser",
            "documentName",
            "attachmentType",
            "attachment",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.removeFiles = false;
        this.selectedAttachmentTypeId = 0;
        this.selectedis_Attached = 0;
        this.attachIconColumnData = {
            columnName: "attachment",
            icon: "fas fa-file-alt",
        };
        this.hireDocType = app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType;
        this.hireDocTypeRadioList = [
            {
                value: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.attached,
                label: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.getValue(app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.attached),
                cssClass: "col-md-4 col-sm-6 col-12",
            },
            {
                value: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.handDelivery,
                label: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.getValue(app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.handDelivery),
                cssClass: "col-md-4 col-sm-6 col-12",
            },
            {
                value: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.notNeed,
                label: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.getValue(app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.notNeed),
                cssClass: "col-md-4 col-sm-6 col-12",
            },
        ];
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_6__.ViewsManager.emp_hiring_documents_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            att_Type_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            file: [null /* , [Validators.required] */],
            is_Attached: [app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.attached, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            attachmentID: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.updated);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getList(this.firstPage);
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeHiringDocumentService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                let mapedData = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empHiringDocumentDisplay)(res.data);
                mapedData.forEach((ele) => (ele.attachmentType = this.translate(ele.attachmentType)));
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(mapedData);
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.removeFiles = false;
        if (this.form.valid) {
            const model = {
                Person_Instance_ID: this.employeeInstanceId,
                files: this.form.value.file,
                Is_Attached: this.form.value.is_Attached,
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        let addModel = {
            ...model,
            Attachment_Type_ID: this.form.value.att_Type_ID,
        };
        let formData = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__.HelpersFunctions.objectToFormData(addModel);
        this.showLoading();
        this.employeeHiringDocumentService
            .create(formData)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        if (this.formCtrls.file.value?.id > 0)
            model.files = null;
        let editModel = {
            ...model,
            Att_Type_ID: this.form.value.att_Type_ID,
            AttachmentID: this.selectedis_Attached != model.Is_Attached
                ? this.form.value.attachmentID
                : 0,
            Att_Type_ID_Old: this.selectedAttachmentTypeId,
        };
        let formData = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__.HelpersFunctions.objectToFormData(editModel);
        this.showLoading();
        this.employeeHiringDocumentService
            .update(formData)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
                this.selectedAttachmentTypeId = 0;
                this.selectedis_Attached = 0;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeHiringDocumentToEdit(hiringDocument) {
        this.form.patchValue(hiringDocument);
        if (hiringDocument.attachmentID) {
            // get file size && type
            this.showLoading();
            this.fileService
                .downloadByAttachId(hiringDocument.attachmentID)
                .subscribe((res) => {
                let file = {
                    id: hiringDocument.attachmentID,
                    path: hiringDocument.attachment,
                    name: "",
                    type: res.type,
                    size: res.size,
                };
                this.formCtrls.file.setValue(file);
                this.hideLoading();
            });
        }
        else
            this.formCtrls.file.setValue(null);
        // not real id >> only to detect edit mode
        this.formCtrls.id.setValue(hiringDocument.att_Type_ID);
        // to use in edit request
        this.selectedAttachmentTypeId = hiringDocument.att_Type_ID;
        this.selectedis_Attached = hiringDocument.is_Attached;
    }
    onDelete(hiringDocument) {
        let msg = hiringDocument.documentName;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(hiringDocument);
        });
    }
    delete(hiringDocument) {
        let deleteParams = {
            perInsId: this.employeeInstanceId,
            DocTypeId: hiringDocument.att_Type_ID,
            AttachmentID: hiringDocument.attachmentID,
        };
        this.showLoading();
        this.employeeHiringDocumentService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.updated = true;
                if (hiringDocument.att_Type_ID == this.selectedAttachmentTypeId &&
                    // if edit
                    this.formCtrls.id.value > 0)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    deleteFile(file) {
        this.showLoading();
        this.employeeHiringDocumentService
            .DeleteFile(this.employeeInstanceId, file.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.formCtrls.file.reset();
            }
            else {
                this.errorList(res.message.messages);
                this.hideLoading();
            }
        });
    }
    clearForm() {
        this.form.reset({ id: 0, is_Attached: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_2__.EEmpHireDocType.attached });
        this.submitted = false;
        this.removeFiles = true;
    }
}
EmpHiringDocumentsDialogComponent.ɵfac = function EmpHiringDocumentsDialogComponent_Factory(t) { return new (t || EmpHiringDocumentsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_hiring_document_service__WEBPACK_IMPORTED_MODULE_7__.EmployeeHiringDocumentService), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogRef)); };
EmpHiringDocumentsDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdefineComponent"]({ type: EmpHiringDocumentsDialogComponent, selectors: [["emp-hiring-documents-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵInheritDefinitionFeature"]], decls: 19, vars: 15, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "hiringDocuments", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-6", "col-12"], ["label", "documentName", 3, "control", "employeeInstanceId", "submitted", "filter", "appendTo"], [1, "col-12"], [1, "mtop-14", 3, "control", "radioList", "submitted"], ["class", "col-12", 4, "ngIf"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "attachIconColumnData", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "control", "submitted", "multiple", "isEdit", "removeFiles", "ondelete"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "attachIconColumnData", "onChangePage", "editRow", "deleteRow"]], template: function EmpHiringDocumentsDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpHiringDocumentsDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](11, "app-attachment-types-by-employee-id-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](12, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](13, "app-radio-button", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](14, EmpHiringDocumentsDialogComponent_div_14_Template, 2, 5, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](15, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](16, EmpHiringDocumentsDialogComponent_reset_form_btn_16_Template, 1, 0, "reset-form-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](17, "submit-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onClick", function EmpHiringDocumentsDialogComponent_Template_submit_btn_onClick_17_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](18, EmpHiringDocumentsDialogComponent_app_material_table_18_Template, 1, 9, "app-material-table", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.att_Type_ID)("employeeInstanceId", ctx.employeeInstanceId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.is_Attached)("radioList", ctx.hireDocTypeRadioList)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.is_Attached.value == ctx.hireDocType.attached);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _shared_components_resources_dynamic_form_field_radio_button_radio_button_component__WEBPACK_IMPORTED_MODULE_8__.RadioButtonComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_9__.MaterialTableComponent, _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_10__.FileUploadComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_11__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_12__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_13__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_20__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_21__.NgxSpinnerComponent, _shared_components_dropdowns_personnel_setup_attachment_types_by_employee_id_dropdown_attachment_types_by_employee_id_dropdown_component__WEBPACK_IMPORTED_MODULE_14__.AttachmentTypesByEmployeeIdDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_16__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtaGlyaW5nLWRvY3VtZW50cy1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 57993:
/*!******************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/assign-as-org-manager-dialog/assign-as-org-manager-dialog.component.ts ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AssignAsOrgManagerDialogComponent": () => (/* binding */ AssignAsOrgManagerDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_assign_as_org_manager_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-assign-as-org-manager.service */ 59273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ngx-spinner */ 88035);



















class AssignAsOrgManagerDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(EmployeeAssignAsOrgManagerService, org, dialogRef) {
        super();
        this.EmployeeAssignAsOrgManagerService = EmployeeAssignAsOrgManagerService;
        this.org = org;
        this.dialogRef = dialogRef;
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "employee",
            "startDate",
            "endDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_job_info_assign_manager_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            // id: [0, { nonNullable: true }],
            from_Date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_10__.Validators.required]],
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_11__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.org.person_Instance_ID > 0) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_11__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize) {
            this.page.dialogSize = pageSize;
        }
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.EmployeeAssignAsOrgManagerService.getList(
        // this.org.person_Instance_ID,
        this.org.core_Org?.id, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_11__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empAssignManagerDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                Person_Instance_ID: this.org.person_Instance_ID,
                Person_Instance_Org_ID: this.org.id,
                From_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.from_Date),
            };
            this.create(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.EmployeeAssignAsOrgManagerService.create(model).subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.firstPage);
            }
            else {
                this.errorList(res.message.messages);
                this.hideLoading();
            }
        });
    }
    onDelete(manager) {
        let msg = `${manager.employee} (${manager.startDate} - ${manager.endDate})`;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm) {
                this.delete(manager);
            }
        });
    }
    delete(manager) {
        let deleteParams = {
            prtid: manager.person_Instance_ID,
            orgperid: manager.person_Instance_Org_ID,
            fromdate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(manager.from_Date),
        };
        this.showLoading();
        this.EmployeeAssignAsOrgManagerService.Delete(deleteParams).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                // this.isUpdated(true);
            }
            else {
                this.errorList(res.message.messages);
                this.hideLoading();
            }
        });
    }
    clearForm() {
        this.form.reset( /* { id: 0 } */);
        this.submitted = false;
    }
}
AssignAsOrgManagerDialogComponent.ɵfac = function AssignAsOrgManagerDialogComponent_Factory(t) { return new (t || AssignAsOrgManagerDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_assign_as_org_manager_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeAssignAsOrgManagerService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MAT_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogRef)); };
AssignAsOrgManagerDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineComponent"]({ type: AssignAsOrgManagerDialogComponent, selectors: [["app-assign-as-org-manager-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵInheritDefinitionFeature"]], decls: 15, vars: 13, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "assignManager", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", "mat-dialog-close", "", 1, "float-right", "mb-1", "bg-light-danger", "mr-1"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-6", "col-4"], ["label", "date", 3, "control", "submitted"], [1, "col-4"], [1, "btn-large", "mt-1", "line-height-3", 3, "color", "onClick"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "showSpaceTop", "onChangePage", "deleteRow"]], template: function AssignAsOrgManagerDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](6, "mat-dialog-content", 4)(7, "form", 5)(8, "div", 6)(9, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](10, "app-datepicker", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](11, "div", 9)(12, "submit-btn", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onClick", function AssignAsOrgManagerDialogComponent_Template_submit_btn_onClick_12_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](13, "mat-divider");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](14, "app-material-table", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onChangePage", function AssignAsOrgManagerDialogComponent_Template_app_material_table_onChangePage_14_listener($event) { return ctx.getList($event.pageIndex + 1, $event.pageSize); })("deleteRow", function AssignAsOrgManagerDialogComponent_Template_app_material_table_deleteRow_14_listener($event) { return ctx.onDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.from_Date)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("color", ctx.btn.darkBlue);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isLoaded", ctx.isLoaded)("dataSource", ctx.dataSource)("mandatoryColomns", ctx.mandatoryColomns)("optionalColomns", ctx.optionalColomns)("page", ctx.page)("actions", ctx.rowFunctions)("isDialogSize", true)("showFilter", false)("showSpaceTop", false);
    } }, dependencies: [_shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_14__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_15__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogClose, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_13__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_16__.NgxSpinnerComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_10__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_10__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhc3NpZ24tYXMtb3JnLW1hbmFnZXItZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 27849:
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/close-job-dialog/close-job-dialog.component.ts ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CloseJobDialogComponent": () => (/* binding */ CloseJobDialogComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-job-information.service */ 89609);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/core */ 89461);














class CloseJobDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeJobInfoService, dialogRef, job) {
        super();
        this.employeeJobInfoService = employeeJobInfoService;
        this.dialogRef = dialogRef;
        this.job = job;
        this.CloseDate = new _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormControl("", _angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required);
        this.submitted = false;
    }
    submit() {
        this.submitted = true;
        if (this.CloseDate.valid) {
            this.showLoading();
            let params = {
                Employee_Job_Title_ID: this.job?.id,
                CloseDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_2__.HelpersFunctions.transformData(this.CloseDate.value)
            };
            this.employeeJobInfoService
                .close(params)
                .subscribe((res) => {
                if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                    this.success(res?.message?.messageTypeName);
                    this.CloseDate.reset();
                    this.submitted = false;
                    this.dialogRef.close();
                }
                else {
                    this.errorList(res.message.messages);
                }
                this.hideLoading();
            });
        }
    }
}
CloseJobDialogComponent.ɵfac = function CloseJobDialogComponent_Factory(t) { return new (t || CloseJobDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_3__.EmployeeJobInformationService), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_DIALOG_DATA)); };
CloseJobDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({ type: CloseJobDialogComponent, selectors: [["app-close-job-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵInheritDefinitionFeature"]], decls: 17, vars: 9, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "close_job", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "bg-light-danger", "mr-1", 3, "mat-dialog-close"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0", "mt-3"], [1, "row"], [1, "col-md-4", "col-5"], ["label", "date", 3, "control", "submitted"], [1, "col-4"], ["label", "close_job", 1, "btn-large", "mt-1", "line-height-3", "mr-0", "ml-0", 3, "color", "onClick"], ["mat-dialog-actions", "", "align", "end"], ["mat-raised-button", "", 1, "btn", "btn-light", 3, "mat-dialog-close"]], template: function CloseJobDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 0)(1, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](2, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](6, "mat-dialog-content", 4)(7, "div", 5)(8, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](9, "app-datepicker", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](10, "div", 8)(11, "submit-btn", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵlistener"]("onClick", function CloseJobDialogComponent_Template_submit_btn_onClick_11_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](12, "div", 10)(13, "button", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](15, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](16, "ngx-spinner");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" ", ctx.msgTranslate(ctx.job == null ? null : ctx.job.core_Job_Title == null ? null : ctx.job.core_Job_Title.ar_Name, ctx.job == null ? null : ctx.job.core_Job_Title == null ? null : ctx.job.core_Job_Title.en_Name), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("mat-dialog-close", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("control", ctx.CloseDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("color", ctx.btn.darkBlue);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("mat-dialog-close", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind1"](15, 7, "General.cancel"), " ");
    } }, dependencies: [_shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_4__.DatepickerComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_5__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_6__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_10__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogClose, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogContent, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_9__.MatDialogActions, ngx_spinner__WEBPACK_IMPORTED_MODULE_11__.NgxSpinnerComponent, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjbG9zZS1qb2ItZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 28256:
/*!************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-contract-attachment-section/emp-contract-attachment-section.component.ts ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContractAttachmentSectionComponent": () => (/* binding */ EmpContractAttachmentSectionComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_contract_attachment_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-contract-attachment.service */ 37707);
/* harmony import */ var _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/prime-ng/file-upload/file-upload.component */ 34292);





class EmpContractAttachmentSectionComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeContractAttachmentService) {
        super();
        this.employeeContractAttachmentService = employeeContractAttachmentService;
        // @Output() changUpdated = new EventEmitter<boolean>();
        this.isLoaded = false;
        this.submitted = false;
        this.files = [];
        this.removeFiles = false;
    }
    ngOnInit() {
        this.form = this.fb.group({
            // id: [0, { nonNullable: true }],
            files: [null],
        });
        this.addAttachParams = {
            ContractID: this.contractId,
        };
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.checkNoBusinessOrCompany() && this.contractId > 0)
            this.getAll();
    }
    getAll() {
        this.showLoading();
        this.employeeContractAttachmentService
            .getAll(this.contractId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.files = [];
                res.data.forEach((attach) => {
                    this.files.push({
                        id: attach.id,
                        name: attach.en_Name,
                        path: "/" + attach.path,
                        size: attach.size,
                        type: attach.mime,
                    });
                });
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.removeFiles = false;
        if (this.form.valid)
            this.showLoading();
    }
    afterCreate() {
        this.clearForm();
        this.getAll();
        // this.changUpdated.emit(true);
    }
    delete(file) {
        if (file.id) {
            let deleteParams = {
                ContractID: this.contractId,
                AttachmentID: file.id,
            };
            this.showLoading();
            this.employeeContractAttachmentService
                .Delete(deleteParams)
                .subscribe((res) => {
                if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                    this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                    this.getAll();
                    // this.changUpdated.emit(true);
                }
                else {
                    this.errorList(res.message.messages);
                    this.hideLoading();
                }
            });
        }
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
        this.removeFiles = true;
    }
}
EmpContractAttachmentSectionComponent.ɵfac = function EmpContractAttachmentSectionComponent_Factory(t) { return new (t || EmpContractAttachmentSectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_contract_attachment_service__WEBPACK_IMPORTED_MODULE_2__.EmployeeContractAttachmentService)); };
EmpContractAttachmentSectionComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({ type: EmpContractAttachmentSectionComponent, selectors: [["app-emp-contract-attachment-section"]], inputs: { contractId: "contractId" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 8, consts: [[1, "row", "mtop-20"], [1, "col-12"], ["url", "Personnel/Employees/Create_EmployeeContract_Attachments", 3, "control", "submitted", "multiple", "existingFiles", "removeFiles", "params", "isFormValid", "disabled", "onsubmit", "afterupload", "ondelete"]], template: function EmpContractAttachmentSectionComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "primeng-file-upload", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("onsubmit", function EmpContractAttachmentSectionComponent_Template_primeng_file_upload_onsubmit_2_listener() { return ctx.submit(); })("afterupload", function EmpContractAttachmentSectionComponent_Template_primeng_file_upload_afterupload_2_listener() { return ctx.afterCreate(); })("ondelete", function EmpContractAttachmentSectionComponent_Template_primeng_file_upload_ondelete_2_listener($event) { return ctx.delete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("control", ctx.formCtrls.files)("submitted", ctx.submitted)("multiple", false)("existingFiles", ctx.files)("removeFiles", ctx.removeFiles)("params", ctx.addAttachParams)("isFormValid", ctx.form.valid)("disabled", !ctx.contractId);
    } }, dependencies: [_shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_3__.FileUploadComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udHJhY3QtYXR0YWNobWVudC1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 75418:
/*!**************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-contract-section/emp-contract-section.component.ts ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContractDetailsDialogComponent": () => (/* binding */ EmpContractDetailsDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_contract_details_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-contract-details.service */ 28634);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var app_shared_components_resources_dynamic_form_field_prime_ng_dropdown_core_dropdown_core_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! app/shared/components/resources/dynamic-form-field/prime-ng/dropdown-core/dropdown-core.component */ 68506);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contract_type_dropdown_contract_type_dropdown_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contract-type-dropdown/contract-type-dropdown.component */ 17288);
/* harmony import */ var _emp_contract_attachment_section_emp_contract_attachment_section_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../emp-contract-attachment-section/emp-contract-attachment-section.component */ 28256);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @ngx-translate/core */ 89461);

























function EmpContractDetailsDialogComponent_reset_form_btn_27_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](0, "reset-form-btn", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵlistener"]("click", function EmpContractDetailsDialogComponent_reset_form_btn_27_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵresetView"](ctx_r4.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
} }
function EmpContractDetailsDialogComponent_app_emp_contract_attachment_section_29_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](0, "app-emp-contract-attachment-section", 22);
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("contractId", ctx_r2.formCtrls.id.value);
} }
function EmpContractDetailsDialogComponent_app_material_table_30_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](0, "app-material-table", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵlistener"]("onChangePage", function EmpContractDetailsDialogComponent_app_material_table_30_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵresetView"](ctx_r6.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpContractDetailsDialogComponent_app_material_table_30_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵrestoreView"](_r7); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵresetView"](ctx_r8.employeeContractDetailsToEdit($event)); })("deleteRow", function EmpContractDetailsDialogComponent_app_material_table_30_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵrestoreView"](_r7); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵresetView"](ctx_r9.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("isLoaded", ctx_r3.isLoaded)("dataSource", ctx_r3.dataSource)("mandatoryColomns", ctx_r3.mandatoryColomns)("optionalColomns", ctx_r3.optionalColomns)("page", ctx_r3.page)("actions", ctx_r3.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpContractDetailsDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeContractDetailsService) {
        super();
        this.employeeContractDetailsService = employeeContractDetailsService;
        this.employeeId = 0;
        this.changUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_17__.EventEmitter();
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "contractType",
            "contracT_NO",
            "start_date",
            "end_date",
            "autO_RENEWAL",
            "actions",
        ];
        this.optionalColomns = [
            "autO_Resign",
            "include_In_Previous_Duration",
            "actual_End_Date",
        ];
        this.isLoaded = false;
        this.submitted = false;
        this.autoRenewalList = [
            {
                id: "null",
                ar_Name: "غير محدد",
                en_Name: "Not set",
            },
            {
                id: "true",
                ar_Name: "صحيح",
                en_Name: "True",
            },
            {
                id: "false",
                ar_Name: "خطأ",
                en_Name: "False",
            },
        ];
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_job_info_contract_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            contracT_TYPE_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_18__.Validators.required]],
            contracT_NO: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_18__.Validators.required]],
            starT_DATE: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_18__.Validators.required]],
            enD_DATE: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_18__.Validators.required]],
            autO_RENEWAL: ["false"],
            autO_Resign: [null],
            include_In_Previous_Duration: [null],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_6__.CustomValidator.compareDates("starT_DATE", "enD_DATE"),
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0) {
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_19__.MatTableDataSource(null);
        }
        if (this.checkNoBusinessOrCompany() && this.employeeId > 0) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_19__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize) {
            this.page.dialogSize = pageSize;
        }
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeContractDetailsService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_19__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empContractDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
                this.hideLoading();
            }
            else {
                this.errorList(res.message.messages);
            }
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    person_ID: this.employeeId,
                    id: this.form.value.id,
                    contracT_TYPE_ID: this.form.value.contracT_TYPE_ID,
                    contracT_NO: this.form.value.contracT_NO,
                    starT_DATE: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.starT_DATE),
                    enD_DATE: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.enD_DATE),
                    autO_RENEWAL: this.form.value.autO_RENEWAL == "null"
                        ? null
                        : this.form.value.autO_RENEWAL == "false"
                            ? false
                            : true,
                    autO_Resign: this.form.value.autO_Resign ?? false,
                    include_In_Previous_Duration: this.form.value.include_In_Previous_Duration ?? false,
                },
            };
            model.EmployeeData.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeContractDetailsService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                // this.clearForm();
                this.formCtrls.id.setValue(res.data.id);
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.isUpdated(true);
            }
            else {
                this.errorList(res.message.messages);
                this.hideLoading();
            }
        });
    }
    update(model) {
        this.showLoading();
        this.employeeContractDetailsService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.isUpdated(true);
            }
            else {
                this.errorList(res.message.messages);
                this.hideLoading();
            }
        });
    }
    employeeContractDetailsToEdit(contract) {
        this.form.patchValue(contract);
        this.formCtrls.autO_RENEWAL.setValue(String(contract.autO_RENEWAL));
        // console.log(this.form.value);
    }
    onDelete(contract) {
        let msg = `${contract.contractType} -
      ${contract.start_date} -
      ${contract.end_date}`;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm) {
                this.delete(contract);
            }
        });
    }
    delete(contract) {
        this.showLoading();
        this.employeeContractDetailsService
            .Delete(contract.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.isUpdated(true);
                if (contract.id == this.formCtrls.id.value) {
                    this.clearForm();
                }
            }
            else {
                this.errorList(res.message.messages);
                this.hideLoading();
            }
        });
    }
    clearForm() {
        this.form.reset({ id: 0, autO_RENEWAL: "false" });
        this.submitted = false;
    }
    isUpdated(value) {
        this.changUpdated.emit(value);
    }
}
EmpContractDetailsDialogComponent.ɵfac = function EmpContractDetailsDialogComponent_Factory(t) { return new (t || EmpContractDetailsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_contract_details_service__WEBPACK_IMPORTED_MODULE_7__.EmployeeContractDetailsService)); };
EmpContractDetailsDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵdefineComponent"]({ type: EmpContractDetailsDialogComponent, selectors: [["emp-contract-section"]], outputs: { changUpdated: "changUpdated" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵInheritDefinitionFeature"]], decls: 31, vars: 28, consts: [[1, "p-1"], ["dialogContainer", ""], [1, "form-card"], [1, "divider-title"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "contracT_NO", 3, "control", "submitted"], ["label", "start_date", 3, "control", "submitted"], ["label", "end_date", 3, "control", "submitted"], ["label", "autO_RENEWAL", 3, "control", "submitted", "List", "appendTo"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "autO_Resign", 3, "control"], ["label", "include_In_Previous_Duration", 3, "control"], [1, "emp-form-btns-float"], [3, "id", "color", "disabled", "onClick"], [3, "click", 4, "ngIf"], [1, "clearfix"], [3, "contractId", 4, "ngIf"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [3, "contractId"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow"]], template: function EmpContractDetailsDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](0, "div", 0, 1)(2, "mat-card", 2)(3, "mat-card-title")(4, "p", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵpipe"](6, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵpipe"](7, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](8, "mat-card-content")(9, "form", 4)(10, "div", 5)(11, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](12, "app-contract-type-dropdown", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](13, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](14, "app-input", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](15, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](16, "app-datepicker", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](17, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](18, "app-datepicker", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](19, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](20, "app-prime-dropdown", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](21, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](22, "app-check-box", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](23, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](24, "app-check-box", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](25, "div", 15)(26, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵlistener"]("onClick", function EmpContractDetailsDialogComponent_Template_submit_btn_onClick_26_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵtemplate"](27, EmpContractDetailsDialogComponent_reset_form_btn_27_Template, 1, 0, "reset-form-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](28, "div", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵtemplate"](29, EmpContractDetailsDialogComponent_app_emp_contract_attachment_section_29_Template, 1, 1, "app-emp-contract-attachment-section", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵtemplate"](30, EmpContractDetailsDialogComponent_app_material_table_30_Template, 1, 8, "app-material-table", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵreference"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵpipeBind1"](6, 24, _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵpipeBind1"](7, 26, "contractDetails")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.contracT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.contracT_NO)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.starT_DATE)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.enD_DATE)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.autO_RENEWAL)("submitted", ctx.submitted)("List", ctx.autoRenewalList)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.autO_Resign);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.include_In_Previous_Duration);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_9__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_10__.MaterialTableComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_11__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_12__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_13__.SubmitBtnComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_21__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_21__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_21__.MatCardTitle, app_shared_components_resources_dynamic_form_field_prime_ng_dropdown_core_dropdown_core_component__WEBPACK_IMPORTED_MODULE_14__.DropdownCoreComponent, _shared_components_dropdowns_hr_setup_contract_type_dropdown_contract_type_dropdown_component__WEBPACK_IMPORTED_MODULE_15__.ContractTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_18__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_18__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_18__.FormGroupDirective, _emp_contract_attachment_section_emp_contract_attachment_section_component__WEBPACK_IMPORTED_MODULE_16__.EmpContractAttachmentSectionComponent, _angular_common__WEBPACK_IMPORTED_MODULE_20__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udHJhY3Qtc2VjdGlvbi5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 55813:
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-job-info-card/emp-job-info-card.component.ts ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpJobInfoCardComponent": () => (/* binding */ EmpJobInfoCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_job_info_dialog_emp_job_info_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../emp-job-info-dialog/emp-job-info-dialog.component */ 73610);
/* harmony import */ var app_personnel_setup_mapper_emp_status_position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp_status_position */ 42637);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-job-information.service */ 89609);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/core */ 89461);













function EmpJobInfoCardComponent_div_0_ng_container_5_tr_32_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](3, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const policy_r5 = ctx.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](ctx_r4.msgTranslate(policy_r5 == null ? null : policy_r5.ar_Name, policy_r5 == null ? null : policy_r5.en_Name));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](ctx_r4.msgTranslate(policy_r5 == null ? null : policy_r5.core_PolicyGroup_Type == null ? null : policy_r5.core_PolicyGroup_Type.ar_Name, policy_r5 == null ? null : policy_r5.core_PolicyGroup_Type == null ? null : policy_r5.core_PolicyGroup_Type.en_Name));
} }
function EmpJobInfoCardComponent_div_0_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](2, "card-row-item", 10)(3, "card-row-item", 11)(4, "card-row-item", 12)(5, "card-row-item", 13)(6, "card-row-item", 14)(7, "card-row-item", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](8, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](9, "card-row-item", 17)(10, "card-row-item", 18)(11, "card-row-item", 19)(12, "card-row-item", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](13, "div", 21)(14, "div", 22)(15, "div", 23)(16, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](17);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](18, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](19, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](20, "div", 24)(21, "div")(22, "table", 25)(23, "thead")(24, "tr")(25, "th");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](26);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](27, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](28, "th");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](29);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](30, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](31, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](32, EmpJobInfoCardComponent_div_0_ng_container_5_tr_32_Template, 5, 2, "tr", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.status_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.status_from_date);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.status_properties_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.org_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.org_from_date);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.job_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.time_in_position);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.time_in_company);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.contract_name);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.contract_duration);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](18, 14, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](19, 16, "policyGroups")));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](27, 18, "name"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](30, 20, "type"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngForOf", ctx_r3.statusCard == null ? null : ctx_r3.statusCard.policies);
} }
function EmpJobInfoCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmpJobInfoCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r6.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmpJobInfoCardComponent_div_0_ng_container_5_Template, 33, 22, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](6, "div", 4)(7, "see-more-btn", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("toggleTable", function EmpJobInfoCardComponent_div_0_Template_see_more_btn_toggleTable_7_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r7); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r8.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", ctx_r0.statusCard)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isTableView", ctx_r0.isTableView);
} }
function EmpJobInfoCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 27);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 9);
} }
class EmpJobInfoCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeJobInformationService) {
        super();
        this.employeeJobInformationService = employeeJobInformationService;
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getStatusPositionCard();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0) {
                this.getStatusPositionCard();
            }
            else {
                this.isLoaded = true;
            }
        }
    }
    getStatusPositionCard() {
        return this.employeeJobInformationService
            .getStatusPositionCard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.isLoaded = true;
                this.statusCard = (0,app_personnel_setup_mapper_emp_status_position__WEBPACK_IMPORTED_MODULE_4__.empStatusCardDisplay)(res.data);
                app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.employeeStatusPosition$.next(this.statusCard);
                //  console.log("getStatusPositionCard", res.data);
            }
            else {
                this.errorList(res.message.messages);
            }
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_job_info_dialog_emp_job_info_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmpJobInfoDialogComponent, {}, { width: "95vw", height: "98vh" })
            .afterClosed()
            .subscribe((data) => {
            if (data.isJobUpdated) {
                this.isLoaded = false;
                this.getStatusPositionCard();
            }
        });
    }
    afterDelete(position) {
        if (position) {
            this.isLoaded = false;
            this.getStatusPositionCard();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpJobInfoCardComponent.ɵfac = function EmpJobInfoCardComponent_Factory(t) { return new (t || EmpJobInfoCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeJobInformationService)); };
EmpJobInfoCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmpJobInfoCardComponent, selectors: [["emp-job-info-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-2"], ["cardTitle", "jobInfo", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-8"], [4, "ngIf"], [3, "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "status", 1, "col", 3, "value"], ["valueClass", "col-6 text-muted", 1, "col", 3, "value"], ["label", "reasons", 1, "col", 3, "value"], ["label", "organization", 1, "col", 3, "value"], ["label", "orgStartDate", 1, "col", 3, "value"], ["label", "job", 1, "col", 3, "value"], [1, "view-data-row-container", "mt-1"], ["label", "timeInPosition", 1, "col", 3, "value"], ["label", "timeInCompany", 1, "col", 3, "value"], ["label", "contract", 1, "col", 3, "value"], ["label", "contractDuration", 1, "col", 3, "value"], [1, "rowItem"], [1, "row"], [1, "col-6"], [1, "col-6", "text-center", "mb-2"], [1, "table", "m-0", "smalltable", 2, "margin-top", "0 !important"], [4, "ngFor", "ngForOf"], [3, "rowNo"]], template: function EmpJobInfoCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmpJobInfoCardComponent_div_0_Template, 8, 4, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmpJobInfoCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _angular_common__WEBPACK_IMPORTED_MODULE_11__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtam9iLWluZm8tY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 73610:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-job-info-dialog/emp-job-info-dialog.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpJobInfoDialogComponent": () => (/* binding */ EmpJobInfoDialogComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-job-section/emp-job-section.component */ 58319);
/* harmony import */ var _emp_contract_section_emp_contract_section_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-contract-section/emp-contract-section.component */ 75418);
/* harmony import */ var _emp_supervisor_section_emp_supervisor_section_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-supervisor-section/emp-supervisor-section.component */ 56421);










class EmpJobInfoDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(dialogRef) {
        super();
        this.dialogRef = dialogRef;
        this.isJobUpdated = false;
        this.isContractUpdated = false;
    }
    ngOnInit() {
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close({
            isJobUpdated: this.isJobUpdated,
            isContractUpdated: this.isContractUpdated,
        });
    }
    jobUpdated(value) {
        this.isJobUpdated = value;
    }
    contractUpdated(value) {
        this.isContractUpdated = value;
    }
}
EmpJobInfoDialogComponent.ɵfac = function EmpJobInfoDialogComponent_Factory(t) { return new (t || EmpJobInfoDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MatDialogRef)); };
EmpJobInfoDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmpJobInfoDialogComponent, selectors: [["emp-job-info-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 13, vars: 0, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "jobInfo", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [3, "changUpdated"], [1, "clearfix"], [1, "mtop-20", "mbottom-20"]], template: function EmpJobInfoDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function EmpJobInfoDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](6, "mat-dialog-content", 4)(7, "emp-job-section", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("changUpdated", function EmpJobInfoDialogComponent_Template_emp_job_section_changUpdated_7_listener($event) { return ctx.jobUpdated($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](8, "div", 6)(9, "mat-divider", 7)(10, "emp-supervisor-section")(11, "mat-divider", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](12, "emp-contract-section", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("changUpdated", function EmpJobInfoDialogComponent_Template_emp_contract_section_changUpdated_12_listener($event) { return ctx.contractUpdated($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    } }, dependencies: [_shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_1__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_7__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_8__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_9__.NgxSpinnerComponent, _emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_2__.EmpJobDataDialogComponent, _emp_contract_section_emp_contract_section_component__WEBPACK_IMPORTED_MODULE_3__.EmpContractDetailsDialogComponent, _emp_supervisor_section_emp_supervisor_section_component__WEBPACK_IMPORTED_MODULE_4__.EmpSupervisorSectionComponent], styles: [".mat-dialog-content[_ngcontent-%COMP%] {\n  background: #f0f2f5;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC1qb2ItaW5mby1kaWFsb2cuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtBQUNGIiwiZmlsZSI6ImVtcC1qb2ItaW5mby1kaWFsb2cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWRpYWxvZy1jb250ZW50IHtcclxuICBiYWNrZ3JvdW5kOiAjZjBmMmY1O1xyXG59XHJcbiJdfQ== */"] });


/***/ }),

/***/ 58319:
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-job-section/emp-job-section.component.ts ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpJobDataDialogComponent": () => (/* binding */ EmpJobDataDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/constants */ 33975);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _assign_as_org_manager_dialog_assign_as_org_manager_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../assign-as-org-manager-dialog/assign-as-org-manager-dialog.component */ 57993);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_job_info_close_job_dialog_close_job_dialog_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-job-info/close-job-dialog/close-job-dialog.component */ 27849);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-job-information.service */ 89609);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_skeletons_table_skeleton_table_skeleton_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/skeletons/table-skeleton/table-skeleton.component */ 98814);
/* harmony import */ var app_org_management_components_policy_groups_load_policies_group_load_policies_group_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! app/org-management/components/policy-groups/load-policies-group/load-policies-group.component */ 29467);
/* harmony import */ var _shared_components_row_functions_row_functions_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../shared/components/row-functions/row-functions.component */ 58313);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_employees_shared_company_employees_shared_company_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/employees-shared-company/employees-shared-company.component */ 18183);
/* harmony import */ var _shared_components_resources_prime_paginator_prime_paginator_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../../shared/components/resources/prime-paginator/prime-paginator.component */ 9615);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @angular/material/tooltip */ 6896);
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/material/sort */ 92197);
/* harmony import */ var app_shared_components_resources_dynamic_form_field_prime_ng_dropdown_core_dropdown_core_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! app/shared/components/resources/dynamic-form-field/prime-ng/dropdown-core/dropdown-core.component */ 68506);
/* harmony import */ var _shared_components_dropdowns_org_management_setup_org_organization_by_org_type_dropdown_organization_by_org_type_dropdown_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management-setup/org/organization-by-org-type-dropdown/organization-by-org-type-dropdown.component */ 85443);
/* harmony import */ var _shared_components_dropdowns_org_management_job_title_job_title_by_org_dropdown_job_title_by_org_dropdown_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management/job-title/job-title-by-org-dropdown/job-title-by-org-dropdown.component */ 15362);
/* harmony import */ var _shared_components_dropdowns_org_management_setup_org_types_org_types_dropdown_current_structure_org_types_dropdown_current_structure_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management-setup/org-types/org-types-dropdown-current-structure/org-types-dropdown-current-structure.component */ 50260);
/* harmony import */ var _shared_components_dropdowns_hr_setup_job_status_dropdown_job_status_dropdown_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/job-status-dropdown/job-status-dropdown.component */ 99892);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @ngx-translate/core */ 89461);



































function EmpJobDataDialogComponent_app_prime_dropdown_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](0, "app-prime-dropdown", 27);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]();
    const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵreference"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx_r1.empStatusCtrls.StatusPropertiesId)("submitted", ctx_r1.submitted)("List", ctx_r1.reasonsList)("disable", ctx_r1.currentAction === (ctx_r1.actionType.assign || ctx_r1.actionType.append))("appendTo", _r0);
} }
function EmpJobDataDialogComponent_div_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](1, "employees-shared-company", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]();
    const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵreference"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx_r2.empStatusCtrls.NewDefaultCompany)("person_ID", ctx_r2.employeeId)("submitted", ctx_r2.submitted)("disable", ctx_r2.currentAction === (ctx_r2.actionType.assign || ctx_r2.actionType.append))("appendTo", _r0);
} }
function EmpJobDataDialogComponent_div_40_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](1, "load-policies-group", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx_r3.corePersonJobCtrls.policy_groups)("jobControl", ctx_r3.corePersonJobCtrls.Job_Title_ID)("orgControl", ctx_r3.corePersonOrgCtrls.Org_ID)("submitted", ctx_r3.submitted)("filterByOrgAndJob", true);
} }
function EmpJobDataDialogComponent_reset_form_btn_42_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "reset-form-btn", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵlistener"]("click", function EmpJobDataDialogComponent_reset_form_btn_42_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵresetView"](ctx_r8.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} }
function EmpJobDataDialogComponent_ng_container_44_th_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "th", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1, "Ser");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} }
function EmpJobDataDialogComponent_ng_container_44_td_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "td", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](1, "i", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} }
function EmpJobDataDialogComponent_ng_container_44_th_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "th", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](2, 1, "status"));
} }
function EmpJobDataDialogComponent_ng_container_44_td_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "td", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ele_r25 = ctx.$implicit;
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", ctx_r13.msgTranslate(ele_r25.core_Status == null ? null : ele_r25.core_Status.ar_Name, ele_r25.core_Status == null ? null : ele_r25.core_Status.en_Name), " ");
} }
function EmpJobDataDialogComponent_ng_container_44_th_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "th", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](2, 1, "from_Date"));
} }
function EmpJobDataDialogComponent_ng_container_44_td_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "td", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](2, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ele_r26 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind2"](2, 1, ele_r26 == null ? null : ele_r26.from_Date, "dd-MM-yyyy"), " ");
} }
function EmpJobDataDialogComponent_ng_container_44_th_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "th", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](2, 1, "to_Date"));
} }
function EmpJobDataDialogComponent_ng_container_44_td_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "td", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](2, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ele_r27 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind2"](2, 1, ele_r27 == null ? null : ele_r27.to_Date, "dd-MM-yyyy"), " ");
} }
function EmpJobDataDialogComponent_ng_container_44_th_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "th", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](2, 1, "organization"), "");
} }
function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_td_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "td", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const org_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2).$implicit;
    const ctx_r35 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("rowSpan", org_r31.core_Person_Instance_Job_Title == null ? null : org_r31.core_Person_Instance_Job_Title.length);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", ctx_r35.msgTranslate(org_r31 == null ? null : org_r31.core_Org == null ? null : org_r31.core_Org.ar_Name, org_r31 == null ? null : org_r31.core_Org == null ? null : org_r31.core_Org.en_Name), " ");
} }
function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_span_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "span", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](2, 1, "yes"), " ");
} }
function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_ng_template_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "span", 62);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](2, 1, "no"), " ");
} }
function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_td_13_Template(rf, ctx) { if (rf & 1) {
    const _r43 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "td", 60)(1, "app-row-functions", 63);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵlistener"]("onAction", function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_td_13_Template_app_row_functions_onAction_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵrestoreView"](_r43); const org_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2).$implicit; const status_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2).$implicit; const ctx_r41 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵresetView"](ctx_r41.orgOnAction($event, status_r28, org_r31)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const org_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2).$implicit;
    const ctx_r39 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("rowSpan", org_r31.core_Person_Instance_Job_Title == null ? null : org_r31.core_Person_Instance_Job_Title.length);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("actions", ctx_r39.orgRowFunctions);
} }
function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_Template(rf, ctx) { if (rf & 1) {
    const _r48 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "tr", 54);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](1, EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_td_1_Template, 2, 2, "td", 55);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](2, "td", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](4, "td", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](6, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](7, "td", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](8, EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_span_8_Template, 3, 3, "span", 57);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](9, EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_ng_template_9_Template, 3, 3, "ng-template", null, 58, _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](11, "td", 56)(12, "app-row-functions", 59);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵlistener"]("editRow", function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_Template_app_row_functions_editRow_12_listener() { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵrestoreView"](_r48); const job_r33 = restoredCtx.$implicit; const org_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]().$implicit; const status_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2).$implicit; const ctx_r46 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵresetView"](ctx_r46.jobToEdit(status_r28, org_r31, job_r33)); })("deleteRow", function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_Template_app_row_functions_deleteRow_12_listener() { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵrestoreView"](_r48); const job_r33 = restoredCtx.$implicit; const org_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]().$implicit; const status_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2).$implicit; const ctx_r50 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵresetView"](ctx_r50.onDeleteJob(status_r28.id, org_r31, job_r33)); })("onAction", function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_Template_app_row_functions_onAction_12_listener($event) { const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵrestoreView"](_r48); const job_r33 = restoredCtx.$implicit; const ctx_r53 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](5); return _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵresetView"](ctx_r53.jobOnAction($event, job_r33)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](13, EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_td_13_Template, 2, 2, "td", 55);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const job_r33 = ctx.$implicit;
    const i_r34 = ctx.index;
    const _r37 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵreference"](10);
    const ctx_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", i_r34 == 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", ctx_r32.msgTranslate(job_r33 == null ? null : job_r33.core_Job_Title == null ? null : job_r33.core_Job_Title.ar_Name, job_r33 == null ? null : job_r33.core_Job_Title == null ? null : job_r33.core_Job_Title.en_Name), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind2"](6, 7, job_r33 == null ? null : job_r33.from_Date, "dd-MM-yyyy"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", job_r33 == null ? null : job_r33.is_Manpower_Affected)("ngIfElse", _r37);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("actions", ctx_r32.jobRowFunctions);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", i_r34 == 0);
} }
function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](1, EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_tr_1_Template, 14, 10, "tr", 53);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const org_r31 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngForOf", org_r31.core_Person_Instance_Job_Title);
} }
function EmpJobDataDialogComponent_ng_container_44_td_18_table_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "table", 49)(1, "thead")(2, "tr", 50)(3, "th", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](5, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](6, "th", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](8, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](9, "th", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](11, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](12, "th", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](14, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](15, "th", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](16);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](17, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](18, "th", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](20, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](21, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](22, EmpJobDataDialogComponent_ng_container_44_td_18_table_1_ng_container_22_Template, 2, 1, "ng-container", 52);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const status_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](5, 7, "organization"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](8, 9, "job"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](11, 11, "from_Date"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](14, 13, "counted"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](17, 15, "job actions"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](20, 17, "org actions"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngForOf", status_r28 == null ? null : status_r28.core_Person_Instance_Org);
} }
function EmpJobDataDialogComponent_ng_container_44_td_18_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "td", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](1, EmpJobDataDialogComponent_ng_container_44_td_18_table_1_Template, 23, 19, "table", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const status_r28 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", (status_r28 == null ? null : status_r28.core_Person_Instance_Org == null ? null : status_r28.core_Person_Instance_Org.length) > 0);
} }
function EmpJobDataDialogComponent_ng_container_44_th_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "th", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](2, 1, "actions"));
} }
function EmpJobDataDialogComponent_ng_container_44_td_21_ng_container_1_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r62 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "a", 65);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵlistener"]("click", function EmpJobDataDialogComponent_ng_container_44_td_21_ng_container_1_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵrestoreView"](_r62); const ele_r55 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2).$implicit; const ctx_r60 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵresetView"](ctx_r60.onDeleteStatus(ele_r55)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](1, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](2, "i", 66);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const fun_r57 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵclassMap"](fun_r57.color);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](1, 5, fun_r57.name));
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵclassMap"](fun_r57.icon);
} }
function EmpJobDataDialogComponent_ng_container_44_td_21_ng_container_1_a_2_Template(rf, ctx) { if (rf & 1) {
    const _r66 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "a", 65);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵlistener"]("click", function EmpJobDataDialogComponent_ng_container_44_td_21_ng_container_1_a_2_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵrestoreView"](_r66); const ele_r55 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2).$implicit; const ctx_r64 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵresetView"](ctx_r64.onAssign(ele_r55)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](1, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](2, "i", 66);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const fun_r57 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵclassMap"](fun_r57.color);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("matTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](1, 5, fun_r57.name));
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵclassMap"](fun_r57.icon);
} }
function EmpJobDataDialogComponent_ng_container_44_td_21_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](1, EmpJobDataDialogComponent_ng_container_44_td_21_ng_container_1_a_1_Template, 3, 7, "a", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](2, EmpJobDataDialogComponent_ng_container_44_td_21_ng_container_1_a_2_Template, 3, 7, "a", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const fun_r57 = ctx.$implicit;
    const ele_r55 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", fun_r57.name.toLowerCase() == "delete" && (ele_r55.core_Person_Instance_Org == null ? null : ele_r55.core_Person_Instance_Org.length) == 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", fun_r57.name.toLowerCase() == "assign");
} }
function EmpJobDataDialogComponent_ng_container_44_td_21_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "td", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](1, EmpJobDataDialogComponent_ng_container_44_td_21_ng_container_1_Template, 3, 2, "ng-container", 52);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngForOf", ctx_r21.statusRowFunctions.basic);
} }
function EmpJobDataDialogComponent_ng_container_44_tr_22_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](0, "tr", 67);
} }
function EmpJobDataDialogComponent_ng_container_44_tr_23_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](0, "tr", 68);
} }
function EmpJobDataDialogComponent_ng_container_44_Template(rf, ctx) { if (rf & 1) {
    const _r71 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](1, "mat-card-content")(2, "div", 32)(3, "table", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerStart"](4, 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](5, EmpJobDataDialogComponent_ng_container_44_th_5_Template, 2, 0, "th", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](6, EmpJobDataDialogComponent_ng_container_44_td_6_Template, 2, 0, "td", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerStart"](7, 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](8, EmpJobDataDialogComponent_ng_container_44_th_8_Template, 3, 3, "th", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](9, EmpJobDataDialogComponent_ng_container_44_td_9_Template, 2, 1, "td", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerStart"](10, 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](11, EmpJobDataDialogComponent_ng_container_44_th_11_Template, 3, 3, "th", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](12, EmpJobDataDialogComponent_ng_container_44_td_12_Template, 3, 4, "td", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerStart"](13, 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](14, EmpJobDataDialogComponent_ng_container_44_th_14_Template, 3, 3, "th", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](15, EmpJobDataDialogComponent_ng_container_44_td_15_Template, 3, 4, "td", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerStart"](16, 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](17, EmpJobDataDialogComponent_ng_container_44_th_17_Template, 3, 3, "th", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](18, EmpJobDataDialogComponent_ng_container_44_td_18_Template, 2, 1, "td", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerStart"](19, 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](20, EmpJobDataDialogComponent_ng_container_44_th_20_Template, 3, 3, "th", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](21, EmpJobDataDialogComponent_ng_container_44_td_21_Template, 2, 1, "td", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](22, EmpJobDataDialogComponent_ng_container_44_tr_22_Template, 1, 0, "tr", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](23, EmpJobDataDialogComponent_ng_container_44_tr_23_Template, 1, 0, "tr", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](24, "app-prime-paginator", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵlistener"]("onChangePage", function EmpJobDataDialogComponent_ng_container_44_Template_app_prime_paginator_onChangePage_24_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵrestoreView"](_r71); const ctx_r70 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵresetView"](ctx_r70.getList($event.pageIndex + 1, $event.pageSize)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("dataSource", ctx_r5.dataSource);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("matHeaderRowDef", ctx_r5.displayedColumns);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("matRowDefColumns", ctx_r5.displayedColumns);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("page", ctx_r5.page)("isDialogSize", true);
} }
function EmpJobDataDialogComponent_div_45_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "div", 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](1, "app-table-skeleton", 70);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("displayedColumns", ctx_r6.displayedColumns);
} }
function EmpJobDataDialogComponent_div_46_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "div", 71);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](1, "img", 72)(2, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("src", ctx_r7.assets.empty, _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](4, 2, "emptytable"), " ");
} }
var ActionType;
(function (ActionType) {
    ActionType["assign"] = "assign";
    ActionType["append"] = "append";
    ActionType["edit"] = "edit";
    ActionType["delete"] = "delete";
    ActionType["close"] = "close";
    ActionType["assignManager"] = "assignManager";
})(ActionType || (ActionType = {}));
class EmpJobDataDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeJobInformationService, dialog) {
        super();
        this.employeeJobInformationService = employeeJobInformationService;
        this.dialog = dialog;
        this.changUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_23__.EventEmitter();
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.displayedColumns = [
            "Ser",
            "status",
            "status_date",
            "status_end_date",
            // "reasons",
            "org",
            "actions",
        ];
        this.isLoaded = false;
        this.submitted = false;
        this.Constants = app_shared_resources_constants__WEBPACK_IMPORTED_MODULE_4__.Constants;
        this.actionType = ActionType;
        this.jobRowFunctions = { basic: [], dropdown: [] };
        this.orgRowFunctions = { basic: [], dropdown: [] };
        this.statusRowFunctions = { basic: [], dropdown: [] };
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_2__.EmpGeneralInfoService.employeeInstanceId$.subscribe(id => this.employeeInstanceId = id);
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_job_info_sec);
        // row functions on (job org nested table)
        this.jobRowFunctions.basic = this.rowFunctions.basic.filter(ele => {
            let fun = ele.name.toLocaleLowerCase();
            return fun.includes(ActionType.edit) || fun.includes(ActionType.delete) || fun.includes(ActionType.close);
        });
        // row functions on (org first nested table)
        this.orgRowFunctions.basic = this.rowFunctions.basic.filter((ele) => !this.jobRowFunctions.basic.map((job) => job.id).includes(ele.id));
        // row functions on (status table)
        this.statusRowFunctions.basic = this.rowFunctions.dropdown;
    }
    ngOnInit() {
        this.form = this.fb.group({
            // FORM AS GROUPS
            employee_Status: this.fb.group({
                id: [0, { nonNullable: true }],
                Status_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_24__.Validators.required]],
                From_Date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_24__.Validators.required]],
                StatusPropertiesId: [],
                NewDefaultCompany: [],
            }),
            core_Person_Instance_Org: this.fb.group({
                id: [0, { nonNullable: true }],
                orgTypeId: [null],
                person_Instance_Status_ID: [null],
                Org_ID: [null],
                From_Date: [null],
            }),
            core_Person_Instance_Job_Title: this.fb.group({
                id: [0, { nonNullable: true }],
                Job_Title_ID: [null],
                person_Instance_Org_ID: [null],
                From_Date: [null],
                Is_Manpower_Affected: [false],
                policy_groups: []
            }),
        });
        // START: Dates validation
        // this.form.valueChanges.subscribe(() => {
        //
        //   if ( // Org Date Must > Status date
        //     new Date(this.empStatusCtrls.From_Date.value).getTime() >
        //     new Date(this.corePersonOrgCtrls.From_Date.value).getTime()
        //   ) {
        //     this.corePersonOrgCtrls.From_Date.setErrors({orgDateMustBigStatus: true});
        //   } else {
        //     this.corePersonOrgCtrls.From_Date.setErrors(null);
        //   }
        //
        //   if ( // Job Date Must > Org date
        //     new Date(this.corePersonOrgCtrls.From_Date.value).getTime() >
        //     new Date(this.corePersonJobCtrls.From_Date.value).getTime()
        //   ) {
        //     this.corePersonJobCtrls.From_Date.setErrors({jobDateMustBigOrg: true});
        //   } else {
        //     this.corePersonJobCtrls.From_Date.setErrors(null);
        //   }
        // });
    }
    get formCtrls() {
        return this.form.controls;
    }
    get empStatusCtrls() {
        return this.form.get("employee_Status").controls;
    }
    get corePersonOrgCtrls() {
        return this.form.get("core_Person_Instance_Org").controls;
    }
    get corePersonJobCtrls() {
        return this.form.get("core_Person_Instance_Job_Title").controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        this.isLoaded = false;
        if (pageSize) {
            this.page.dialogSize = pageSize;
        }
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeJobInformationService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatTableDataSource(res.data);
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else {
                this.errorList(res.message.messages);
            }
        });
    }
    submit() {
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                employee_Status: {
                    PersonInstanceStatus: {
                        id: this.empStatusCtrls.id.value,
                        Person_Instance_ID: this.employeeInstanceId,
                        Status_ID: this.empStatusCtrls.Status_ID.value,
                        From_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__.HelpersFunctions.transformData(this.empStatusCtrls.From_Date.value),
                        StatusPropertiesId: this.empStatusCtrls.StatusPropertiesId.value
                    },
                    NewDefaultCompany: this.empStatusCtrls.NewDefaultCompany.value
                },
                core_Person_Instance_Org: {
                    id: this.corePersonOrgCtrls.id.value,
                    Person_Instance_ID: this.employeeInstanceId,
                    Org_ID: this.corePersonOrgCtrls.Org_ID.value,
                    person_Instance_Status_ID: this.corePersonOrgCtrls.person_Instance_Status_ID.value,
                    From_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__.HelpersFunctions.transformData(this.corePersonOrgCtrls.From_Date.value)
                },
                core_Person_Instance_Job_Title: {
                    id: this.corePersonJobCtrls.id.value,
                    Person_Instance_ID: this.employeeInstanceId,
                    Job_Title_ID: this.corePersonJobCtrls.Job_Title_ID.value,
                    From_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__.HelpersFunctions.transformData(this.corePersonJobCtrls.From_Date.value),
                    Is_Manpower_Affected: this.corePersonJobCtrls.Is_Manpower_Affected.value,
                    person_Instance_Org_ID: this.corePersonJobCtrls.person_Instance_Org_ID.value,
                },
                SelectedPolicygroup: this.corePersonJobCtrls.policy_groups.value
            };
            //  console.log("model", model);
            if (this.empStatusCtrls.Status_ID.value == app_shared_resources_constants__WEBPACK_IMPORTED_MODULE_4__.Constants.endOfServiceID) {
                model.core_Person_Instance_Job_Title = null;
                model.core_Person_Instance_Org = null;
            }
            // assign
            if (this.currentAction === ActionType.assign) {
                let assignBody = {
                    core_Person_Instance_Org: model.core_Person_Instance_Org,
                    core_Person_Instance_Job_Title: model.core_Person_Instance_Job_Title,
                    SelectedPolicygroup: model.SelectedPolicygroup
                };
                this.assign(assignBody);
            }
            // append
            else if (this.currentAction === ActionType.append) {
                let appendBody = {
                    core_Person_Instance_Job_Title: model.core_Person_Instance_Job_Title,
                    SelectedPolicygroup: model.SelectedPolicygroup
                };
                this.append(appendBody);
            }
            // create & edit
            else {
                model.employee_Status.PersonInstanceStatus.id == 0 ? this.create(model) : this.update(model);
            }
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeJobInformationService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.changUpdated.emit(true);
            }
            else {
                this.errorList(res.message.messages);
            }
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeJobInformationService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.changUpdated.emit(true);
            }
            else {
                this.errorList(res.message.messages);
            }
            this.hideLoading();
        });
    }
    append(model) {
        this.showLoading();
        this.employeeJobInformationService
            .appendJob(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.success(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.changUpdated.emit(true);
            }
            else {
                this.errorList(res.message.messages);
            }
            this.hideLoading();
        });
    }
    assign(model) {
        this.showLoading();
        this.employeeJobInformationService
            .assignOrgAndJob(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.success(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.changUpdated.emit(true);
            }
            else {
                this.errorList(res.message.messages);
            }
            this.hideLoading();
        });
    }
    jobToEdit(status, org, job) {
        // set employee Status Data
        if (status) {
            this.empStatusCtrls.id.setValue(status.id);
            this.empStatusCtrls.Status_ID.setValue(status.status_ID);
            this.empStatusCtrls.From_Date.setValue(status.from_Date);
            this.empStatusCtrls.StatusPropertiesId.setValue(status.statusPropertiesId);
            this.empStatusCtrls.NewDefaultCompany.setValue(status.statusPropertiesId);
            this.corePersonOrgCtrls.person_Instance_Status_ID.setValue(status.id);
        }
        // set core_Person_Instance_Org
        if (org) {
            let org_type_id = org.core_Org?.core_Org_Structure_Org[0]?.orG_TYPE_ID;
            this.corePersonOrgCtrls.id.setValue(org.id);
            this.corePersonOrgCtrls.orgTypeId.setValue(org_type_id);
            // this.corePersonOrgCtrls.Org_ID.setValue(org.org_ID);
            this.corePersonOrgCtrls.From_Date.setValue(org.from_Date);
            this.corePersonJobCtrls.person_Instance_Org_ID.setValue(org.id);
            setTimeout(() => {
                this.corePersonOrgCtrls.Org_ID.setValue(org.org_ID);
            }, 100);
        }
        // set job
        if (job) {
            this.corePersonJobCtrls.id.setValue(job.id);
            //   this.corePersonJobCtrls.Job_Title_ID.setValue(job.job_Title_ID);
            this.corePersonJobCtrls.From_Date.setValue(job.from_Date);
            this.corePersonJobCtrls.Is_Manpower_Affected.setValue(job.is_Manpower_Affected);
            setTimeout(() => {
                this.corePersonJobCtrls.Job_Title_ID.setValue(job.job_Title_ID);
            }, 200);
        }
        // if (this.currentAction == ActionType.assign) {
        //   console.log("###### Status 1");
        //   Object.keys(this.empStatusCtrls).forEach(e => {
        //     this.empStatusCtrls[e].disable();
        //     console.log(this.empStatusCtrls[e]);
        //   });
        // }
        if (this.currentAction == ActionType.append) {
            Object.keys(this.empStatusCtrls).forEach(e => {
                this.empStatusCtrls[e]?.disable();
            });
            //   console.log("###### org");
            //   Object.keys(this.corePersonOrgCtrls).forEach(e => {
            //     this.empStatusCtrls[e]?.disable();
            //     console.log(this.empStatusCtrls[e]);
            //   });
        }
        // this.form.patchValue(employeeJobData);
    }
    //on delete job
    onDeleteJob(StatusID, org, job) {
        let msg = this.msgTranslate(job.core_Job_Title.ar_Name, job.core_Job_Title.en_Name);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm) {
                this.delete(StatusID, org, job);
            }
        });
    }
    //on delete status
    onDeleteStatus(status) {
        let msg = this.msgTranslate(status.core_Status.ar_Name, status.core_Status.en_Name);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm) {
                this.delete(status.id, null, null, true);
            }
        });
    }
    delete(StatusID, org, job, deleteStatus = false) {
        this.showLoading();
        let params = {
            employeeStatusID: StatusID,
            employeeJobTitleID: job?.id ?? 0,
            DeleteStatusIfOrphan: deleteStatus
        };
        this.employeeJobInformationService
            .Delete(params)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.changUpdated.emit(true);
                if (job.job_Title_ID == this.formCtrls.id.value) {
                    this.clearForm();
                }
            }
            else {
                this.errorList(res.message.messages);
            }
            this.hideLoading();
        });
    }
    openCloseDialog(job) {
        let msg = this.msgTranslate(job.core_Job_Title.ar_Name, job.core_Job_Title.en_Name);
        this.dialog
            .open(app_personnel_setup_components_employees_employement_information_emp_job_info_close_job_dialog_close_job_dialog_component__WEBPACK_IMPORTED_MODULE_7__.CloseJobDialogComponent, {
            data: job,
            height: "auto",
            minWidth: "40%",
            autoFocus: false,
            panelClass: "dialog-emp-form",
        })
            .afterClosed()
            .subscribe((data) => { });
    }
    // get reasons List when change status
    onChangeStatus(item) {
        this.reasonsList = item[0]?.core_Status_Properties;
        if (item[0]?.id == app_shared_resources_constants__WEBPACK_IMPORTED_MODULE_4__.Constants.endOfServiceID) {
            this.empStatusCtrls.StatusPropertiesId.setValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_24__.Validators.required]);
        }
        else {
            this.empStatusCtrls.StatusPropertiesId.removeValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_24__.Validators.required]);
            this.empStatusCtrls.StatusPropertiesId.reset();
        }
    }
    // statusOnAction(event: { data; fun: IGUIModel }, org: IPersonInstanceOrg) {
    //   if (event.fun.name == "assignManager") this.openAssignManagerDialog(org);
    // }
    onAssign(status) {
        this.currentAction = ActionType.assign;
        this.jobToEdit(status, null, null);
        // console.log("onAssign", this.currentAction);
    }
    orgOnAction(event, status, org) {
        if (event.fun.name == ActionType.assignManager)
            this.openAssignManagerDialog(org);
        if (event.fun.name == ActionType.append) {
            this.currentAction = ActionType.append;
            this.jobToEdit(status, org, null);
            // console.log("onAppend", this.currentAction);
        }
    }
    jobOnAction(event, job) {
        if (event.fun.name == "close")
            this.openCloseDialog(job);
    }
    openAssignManagerDialog(org) {
        this.dialog
            .open(_assign_as_org_manager_dialog_assign_as_org_manager_dialog_component__WEBPACK_IMPORTED_MODULE_6__.AssignAsOrgManagerDialogComponent, {
            data: org,
            minWidth: "50%",
            height: "auto",
            autoFocus: false,
            panelClass: "dialog-emp-form",
        })
            .afterClosed()
            .subscribe((data) => { });
    }
    clearForm() {
        this.form.reset({
            employee_Status: { id: 0 },
            core_Person_Instance_Org: { id: 0 },
            core_Person_Instance_Job_Title: {
                id: 0,
                Is_Manpower_Affected: false
            },
        });
        this.submitted = false;
        this.currentAction = null;
        Object.keys(this.empStatusCtrls).forEach(e => {
            this.empStatusCtrls[e]?.enable();
        });
    }
}
EmpJobDataDialogComponent.ɵfac = function EmpJobDataDialogComponent_Factory(t) { return new (t || EmpJobDataDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_job_information_service__WEBPACK_IMPORTED_MODULE_8__.EmployeeJobInformationService), _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_26__.MatDialog)); };
EmpJobDataDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵdefineComponent"]({ type: EmpJobDataDialogComponent, selectors: [["emp-job-section"]], outputs: { changUpdated: "changUpdated" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵInheritDefinitionFeature"]], decls: 47, vars: 56, consts: [[1, "p-1"], ["dialogContainer", ""], [1, "form-card"], [1, "divider-title"], [3, "formGroup"], ["formGroupName", "employee_Status", 1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "disable", "appendTo", "change"], ["label", "status_From_Date", 3, "control", "disabled", "submitted"], ["label", "reasons", 3, "control", "submitted", "List", "disable", "appendTo", 4, "ngIf"], ["class", "col-md-4 col-sm-6 col-12", 4, "ngIf"], ["formGroupName", "core_Person_Instance_Org", 1, "row", "ptop-20"], [3, "control", "submitted", "filter", "disable", "appendTo"], [3, "orgTypeControl", "control", "submitted", "filter", "disable", "appendTo"], ["label", "orgStartDate", 3, "control", "submitted", "disabled"], ["formGroupName", "core_Person_Instance_Job_Title", 1, "row", "ptop-20"], [3, "control", "organizationControl", "organizationControlRequired", "submitted", "filter", "appendTo"], ["label", "startDate", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "counted", 3, "control"], ["class", "col-12", 4, "ngIf"], ["align", "end"], [3, "click", 4, "ngIf"], [3, "color", "disabled", "onClick"], [4, "ngIf"], ["class", "mtop-25", 4, "ngIf"], ["class", "text-center", 4, "ngIf"], ["label", "reasons", 3, "control", "submitted", "List", "disable", "appendTo"], [3, "control", "person_ID", "submitted", "disable", "appendTo"], [1, "col-12"], [3, "control", "jobControl", "orgControl", "submitted", "filterByOrgAndJob"], [3, "click"], [1, "mat-elevation-z8", "f-w", "table-container"], ["mat-table", "", "matSort", "", 3, "dataSource"], ["matColumnDef", "Ser"], ["mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["matColumnDef", "status"], ["matColumnDef", "status_date"], ["matColumnDef", "status_end_date"], ["matColumnDef", "org"], ["matColumnDef", "actions"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], [3, "page", "isDialogSize", "onChangePage"], ["mat-header-cell", "", "mat-sort-header", ""], ["mat-cell", ""], [1, "fas", "fa-bars"], ["class", "table table-responsive-sm m-0", 4, "ngIf"], [1, "table", "table-responsive-sm", "m-0"], [2, "color", "#5a5a5a"], [1, "border-top-0", "padding-10"], [4, "ngFor", "ngForOf"], ["style", "color: #374761", "class", "border-top-0 border-bottom-1", 4, "ngFor", "ngForOf"], [1, "border-top-0", "border-bottom-1", 2, "color", "#374761"], ["class", "padding-10 vertical-align-middle", 3, "rowSpan", 4, "ngIf"], [1, "padding-10"], ["class", "badge bg-light-success", 4, "ngIf", "ngIfElse"], ["no", ""], ["iconSize", "font-small-3", 3, "actions", "editRow", "deleteRow", "onAction"], [1, "padding-10", "vertical-align-middle", 3, "rowSpan"], [1, "badge", "bg-light-success"], [1, "badge", "bg-light-danger"], ["iconSize", "font-small-3", 3, "actions", "onAction"], [3, "class", "matTooltip", "click", 4, "ngIf"], [3, "matTooltip", "click"], [1, "font-medium-1", "mr-2", "p-0"], ["mat-header-row", ""], ["mat-row", ""], [1, "mtop-25"], [3, "displayedColumns"], [1, "text-center"], [3, "src"]], template: function EmpJobDataDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](0, "div", 0, 1)(2, "mat-card", 2)(3, "mat-card-title")(4, "p", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](6, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](7, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](8, "mat-card-content")(9, "form", 4)(10, "div", 5)(11, "div", 6)(12, "app-job-status-dropdown", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵlistener"]("change", function EmpJobDataDialogComponent_Template_app_job_status_dropdown_change_12_listener($event) { return ctx.onChangeStatus($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](13, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](14, "app-datepicker", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](15, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](16, EmpJobDataDialogComponent_app_prime_dropdown_16_Template, 1, 5, "app-prime-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](17, EmpJobDataDialogComponent_div_17_Template, 2, 5, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](18, "p", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](19);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](20, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](21, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](22, "div", 11)(23, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](24, "app-org-types-dropdown-current-structure", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](25, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](26, "app-organization-by-org-type-dropdown", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](27, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](28, "app-datepicker", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](29, "p", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtext"](30);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](31, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipe"](32, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](33, "div", 15)(34, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](35, "app-job-title-by-org-dropdown", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](36, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](37, "app-datepicker", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](38, "div", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelement"](39, "app-check-box", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](40, EmpJobDataDialogComponent_div_40_Template, 2, 5, "div", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](41, "mat-card-actions", 21);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](42, EmpJobDataDialogComponent_reset_form_btn_42_Template, 1, 0, "reset-form-btn", 22);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementStart"](43, "submit-btn", 23);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵlistener"]("onClick", function EmpJobDataDialogComponent_Template_submit_btn_onClick_43_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](44, EmpJobDataDialogComponent_ng_container_44_Template, 25, 5, "ng-container", 24);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](45, EmpJobDataDialogComponent_div_45_Template, 2, 1, "div", 25);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtemplate"](46, EmpJobDataDialogComponent_div_46_Template, 5, 4, "div", 26);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵreference"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](6, 44, _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](7, 46, "status")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx.empStatusCtrls.Status_ID)("submitted", ctx.submitted)("filter", true)("disable", ctx.currentAction === (ctx.actionType.assign || ctx.actionType.append))("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx.empStatusCtrls.From_Date)("disabled", ctx.currentAction === (ctx.actionType.assign || ctx.actionType.append))("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", ctx.empStatusCtrls.Status_ID.value == ctx.Constants.endOfServiceID && (ctx.empStatusCtrls == null ? null : ctx.empStatusCtrls.id.value) > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](20, 48, _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](21, 50, "organizationData")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx.corePersonOrgCtrls.orgTypeId)("submitted", ctx.submitted)("filter", true)("disable", ctx.currentAction === ctx.actionType.append)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("orgTypeControl", ctx.corePersonOrgCtrls.orgTypeId)("control", ctx.corePersonOrgCtrls.Org_ID)("submitted", ctx.submitted)("filter", true)("disable", ctx.currentAction === ctx.actionType.append)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx.corePersonOrgCtrls.From_Date)("submitted", ctx.submitted)("disabled", ctx.currentAction === ctx.actionType.append);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](31, 52, _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵpipeBind1"](32, 54, "jobData")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx.corePersonJobCtrls.Job_Title_ID)("organizationControl", ctx.corePersonOrgCtrls.Org_ID)("organizationControlRequired", true)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx.corePersonJobCtrls.From_Date)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("control", ctx.corePersonJobCtrls.Is_Manpower_Affected);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", ctx.corePersonJobCtrls.Job_Title_ID.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", ctx.empStatusCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", (ctx.dataSource == null ? null : ctx.dataSource.data == null ? null : ctx.dataSource.data.length) > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", !ctx.isLoaded && !(ctx.dataSource == null ? null : ctx.dataSource.data));
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_23__["ɵɵproperty"]("ngIf", (ctx.dataSource == null ? null : ctx.dataSource.data == null ? null : ctx.dataSource.data.length) == 0 && ctx.isLoaded || !ctx.dataSource && ctx.isLoaded);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_27__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_27__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_9__.DatepickerComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_10__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_11__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_12__.SubmitBtnComponent, _shared_skeletons_table_skeleton_table_skeleton_component__WEBPACK_IMPORTED_MODULE_13__.TableSkeletonComponent, app_org_management_components_policy_groups_load_policies_group_load_policies_group_component__WEBPACK_IMPORTED_MODULE_14__.LoadPoliciesGroupComponent, _shared_components_row_functions_row_functions_component__WEBPACK_IMPORTED_MODULE_15__.RowFunctionsComponent, _shared_components_dropdowns_personnel_setup_employees_shared_company_employees_shared_company_component__WEBPACK_IMPORTED_MODULE_16__.EmployeesSharedCompanyComponent, _shared_components_resources_prime_paginator_prime_paginator_component__WEBPACK_IMPORTED_MODULE_17__.PrimePaginatorComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_28__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_28__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_28__.MatCardTitle, _angular_material_card__WEBPACK_IMPORTED_MODULE_28__.MatCardActions, _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatTooltip, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatTable, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatHeaderCellDef, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatHeaderRowDef, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatColumnDef, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatCellDef, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatRowDef, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatHeaderCell, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatCell, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatHeaderRow, _angular_material_table__WEBPACK_IMPORTED_MODULE_25__.MatRow, _angular_material_sort__WEBPACK_IMPORTED_MODULE_30__.MatSort, _angular_material_sort__WEBPACK_IMPORTED_MODULE_30__.MatSortHeader, app_shared_components_resources_dynamic_form_field_prime_ng_dropdown_core_dropdown_core_component__WEBPACK_IMPORTED_MODULE_18__.DropdownCoreComponent, _shared_components_dropdowns_org_management_setup_org_organization_by_org_type_dropdown_organization_by_org_type_dropdown_component__WEBPACK_IMPORTED_MODULE_19__.OrganizationByOrgTypeDropdownComponent, _shared_components_dropdowns_org_management_job_title_job_title_by_org_dropdown_job_title_by_org_dropdown_component__WEBPACK_IMPORTED_MODULE_20__.JobTitleByOrgDropdownComponent, _shared_components_dropdowns_org_management_setup_org_types_org_types_dropdown_current_structure_org_types_dropdown_current_structure_component__WEBPACK_IMPORTED_MODULE_21__.OrgTypesDropdownCurrentStructureComponent, _shared_components_dropdowns_hr_setup_job_status_dropdown_job_status_dropdown_component__WEBPACK_IMPORTED_MODULE_22__.JobStatusDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_24__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_24__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_24__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_24__.FormGroupName, _angular_common__WEBPACK_IMPORTED_MODULE_27__.TitleCasePipe, _angular_common__WEBPACK_IMPORTED_MODULE_27__.DatePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_31__.TranslatePipe], styles: [".nested-tr[_ngcontent-%COMP%] {\n  border-width: 1px;\n  padding: 5px;\n  background: #f7f7f7;\n  margin: 0 0;\n}\n\n.table.table-responsive-sm[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table.table-responsive-sm[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  width: 20%;\n  font-size: 13px;\n}\n\n.table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%] {\n  padding: 10px !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC1qb2Itc2VjdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBOztFQUVFLFVBQUE7RUFDQSxlQUFBO0FBQ0Y7O0FBR0E7RUFDRSx3QkFBQTtBQUFGIiwiZmlsZSI6ImVtcC1qb2Itc2VjdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uZXN0ZWQtdHIge1xyXG4gIGJvcmRlci13aWR0aDogMXB4O1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICBiYWNrZ3JvdW5kOiAjZjdmN2Y3O1xyXG4gIG1hcmdpbjogMCAwO1xyXG59XHJcblxyXG4udGFibGUudGFibGUtcmVzcG9uc2l2ZS1zbSB0aGVhZCB0aCxcclxuLnRhYmxlLnRhYmxlLXJlc3BvbnNpdmUtc20gdGhlYWQgdGQge1xyXG4gIHdpZHRoOiAyMCU7XHJcbiAgZm9udC1zaXplOiAxM3B4O1xyXG59XHJcblxyXG5cclxuLnRhYmxlLWNvbnRhaW5lciB0ZC5tYXQtY2VsbCB7XHJcbiAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */"] });


/***/ }),

/***/ 56421:
/*!******************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-job-info/emp-supervisor-section/emp-supervisor-section.component.ts ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSupervisorSectionComponent": () => (/* binding */ EmpSupervisorSectionComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_supervisor_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-supervisor.service */ 77950);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_employees_employee_dropdown_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/employees/employee-dropdown/employee-dropdown.component */ 70502);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ngx-translate/core */ 89461);


















function EmpSupervisorSectionComponent_app_material_table_18_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-material-table", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onChangePage", function EmpSupervisorSectionComponent_app_material_table_18_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r2.getList($event.pageIndex + 1, $event.pageSize)); })("deleteRow", function EmpSupervisorSectionComponent_app_material_table_18_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r3); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isLoaded", ctx_r1.isLoaded)("dataSource", ctx_r1.dataSource)("mandatoryColomns", ctx_r1.mandatoryColomns)("optionalColomns", ctx_r1.optionalColomns)("page", ctx_r1.page)("actions", ctx_r1.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpSupervisorSectionComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeSupervisorService) {
        super();
        this.employeeSupervisorService = employeeSupervisorService;
        this.employeeInstanceId = 0;
        // @Output() changUpdated = new EventEmitter<boolean>();
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "supervisor",
            "fromDate",
            "toDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_job_info_supervisor_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            // id: [0, { nonNullable: true }],
            supervisor_id: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_12__.Validators.required]],
            from_Date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_12__.Validators.required]],
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0) {
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_13__.MatTableDataSource(null);
        }
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_13__.MatTableDataSource(null);
        this.isLoaded = false;
        this.page.pageIndex = page;
        if (pageSize) {
            this.page.dialogSize = pageSize;
        }
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeSupervisorService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_13__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empSupervisorDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                Person_Instance_ID: this.employeeInstanceId,
                Manager_ID: this.form.value.supervisor_id,
                From_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.from_Date),
            };
            this.create(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeSupervisorService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.firstPage);
                // this.isUpdated(true);
            }
            else {
                this.errorList(res.message.messages);
                this.hideLoading();
            }
        });
    }
    onDelete(supervisor) {
        let msg = `${supervisor.supervisor} (${supervisor.fromDate} - ${supervisor.toDate})`;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm) {
                this.delete(supervisor);
            }
        });
    }
    delete(supervisor) {
        let deleteParams = {
            prtid: this.employeeInstanceId,
            mangerid: supervisor.manager_ID,
            fromdate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(supervisor.from_Date),
            todate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(supervisor.tO_Date),
        };
        this.showLoading();
        this.employeeSupervisorService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                // this.isUpdated(true);
            }
            else {
                this.errorList(res.message.messages);
                this.hideLoading();
            }
        });
    }
    clearForm() {
        this.form.reset( /* { id: 0 } */);
        this.submitted = false;
    }
}
EmpSupervisorSectionComponent.ɵfac = function EmpSupervisorSectionComponent_Factory(t) { return new (t || EmpSupervisorSectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_supervisor_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeSupervisorService)); };
EmpSupervisorSectionComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpSupervisorSectionComponent, selectors: [["emp-supervisor-section"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 19, vars: 15, consts: [[1, "p-1"], ["dialogContainer", ""], [1, "form-card"], [1, "divider-title"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "supervisor", 3, "control", "submitted", "filter", "appendTo"], ["label", "date", 3, "control", "submitted"], [1, "emp-form-btns-float"], [3, "color", "disabled", "onClick"], [1, "clearfix"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "deleteRow"]], template: function EmpSupervisorSectionComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 0, 1)(2, "mat-card", 2)(3, "mat-card-title")(4, "p", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](6, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](7, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](8, "mat-card-content")(9, "form", 4)(10, "div", 5)(11, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](12, "app-employee-dropdown", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](13, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](14, "app-datepicker", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](15, "div", 9)(16, "submit-btn", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClick", function EmpSupervisorSectionComponent_Template_submit_btn_onClick_16_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](17, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](18, EmpSupervisorSectionComponent_app_material_table_18_Template, 1, 8, "app-material-table", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](6, 11, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](7, 13, "supervisor")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.supervisor_id)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("control", ctx.formCtrls.from_Date)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__.DatepickerComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_8__.MaterialTableComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_dropdowns_personnel_setup_employees_employee_dropdown_employee_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.EmployeeDropdownComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_15__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_15__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_15__.MatCardTitle, _angular_forms__WEBPACK_IMPORTED_MODULE_12__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_12__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_12__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_14__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc3VwZXJ2aXNvci1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 6208:
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-location/emp-location-card/emp-location-card.component.ts ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpLocationCardComponent": () => (/* binding */ EmpLocationCardComponent)
/* harmony export */ });
/* harmony import */ var _emp_location_dialog_emp_location_dialog_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../emp-location-dialog/emp-location-dialog.component */ 50677);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-location.service */ 41769);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);











function EmpLocationCardComponent_div_0_ng_container_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "card-row-item", 8)(2, "card-row-item", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const location_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("label", location_r7.country)("value", location_r7.allAddress);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", location_r7.date);
} }
function EmpLocationCardComponent_div_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpLocationCardComponent_div_0_ng_container_3_ng_container_1_Template, 3, 3, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r3.empLocation);
} }
function EmpLocationCardComponent_div_0_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "card-row-item", 10);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", null);
} }
function EmpLocationCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpLocationCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r8.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](3, EmpLocationCardComponent_div_0_ng_container_3_Template, 2, 1, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](4, EmpLocationCardComponent_div_0_ng_template_4_Template, 1, 1, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](5);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", ctx_r0.empLocation == null ? null : ctx_r0.empLocation.length)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", (ctx_r0.empLocation == null ? null : ctx_r0.empLocation.length) > 0)("ngIfElse", _r4);
} }
function EmpLocationCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 11);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 3);
} }
class EmpLocationCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeLocationService) {
        super();
        this.employeeLocationService = employeeLocationService;
        this.employeeInstanceId = 0;
        this.isLoaded = true;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empLocation = null;
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isLoaded = true;
    }
    getAll() {
        this.empLocation = null;
        this.employeeLocationService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                let sortedList = res.data;
                // sort by from date (from new to old)
                sortedList.sort((a, b) => new Date(b.from_Date).getTime() - new Date(a.from_Date).getTime());
                // show only first two locations
                this.empLocation = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__.empLocationDisplay)(sortedList.slice(0, 2));
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_location_dialog_emp_location_dialog_component__WEBPACK_IMPORTED_MODULE_0__.EmpLocationDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
}
EmpLocationCardComponent.ɵfac = function EmpLocationCardComponent_Factory(t) { return new (t || EmpLocationCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeLocationService)); };
EmpLocationCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpLocationCardComponent, selectors: [["app-emp-location-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "location", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], [4, "ngIf", "ngIfElse"], ["noData", ""], [4, "ngFor", "ngForOf"], [3, "label", "value"], ["valueClass", "col-6 text-muted", 3, "value"], ["label", "location", 3, "value"], [3, "rowNo"]], template: function EmpLocationCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpLocationCardComponent_div_0_Template, 6, 4, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpLocationCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbG9jYXRpb24tY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 50677:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-location/emp-location-dialog/emp-location-dialog.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpLocationDialogComponent": () => (/* binding */ EmpLocationDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-location.service */ 41769);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var app_org_management_components_policy_groups_load_policies_group_load_policies_group_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! app/org-management/components/policy-groups/load-policies-group/load-policies-group.component */ 29467);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/country-dropdown/country-dropdown.component */ 59681);
/* harmony import */ var _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/governorate-by-country-dropdown/governorate-by-country-dropdown.component */ 10225);
/* harmony import */ var _shared_components_dropdowns_org_management_org_location_dropdown_org_location_dropdown_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/org-management/org-location-dropdown/org-location-dropdown.component */ 51456);

























function EmpLocationDialogComponent_div_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](1, "load-policies-group", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx_r1.formCtrls.policy_groups)("locationControl", ctx_r1.formCtrls.location_ID)("submitted", ctx_r1.submitted);
} }
function EmpLocationDialogComponent_reset_form_btn_22_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](0, "reset-form-btn", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵlistener"]("click", function EmpLocationDialogComponent_reset_form_btn_22_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵresetView"](ctx_r4.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
} }
function EmpLocationDialogComponent_app_material_table_24_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](0, "app-material-table", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵlistener"]("onChangePage", function EmpLocationDialogComponent_app_material_table_24_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵresetView"](ctx_r6.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpLocationDialogComponent_app_material_table_24_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵrestoreView"](_r7); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵresetView"](ctx_r8.locationToEdit($event)); })("deleteRow", function EmpLocationDialogComponent_app_material_table_24_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵrestoreView"](_r7); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵresetView"](ctx_r9.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("isLoaded", ctx_r3.isLoaded)("dataSource", ctx_r3.dataSource)("mandatoryColomns", ctx_r3.mandatoryColomns)("optionalColomns", ctx_r3.optionalColomns)("page", ctx_r3.page)("actions", ctx_r3.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpLocationDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeLocationService, dialogRef) {
        super();
        this.employeeLocationService = employeeLocationService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        this.updated = false;
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "country",
            "governorate",
            "location",
            "froM_DATE",
            "tO_DATE",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.FormControl = _angular_forms__WEBPACK_IMPORTED_MODULE_18__.FormControl;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_location_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            countryId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_18__.Validators.required]],
            governorate_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_18__.Validators.required]],
            location_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_18__.Validators.required]],
            from_Date: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_18__.Validators.required]],
            to_Date: [null],
            policy_groups: [null /* , [Validators.required] */],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_3__.CustomValidator.compareDates("from_Date", "to_Date"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.updated);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_19__.MatTableDataSource(null);
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeLocationService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_19__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_4__.empLocationDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    person_Instance_ID: this.employeeInstanceId,
                    location_ID: this.form.value.location_ID,
                    from_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_6__.HelpersFunctions.mapDateReverse(this.form.value.from_Date),
                    to_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_6__.HelpersFunctions.mapDateReverse(this.form.value.to_Date),
                },
                SelectedPolicygroup: this.form.value.policy_groups,
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeLocationService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        let body = {
            ...model,
            OldEmployeeData: {
                person_Instance_ID: this.employeeInstanceId,
                location_ID: this.selectedLocation.location_ID,
                from_Date: this.selectedLocation.from_Date,
            },
        };
        this.showLoading();
        this.employeeLocationService
            .update(body)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
                this.selectedLocation = null;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    locationToEdit(location) {
        this.form.patchValue(location);
        this.formCtrls.countryId.setValue(location.comm_Country.id);
        this.formCtrls.governorate_ID.setValue(location.comm_Governorate.id);
        this.formCtrls.location_ID.setValue(location.location_ID);
        this.formCtrls.policy_groups.setValue(location.selectedPolicygroup);
        // to detect edit
        this.formCtrls.id.setValue(location.location_ID);
        // to use in edit request
        this.selectedLocation = location;
    }
    onDelete(location) {
        let msg = location.country + " - " + location.location;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(location);
        });
    }
    delete(location) {
        this.showLoading();
        let params = {
            person_Instance_ID: location.person_Instance_ID,
            location_ID: location.location_ID,
            FromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_6__.HelpersFunctions.mapDateReverse(location.from_Date),
        };
        this.employeeLocationService.Delete(params).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.updated = true;
                if (location.location_ID == this.selectedLocation.location_ID &&
                    location.from_Date == this.selectedLocation.from_Date &&
                    this.formCtrls.id.value > 0)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpLocationDialogComponent.ɵfac = function EmpLocationDialogComponent_Factory(t) { return new (t || EmpLocationDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_location_service__WEBPACK_IMPORTED_MODULE_7__.EmployeeLocationService), _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_20__.MatDialogRef)); };
EmpLocationDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵdefineComponent"]({ type: EmpLocationDialogComponent, selectors: [["app-emp-location-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵInheritDefinitionFeature"]], decls: 25, vars: 27, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "location", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "countryControl", "submitted", "filter", "appendTo"], [3, "control", "governorateControl", "filterByGov", "submitted", "filter", "appendTo"], ["label", "froM_DATE", 3, "control", "submitted"], ["label", "tO_DATE", 3, "control", "submitted"], ["class", "col-12", 4, "ngIf"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "col-12"], [3, "control", "locationControl", "submitted"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow"]], template: function EmpLocationDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵlistener"]("click", function EmpLocationDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](11, "app-country-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](13, "app-governorate-by-country-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](15, "org-location-dropdown", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](17, "app-datepicker", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](18, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelement"](19, "app-datepicker", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵtemplate"](20, EmpLocationDialogComponent_div_20_Template, 2, 3, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](21, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵtemplate"](22, EmpLocationDialogComponent_reset_form_btn_22_Template, 1, 0, "reset-form-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementStart"](23, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵlistener"]("onClick", function EmpLocationDialogComponent_Template_submit_btn_onClick_23_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵtemplate"](24, EmpLocationDialogComponent_app_material_table_24_Template, 1, 8, "app-material-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.governorate_ID)("countryControl", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.location_ID)("governorateControl", ctx.formCtrls.governorate_ID)("filterByGov", true)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.from_Date)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("control", ctx.formCtrls.to_Date)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("ngIf", ctx.formCtrls.location_ID.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_17__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_21__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__.DatepickerComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_9__.MaterialTableComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_12__.PageTitleComponent, app_org_management_components_policy_groups_load_policies_group_load_policies_group_component__WEBPACK_IMPORTED_MODULE_13__.LoadPoliciesGroupComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_22__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_20__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_20__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_23__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_14__.GovernorateDropdownComponent, _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_15__.GovernorateByCountryDropdownComponent, _shared_components_dropdowns_org_management_org_location_dropdown_org_location_dropdown_component__WEBPACK_IMPORTED_MODULE_16__.OrgLocationDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_18__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_18__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_18__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbG9jYXRpb24tZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 63612:
/*!***************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-medical-insurance/emp-blood-type-section/emp-blood-type-section.component.ts ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMedicalAndBloodTypeDialogComponent": () => (/* binding */ EmpMedicalAndBloodTypeDialogComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _emp_medical_insurance_dialog_emp_medical_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-medical-insurance-dialog/emp-medical-insurance-dialog.component */ 92545);
/* harmony import */ var _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../employee-general-info/emp-general-info-form/emp-general-info-form.component */ 9442);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngx-translate/core */ 89461);











class EmpMedicalAndBloodTypeDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(dialogRef) {
        super();
        this.dialogRef = dialogRef;
        this.updated = false;
    }
    ngOnInit() {
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.updated);
    }
    changUpdated(value) {
        this.updated = value;
    }
}
EmpMedicalAndBloodTypeDialogComponent.ɵfac = function EmpMedicalAndBloodTypeDialogComponent_Factory(t) { return new (t || EmpMedicalAndBloodTypeDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__.MatDialogRef)); };
EmpMedicalAndBloodTypeDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({ type: EmpMedicalAndBloodTypeDialogComponent, selectors: [["emp-blood-type-section"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵInheritDefinitionFeature"]], decls: 15, vars: 6, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "medicalInsurance", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [1, "divider-title"], [3, "isBlood_type"], [1, "mtop-20"], [3, "changUpdated"], [1, "clearfix"]], template: function EmpMedicalAndBloodTypeDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function EmpMedicalAndBloodTypeDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](6, "mat-dialog-content", 4)(7, "p", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](9, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](10, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](11, "emp-general-info-form", 6)(12, "mat-divider", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](13, "app-emp-medical-insurance-dialog", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("changUpdated", function EmpMedicalAndBloodTypeDialogComponent_Template_app_emp_medical_insurance_dialog_changUpdated_13_listener($event) { return ctx.changUpdated($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](9, 2, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](10, 4, "bloodType")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("isBlood_type", true);
    } }, dependencies: [_shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_1__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_6__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_7__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_8__.NgxSpinnerComponent, _emp_medical_insurance_dialog_emp_medical_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmpMedicalInsuranceDialogComponent, _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoFormComponent, _angular_common__WEBPACK_IMPORTED_MODULE_9__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYmxvb2QtdHlwZS1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 13881:
/*!***********************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-medical-insurance/emp-medical-insurance-card/emp-medical-insurance-card.component.ts ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMedicalInsuranceCardComponent": () => (/* binding */ EmpMedicalInsuranceCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_blood_type_section_emp_blood_type_section_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-blood-type-section/emp-blood-type-section.component */ 63612);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_medical_insurance_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-medical-insurance.service */ 25018);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);











function EmpMedicalInsuranceCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵlistener"]("onClickIcon", function EmpMedicalInsuranceCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r3.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](3, "card-row-item", 5)(4, "card-row-item", 6)(5, "card-row-item", 7)(6, "card-row-item", 8)(7, "card-row-item", 9)(8, "card-row-item", 10)(9, "card-row-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("isEdit", ctx_r0.employeeMedicalInsuranceInfo)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.medicalInsuranceCompany);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.date);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.medicalID);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.msgTranslate(ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Blood_Type == null ? null : ctx_r0.employee.person.core_Blood_Type.ar_Name, ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.core_Blood_Type == null ? null : ctx_r0.employee.person.core_Blood_Type.en_NAme));
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.medicalSubscription);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.companyShare);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.employeeMedicalInsuranceInfo == null ? null : ctx_r0.employeeMedicalInsuranceInfo.employeeShare);
} }
function EmpMedicalInsuranceCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 12);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("rowNo", 7);
} }
class EmpMedicalInsuranceCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeMedicalInsuranceService, empGeneralInfoService) {
        super();
        this.employeeMedicalInsuranceService = employeeMedicalInsuranceService;
        this.empGeneralInfoService = empGeneralInfoService;
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.isLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() {
        this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
            this.isLoadedFun();
        });
        this.isLoadedFun();
    }
    isLoadedFun() {
        this.isLoaded = false;
        if (this.employee != null && this.employeeId > 0)
            this.isLoaded = true;
        if (this.employee == null && this.employeeId == 0)
            this.isLoaded = true;
    }
    onChangeBusinessAndCompanyId() {
        this.employeeMedicalInsuranceInfo = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) { } //this.getAllByEmployeeId();
        else
            this.isLoaded = true;
    }
    getAllByEmployeeId() {
        this.employeeMedicalInsuranceInfo = null;
        this.employeeMedicalInsuranceService
            .getAllByEmployeeId(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.employeeMedicalInsuranceInfo = res.data[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_blood_type_section_emp_blood_type_section_component__WEBPACK_IMPORTED_MODULE_2__.EmpMedicalAndBloodTypeDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
}
EmpMedicalInsuranceCardComponent.ɵfac = function EmpMedicalInsuranceCardComponent_Factory(t) { return new (t || EmpMedicalInsuranceCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_medical_insurance_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeMedicalInsuranceService), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService)); };
EmpMedicalInsuranceCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({ type: EmpMedicalInsuranceCardComponent, selectors: [["app-emp-medical-insurance-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "medicalInsurance", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], ["label", "medicalInsuranceCompany", 3, "value"], ["valueClass", "col-6 text-muted", 3, "value"], ["label", "medicalID", 3, "value"], ["label", "bloodType", 3, "value"], ["label", "medicalSubscription", 3, "value"], ["label", "companyShare", 3, "value"], ["label", "employeeShare", 3, "value"], [3, "rowNo"]], template: function EmpMedicalInsuranceCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](0, EmpMedicalInsuranceCardComponent_div_0_Template, 10, 9, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](1, EmpMedicalInsuranceCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWVkaWNhbC1pbnN1cmFuY2UtY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 92545:
/*!***************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-medical-insurance/emp-medical-insurance-dialog/emp-medical-insurance-dialog.component.ts ***!
  \***************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMedicalInsuranceDialogComponent": () => (/* binding */ EmpMedicalInsuranceDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_medical_insurance_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-medical-insurance.service */ 25018);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ngx-translate/core */ 89461);

















function EmpMedicalInsuranceDialogComponent_reset_form_btn_23_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "reset-form-btn", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("click", function EmpMedicalInsuranceDialogComponent_reset_form_btn_23_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmpMedicalInsuranceDialogComponent_app_material_table_25_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "app-material-table", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("editRow", function EmpMedicalInsuranceDialogComponent_app_material_table_25_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r5.employeeMedicalInsuranceToEdit($event)); })("deleteRow", function EmpMedicalInsuranceDialogComponent_app_material_table_25_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r7.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("actions", ctx_r2.rowFunctions)("showPaginator", false)("showFilter", false);
} }
class EmpMedicalInsuranceDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeMedicalInsuranceService) {
        super();
        this.employeeMedicalInsuranceService = employeeMedicalInsuranceService;
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.changUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_10__.EventEmitter();
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "medicalInsuranceCompany",
            "medicalID",
            "bloodType",
            "from",
            "to",
            "medicalSubscription",
            "companyShare",
            "employeeShare",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            medicalInsuranceCompany: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            medicalID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            from: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            to: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            medicalSubscription: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            companyShare: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
            employeeShare: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__.Validators.required]],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_3__.CustomValidator.compareDates("from", "to"),
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_12__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getAll();
        }
    }
    getAll() {
        this.employeeMedicalInsuranceService
            .getAllByEmployeeId(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_12__.MatTableDataSource(res.data);
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                Person_ID: this.employeeId,
                id: this.form.value.id,
                medicalInsuranceCompany: this.form.value.medicalInsuranceCompany,
                medicalID: this.form.value.medicalID,
                from: this.form.value.from,
                to: this.form.value.to,
                medicalSubscription: this.form.value.medicalSubscription,
                companyShare: this.form.value.companyShare,
                employeeShare: this.form.value.employeeShare,
            };
            model.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeMedicalInsuranceService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAll();
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeMedicalInsuranceService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAll();
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeMedicalInsuranceToEdit(employeeMedicalInsuranceInfo) {
        this.form.patchValue(employeeMedicalInsuranceInfo);
        // console.log(this.form.value);
    }
    onDelete(employeeMedicalInsuranceInfo) {
        let msg = this.msgTranslate(employeeMedicalInsuranceInfo.medicalID);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeMedicalInsuranceInfo);
        });
    }
    delete(employeeMedicalInsuranceInfo) {
        this.showLoading();
        this.employeeMedicalInsuranceService
            .Delete(employeeMedicalInsuranceInfo.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAll();
                this.changUpdated.emit(true);
                if (employeeMedicalInsuranceInfo.id == this.formCtrls.id.value)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpMedicalInsuranceDialogComponent.ɵfac = function EmpMedicalInsuranceDialogComponent_Factory(t) { return new (t || EmpMedicalInsuranceDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_medical_insurance_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeMedicalInsuranceService)); };
EmpMedicalInsuranceDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmpMedicalInsuranceDialogComponent, selectors: [["app-emp-medical-insurance-dialog"]], outputs: { changUpdated: "changUpdated" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 26, vars: 25, consts: [["dialogContainer", ""], [1, "divider-title"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "medicalInsuranceCompany", 3, "control", "submitted"], ["label", "medicalID", 3, "control", "submitted"], ["label", "from", 3, "control", "submitted"], ["label", "to", 3, "control", "submitted"], ["label", "medicalSubscription", 3, "control", "submitted"], ["label", "companyShare", 3, "control", "submitted"], ["label", "employeeShare", 3, "control", "submitted"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "showPaginator", "showFilter", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "showPaginator", "showFilter", "editRow", "deleteRow"]], template: function EmpMedicalInsuranceDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", null, 0)(2, "p", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](4, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](5, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](6, "form", 2)(7, "div", 3)(8, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](9, "app-input", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](10, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](11, "app-input", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](12, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](13, "app-datepicker", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](14, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](15, "app-datepicker", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](16, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](17, "app-input", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](18, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](19, "app-input", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](20, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](21, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](22, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](23, EmpMedicalInsuranceDialogComponent_reset_form_btn_23_Template, 1, 0, "reset-form-btn", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](24, "submit-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClick", function EmpMedicalInsuranceDialogComponent_Template_submit_btn_onClick_24_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](25, EmpMedicalInsuranceDialogComponent_app_material_table_25_Template, 1, 7, "app-material-table", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](4, 21, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](5, 23, "medicalInsurance")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.medicalInsuranceCompany)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.medicalID)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.from)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.to)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.medicalSubscription)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.companyShare)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("control", ctx.formCtrls.employeeShare)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_11__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_11__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_13__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWVkaWNhbC1pbnN1cmFuY2UtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 11215:
/*!************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-social-insurance/emp-insurance-office-dialog/emp-social-insurance-dialog.component.ts ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSocialInsuranceDialogComponent": () => (/* binding */ EmpSocialInsuranceDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-social-insurance.service */ 88331);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _shared_components_dropdowns_hr_setup_insurance_office_dropdown_insurance_office_dropdown_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/insurance-office-dropdown/insurance-office-dropdown.component */ 5269);
/* harmony import */ var _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../employee-general-info/emp-general-info-form/emp-general-info-form.component */ 9442);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @ngx-translate/core */ 89461);
























function EmpSocialInsuranceDialogComponent_reset_form_btn_27_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpSocialInsuranceDialogComponent_reset_form_btn_27_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} }
function EmpSocialInsuranceDialogComponent_app_material_table_29_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "app-material-table", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onChangePage", function EmpSocialInsuranceDialogComponent_app_material_table_29_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r5.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpSocialInsuranceDialogComponent_app_material_table_29_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r7.socialInsuranceToEdit($event)); })("deleteRow", function EmpSocialInsuranceDialogComponent_app_material_table_29_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r8.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("page", ctx_r2.page)("actions", ctx_r2.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpSocialInsuranceDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeSocialInsuranceService, dialogRef) {
        super();
        this.employeeSocialInsuranceService = employeeSocialInsuranceService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "insuranceOffice",
            "fromDate",
            "endDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        // this.employeeInstanceId = EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_social_insurance_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            insurance_Office_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            fromDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            endDate: [null],
            // worked_at: [null],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.compareDates("fromDate", "endDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    onCloseDialog() {
        this.dialogRef.close(this.isHasUpdate);
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeSocialInsuranceService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_6__.empInsuranceOfficeDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                employeeData: {
                    person_ID: this.employeeId,
                    insurance_Office_ID: this.form.value.insurance_Office_ID,
                    from_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__.HelpersFunctions.mapDateReverse(this.form.value.fromDate),
                    end_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_5__.HelpersFunctions.mapDateReverse(this.form.value.endDate),
                    // worked_at: this.form.value.worked_at,
                },
            };
            this.form.value.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeSocialInsuranceService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.firstPage);
                this.isHasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        let body = {
            employeeData: model.employeeData,
            oldEmployeeData: {
                person_ID: this.employeeId,
                ...this.oldEmployeeData,
            },
        };
        this.employeeSocialInsuranceService
            .update(body)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.oldEmployeeData = null;
                this.isHasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    socialInsuranceToEdit(socialInsurance) {
        this.form.patchValue(socialInsurance);
        this.oldEmployeeData = {
            insurance_Office_ID: socialInsurance.insurance_Office_ID,
            from_date: socialInsurance.froM_DATE,
        };
        this.formCtrls.fromDate.setValue(socialInsurance.froM_DATE);
        this.formCtrls.endDate.setValue(socialInsurance.enD_DATE);
        // to detect edit
        this.formCtrls.id.setValue(socialInsurance.core_Insurance_Office.id);
    }
    onDelete(socialInsurance) {
        let msg = socialInsurance.insuranceOffice;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(socialInsurance);
        });
    }
    delete(socialInsurance) {
        this.showLoading();
        let params = {
            PersonID: this.employeeId,
            insuranceoffice: socialInsurance.insurance_Office_ID,
            fromdate: socialInsurance.froM_DATE,
        };
        this.employeeSocialInsuranceService
            .Delete(params)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.isHasUpdate = true;
                if (socialInsurance.froM_DATE == this.oldEmployeeData.from_date &&
                    socialInsurance.insurance_Office_ID ==
                        this.oldEmployeeData.insurance_Office_ID &&
                    this.formCtrls.id.value > 0)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    onSaveInsuranceNumber(data) {
        //  this.empGeneralInfoService.getEmployeeShared(this.employeeId);
        //this.dialogRef.close(data);
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpSocialInsuranceDialogComponent.ɵfac = function EmpSocialInsuranceDialogComponent_Factory(t) { return new (t || EmpSocialInsuranceDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_7__.EmployeeSocialInsuranceService), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogRef)); };
EmpSocialInsuranceDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdefineComponent"]({ type: EmpSocialInsuranceDialogComponent, selectors: [["emp-Social-insurance-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵInheritDefinitionFeature"]], decls: 30, vars: 24, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "socialInsurance", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [1, "divider-title"], [3, "isSocialInsurance", "onSave"], [1, "mtop-20"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "appendTo"], ["label", "froM_DATE", 3, "control", "submitted"], ["label", "endDate", 3, "control", "submitted"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow"]], template: function EmpSocialInsuranceDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "div", 0)(1, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](2, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](3, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpSocialInsuranceDialogComponent_Template_button_click_3_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](4, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](5, "mat-dialog-content", 4)(6, "p", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](8, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](9, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](10, "emp-general-info-form", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onSave", function EmpSocialInsuranceDialogComponent_Template_emp_general_info_form_onSave_10_listener($event) { return ctx.onSaveInsuranceNumber($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](11, "mat-divider", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](12, "div", null, 8)(14, "p", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](15);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](16, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](17, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](18, "form", 9)(19, "div", 10)(20, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](21, "insurance-office-dropdown", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](22, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](23, "app-datepicker", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](24, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](25, "app-datepicker", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](26, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](27, EmpSocialInsuranceDialogComponent_reset_form_btn_27_Template, 1, 0, "reset-form-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](28, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onClick", function EmpSocialInsuranceDialogComponent_Template_submit_btn_onClick_28_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](29, EmpSocialInsuranceDialogComponent_app_material_table_29_Template, 1, 8, "app-material-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](8, 16, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](9, 18, "socialInsuranceNumber")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("isSocialInsurance", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](16, 20, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](17, 22, "socialInsuranceOffice")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.insurance_Office_ID)("submitted", ctx.submitted)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.fromDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.endDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_8__.DatepickerComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_9__.MaterialTableComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_12__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_20__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_21__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogContent, _shared_components_dropdowns_hr_setup_insurance_office_dropdown_insurance_office_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.InsuranceOfficeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_16__.FormGroupDirective, _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_14__.EmpGeneralInfoFormComponent, _angular_common__WEBPACK_IMPORTED_MODULE_19__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc29jaWFsLWluc3VyYW5jZS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 81988:
/*!********************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-social-insurance/emp-social-insurance-card/emp-social-insurance-card.component.ts ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSocialInsuranceCardComponent": () => (/* binding */ EmpSocialInsuranceCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-social-insurance/emp-insurance-office-dialog/emp-social-insurance-dialog.component */ 11215);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-social-insurance.service */ 88331);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);












function EmpSocialInsuranceCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpSocialInsuranceCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r3.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](3, "card-row-item", 5)(4, "card-row-item", 6)(5, "card-row-item", 7)(6, "card-row-item", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", ctx_r0.isInsuranceNumLoaded || ctx_r0.isInsuranceOfficeLoaded)("isLoaded", ctx_r0.isInsuranceNumLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.insurance_No);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.employee == null ? null : ctx_r0.employee.person == null ? null : ctx_r0.employee.person.insurance_Years);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.emp_social_insurance == null ? null : ctx_r0.emp_social_insurance.insuranceOffice);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.emp_social_insurance == null ? null : ctx_r0.emp_social_insurance.date);
} }
function EmpSocialInsuranceCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 9);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 4);
} }
class EmpSocialInsuranceCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeSocialInsuranceService, empGeneralInfoService) {
        super();
        this.employeeSocialInsuranceService = employeeSocialInsuranceService;
        this.empGeneralInfoService = empGeneralInfoService;
        this.employeeId = 0;
        this.employeeInstanceId = 0;
        this.isInsuranceNumLoaded = false;
        this.isInsuranceOfficeLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
    }
    ngOnInit() {
        this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
            this.isLoadedFun();
        });
        this.isLoadedFun();
    }
    isLoadedFun() {
        this.isInsuranceNumLoaded = false;
        if (this.employee != null && this.employeeId > 0)
            this.isInsuranceNumLoaded = true;
        if (this.employee == null && this.employeeId == 0)
            this.isInsuranceNumLoaded = true;
    }
    onChangeBusinessAndCompanyId() {
        this.emp_social_insurance = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isInsuranceOfficeLoaded = true;
    }
    getAll() {
        this.emp_social_insurance = null;
        this.employeeSocialInsuranceService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                res.data.sort((a, b) => new Date(b.froM_DATE).getTime() - new Date(a.froM_DATE).getTime());
                this.emp_social_insurance = (0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empInsuranceOfficeDisplay)(res.data)[0];
                this.isInsuranceOfficeLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpSocialInsuranceDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isInsuranceOfficeLoaded = false;
                this.getAll();
            }
        });
    }
}
EmpSocialInsuranceCardComponent.ɵfac = function EmpSocialInsuranceCardComponent_Factory(t) { return new (t || EmpSocialInsuranceCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_social_insurance_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeSocialInsuranceService), _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService)); };
EmpSocialInsuranceCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpSocialInsuranceCardComponent, selectors: [["app-emp-social-insurance-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "socialInsurance", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], ["label", "insurance_No", 3, "value"], ["label", "insurance_Years", 3, "value"], ["label", "insuranceOffice", 3, "value"], ["valueClass", "col-6 text-muted", 3, "value"], [3, "rowNo"]], template: function EmpSocialInsuranceCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpSocialInsuranceCardComponent_div_0_Template, 7, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpSocialInsuranceCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isInsuranceNumLoaded || ctx.isInsuranceOfficeLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc29jaWFsLWluc3VyYW5jZS1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 1250:
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-work-schedule/emp-work-schedule-card/emp-work-schedule-card.component.ts ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpWorkScheduleCardComponent": () => (/* binding */ EmpWorkScheduleCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_work_schedule_dialog_emp_work_schedule_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-work-schedule-dialog/emp-work-schedule-dialog.component */ 47437);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-work-schedule.service */ 89320);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ 45365);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/api */ 14356);
/* harmony import */ var primeng_messages__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/messages */ 58547);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ngx-translate/core */ 89461);















const _c0 = function (a0, a1, a2) { return { "current-day": a0, "has-weekend": a1, "has-annual-vacations": a2 }; };
function EmpWorkScheduleCardComponent_div_0_div_6_ng_container_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](1, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const day_r7 = ctx.$implicit;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpureFunction3"](4, _c0, day_r7.isCurrentDay, day_r7.isWeekend, day_r7.isVacation))("popoverTitle", ctx_r6.getDayPopOver(day_r7))("ngbPopover", day_r7.hoverContent);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", day_r7.value, " ");
} }
function EmpWorkScheduleCardComponent_div_0_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 9)(1, "div", 10)(2, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](4, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](5, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](7, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](8, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](9, EmpWorkScheduleCardComponent_div_0_div_6_ng_container_9_Template, 3, 8, "ng-container", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](10, "div", 14)(11, "div", 15)(12, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](14, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](15, "div", 15)(16, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](17);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](18, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](19, "div", 15)(20, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](21);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](22, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind2"](4, 7, ctx_r3.today, "MMMM - y"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate2"](" ( ", ctx_r3.empWorkSchedule == null ? null : ctx_r3.empWorkSchedule.noOfWorkingDayes, " ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](7, 10, "workDaysShort"), " ) ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r3.calendarArray);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](14, 12, "currentday"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](18, 14, "weekend"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](22, 16, "vacation"));
} }
function EmpWorkScheduleCardComponent_div_0_ng_template_7_p_messages_0_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](1, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} if (rf & 2) {
    const msg_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", msg_r9.message, " ");
} }
function EmpWorkScheduleCardComponent_div_0_ng_template_7_p_messages_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "p-messages", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpWorkScheduleCardComponent_div_0_ng_template_7_p_messages_0_ng_template_1_Template, 3, 1, "ng-template", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmpWorkScheduleCardComponent_div_0_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpWorkScheduleCardComponent_div_0_ng_template_7_p_messages_0_Template, 2, 0, "p-messages", 20);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r5.messages);
} }
function EmpWorkScheduleCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpWorkScheduleCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r12.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](3, "card-row-item", 5)(4, "card-row-item", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](5, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](6, EmpWorkScheduleCardComponent_div_0_div_6_Template, 23, 18, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](7, EmpWorkScheduleCardComponent_div_0_ng_template_7_Template, 1, 1, "ng-template", null, 8, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](8);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", ctx_r0.empWorkSchedule)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.msgTranslate(ctx_r0.empWorkSchedule == null ? null : ctx_r0.empWorkSchedule.currentPlan.ar_Name, ctx_r0.empWorkSchedule == null ? null : ctx_r0.empWorkSchedule.currentPlan.en_Name));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpropertyInterpolate1"]("value", " ", ctx_r0.empWorkSchedule ? _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind2"](5, 6, ctx_r0.today, "MMMM dd, y") : null, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r0.empWorkSchedule && ctx_r0.isLoaded)("ngIfElse", _r4);
} }
function EmpWorkScheduleCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 25);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 2);
} }
class EmpWorkScheduleCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeWorkScheduleService) {
        super();
        this.employeeWorkScheduleService = employeeWorkScheduleService;
        this.isLoaded = false;
        this.today = new Date();
        this.calendarArray = [];
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getCardData();
            }
        });
    }
    ngOnInit() {
        this.numberOfDaysInMonth = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.numberOfDaysInMonth(this.today.getFullYear(), 
        // return current month (0-11)
        this.today.getMonth());
    }
    onChangeBusinessAndCompanyId() {
        this.empWorkSchedule = null;
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getCardData();
        else
            this.isLoaded = true;
    }
    getCardData() {
        this.empWorkSchedule = null;
        this.employeeWorkScheduleService
            .getCard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            this.isLoaded = true;
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                res.data.currentPlan.start_Date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(res.data.currentPlan.start_Date);
                res.data.currentPlan.end_Date = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDate(res.data.currentPlan.end_Date);
                this.empWorkSchedule = res.data;
                this.createCalendarArray();
            }
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Warning) {
                this.messages = res.message.messages;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    createCalendarArray() {
        this.calendarArray = [];
        // calendar array
        for (let i = 1; i <= this.numberOfDaysInMonth; i++) {
            let isWeekend = this.empWorkSchedule?.weekEnds
                .map((date) => new Date(date).getDate())
                .includes(i);
            let isVacation = this.empWorkSchedule?.vacations
                .map((vac) => new Date(vac.vacation_Date_Duration.vacation_date).getDate())
                .includes(i);
            let vacation = this.empWorkSchedule?.vacations
                .find((vac) => new Date(vac.vacation_Date_Duration.vacation_date).getDate() === i)?.vacation;
            let date = new Date();
            date.setDate(i);
            this.calendarArray.push({
                value: i,
                isCurrentDay: this.today.getDate() == i,
                isWeekend: isWeekend,
                isVacation: isVacation,
                hoverContent: "",
                date: date,
                vacation: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.msgTranslate)(vacation?.ar_Name, vacation?.en_Name) ?? null
            });
        }
    }
    getDayPopOver(day) {
        if (day.isWeekend)
            return `${app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.getDayName(day.date)} - ${this.translate("weekend")}`;
        if (day.isVacation)
            return `${app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.getDayName(day.date)} - ${day.vacation}`;
        else
            return app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.getDayName(day.date);
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_work_schedule_dialog_emp_work_schedule_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmpWorkScheduleDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getCardData();
            }
        });
    }
}
EmpWorkScheduleCardComponent.ɵfac = function EmpWorkScheduleCardComponent_Factory(t) { return new (t || EmpWorkScheduleCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeWorkScheduleService)); };
EmpWorkScheduleCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpWorkScheduleCardComponent, selectors: [["emp-work-schedule-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "workSchedule", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], ["label", "plan", 3, "value"], ["valueClass", "col-6 text-muted", 3, "value"], ["class", "calendar-view", 4, "ngIf", "ngIfElse"], ["noPlan", ""], [1, "calendar-view"], [1, "calendar-header"], [1, "workdays"], [1, "calendar-body"], [4, "ngFor", "ngForOf"], [1, "calendar-footer", "mt-1"], [1, "map-box"], [1, "font-small-1", "map-text", "current-day-color"], [1, "font-small-1", "map-text", "weekend-color"], [1, "font-small-1", "map-text", "annual-color"], ["triggers", "mouseenter:mouseleave", 1, "square", 3, "ngClass", "popoverTitle", "ngbPopover"], ["severity", "warn", 4, "ngFor", "ngForOf"], ["severity", "warn"], ["pTemplate", ""], [1, "p-message-icon", "pi", "pi-exclamation-triangle"], [1, "p-message-detail"], [3, "rowNo"]], template: function EmpWorkScheduleCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpWorkScheduleCardComponent_div_0_Template, 9, 9, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpWorkScheduleCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_11__.NgbPopover, primeng_api__WEBPACK_IMPORTED_MODULE_12__.PrimeTemplate, primeng_messages__WEBPACK_IMPORTED_MODULE_13__.Messages, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _angular_common__WEBPACK_IMPORTED_MODULE_10__.DatePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.TranslatePipe], styles: [".current-day-color[_ngcontent-%COMP%]:before {\n  background: #ffffff !important;\n  border-color: #e5e5e5;\n}\n\n.weekend-color[_ngcontent-%COMP%]:before {\n  background: #dddddd !important;\n  border-color: #c9c9c9;\n}\n\n.annual-color[_ngcontent-%COMP%]:before {\n  background: #30b79d !important;\n  border-color: #4da997;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC13b3JrLXNjaGVkdWxlLWNhcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw4QkFBQTtFQUNBLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSw4QkFBQTtFQUNBLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSw4QkFBQTtFQUNBLHFCQUFBO0FBQ0YiLCJmaWxlIjoiZW1wLXdvcmstc2NoZWR1bGUtY2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jdXJyZW50LWRheS1jb2xvcjpiZWZvcmUge1xyXG4gIGJhY2tncm91bmQ6ICNmZmZmZmYgIWltcG9ydGFudDtcclxuICBib3JkZXItY29sb3I6ICNlNWU1ZTU7XHJcbn1cclxuXHJcbi53ZWVrZW5kLWNvbG9yOmJlZm9yZSB7XHJcbiAgYmFja2dyb3VuZDogI2RkZGRkZCAhaW1wb3J0YW50O1xyXG4gIGJvcmRlci1jb2xvcjogI2M5YzljOTtcclxufVxyXG5cclxuLmFubnVhbC1jb2xvcjpiZWZvcmUge1xyXG4gIGJhY2tncm91bmQ6ICMzMGI3OWQgIWltcG9ydGFudDtcclxuICBib3JkZXItY29sb3I6ICM0ZGE5OTc7XHJcbn1cclxuIl19 */"] });


/***/ }),

/***/ 47437:
/*!***************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/emp-work-schedule/emp-work-schedule-dialog/emp-work-schedule-dialog.component.ts ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpWorkScheduleDialogComponent": () => (/* binding */ EmpWorkScheduleDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-employment */ 61757);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/employement-information/employee-work-schedule.service */ 89320);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _shared_skeletons_employee_emp_plan_card_dashboard_skeleton_emp_plan_card_dashboard_skeleton_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/emp-plan-card-dashboard-skeleton/emp-plan-card-dashboard-skeleton.component */ 72763);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_attendance_setup_attendance_plan_attendance_plan_dropdown_attendance_plan_dropdown_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/attendance-setup/attendance-plan/attendance-plan-dropdown/attendance-plan-dropdown.component */ 47414);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @ngx-translate/core */ 89461);
























function EmpWorkScheduleDialogComponent_div_8_div_2_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](4, "h3", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](6, "p", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](8, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](9, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](10, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](11, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](13, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](3, 5, "vacation"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate"](ctx_r13.vacationDays == null ? null : ctx_r13.vacationDays.used);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](8, 7, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](9, 9, "daysUsed")), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate2"](" ", ctx_r13.vacationDays == null ? null : ctx_r13.vacationDays.totalBalance, " ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](13, 11, "daysScheduled"), " ");
} }
function EmpWorkScheduleDialogComponent_div_8_div_2_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](2, 1, "noVacationBalance"));
} }
function EmpWorkScheduleDialogComponent_div_8_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "div", 24)(1, "div", 25)(2, "div", 26)(3, "div", 27)(4, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](5, EmpWorkScheduleDialogComponent_div_8_div_2_ng_container_5_Template, 14, 13, "ng-container", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](6, EmpWorkScheduleDialogComponent_div_8_div_2_ng_template_6_Template, 3, 3, "ng-template", null, 30, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](8, "div", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](9, "i", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()()()();
} if (rf & 2) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](7);
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", (ctx_r4.vacationDays == null ? null : ctx_r4.vacationDays.totalBalance) > 0)("ngIfElse", _r14);
} }
function EmpWorkScheduleDialogComponent_div_8_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](0, "emp-plan-card-dashboard-skeleton");
} }
function EmpWorkScheduleDialogComponent_div_8_div_6_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](4, "h3", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](6, "p", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](8, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](9, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](10, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](11, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](13, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](3, 5, "sick"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate"](ctx_r16.sickDays == null ? null : ctx_r16.sickDays.used);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](8, 7, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](9, 9, "daysUsed")), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate2"](" ", ctx_r16.sickDays == null ? null : ctx_r16.sickDays.totalBalance, " ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](13, 11, "daysScheduled"), " ");
} }
function EmpWorkScheduleDialogComponent_div_8_div_6_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](2, 1, "noSickBalance"));
} }
function EmpWorkScheduleDialogComponent_div_8_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "div", 24)(1, "div", 25)(2, "div", 26)(3, "div", 27)(4, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](5, EmpWorkScheduleDialogComponent_div_8_div_6_ng_container_5_Template, 14, 13, "ng-container", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](6, EmpWorkScheduleDialogComponent_div_8_div_6_ng_template_6_Template, 3, 3, "ng-template", null, 36, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](8, "div", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](9, "i", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()()()();
} if (rf & 2) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](7);
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", (ctx_r7.sickDays == null ? null : ctx_r7.sickDays.totalBalance) > 0)("ngIfElse", _r17);
} }
function EmpWorkScheduleDialogComponent_div_8_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](0, "emp-plan-card-dashboard-skeleton");
} }
function EmpWorkScheduleDialogComponent_div_8_div_10_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](4, "h3", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](6, "p", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](8, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](9, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](10, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](11, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](13, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](3, 5, "workingHours"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate"](ctx_r19.workingHours == null ? null : ctx_r19.workingHours.hoursAchieved);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](8, 7, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](9, 9, "hoursAchieved")), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate2"](" ", ctx_r19.workingHours == null ? null : ctx_r19.workingHours.hoursScheduled, " ", _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](13, 11, "hoursScheduled"), " ");
} }
function EmpWorkScheduleDialogComponent_div_8_div_10_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵpipeBind1"](2, 1, "noWorkingBalance"));
} }
function EmpWorkScheduleDialogComponent_div_8_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "div", 24)(1, "div", 25)(2, "div", 26)(3, "div", 27)(4, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](5, EmpWorkScheduleDialogComponent_div_8_div_10_ng_container_5_Template, 14, 13, "ng-container", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](6, EmpWorkScheduleDialogComponent_div_8_div_10_ng_template_6_Template, 3, 3, "ng-template", null, 38, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](8, "div", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](9, "i", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()()()();
} if (rf & 2) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](7);
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", (ctx_r10.workingHours == null ? null : ctx_r10.workingHours.hoursScheduled) > 0)("ngIfElse", _r20);
} }
function EmpWorkScheduleDialogComponent_div_8_ng_template_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](0, "emp-plan-card-dashboard-skeleton");
} }
function EmpWorkScheduleDialogComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "div", 18)(1, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](2, EmpWorkScheduleDialogComponent_div_8_div_2_Template, 10, 2, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](3, EmpWorkScheduleDialogComponent_div_8_ng_template_3_Template, 1, 0, "ng-template", null, 21, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](5, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](6, EmpWorkScheduleDialogComponent_div_8_div_6_Template, 10, 2, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](7, EmpWorkScheduleDialogComponent_div_8_ng_template_7_Template, 1, 0, "ng-template", null, 22, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](9, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](10, EmpWorkScheduleDialogComponent_div_8_div_10_Template, 10, 2, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](11, EmpWorkScheduleDialogComponent_div_8_ng_template_11_Template, 1, 0, "ng-template", null, 23, _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](4);
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](8);
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](12);
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx_r1.isLoadedVacation)("ngIfElse", _r5);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx_r1.isLoadedSick)("ngIfElse", _r8);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx_r1.isLoadedWorking)("ngIfElse", _r11);
} }
function EmpWorkScheduleDialogComponent_reset_form_btn_18_Template(rf, ctx) { if (rf & 1) {
    const _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "reset-form-btn", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpWorkScheduleDialogComponent_reset_form_btn_18_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r23); const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r22.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} }
function EmpWorkScheduleDialogComponent_app_material_table_20_Template(rf, ctx) { if (rf & 1) {
    const _r25 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](0, "app-material-table", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onChangePage", function EmpWorkScheduleDialogComponent_app_material_table_20_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r25); const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r24.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpWorkScheduleDialogComponent_app_material_table_20_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r25); const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r26.employeeWorkScheduleToEdit($event)); })("deleteRow", function EmpWorkScheduleDialogComponent_app_material_table_20_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵrestoreView"](_r25); const ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵresetView"](ctx_r27.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("isLoaded", ctx_r3.isLoaded)("dataSource", ctx_r3.dataSource)("mandatoryColomns", ctx_r3.mandatoryColomns)("optionalColomns", ctx_r3.optionalColomns)("page", ctx_r3.page)("actions", ctx_r3.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpWorkScheduleDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeWorkScheduleService, dialogRef) {
        super();
        this.employeeWorkScheduleService = employeeWorkScheduleService;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.updated = false;
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "plan",
            "startDate",
            "toDate",
            "is_Apply_Rules",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.isLoadedVacation = false;
        this.isLoadedSick = false;
        this.isLoadedWorking = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_work_schedule_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            plan_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            fromDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Validators.required]],
            is_Apply_Rules: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.updated);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.employeeInstanceId > 0) {
            this.getVacationDays();
            this.getSickDays();
            this.getWorkingDays();
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeWorkScheduleService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource((0,app_personnel_setup_mapper_emp_employment__WEBPACK_IMPORTED_MODULE_0__.empWorkScheduleDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_Instance_ID: this.employeeInstanceId,
                    Plan_ID: this.formCtrls.plan_ID.value,
                    FromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.formCtrls.fromDate.value),
                    Is_Apply_Rules: this.formCtrls.is_Apply_Rules.value ?? false,
                },
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeWorkScheduleService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        let editModel = {
            ...model,
            OldEmployeeData: {
                Person_Instance_ID: this.employeeInstanceId,
                Plan_ID: this.selectedPlan.plan_ID,
                FromDate: this.selectedPlan.fromDate,
                ToDate: this.selectedPlan.toDateOriginal,
            },
        };
        this.showLoading();
        this.employeeWorkScheduleService
            .update(editModel)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
                this.selectedPlan = null;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeWorkScheduleToEdit(employeeWorkScheduleInfo) {
        this.form.patchValue(employeeWorkScheduleInfo);
        // not real id >> only to detect edit mode
        this.formCtrls.id.setValue(employeeWorkScheduleInfo.plan_ID);
        // to use in edit request
        this.selectedPlan = employeeWorkScheduleInfo;
    }
    onDelete(employeeWorkScheduleInfo) {
        let msg = employeeWorkScheduleInfo.plan;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeWorkScheduleInfo);
        });
    }
    delete(employeeWorkScheduleInfo) {
        let deleteParams = {
            Person_Instance_ID: this.employeeInstanceId,
            Plan_ID: employeeWorkScheduleInfo.plan_ID,
            FromDate: employeeWorkScheduleInfo.fromDate,
            ToDate: employeeWorkScheduleInfo.toDateOriginal,
        };
        this.showLoading();
        this.employeeWorkScheduleService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.updated = true;
                if (employeeWorkScheduleInfo.plan_ID == this.selectedPlan?.plan_ID &&
                    employeeWorkScheduleInfo.fromDate == this.selectedPlan?.fromDate &&
                    employeeWorkScheduleInfo.toDateOriginal ==
                        this.selectedPlan?.toDateOriginal &&
                    this.formCtrls.id.value > 0)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    // Dashboards
    getVacationDays() {
        this.employeeWorkScheduleService
            .getAnnualCasualDashboard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.vacationDays = res.data;
                this.isLoadedVacation = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    getSickDays() {
        this.employeeWorkScheduleService
            .getSickLeaveDashboard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.sickDays = res.data;
                this.isLoadedSick = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    getWorkingDays() {
        this.employeeWorkScheduleService
            .getWorkingHoursDashboard(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.workingHours = res.data;
                this.isLoadedWorking = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
}
EmpWorkScheduleDialogComponent.ɵfac = function EmpWorkScheduleDialogComponent_Factory(t) { return new (t || EmpWorkScheduleDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_employement_information_employee_work_schedule_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeWorkScheduleService), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogRef)); };
EmpWorkScheduleDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdefineComponent"]({ type: EmpWorkScheduleDialogComponent, selectors: [["emp-work-schedule-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵInheritDefinitionFeature"]], decls: 21, vars: 14, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "workSchedule", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], ["class", "row mtop-15", 4, "ngIf"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "plan", 3, "control", "submitted", "filter", "appendTo"], ["label", "startDate", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "ptop-15", "pbottom-15"], ["label", "is_Apply_Rules", 3, "control"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "row", "mtop-15"], [1, "col-md-4"], ["class", "card card-vacations-custom card-inverse", 4, "ngIf", "ngIfElse"], ["loadingVacation", ""], ["loadingSick", ""], ["loadingWorking", ""], [1, "card", "card-vacations-custom", "card-inverse"], [1, "card-content"], [1, "card-body"], [1, "media"], [1, "media-body", "text-left"], [4, "ngIf", "ngIfElse"], ["noVacationBalance", ""], [1, "media-right", "align-self-center"], [1, "ft-umbrella", "font-large-2", "float-right"], [1, "card-text"], [1, "ca-title"], [1, "pspan"], ["noSickBalance", ""], [1, "ft-thermometer", "font-large-2", "float-right"], ["noWorkBalance", ""], [1, "ft-clock", "font-large-2", "float-right"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow"]], template: function EmpWorkScheduleDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("click", function EmpWorkScheduleDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](8, EmpWorkScheduleDialogComponent_div_8_Template, 13, 6, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](9, "form", 7)(10, "div", 8)(11, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](12, "app-attendance-plan-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](13, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](14, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](15, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelement"](16, "app-check-box", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](17, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](18, EmpWorkScheduleDialogComponent_reset_form_btn_18_Template, 1, 0, "reset-form-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementStart"](19, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵlistener"]("onClick", function EmpWorkScheduleDialogComponent_Template_submit_btn_onClick_19_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵtemplate"](20, EmpWorkScheduleDialogComponent_app_material_table_20_Template, 1, 8, "app-material-table", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.plan_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.fromDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("control", ctx.formCtrls.is_Apply_Rules);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__.DatepickerComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_8__.MaterialTableComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_9__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_12__.PageTitleComponent, _shared_skeletons_employee_emp_plan_card_dashboard_skeleton_emp_plan_card_dashboard_skeleton_component__WEBPACK_IMPORTED_MODULE_13__.EmpPlanCardDashboardSkeletonComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_20__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_21__.NgxSpinnerComponent, _shared_components_dropdowns_attendance_setup_attendance_plan_attendance_plan_dropdown_attendance_plan_dropdown_component__WEBPACK_IMPORTED_MODULE_14__.AttendancePlanDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_16__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_16__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_19__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_22__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtd29yay1zY2hlZHVsZS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 20001:
/*!***************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/employement-information/employement-info-core/employement-info-core.component.ts ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployementInformationComponent": () => (/* binding */ EmployementInformationComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_job_info_emp_job_info_card_emp_job_info_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-job-info/emp-job-info-card/emp-job-info-card.component */ 55813);
/* harmony import */ var _emp_work_schedule_emp_work_schedule_card_emp_work_schedule_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-work-schedule/emp-work-schedule-card/emp-work-schedule-card.component */ 1250);
/* harmony import */ var _emp_hiring_documents_emp_hiring_documents_card_emp_hiring_documents_card_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../emp-hiring-documents/emp-hiring-documents-card/emp-hiring-documents-card.component */ 78471);
/* harmony import */ var _emp_location_emp_location_card_emp_location_card_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../emp-location/emp-location-card/emp-location-card.component */ 6208);
/* harmony import */ var _emp_custodies_emp_custodies_card_emp_custodies_card_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../emp-custodies/emp-custodies-card/emp-custodies-card.component */ 63042);
/* harmony import */ var _emp_social_insurance_emp_social_insurance_card_emp_social_insurance_card_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../emp-social-insurance/emp-social-insurance-card/emp-social-insurance-card.component */ 81988);












function EmployementInformationComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-job-info-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-work-schedule-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-hiring-documents-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "app-emp-location-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "app-emp-custodies-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployementInformationComponent_div_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "app-emp-social-insurance-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
class EmployementInformationComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.employment_info_tab);
        //  console.log("employment_info", this.allowedSections);
    }
}
EmployementInformationComponent.ɵfac = function EmployementInformationComponent_Factory(t) { return new (t || EmployementInformationComponent)(); };
EmployementInformationComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmployementInformationComponent, selectors: [["employement-information-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 13, vars: 7, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "employmentInfo", "color", "info", 3, "icon"], [1, "container-fluid", "p-0"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmployementInformationComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](7, EmployementInformationComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](8, EmployementInformationComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](9, EmployementInformationComponent_div_9_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](10, EmployementInformationComponent_div_10_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](11, EmployementInformationComponent_div_11_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](12, EmployementInformationComponent_div_12_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("icon", ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_job_info_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_work_schedule_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_hiring_documents_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_location_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_custodies_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_social_insurance_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCardTitle, _emp_job_info_emp_job_info_card_emp_job_info_card_component__WEBPACK_IMPORTED_MODULE_3__.EmpJobInfoCardComponent, _emp_work_schedule_emp_work_schedule_card_emp_work_schedule_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpWorkScheduleCardComponent, _emp_hiring_documents_emp_hiring_documents_card_emp_hiring_documents_card_component__WEBPACK_IMPORTED_MODULE_5__.EmpHiringDocumentsCardComponent, _emp_location_emp_location_card_emp_location_card_component__WEBPACK_IMPORTED_MODULE_6__.EmpLocationCardComponent, _emp_custodies_emp_custodies_card_emp_custodies_card_component__WEBPACK_IMPORTED_MODULE_7__.EmpCustodiesCardComponent, _emp_social_insurance_emp_social_insurance_card_emp_social_insurance_card_component__WEBPACK_IMPORTED_MODULE_8__.EmpSocialInsuranceCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llbWVudC1pbmZvLWNvcmUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 56275:
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-card/emp-banking-account-data-card.component.ts ***!
  \*****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpBankingAccountDataCardComponent": () => (/* binding */ EmpBankingAccountDataCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-payments-info */ 42562);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_banking_account_data_dialog_emp_banking_account_data_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-banking-account-data-dialog/emp-banking-account-data-dialog.component */ 19434);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/payments-info/employee-banking-account.service */ 38242);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);











function EmpBankingAccountDataCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpBankingAccountDataCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r3.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](3, "card-row-item", 5)(4, "card-row-item", 6)(5, "card-row-item", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", ctx_r0.employeeInstanceId)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.employeeBankingAccountInfo == null ? null : ctx_r0.employeeBankingAccountInfo.bank);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.employeeBankingAccountInfo == null ? null : ctx_r0.employeeBankingAccountInfo.accountNo);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.employeeBankingAccountInfo == null ? null : ctx_r0.employeeBankingAccountInfo.startDate);
} }
function EmpBankingAccountDataCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 8);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 3);
} }
class EmpBankingAccountDataCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeBankingAccountService) {
        super();
        this.employeeBankingAccountService = employeeBankingAccountService;
        this.isLoaded = false;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.employeeBankingAccountInfo = null;
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isLoaded = true;
    }
    getAll() {
        this.employeeBankingAccountInfo = null;
        this.employeeBankingAccountService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                // sort by start date (from new to old)
                res.data.sort((a, b) => new Date(b.from_Date).getTime() - new Date(a.from_Date).getTime());
                this.employeeBankingAccountInfo = (0,app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__.empBankingAccountDisplay)(res.data.slice(0, 1))[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_banking_account_data_dialog_emp_banking_account_data_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmpBankingAccountDataDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
}
EmpBankingAccountDataCardComponent.ɵfac = function EmpBankingAccountDataCardComponent_Factory(t) { return new (t || EmpBankingAccountDataCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeBankingAccountService)); };
EmpBankingAccountDataCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpBankingAccountDataCardComponent, selectors: [["app-emp-banking-account-data-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "bankingAccountData", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], ["label", "bank", 3, "value"], ["label", "accountNo", 3, "value"], ["valueClass", "col-6 text-muted", 3, "value"], [3, "rowNo"]], template: function EmpBankingAccountDataCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpBankingAccountDataCardComponent_div_0_Template, 6, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpBankingAccountDataCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYmFua2luZy1hY2NvdW50LWRhdGEtY2FyZC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 19434:
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-dialog/emp-banking-account-data-dialog.component.ts ***!
  \*********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpBankingAccountDataDialogComponent": () => (/* binding */ EmpBankingAccountDataDialogComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-payments-info */ 42562);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/payments-info/employee-banking-account.service */ 38242);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_bank_dropdown_bank_dropdown_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/bank-dropdown/bank-dropdown.component */ 52013);























function EmpBankingAccountDataDialogComponent_reset_form_btn_17_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "reset-form-btn", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpBankingAccountDataDialogComponent_reset_form_btn_17_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} }
function EmpBankingAccountDataDialogComponent_app_material_table_19_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "app-material-table", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onChangePage", function EmpBankingAccountDataDialogComponent_app_material_table_19_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r5.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpBankingAccountDataDialogComponent_app_material_table_19_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r7.employeeBankingAccountToEdit($event)); })("deleteRow", function EmpBankingAccountDataDialogComponent_app_material_table_19_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r8.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("page", ctx_r2.page)("actions", ctx_r2.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpBankingAccountDataDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(empBankingService, dialogRef) {
        super();
        this.empBankingService = empBankingService;
        this.dialogRef = dialogRef;
        this.employeeInstanceId = 0;
        this.isHaseUpdate = false;
        this.mandatoryColomns = [
            "Ser",
            "bank",
            "accountNo",
            "startDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        //  this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        // this.form?.get('statusDate').setValue()
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_5__.ViewsManager.emp_banking_account_data_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            bank_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            accountNo: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required, ngx_custom_validators__WEBPACK_IMPORTED_MODULE_16__.CustomValidators.number]],
            startDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required, ngx_custom_validators__WEBPACK_IMPORTED_MODULE_16__.CustomValidators.date]],
            cardNumber: [null],
            isDebit: [false],
            branchId: [null], // not used in screen yet value (null)
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.isHaseUpdate);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.empBankingService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_17__.MatTableDataSource((0,app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_4__.empBankingAccountDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                employeeData: {
                    person_Instance_ID: this.employeeInstanceId,
                    bank_ID: this.form.value.bank_ID,
                    accountNo: this.form.value.accountNo,
                    from_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDateReverse(this.form.value.startDate),
                    cardNumber: this.form.value.cardNumber,
                    isDebit: this.form.value.isDebit ?? false,
                    branchId: this.form.value.branchId,
                },
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.empBankingService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.isHaseUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        let editModel = {
            ...model,
            OldEmployeeData: {
                person_Instance_ID: this.employeeInstanceId,
                bank_ID: this.selectedAccountBank.bank_ID,
                accountNo: this.selectedAccountBank.accountNo,
            },
        };
        this.showLoading();
        this.empBankingService
            .update(editModel)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.isHaseUpdate = true;
                this.selectedAccountBank = null;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeBankingAccountToEdit(employeeBankingAccountInfo) {
        this.form.patchValue(employeeBankingAccountInfo);
        this.formCtrls.startDate.setValue(employeeBankingAccountInfo.from_Date);
        // to detect edit mode
        this.formCtrls.id.setValue(employeeBankingAccountInfo.bank_ID);
        this.selectedAccountBank = employeeBankingAccountInfo;
    }
    onDelete(employeeBankingAccountInfo) {
        let msg = employeeBankingAccountInfo.bank;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeBankingAccountInfo);
        });
    }
    delete(employeeBankingAccountInfo) {
        let deleteParams = {
            Person_Instance_ID: this.employeeInstanceId,
            Bank_ID: employeeBankingAccountInfo.bank_ID,
            AccountNum: employeeBankingAccountInfo.accountNo,
        };
        this.showLoading();
        this.empBankingService.Delete(deleteParams).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.isHaseUpdate = true;
                if (employeeBankingAccountInfo.comm_Bank?.id ==
                    this.selectedAccountBank?.bank_ID &&
                    employeeBankingAccountInfo.accountNo ==
                        this.selectedAccountBank?.accountNo &&
                    // if edit
                    this.formCtrls.id.value > 0)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        //  this.form.reset({id: 0, statusDate: this.statusDate});
        this.submitted = false;
    }
}
EmpBankingAccountDataDialogComponent.ɵfac = function EmpBankingAccountDataDialogComponent_Factory(t) { return new (t || EmpBankingAccountDataDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_payments_info_employee_banking_account_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeBankingAccountService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogRef)); };
EmpBankingAccountDataDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: EmpBankingAccountDataDialogComponent, selectors: [["app-emp-banking-account-data-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵInheritDefinitionFeature"]], decls: 20, vars: 14, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "bankingAccountData", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "accountNo", 3, "control", "submitted"], ["label", "startDate", 3, "control", "submitted"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow"]], template: function EmpBankingAccountDataDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmpBankingAccountDataDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](11, "app-bank-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](13, "app-input", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](15, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](16, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](17, EmpBankingAccountDataDialogComponent_reset_form_btn_17_Template, 1, 0, "reset-form-btn", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](18, "submit-btn", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onClick", function EmpBankingAccountDataDialogComponent_Template_submit_btn_onClick_18_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](19, EmpBankingAccountDataDialogComponent_app_material_table_19_Template, 1, 8, "app-material-table", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.bank_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.accountNo)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.startDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_7__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_8__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_9__.MaterialTableComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_10__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_11__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_12__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_20__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_18__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_21__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_bank_dropdown_bank_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.BankDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_15__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYmFua2luZy1hY2NvdW50LWRhdGEtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 61198:
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-payments-info-core/emp-payments-info-core.component.ts ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPaymentsInfoCoreComponent": () => (/* binding */ EmpPaymentsInfoCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_payroll_data_emp_payroll_data_card_emp_payroll_data_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-payroll-data/emp-payroll-data-card/emp-payroll-data-card.component */ 80151);
/* harmony import */ var _emp_banking_account_data_emp_banking_account_data_card_emp_banking_account_data_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-banking-account-data/emp-banking-account-data-card/emp-banking-account-data-card.component */ 56275);








function EmpPaymentsInfoCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "app-emp-payroll-data-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
function EmpPaymentsInfoCoreComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "app-emp-banking-account-data-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
class EmpPaymentsInfoCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_payments_info_tab);
        //  console.log("payments_info", this.allowedSections);
    }
}
EmpPaymentsInfoCoreComponent.ɵfac = function EmpPaymentsInfoCoreComponent_Factory(t) { return new (t || EmpPaymentsInfoCoreComponent)(); };
EmpPaymentsInfoCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmpPaymentsInfoCoreComponent, selectors: [["emp-payments-info-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 3, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "paymentsInfo", "color", "info", 3, "icon"], [1, "container-fluid", "p-0"], [1, "row", "mx-md-n2"], ["class", "col-md-6 col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-md-6", "col-12", "p-0", "px-md-2"]], template: function EmpPaymentsInfoCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](7, EmpPaymentsInfoCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](8, EmpPaymentsInfoCoreComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("icon", ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_payroll_data_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_banking_account_data_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardTitle, _emp_payroll_data_emp_payroll_data_card_emp_payroll_data_card_component__WEBPACK_IMPORTED_MODULE_3__.EmpPayrollDataCardComponent, _emp_banking_account_data_emp_banking_account_data_card_emp_banking_account_data_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpBankingAccountDataCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGF5bWVudHMtaW5mby1jb3JlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 80151:
/*!*****************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-payroll-data/emp-payroll-data-card/emp-payroll-data-card.component.ts ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPayrollDataCardComponent": () => (/* binding */ EmpPayrollDataCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_payroll_data_dialog_emp_payroll_data_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-payroll-data-dialog/emp-payroll-data-dialog.component */ 85303);
/* harmony import */ var app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-payments-info */ 42562);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_payments_info_employee_payroll_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/payments-info/employee-payroll.service */ 80374);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);











function EmpPayrollDataCardComponent_div_0_ng_container_3_div_1_div_6_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 9)(1, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "p", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const variable_r12 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](variable_r12 == null ? null : variable_r12.variable);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](variable_r12 == null ? null : variable_r12.value);
} }
function EmpPayrollDataCardComponent_div_0_ng_container_3_div_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpPayrollDataCardComponent_div_0_ng_container_3_div_1_div_6_div_1_Template, 5, 2, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} if (rf & 2) {
    const payment_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", payment_r5 == null ? null : payment_r5.variables);
} }
function EmpPayrollDataCardComponent_div_0_ng_container_3_div_1_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", "---", " ");
} }
function EmpPayrollDataCardComponent_div_0_ng_container_3_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 8)(1, "div", 9)(2, "div", 10)(3, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](5, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](6, EmpPayrollDataCardComponent_div_0_ng_container_3_div_1_div_6_Template, 2, 1, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](7, EmpPayrollDataCardComponent_div_0_ng_container_3_div_1_ng_template_7_Template, 2, 1, "ng-template", null, 12, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](8);
    const payment_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](5, 3, payment_r5 == null ? null : payment_r5.payment));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", (payment_r5 == null ? null : payment_r5.variables == null ? null : payment_r5.variables.length) > 0)("ngIfElse", _r9);
} }
function EmpPayrollDataCardComponent_div_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpPayrollDataCardComponent_div_0_ng_container_3_div_1_Template, 9, 5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const mainIndex_r6 = ctx.index;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", mainIndex_r6 <= ctx_r3.firstExpandedIndex);
} }
function EmpPayrollDataCardComponent_div_0_card_row_item_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "card-row-item", 17);
} }
function EmpPayrollDataCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpPayrollDataCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r16); const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r15.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](3, EmpPayrollDataCardComponent_div_0_ng_container_3_Template, 2, 1, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](4, EmpPayrollDataCardComponent_div_0_card_row_item_4_Template, 1, 0, "card-row-item", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", (ctx_r0.paymentsAndVariables == null ? null : ctx_r0.paymentsAndVariables.length) > 1 || (ctx_r0.paymentsAndVariables[0] == null ? null : ctx_r0.paymentsAndVariables[0].variables == null ? null : ctx_r0.paymentsAndVariables[0].variables.length) > 0)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r0.paymentsAndVariables);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r0.employeeId == 0);
} }
function EmpPayrollDataCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 18);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 4);
} }
class EmpPayrollDataCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeePayrollService) {
        super();
        this.employeePayrollService = employeePayrollService;
        this.firstExpandedIndex = 0;
        this.isLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.paymentsAndVariables = [];
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAllByEmployeeId();
        else
            this.isLoaded = true;
    }
    getAllByEmployeeId() {
        this.paymentsAndVariables = [];
        this.employeePayrollService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.paymentsAndVariables = (0,app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_4__.empPayrollDisplay)(res.data);
                this.firstExpandedIndex = this.paymentsAndVariables.findIndex((ele) => ele.variables.length > 0);
                if (this.firstExpandedIndex == -1)
                    this.firstExpandedIndex = 0;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_payroll_data_dialog_emp_payroll_data_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmpPayrollDataDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
}
EmpPayrollDataCardComponent.ɵfac = function EmpPayrollDataCardComponent_Factory(t) { return new (t || EmpPayrollDataCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_payments_info_employee_payroll_service__WEBPACK_IMPORTED_MODULE_5__.EmployeePayrollService)); };
EmpPayrollDataCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpPayrollDataCardComponent, selectors: [["app-emp-payroll-data-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "payrollData", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], [4, "ngFor", "ngForOf"], ["label", "globalVariable", 4, "ngIf"], ["class", "rowItem", 4, "ngIf"], [1, "rowItem"], [1, "row"], [1, "col-6"], ["class", "col-6 mb-2", 4, "ngIf", "ngIfElse"], ["noVariables", ""], [1, "col-6", "mb-2"], ["class", "row", 4, "ngFor", "ngForOf"], [1, "col-md-7", "col-12"], [1, "col-md-5", "col-12"], ["label", "globalVariable"], [3, "rowNo"]], template: function EmpPayrollDataCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpPayrollDataCardComponent_div_0_Template, 5, 4, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpPayrollDataCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _angular_common__WEBPACK_IMPORTED_MODULE_10__.TitleCasePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGF5cm9sbC1kYXRhLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 85303:
/*!*********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/payments-information/emp-payroll-data/emp-payroll-data-dialog/emp-payroll-data-dialog.component.ts ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpPayrollDataDialogComponent": () => (/* binding */ EmpPayrollDataDialogComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-payments-info */ 42562);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_payments_info_employee_payroll_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/payments-info/employee-payroll.service */ 80374);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _shared_skeletons_employee_emp_payment_skeleton_emp_payment_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/emp-payment-skeleton/emp-payment-skeleton.component */ 17355);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/expansion */ 17591);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var primeng_api__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/api */ 14356);
/* harmony import */ var primeng_messages__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! primeng/messages */ 58547);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ngx-translate/core */ 89461);
















function EmpPayrollDataDialogComponent_ng_container_8_mat_accordion_1_ng_container_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div")(1, "div", 13)(2, "p", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](4, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const variable_r10 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](variable_r10.variable);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](variable_r10.value);
} }
function EmpPayrollDataDialogComponent_ng_container_8_mat_accordion_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "mat-expansion-panel", 12)(2, "mat-expansion-panel-header")(3, "mat-panel-title");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](5, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](6, EmpPayrollDataDialogComponent_ng_container_8_mat_accordion_1_ng_container_1_div_6_Template, 6, 2, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const payment_r7 = ctx.$implicit;
    const i_r8 = ctx.index;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("hideToggle", payment_r7.variables == 0)("expanded", i_r8 == ctx_r6.firstExpandedIndex)("disabled", payment_r7.variables.length == 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](5, 5, payment_r7.payment), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", payment_r7.variables);
} }
function EmpPayrollDataDialogComponent_ng_container_8_mat_accordion_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "mat-accordion", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmpPayrollDataDialogComponent_ng_container_8_mat_accordion_1_ng_container_1_Template, 7, 7, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r3.paymentsAndVariables);
} }
function EmpPayrollDataDialogComponent_ng_container_8_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "app-emp-payment-skeleton");
} }
function EmpPayrollDataDialogComponent_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmpPayrollDataDialogComponent_ng_container_8_mat_accordion_1_Template, 2, 1, "mat-accordion", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, EmpPayrollDataDialogComponent_ng_container_8_ng_template_2_Template, 1, 0, "ng-template", null, 9, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](3);
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r1.isLoaded)("ngIfElse", _r4);
} }
function EmpPayrollDataDialogComponent_p_messages_9_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind1"](3, 1, "noDataToDisplay"), " ");
} }
function EmpPayrollDataDialogComponent_p_messages_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "p-messages", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, EmpPayrollDataDialogComponent_p_messages_9_ng_template_1_Template, 4, 3, "ng-template", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
class EmpPayrollDataDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeePayrollService, dialogRef) {
        super();
        this.employeePayrollService = employeePayrollService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        // updated: boolean = false;
        // mandatoryColomns: string[] = [
        //   "Ser",
        //   // "id",
        //   "bank",
        //   "accountNumber",
        //   "startDate",
        //   "actions",
        // ];
        // optionalColomns: string[] = [];
        // dataSource: MatTableDataSource<IEmployeePayrollModel>;
        this.isLoaded = false;
        this.submitted = false;
        this.firstExpandedIndex = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        // this.form = this.fb.group({
        //   id: [0, { nonNullable: true }],
        //   paymentMethodId: [null, [Validators.required]],
        //   basicSalary: [null, [Validators.required]],
        //   insuranceEmployee: [null, [Validators.required]],
        //   netSalary: [null, [Validators.required]],
        //   allowance: [null, [Validators.required]],
        // });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(/* this.updated */ false);
    }
    onChangeBusinessAndCompanyId() {
        // if (this.dataSource?.data?.length > 0)
        //   this.dataSource = new MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany() && this.employeeId > 0)
            this.getAll();
        else
            this.isLoaded = true;
    }
    getAll() {
        this.employeePayrollService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.paymentsAndVariables = (0,app_personnel_setup_mapper_emp_payments_info__WEBPACK_IMPORTED_MODULE_0__.empPayrollDisplay)(res.data);
                console.log(this.paymentsAndVariables);
                this.firstExpandedIndex = this.paymentsAndVariables.findIndex((ele) => ele.variables.length > 0);
                // this.dataSource = new MatTableDataSource(res.data);
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    // submit() {
    //   // console.log(this.form.value);
    //   this.submitted = true;
    //   if (this.form.valid) {
    //     const model: IEmployeePayrollRequest = {
    //       Person_ID: this.employeeId,
    //       id: this.form.value.id,
    //       paymentMethodId: this.form.value.paymentMethodId,
    //       basicSalary: this.form.value.basicSalary,
    //       insuranceEmployee: this.form.value.insuranceEmployee,
    //       netSalary: this.form.value.netSalary,
    //       allowance: this.form.value.allowance,
    //     };
    //     model.id == 0 ? this.create(model) : this.update(model);
    //   } // else this.toastr.error("General.formNotValid");
    // }
    // create(model: IEmployeePayrollRequest) {
    //   this.showLoading();
    //   this.employeePayrollService
    //     .create(model)
    //     .subscribe((res: IResponse<IEmployeePayrollModel>) => {
    //       if (res?.message?.messageType == MessageTypes.Success) {
    //         this.clearForm();
    //         this.addSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.updated = true;
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    // update(model: IEmployeePayrollRequest) {
    //   this.showLoading();
    //   this.employeePayrollService
    //     .update(model)
    //     .subscribe((res: IResponse<IEmployeePayrollModel>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.clearForm();
    //         this.updateSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.updated = true;
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    // employeePayrollToEdit(employeePayrollInfo: IEmployeePayrollModel) {
    //   this.form.patchValue(employeePayrollInfo);
    //   // console.log(this.form.value);
    // }
    // onDelete(employeePayrollInfo: IEmployeePayrollModel): void {
    //   let msg = this.msgTranslate(employeePayrollInfo.paymentMethod);
    //   this.deleateDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeePayrollInfo);
    //   });
    // }
    // delete(employeePayrollInfo: IEmployeePayrollModel) {
    //   this.showLoading();
    //   this.employeePayrollService
    //     .Delete(employeePayrollInfo.id)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.updated = true;
    //         if (employeePayrollInfo.id == this.formCtrls.id.value)
    //           this.clearForm();
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpPayrollDataDialogComponent.ɵfac = function EmpPayrollDataDialogComponent_Factory(t) { return new (t || EmpPayrollDataDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_payments_info_employee_payroll_service__WEBPACK_IMPORTED_MODULE_4__.EmployeePayrollService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__.MatDialogRef)); };
EmpPayrollDataDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpPayrollDataDialogComponent, selectors: [["app-emp-payroll-data-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"]], decls: 10, vars: 2, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "payrollData", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [4, "ngIf"], ["severity", "warn", 4, "ngIf"], ["class", "emp-payroll", "multi", "", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], ["multi", "", 1, "emp-payroll"], [4, "ngFor", "ngForOf"], [3, "hideToggle", "expanded", "disabled"], [1, "row"], [1, "col-8"], [1, "col-4"], ["severity", "warn"], ["pTemplate", ""], [1, "p-message-icon", "pi", "pi-exclamation-triangle"], [1, "p-message-detail"]], template: function EmpPayrollDataDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function EmpPayrollDataDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](8, EmpPayrollDataDialogComponent_ng_container_8_Template, 4, 2, "ng-container", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](9, EmpPayrollDataDialogComponent_p_messages_9_Template, 2, 0, "p-messages", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId == 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_5__.PageTitleComponent, _shared_skeletons_employee_emp_payment_skeleton_emp_payment_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmpPaymentSkeletonComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_10__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_8__.MatDialogContent, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__.MatAccordion, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__.MatExpansionPanel, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__.MatExpansionPanelHeader, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_11__.MatExpansionPanelTitle, ngx_spinner__WEBPACK_IMPORTED_MODULE_12__.NgxSpinnerComponent, primeng_api__WEBPACK_IMPORTED_MODULE_13__.PrimeTemplate, primeng_messages__WEBPACK_IMPORTED_MODULE_14__.Messages, _angular_common__WEBPACK_IMPORTED_MODULE_9__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.TranslatePipe], styles: ["@media only screen and (min-width: 680px) {\n  .mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%] {\n    min-width: 650px !important;\n  }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcC1wYXlyb2xsLWRhdGEtZGlhbG9nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0U7SUFDRSwyQkFBQTtFQUNGO0FBQ0YiLCJmaWxlIjoiZW1wLXBheXJvbGwtZGF0YS1kaWFsb2cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDY4MHB4KSB7XHJcbiAgLm1hdC1hY2NvcmRpb24gLm1hdC1leHBhbnNpb24tcGFuZWwge1xyXG4gICAgbWluLXdpZHRoOiA2NTBweCAhaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG4iXX0= */"] });


/***/ }),

/***/ 68530:
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-address/emp-address-card/emp-address-card.component.ts ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpAddressCardComponent": () => (/* binding */ EmpAddressCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_address_dialog_emp_address_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-address-dialog/emp-address-dialog.component */ 47219);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../emp-address-table/emp-address-table.component */ 62866);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);













function EmpAddressCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13)(4, "card-row-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeAddressInfo == null ? null : ctx_r3.employeeAddressInfo.country);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeAddressInfo == null ? null : ctx_r3.employeeAddressInfo.governorate);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeAddressInfo == null ? null : ctx_r3.employeeAddressInfo.address);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.employeeAddressInfo == null ? null : ctx_r3.employeeAddressInfo.primary);
} }
function EmpAddressCardComponent_div_0_emp_address_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "emp-address-table", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpAddressCardComponent_div_0_emp_address_table_6_Template_emp_address_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r5.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpAddressCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpAddressCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r7.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpAddressCardComponent_div_0_div_5_Template, 5, 4, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpAddressCardComponent_div_0_emp_address_table_6_Template, 1, 2, "emp-address-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpAddressCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r9.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.employeeAddressInfo)("isLoaded", ctx_r0.isAddressLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isTableView", ctx_r0.isTableView);
} }
function EmpAddressCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 16);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 4);
} }
class EmpAddressCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeAddressService) {
        super();
        this.employeeAddressService = employeeAddressService;
        this.isAddressLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.employeeAddressInfo = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.GetAllEmpAddress();
        }
        else {
            this.isAddressLoaded = true;
        }
    }
    GetAllEmpAddress() {
        return this.employeeAddressService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.isAddressLoaded = true;
                let employeeAddressesFromNewest = (0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.employeeAddressToMap)(res.data).reverse();
                this.employeeAddressInfo =
                    employeeAddressesFromNewest.find((address) => address.primary == true) ?? employeeAddressesFromNewest[0];
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_address_dialog_emp_address_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpAddressDialogComponent)
            .afterClosed()
            .subscribe((isUpdated) => {
            if (isUpdated) {
                this.isAddressLoaded = false;
                this.GetAllEmpAddress();
            }
        });
    }
    afterDelete(address) {
        if (address) {
            this.isAddressLoaded = false;
            this.GetAllEmpAddress();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmpAddressCardComponent.ɵfac = function EmpAddressCardComponent_Factory(t) { return new (t || EmpAddressCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeAddressService)); };
EmpAddressCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpAddressCardComponent, selectors: [["emp-address-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-2"], ["cardTitle", "address", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-8"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "country", 1, "w-25", 3, "value"], ["label", "governorate", 1, "w-25", 3, "value"], ["label", "address", 1, "w-25", 3, "value"], ["label", "primary", 1, "w-25", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpAddressCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpAddressCardComponent_div_0_Template, 9, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpAddressCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isAddressLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_9__.EmpAddressTableComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_10__.SeeMoreBtnComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYWRkcmVzcy1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 47219:
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-address/emp-address-dialog/emp-address-dialog.component.ts ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpAddressDialogComponent": () => (/* binding */ EmpAddressDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/country-dropdown/country-dropdown.component */ 59681);
/* harmony import */ var _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/governorate-by-country-dropdown/governorate-by-country-dropdown.component */ 10225);
/* harmony import */ var _emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-address-table/emp-address-table.component */ 62866);




















function EmpAddressDialogComponent_reset_form_btn_19_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpAddressDialogComponent_reset_form_btn_19_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmpAddressDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeAddressService, dialogRef) {
        super();
        this.employeeAddressService = employeeAddressService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        // @Output() changUpdated = new EventEmitter<boolean>();
        this.hasUpdate = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_contact_address_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            countryId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            Governorate_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            address: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            primary: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
    //     this.getList(this.firstPage);
    //   }
    // }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeAddressService
    //     .GetList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeAddressModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           employeeAddressToMap(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //         this.isLoaded = true;
    //       } else this.errorList(res.message.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_ID: this.employeeId,
                    Comm_Address: {
                        ID: this.form.value.id,
                        Governorate_ID: this.form.value.Governorate_ID,
                        En_Name: this.form.value.address,
                        IsVaild: this.form.value.primary ?? false,
                    },
                },
            };
            model.EmployeeData.Comm_Address.ID == 0
                ? this.create(model)
                : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeAddressService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.firstPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeAddressService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeAddressToEdit(address) {
        this.form.patchValue(address);
        this.formCtrls.countryId.setValue(address.comm_Governorate.comm_Country.id);
        this.formCtrls.Governorate_ID.setValue(address.governorate_ID);
    }
    // onDelete(address: IEmployeeAddress): void {
    //   let msg = address.address;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(address);
    //   });
    // }
    // delete(address: IEmployeeAddress) {
    //   let deleteParams: IEmployeeAddressDeleteParams = {
    //     Person_ID: this.employeeId,
    //     ADDRESS_ID: address.id,
    //   };
    //   this.showLoading();
    //   this.employeeAddressService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         // this.changUpdated.emit(true);
    //         this.updated = true;
    //         if (address.id == this.formCtrls.id.value)
    //           this.clearForm();
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(address) {
        if (address?.id == this.formCtrls.id.value)
            this.clearForm();
        if (address)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpAddressDialogComponent.ɵfac = function EmpAddressDialogComponent_Factory(t) { return new (t || EmpAddressDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeAddressService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogRef)); };
EmpAddressDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmpAddressDialogComponent, selectors: [["app-emp-address-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 22, vars: 18, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "address", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "countryControl", "submitted", "filter", "appendTo"], ["label", "address", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "primary", 3, "control"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpAddressDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpAddressDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "app-country-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-governorate-by-country-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](17, "app-check-box", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](19, EmpAddressDialogComponent_reset_form_btn_19_Template, 1, 0, "reset-form-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](20, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmpAddressDialogComponent_Template_submit_btn_onClick_20_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](21, "emp-address-table", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmpAddressDialogComponent_Template_emp_address_table_rowToEdit_21_listener($event) { return ctx.employeeAddressToEdit($event); })("afterDelete", function EmpAddressDialogComponent_Template_emp_address_table_afterDelete_21_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.Governorate_ID)("countryControl", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.address)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.primary);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.hasUpdate);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__.InputComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_6__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_17__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_18__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.GovernorateDropdownComponent, _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.GovernorateByCountryDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpAddressTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYWRkcmVzcy1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 62866:
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-address/emp-address-table/emp-address-table.component.ts ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpAddressTableComponent": () => (/* binding */ EmpAddressTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpAddressTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpAddressTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpAddressTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpAddressTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpAddressTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeAddressService) {
        super();
        this.employeeAddressService = employeeAddressService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "country",
            "governorate",
            "address",
            "primary",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_contact_address_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeAddressService
            .GetList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.employeeAddressToMap)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    toEdit(address) {
        this.rowToEdit.emit(address);
    }
    onDelete(address) {
        let msg = address.address;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(address);
        });
    }
    delete(address) {
        let deleteParams = {
            Person_ID: this.employeeId,
            ADDRESS_ID: address.id,
        };
        this.showLoading();
        this.employeeAddressService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(address);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
}
EmpAddressTableComponent.ɵfac = function EmpAddressTableComponent_Factory(t) { return new (t || EmpAddressTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeAddressService)); };
EmpAddressTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpAddressTableComponent, selectors: [["emp-address-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 1, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpAddressTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpAddressTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYWRkcmVzcy10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 52761:
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-contact/emp-contact-card/emp-contact-card.component.ts ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContactCardComponent": () => (/* binding */ EmpContactCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_contact_dialog_emp_contact_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-contact-dialog/emp-contact-dialog.component */ 56017);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../emp-contact-table/emp-contact-table.component */ 74155);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-translate/core */ 89461);














function EmpContactCardComponent_div_0_div_5_div_1_ng_container_8_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    const contact_r9 = ctx_r13.$implicit;
    const lst_r10 = ctx_r13.last;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate2"](" ", contact_r9.value, " ", !lst_r10 ? "-" : "", " ");
} }
function EmpContactCardComponent_div_0_div_5_div_1_ng_container_8_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "span")(1, "a", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](2, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const contact_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("href", contact_r9.value, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵclassMap"](contact_r9.comm_Contact_Category.icon);
} }
function EmpContactCardComponent_div_0_div_5_div_1_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpContactCardComponent_div_0_div_5_div_1_ng_container_8_span_1_Template, 2, 2, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, EmpContactCardComponent_div_0_div_5_div_1_ng_container_8_span_2_Template, 3, 3, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const contact_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !(contact_r9 == null ? null : contact_r9.comm_Contact_Category == null ? null : contact_r9.comm_Contact_Category.icon));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", contact_r9 == null ? null : contact_r9.comm_Contact_Category == null ? null : contact_r9.comm_Contact_Category.icon);
} }
function EmpContactCardComponent_div_0_div_5_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 13)(1, "div", 14)(2, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](4, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](5, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](6, "div", 16)(7, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](8, EmpContactCardComponent_div_0_div_5_div_1_ng_container_8_Template, 3, 2, "ng-container", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const contactType_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](4, 2, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](5, 4, contactType_r7.key)), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngForOf", contactType_r7.value);
} }
function EmpContactCardComponent_div_0_div_5_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} }
function EmpContactCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpContactCardComponent_div_0_div_5_div_1_Template, 9, 6, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](2, "keyvalue");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](3, EmpContactCardComponent_div_0_div_5_ng_container_3_Template, 2, 0, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](4, "json");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind2"](2, 2, ctx_r3.empContacts, ctx_r3.iteration));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](4, 5, ctx_r3.empContacts) == "{}");
} }
function EmpContactCardComponent_div_0_emp_contact_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "emp-contact-table", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmpContactCardComponent_div_0_emp_contact_table_6_Template_emp_contact_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r16); const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r15.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmpContactCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmpContactCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r18); const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r17.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmpContactCardComponent_div_0_div_5_Template, 5, 7, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmpContactCardComponent_div_0_emp_contact_table_6_Template, 1, 2, "emp-contact-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmpContactCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r18); const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r19.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.empContacts)("isLoaded", ctx_r0.isContactLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isTableView", ctx_r0.isTableView);
} }
function EmpContactCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 22);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 5);
} }
class EmpContactCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeContactService) {
        super();
        this.employeeContactService = employeeContactService;
        this.isContactLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empContacts = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.GetAllEmpContacts();
        }
        else {
            this.isContactLoaded = true;
        }
    }
    GetAllEmpContacts() {
        return this.employeeContactService
            .GetAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.isContactLoaded = true;
                this.empContacts = (0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.empContactCard)(res.data);
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_contact_dialog_emp_contact_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmpContactDialogComponent)
            .afterClosed()
            .subscribe((isUpdated) => {
            if (isUpdated) {
                this.isContactLoaded = false;
                this.GetAllEmpContacts();
            }
        });
    }
    afterDelete(contact) {
        if (contact) {
            this.isContactLoaded = false;
            this.GetAllEmpContacts();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
    iteration(a, b) {
        return a.key - b.key;
    }
}
EmpContactCardComponent.ɵfac = function EmpContactCardComponent_Factory(t) { return new (t || EmpContactCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContactService)); };
EmpContactCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmpContactCardComponent, selectors: [["emp-contact-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-2"], ["cardTitle", "contact", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-8"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "isTableView", "toggleTable"], [1, "view-data-row-container"], ["class", "w-25", 4, "ngFor", "ngForOf"], [4, "ngIf"], [1, "w-25"], [1, "col"], [1, "view-data-title"], [1, "view-data-value"], [1, "d-inline-block"], [4, "ngFor", "ngForOf"], ["target", "_blank", 1, "mr-1", "ml-1", "font-medium-3", 3, "href"], ["label", "contact", 1, "w-15"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmpContactCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmpContactCardComponent_div_0_Template, 9, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmpContactCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isContactLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_9__.EmpContactTableComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_10__.SeeMoreBtnComponent, _angular_common__WEBPACK_IMPORTED_MODULE_12__.JsonPipe, _angular_common__WEBPACK_IMPORTED_MODULE_12__.TitleCasePipe, _angular_common__WEBPACK_IMPORTED_MODULE_12__.KeyValuePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 56017:
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-contact/emp-contact-dialog/emp-contact-dialog.component.ts ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContactDialogComponent": () => (/* binding */ EmpContactDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contact_type_dropdown_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contact-type-dropdown/contact-type-dropdown.component */ 99167);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contact_categories_by_contact_dropdown_categories_by_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contact-categories-by-contact-dropdown/categories-by-contact-type-dropdown.component */ 58092);
/* harmony import */ var _emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-contact-table/emp-contact-table.component */ 74155);




















function EmpContactDialogComponent_reset_form_btn_21_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpContactDialogComponent_reset_form_btn_21_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmpContactDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeContactService, dialogRef) {
        super();
        this.employeeContactService = employeeContactService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        // @Output() changUpdated = new EventEmitter<boolean>();
        this.hasUpdate = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_3__.ViewsManager.emp_contact_address_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            contacT_TYPE_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            contacT_Category_ID: [null],
            value: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            isPrimary: [null],
            isShow: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getList(this.firstPage);
    //   }
    // }
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeContactService
    //     .GetList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeContactResponse[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(empContactDisplay(res.data));
    //         this.page.length = res.meta.totalItemCount;
    //         this.isLoaded = true;
    //       } else this.errorList(res.message.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_ID: this.employeeId,
                    Comm_Contact: {
                        id: this.form.value.id,
                        contacT_TYPE_ID: this.form.value.contacT_TYPE_ID,
                        contacT_Category_ID: this.form.value.contacT_Category_ID,
                        value: this.form.value.value,
                        isVaild: this.form.value.isPrimary ?? false,
                        isShow: this.form.value.isShow ?? false,
                    },
                },
            };
            model.EmployeeData.Comm_Contact.id == 0
                ? this.create(model)
                : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeContactService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.firstPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeContactService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeContactToEdit(empContacts) {
        this.form.patchValue(empContacts);
        this.formCtrls.value.setValue(empContacts.contact);
        this.formCtrls.id.setValue(empContacts.contact_ID);
        this.formCtrls.isPrimary.setValue(empContacts.primary);
        this.formCtrls.isShow.setValue(empContacts.display_in_emp_card);
        // console.log(this.form.value);
    }
    // onDelete(contact: IEmployeeContactDisplay): void {
    //   let msg = contact.contact;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(contact);
    //   });
    // }
    // delete(contact: IEmployeeContactDisplay) {
    //   let deleteParams: IEmployeeContactDeleteParams = {
    //     Person_ID: this.employeeId,
    //     Contact_ID: contact.contact_ID,
    //   };
    //   this.showLoading();
    //   this.employeeContactService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         } else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         // this.changUpdated.emit(true);
    //         this.updated = true;
    //         if (contact.contact_ID == this.formCtrls.id.value) this.clearForm();
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    afterDelete(contact) {
        if (contact.contact_ID == this.formCtrls.id.value)
            this.clearForm();
        if (contact)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    onChangeContactType(contact) {
        if (contact)
            this.formCtrls.value.setValidators([
                _angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(contact[0]?.regularExpression),
            ]);
        else
            this.formCtrls.value.removeValidators([
                _angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(contact[0]?.regularExpression),
            ]);
    }
}
EmpContactDialogComponent.ɵfac = function EmpContactDialogComponent_Factory(t) { return new (t || EmpContactDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeContactService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogRef)); };
EmpContactDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmpContactDialogComponent, selectors: [["app-emp-contact-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 24, vars: 19, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "contact", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo", "change"], [3, "control", "contactTypControl", "submitted", "filter", "appendTo"], ["label", "contact", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-14", "mtop-14"], ["label", "primary", 3, "control"], ["label", "display_in_emp_card", 3, "control"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmpContactDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmpContactDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8)(11, "app-contact-type-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("change", function EmpContactDialogComponent_Template_app_contact_type_dropdown_change_11_listener($event) { return ctx.onChangeContactType($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "contact-categories-by-contact-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](17, "app-check-box", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](19, "app-check-box", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](20, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](21, EmpContactDialogComponent_reset_form_btn_21_Template, 1, 0, "reset-form-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](22, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmpContactDialogComponent_Template_submit_btn_onClick_22_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](23, "emp-contact-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmpContactDialogComponent_Template_emp_contact_table_rowToEdit_23_listener($event) { return ctx.employeeContactToEdit($event); })("afterDelete", function EmpContactDialogComponent_Template_emp_contact_table_afterDelete_23_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.contacT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.contacT_Category_ID)("contactTypControl", ctx.formCtrls.contacT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.value)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isPrimary);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isShow);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.hasUpdate);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_5__.InputComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_6__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_17__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_18__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_contact_type_dropdown_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.ContactTypeDropdownComponent, _shared_components_dropdowns_hr_setup_contact_categories_by_contact_dropdown_categories_by_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.CategoriesByContactTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpContactTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 74155:
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-contact/emp-contact-table/emp-contact-table.component.ts ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpContactTableComponent": () => (/* binding */ EmpContactTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpContactTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpContactTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpContactTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpContactTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions)("showFilter", false)("isDialogSize", true)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpContactTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeContactService) {
        super();
        this.employeeContactService = employeeContactService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "contactType",
            "contactCategory",
            "contact",
            "primary",
            "display_in_emp_card",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_contact_address_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeContactService
            .GetList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.empContactDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    toEdit(contact) {
        this.rowToEdit.emit(contact);
    }
    onDelete(contact) {
        let msg = contact.contact;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(contact);
        });
    }
    delete(contact) {
        let deleteParams = {
            Person_ID: this.employeeId,
            Contact_ID: contact.contact_ID,
        };
        this.showLoading();
        this.employeeContactService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(contact);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
}
EmpContactTableComponent.ɵfac = function EmpContactTableComponent_Factory(t) { return new (t || EmpContactTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContactService)); };
EmpContactTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpContactTableComponent, selectors: [["emp-contact-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 1, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "showFilter", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "showFilter", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpContactTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpContactTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 43097:
/*!***********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-dependants/emp-dependants-card/emp-dependants-card.component.ts ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDependantsCardComponent": () => (/* binding */ EmployeeDependantsCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_dependants_dialog_emp_dependants_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-dependants-dialog/emp-dependants-dialog.component */ 62483);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_animations_custom_animations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/animations/custom-animations */ 21138);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-dependant.service */ 87181);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-dependants-table/emp-dependants-table.component */ 97035);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ngx-translate/core */ 89461);















function EmployeeDependantsCardComponent_div_0_div_5_span_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](2, "i", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", " ", " ");
} }
function EmployeeDependantsCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "div", 14)(5, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](7, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](8, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](9, "div", 16)(10, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](12, EmployeeDependantsCardComponent_div_0_div_5_span_12_Template, 3, 1, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](2);
    let tmp_4_0;
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("value", ctx_r3.empDependant == null ? null : ctx_r3.empDependant.flower_Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("value", ctx_r3.empDependant == null ? null : ctx_r3.empDependant.relationship);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("value", ctx_r3.empDependant == null ? null : ctx_r3.empDependant.birthDate);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](7, 6, _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](8, 8, "phoneNumber")));
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", (tmp_4_0 = ctx_r3.empDependant == null ? null : ctx_r3.empDependant.phoneNumber) !== null && tmp_4_0 !== undefined ? tmp_4_0 : "---", " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx_r3.empDependant == null ? null : ctx_r3.empDependant.isEmergcy);
} }
function EmployeeDependantsCardComponent_div_0_app_emp_dependants_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "app-emp-dependants-table", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("afterDelete", function EmployeeDependantsCardComponent_div_0_app_emp_dependants_table_6_Template_app_emp_dependants_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r6.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeDependantsCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onClickIcon", function EmployeeDependantsCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r8.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](5, EmployeeDependantsCardComponent_div_0_div_5_Template, 13, 10, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](6, EmployeeDependantsCardComponent_div_0_app_emp_dependants_table_6_Template, 1, 2, "app-emp-dependants-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("toggleTable", function EmployeeDependantsCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r9); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r10.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isEdit", ctx_r0.empDependant)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isTableView", ctx_r0.isTableView);
} }
function EmployeeDependantsCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 21);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("rowNo", 4);
} }
class EmployeeDependantsCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeDependantService) {
        super();
        this.employeeDependantService = employeeDependantService;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empDependant = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAllDependant();
        else
            this.isLoaded = true;
    }
    getAllDependant() {
        this.empDependant = null;
        this.employeeDependantService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                // get oldest emergency one
                let employeeDependentFromOld = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_0__.employeeDependentToMap)(res.data);
                this.empDependant =
                    employeeDependentFromOld.find((dependent) => dependent.isEmergcy == true) ?? employeeDependentFromOld[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_dependants_dialog_emp_dependants_dialog_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeDependantsDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllDependant();
            }
        });
    }
    afterDelete(Dependant) {
        if (Dependant) {
            this.isLoaded = false;
            this.getAllDependant();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeDependantsCardComponent.ɵfac = function EmployeeDependantsCardComponent_Factory(t) { return new (t || EmployeeDependantsCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeDependantService)); };
EmployeeDependantsCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineComponent"]({ type: EmployeeDependantsCardComponent, selectors: [["emp-dependants-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row"], [1, "col-2"], ["cardTitle", "dependants", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-8"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "name", 1, "w-25", 3, "value"], ["label", "relationship", 1, "w-25", 3, "value"], ["label", "dob", 1, "w-25", 3, "value"], [1, "col-3", "w-25"], [1, "view-data-title"], [1, "view-data-value"], [1, "d-inline-block"], [4, "ngIf"], [1, "fas", "fa-bell", "danger"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeDependantsCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](0, EmployeeDependantsCardComponent_div_0_Template, 9, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](1, EmployeeDependantsCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_7__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_8__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_9__.CardRowItemComponent, _emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpDependantsTableComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_11__.SeeMoreBtnComponent, _angular_common__WEBPACK_IMPORTED_MODULE_13__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZGVwZW5kYW50cy1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"], data: { animation: [
            (0,app_shared_animations_custom_animations__WEBPACK_IMPORTED_MODULE_5__.FadeIn)(600),
            (0,app_shared_animations_custom_animations__WEBPACK_IMPORTED_MODULE_5__.fadeOut)(300),
            (0,app_shared_animations_custom_animations__WEBPACK_IMPORTED_MODULE_5__.FadeInOut)(600, 300),
        ] } });


/***/ }),

/***/ 62483:
/*!***************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-dependants/emp-dependants-dialog/emp-dependants-dialog.component.ts ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDependantsDialogComponent": () => (/* binding */ EmployeeDependantsDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-dependant.service */ 87181);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_relationship_dropdown_relationship_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/relationship-dropdown/relationship-dropdown.component */ 88834);
/* harmony import */ var _emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-dependants-table/emp-dependants-table.component */ 97035);





















function EmployeeDependantsDialogComponent_reset_form_btn_21_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeDependantsDialogComponent_reset_form_btn_21_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmployeeDependantsDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    // mandatoryColomns: string[] = [
    //   "Ser",
    //   // "id",
    //   "dependentName",
    //   "relationship",
    //   "birthDate",
    //   "phoneNumber",
    //   "isEmergcy",
    //   "actions",
    // ];
    // optionalColomns: string[] = [];
    // dataSource: MatTableDataSource<IEmployeeDependantModel>;
    // isLoaded: boolean = false;
    constructor(employeeDependantService, dialogRef) {
        super();
        this.employeeDependantService = employeeDependantService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.hasUpdate = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_dependants_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            name: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required, app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.whiteSpace]],
            relationship_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            birthDate: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
            phoneNumber: [
                null,
                [
                    _angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(/^(\(?\+?[0-9]*\)?)?[0-9_ \-\(\)\S*$]*$/),
                    app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.MobileStartsWith,
                    app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.mobileLength,
                ],
            ],
            isEmergcy: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeDependantService
    //     .getList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeDependantModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           employeeDependentToMap(res.data)
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res.message.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.hasUpdate = false;
        if (this.form.valid) {
            const model = {
                employeeData: {
                    person_ID: this.employeeId,
                    id: this.form.value.id,
                    flower_Name: this.form.value.name,
                    relationship_ID: this.form.value.relationship_ID,
                    birthDate: this.form.value.birthDate,
                    phoneNumber: this.form.value.phoneNumber,
                    isEmergcy: this.form.value.isEmergcy ?? false,
                },
            };
            model.employeeData.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeDependantService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeDependantService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                //   this.getList(this.currentPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeDependantToEdit(employeeDependantInfo) {
        this.form.patchValue(employeeDependantInfo);
        this.formCtrls.name.setValue(employeeDependantInfo.flower_Name);
        this.formCtrls.birthDate.setValue(employeeDependantInfo.originalBirthDateFormat);
        // console.log(this.form.value);
    }
    afterDelete(dependant) {
        if (dependant?.id == this.formCtrls.id.value)
            this.clearForm();
        if (dependant)
            this.hasUpdate = true;
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmployeeDependantsDialogComponent.ɵfac = function EmployeeDependantsDialogComponent_Factory(t) { return new (t || EmployeeDependantsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeDependantService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmployeeDependantsDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeDependantsDialogComponent, selectors: [["app-employee-dependants-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 24, vars: 17, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "dependants", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "name", 3, "control", "submitted"], [3, "control", "submitted", "filter", "appendTo"], ["label", "birthDate", 3, "control", "submitted"], ["label", "phone", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "emergencyContact", 3, "control"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeeDependantsDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeDependantsDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "app-input", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-relationship-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](17, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](19, "app-check-box", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](20, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](21, EmployeeDependantsDialogComponent_reset_form_btn_21_Template, 1, 0, "reset-form-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](22, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeDependantsDialogComponent_Template_submit_btn_onClick_22_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](23, "app-emp-dependants-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("rowToEdit", function EmployeeDependantsDialogComponent_Template_app_emp_dependants_table_rowToEdit_23_listener($event) { return ctx.employeeDependantToEdit($event); })("afterDelete", function EmployeeDependantsDialogComponent_Template_app_emp_dependants_table_afterDelete_23_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.name)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.relationship_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.birthDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.phoneNumber)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isEmergcy);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.hasUpdate);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_7__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_personnel_setup_relationship_dropdown_relationship_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.RelationshipDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpDependantsTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZGVwZW5kYW50cy1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 97035:
/*!*************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-dependants/emp-dependants-table/emp-dependants-table.component.ts ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpDependantsTableComponent": () => (/* binding */ EmpDependantsTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-dependant.service */ 87181);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpDependantsTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpDependantsTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpDependantsTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpDependantsTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showFilter", false)("showSpaceTop", false);
} }
class EmpDependantsTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeDependantService) {
        super();
        this.employeeDependantService = employeeDependantService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "dependentName",
            "relationship",
            "birthDate",
            "phoneNumber",
            "isEmergcy",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_4__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_dependants_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        // this.hasUpdate = false;
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeDependantService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_3__.employeeDependentToMap)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    toEdit(dependant) {
        this.rowToEdit.emit(dependant);
    }
    onDelete(employeeDependantInfo) {
        let msg = employeeDependantInfo.flower_Name;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeDependantInfo);
        });
    }
    delete(dependant) {
        this.showLoading();
        this.employeeDependantService
            .Delete(dependant.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.afterDelete.emit(dependant); // emit to parent
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
}
EmpDependantsTableComponent.ɵfac = function EmpDependantsTableComponent_Factory(t) { return new (t || EmpDependantsTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_dependant_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeDependantService)); };
EmpDependantsTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpDependantsTableComponent, selectors: [["app-emp-dependants-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 1, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpDependantsTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpDependantsTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZGVwZW5kYW50cy10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 84353:
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-documents/emp-documents-card/emp-documents-card.component.ts ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDocumentsCardComponent": () => (/* binding */ EmployeeDocumentsCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_documents_dialog_emp_documents_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-documents-dialog/emp-documents-dialog.component */ 53477);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-documents.service */ 45310);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-documents-table/emp-documents-table.component */ 6181);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-translate/core */ 89461);














function EmployeeDocumentsCardComponent_div_0_div_5_span_10_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "span")(1, "i", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function EmployeeDocumentsCardComponent_div_0_div_5_span_10_Template_i_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r8.fileService.downloadFromServer(ctx_r8.document.attachmentID)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
} }
function EmployeeDocumentsCardComponent_div_0_div_5_ng_template_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](0, " ---");
} }
function EmployeeDocumentsCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 11)(2, "card-row-item", 12)(3, "card-row-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 14)(5, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](7, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](8, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](9, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](10, EmployeeDocumentsCardComponent_div_0_div_5_span_10_Template, 2, 0, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](11, EmployeeDocumentsCardComponent_div_0_div_5_ng_template_11_Template, 1, 0, "ng-template", null, 18, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()();
} if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](12);
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.document == null ? null : ctx_r3.document.documentName);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.document == null ? null : ctx_r3.document.dateof_issue);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.document == null ? null : ctx_r3.document.expire_Date);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](7, 6, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](8, 8, "attachment")));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", (ctx_r3.document == null ? null : ctx_r3.document.attachmentID) > 0)("ngIfElse", _r6);
} }
function EmployeeDocumentsCardComponent_div_0_app_emp_documents_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-emp-documents-table", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmployeeDocumentsCardComponent_div_0_app_emp_documents_table_6_Template_app_emp_documents_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r10.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeDocumentsCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmployeeDocumentsCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r12.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmployeeDocumentsCardComponent_div_0_div_5_Template, 13, 10, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmployeeDocumentsCardComponent_div_0_app_emp_documents_table_6_Template, 1, 2, "app-emp-documents-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmployeeDocumentsCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r13); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r14.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.document)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isTableView", ctx_r0.isTableView);
} }
function EmployeeDocumentsCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 21);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 4);
} }
class EmployeeDocumentsCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeDocumentsService) {
        super();
        this.employeeDocumentsService = employeeDocumentsService;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.document = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isLoaded = true;
    }
    getAll() {
        this.document = null;
        this.employeeDocumentsService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                let sortedList = res.data ?? [];
                // sort by Issuing date (from new to old)
                sortedList.sort((a, b) => new Date(b.employeeData.dateof_issue).getTime() -
                    new Date(a.employeeData.dateof_issue).getTime());
                this.document = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeePersonalDocumentToMap)(sortedList)[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_documents_dialog_emp_documents_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmployeeDocumentsDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAll();
            }
        });
    }
    afterDelete(document) {
        if (document) {
            this.isLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeDocumentsCardComponent.ɵfac = function EmployeeDocumentsCardComponent_Factory(t) { return new (t || EmployeeDocumentsCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeDocumentsService)); };
EmployeeDocumentsCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmployeeDocumentsCardComponent, selectors: [["emp-documents-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-2"], ["cardTitle", "employeeDocuments", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-8"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "name", 1, "w-25", 3, "value"], ["label", "dateof_issue", 1, "w-25", 3, "value"], ["label", "expire_Date", 1, "w-25", 3, "value"], [1, "col-3", "w-25"], [1, "view-data-title"], [1, "view-data-value"], [4, "ngIf", "ngIfElse"], ["noAttach", ""], [1, "fas", "fa-cloud-download-alt", "font-size-20", "icon-lightGreen", 3, "click"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeDocumentsCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmployeeDocumentsCardComponent_div_0_Template, 9, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmployeeDocumentsCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpDocumentsTableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_12__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZG9jdW1lbnRzLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 53477:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-documents/emp-documents-dialog/emp-documents-dialog.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDocumentsDialogComponent": () => (/* binding */ EmployeeDocumentsDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-documents.service */ 45310);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/prime-ng/file-upload/file-upload.component */ 34292);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_identity_type_dropdown_identity_type_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/identity-type-dropdown/identity-type-dropdown.component */ 61962);
/* harmony import */ var _emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../emp-documents-table/emp-documents-table.component */ 6181);






















function EmployeeDocumentsDialogComponent_reset_form_btn_21_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](0, "reset-form-btn", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmployeeDocumentsDialogComponent_reset_form_btn_21_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
} }
class EmployeeDocumentsDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeDocumentsService, dialogRef) {
        super();
        this.employeeDocumentsService = employeeDocumentsService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.hasUpdate = false;
        this.submitted = false;
        this.removeFiles = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_documents_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            documentId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            issuingDate: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Validators.required]],
            expirationDate: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_16__.CustomValidators.date]],
            identity_Number: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_16__.CustomValidators.digits]],
            file: [null],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_2__.CustomValidator.compareDates("issuingDate", "expirationDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0) {
    //     this.dataSource = new MatTableDataSource(null);
    //   }
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getList(this.firstPage);
    //   }
    // }
    //
    // getList(page: number, pageSize?: number) {
    //   this.page.pageIndex = page;
    //   if (pageSize) this.page.dialogSize = pageSize;
    //   let params: IPageParams = {
    //     PageNumber: page,
    //     pageSize: this.page.dialogSize,
    //   };
    //   this.employeeDocumentsService
    //     .getList(this.employeeId, params)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponseList<IEmployeeDocumentModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           res.data?.length > 0 ? employeePersonalDocumentToMap(res.data) : []
    //         );
    //         this.page.length = res.meta.totalItemCount;
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res.message.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        this.removeFiles = false;
        if (this.form.valid) {
            const model = {
                personID: this.employeeId,
                empIdentityID: this.form.value.id,
                identity_TypeID: this.form.value.documentId,
                dateof_issue: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.issuingDate),
                expire_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.mapDateReverse(this.form.value.expirationDate) ?? "",
                identity_Number: this.form.value.identity_Number ?? "",
                files: this.form.value.file,
            };
            const formData = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_4__.HelpersFunctions.objectToFormData(model);
            model.empIdentityID == 0 ? this.create(formData) : this.update(formData);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeDocumentsService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                //   this.getList(this.currentPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        // if file not change
        if (this.formCtrls.file.value?.id > 0)
            model.set("files", null);
        this.showLoading();
        this.employeeDocumentsService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                // this.getList(this.currentPage);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeDocumentToEdit(document) {
        this.form.patchValue(document);
        this.formCtrls.id.setValue(document.empIdentityID);
        this.formCtrls.documentId.setValue(document.identity_TypeID);
        this.formCtrls.issuingDate.setValue(document.originalIssuingDate);
        this.formCtrls.expirationDate.setValue(document.originalExpirationDate);
        if (document.attachmentID) {
            // get file size && type
            this.showLoading();
            this.fileService
                .downloadByAttachId(document.attachmentID)
                .subscribe((res) => {
                let file = {
                    id: document.attachmentID,
                    path: document.attachment,
                    name: document.attachment_En_Name,
                    type: res.type,
                    size: res.size,
                };
                this.formCtrls.file.setValue(file);
                this.hideLoading();
            });
        }
        else
            this.formCtrls.file.setValue(null);
        // console.log(this.form.value);
    }
    // onDelete(document: IEmployeeDocumentDataModel): void {
    //   let msg = this.msgTranslate(document.documentName);
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) {
    //       this.delete(document);
    //     }
    //   });
    // }
    //
    // delete(document: IEmployeeDocumentDataModel) {
    //   this.showLoading();
    //   this.employeeDocumentsService
    //     .Delete(document.empIdentityID)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         if (this.dataSource.data.length == 1 && this.currentPage > 1) {
    //           // if last item in list: get previous page
    //           this.getList(this.prevPage, this.page.dialogSize);
    //         }
    //         else {
    //           // if not last item in list: get current page
    //           this.getList(this.currentPage, this.page.dialogSize);
    //         }
    //         this.hasUpdate = true;
    //         if (document.empIdentityID == this.formCtrls.id.value) {
    //           this.clearForm();
    //         }
    //       }
    //       else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
        this.removeFiles = true;
    }
    // attachIconColumnData: IAttachIconColumnData = {
    //   columnName: "attachment",
    //   icon: "fas fa-file-alt",
    // };
    deleteFile() {
        this.showLoading();
        this.employeeDocumentsService
            .DeleteAttachment(this.formCtrls.id.value)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.hasUpdate = true;
                // this.getList(this.currentPage);
                this.formCtrls.file.reset();
            }
            else {
                this.errorList(res.message.messages);
                this.hideLoading();
            }
        });
    }
    afterDelete(document) {
        if (document.empIdentityID == this.formCtrls.id.value)
            this.clearForm();
        if (document)
            this.hasUpdate = true;
    }
}
EmployeeDocumentsDialogComponent.ɵfac = function EmployeeDocumentsDialogComponent_Factory(t) { return new (t || EmployeeDocumentsDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeDocumentsService), _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogRef)); };
EmployeeDocumentsDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵdefineComponent"]({ type: EmployeeDocumentsDialogComponent, selectors: [["app-employee-documents-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵInheritDefinitionFeature"]], decls: 24, vars: 21, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "employeeDocuments", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], ["label", "documentName", 3, "control", "submitted", "filter", "appendTo"], ["label", "dateof_issue", 3, "control", "submitted"], ["label", "expire_Date", 3, "control", "submitted"], ["label", "identity_Number", 3, "control", "submitted"], [1, "col-12"], [3, "control", "submitted", "multiple", "isEdit", "removeFiles", "ondelete"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeeDocumentsDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("click", function EmployeeDocumentsDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](11, "app-identity-type-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](13, "app-datepicker", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](15, "app-datepicker", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelement"](17, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](18, "div", 13)(19, "primeng-file-upload", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("ondelete", function EmployeeDocumentsDialogComponent_Template_primeng_file_upload_ondelete_19_listener() { return ctx.deleteFile(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](20, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵtemplate"](21, EmployeeDocumentsDialogComponent_reset_form_btn_21_Template, 1, 0, "reset-form-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](22, "submit-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("onClick", function EmployeeDocumentsDialogComponent_Template_submit_btn_onClick_22_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementStart"](23, "app-emp-documents-table", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵlistener"]("rowToEdit", function EmployeeDocumentsDialogComponent_Template_app_emp_documents_table_rowToEdit_23_listener($event) { return ctx.employeeDocumentToEdit($event); })("afterDelete", function EmployeeDocumentsDialogComponent_Template_app_emp_documents_table_afterDelete_23_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.documentId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.issuingDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.expirationDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.identity_Number)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("control", ctx.formCtrls.file)("submitted", ctx.submitted)("multiple", false)("isEdit", ctx.formCtrls.id.value > 0)("removeFiles", ctx.removeFiles);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_14__["ɵɵproperty"]("hasUpdate", ctx.hasUpdate);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_18__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_7__.InputComponent, _shared_components_resources_dynamic_form_field_prime_ng_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_8__.FileUploadComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_11__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_19__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_20__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_identity_type_dropdown_identity_type_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.IdentityTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_15__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_15__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_15__.FormGroupDirective, _emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_13__.EmpDocumentsTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZG9jdW1lbnRzLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 6181:
/*!**********************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-documents/emp-documents-table/emp-documents-table.component.ts ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpDocumentsTableComponent": () => (/* binding */ EmpDocumentsTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-documents.service */ 45310);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpDocumentsTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpDocumentsTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpDocumentsTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpDocumentsTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showFilter", false)("showSpaceTop", false)("attachIconColumnData", ctx_r0.attachIconColumnData);
} }
class EmpDocumentsTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeDocumentsService) {
        super();
        this.employeeDocumentsService = employeeDocumentsService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "documentName",
            "dateof_issue",
            "expire_Date",
            "identity_Number",
            "attachment",
            "actions",
        ];
        this.optionalColomns = [];
        this.attachIconColumnData = {
            columnName: "attachment",
            icon: "fas fa-file-alt",
        };
        this.isLoaded = false;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_documents_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getList(this.firstPage);
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0) {
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        }
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeDocumentsService
            .getList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(res.data?.length > 0 ? (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeePersonalDocumentToMap)(res.data) : []);
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    onDelete(document) {
        let msg = this.msgTranslate(document.documentName);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm) {
                this.delete(document);
            }
        });
    }
    toEdit(document) {
        this.rowToEdit.emit(document);
    }
    delete(document) {
        this.showLoading();
        this.employeeDocumentsService
            .Delete(document.empIdentityID)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.hasUpdate = true;
                this.afterDelete.emit(document);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
}
EmpDocumentsTableComponent.ɵfac = function EmpDocumentsTableComponent_Factory(t) { return new (t || EmpDocumentsTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_documents_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeDocumentsService)); };
EmpDocumentsTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpDocumentsTableComponent, selectors: [["app-emp-documents-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 1, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "attachIconColumnData", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "attachIconColumnData", "onChangePage", "editRow", "deleteRow"]], template: function EmpDocumentsTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpDocumentsTableComponent_app_material_table_0_Template, 1, 12, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtZG9jdW1lbnRzLXRhYmxlLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 83223:
/*!********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-military-data/emp-military-data-card/emp-military-data-card.component.ts ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMilitaryDataCardComponent": () => (/* binding */ EmployeeMilitaryDataCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_military_data_dialog_emp_military_data_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-military-data-dialog/emp-military-data-dialog.component */ 22839);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-military-data.service */ 65635);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../emp-military-table/emp-military-table.component */ 74855);













function EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "card-row-item", 15);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r5.empMilitary == null ? null : ctx_r5.empMilitary.grade);
} }
function EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "card-row-item", 16);
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("label", (ctx_r6.empMilitary == null ? null : ctx_r6.empMilitary.comm_Military_Status.dateMandatory) == 1 ? "date" : "startDate")("value", ctx_r6.empMilitary == null ? null : ctx_r6.empMilitary.statusDate);
} }
function EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "card-row-item", 17);
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r7.empMilitary == null ? null : ctx_r7.empMilitary.endDate);
} }
function EmployeeMilitaryDataCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "card-row-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_2_Template, 1, 1, "card-row-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](3, EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_3_Template, 1, 2, "card-row-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](4, EmployeeMilitaryDataCardComponent_div_0_div_5_card_row_item_4_Template, 1, 1, "card-row-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("value", ctx_r3.empMilitary == null ? null : ctx_r3.empMilitary.status);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r3.empMilitary == null ? null : ctx_r3.empMilitary.comm_Military_Status.showGrade);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r3.empMilitary || (ctx_r3.empMilitary == null ? null : ctx_r3.empMilitary.comm_Military_Status.dateMandatory) > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", (ctx_r3.empMilitary == null ? null : ctx_r3.empMilitary.comm_Military_Status.dateMandatory) == 2);
} }
function EmployeeMilitaryDataCardComponent_div_0_app_emp_military_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "app-emp-military-table", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("afterDelete", function EmployeeMilitaryDataCardComponent_div_0_app_emp_military_table_6_Template_app_emp_military_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r8.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeeMilitaryDataCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onClickIcon", function EmployeeMilitaryDataCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r10.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, EmployeeMilitaryDataCardComponent_div_0_div_5_Template, 5, 4, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](6, EmployeeMilitaryDataCardComponent_div_0_app_emp_military_table_6_Template, 1, 2, "app-emp-military-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("toggleTable", function EmployeeMilitaryDataCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r11); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵresetView"](ctx_r12.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isEdit", ctx_r0.empMilitary)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("isTableView", ctx_r0.isTableView);
} }
function EmployeeMilitaryDataCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 19);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("rowNo", 4);
} }
class EmployeeMilitaryDataCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeMilitaryDataService) {
        super();
        this.employeeMilitaryDataService = employeeMilitaryDataService;
        this.isLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empMilitary = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAllEmpMilitary();
        else
            this.isLoaded = true;
    }
    getAllEmpMilitary() {
        this.empMilitary = null;
        this.employeeMilitaryDataService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                if (res.data.length > 1) {
                    let sortedList = res.data;
                    // get last create date
                    const lastCreateDate = res.data.reduce((prev, current) => new Date(prev.create_Date).getTime() >
                        new Date(current.statusDate).getTime()
                        ? prev
                        : current).create_Date;
                    // get all objects with lastCreateDate
                    sortedList = sortedList.filter((ele) => ele.create_Date == lastCreateDate);
                    // console.log(sortedList);
                    if (sortedList.length == 1)
                        this.empMilitary = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMilitaryStatusToMap)(sortedList)[0];
                    else {
                        // sort by status date
                        sortedList.sort((a, b) => new Date(a.statusDate).getTime() -
                            new Date(b.statusDate).getTime());
                        this.empMilitary = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMilitaryStatusToMap)([
                            sortedList[sortedList.length - 1],
                        ])[0];
                    }
                }
                else
                    this.empMilitary = (0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMilitaryStatusToMap)(res.data)[0];
            }
            else
                this.errorList(res.message.messages);
            this.isLoaded = true;
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_military_data_dialog_emp_military_data_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmployeeMilitaryDataDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllEmpMilitary();
            }
        });
    }
    afterDelete(address) {
        if (address) {
            this.isLoaded = false;
            this.getAllEmpMilitary();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeeMilitaryDataCardComponent.ɵfac = function EmployeeMilitaryDataCardComponent_Factory(t) { return new (t || EmployeeMilitaryDataCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeMilitaryDataService)); };
EmployeeMilitaryDataCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: EmployeeMilitaryDataCardComponent, selectors: [["emp-military-data-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-2"], ["cardTitle", "militaryData", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-8"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "isTableView", "toggleTable"], [1, "view-data-row-container"], ["label", "status", 1, "w-25", 3, "value"], ["class", "w-25", "label", "grade", 3, "value", 4, "ngIf"], ["class", "w-25", 3, "label", "value", 4, "ngIf"], ["class", "w-25", "label", "endDate", 3, "value", 4, "ngIf"], ["label", "grade", 1, "w-25", 3, "value"], [1, "w-25", 3, "label", "value"], ["label", "endDate", 1, "w-25", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeeMilitaryDataCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](0, EmployeeMilitaryDataCardComponent_div_0_Template, 9, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, EmployeeMilitaryDataCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent, _emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_10__.EmpMilitaryTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWlsaXRhcnktZGF0YS1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 22839:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-military-data/emp-military-data-dialog/emp-military-data-dialog.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMilitaryDataDialogComponent": () => (/* binding */ EmployeeMilitaryDataDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/validators/custom.validator */ 78937);
/* harmony import */ var ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-custom-validators */ 79512);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-military-data.service */ 65635);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_military_status_dropdown_military_status_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/military-status-dropdown/military-status-dropdown.component */ 19634);
/* harmony import */ var _shared_components_dropdowns_hr_setup_military_grade_dropdown_military_grade_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/military-grade-dropdown/military-grade-dropdown.component */ 17503);
/* harmony import */ var _emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../emp-military-table/emp-military-table.component */ 74855);





















function EmployeeMilitaryDataDialogComponent_div_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](1, "app-military-grade-dropdown", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx_r1.formCtrls.gradeID)("submitted", ctx_r1.submitted)("filter", true)("appendTo", _r0);
} }
function EmployeeMilitaryDataDialogComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](1, "app-datepicker", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx_r2.formCtrls.statusDate)("submitted", ctx_r2.submitted)("label", (ctx_r2.selectedStatus == null ? null : ctx_r2.selectedStatus.dateMandatory) == 1 ? "date" : "startDate");
} }
function EmployeeMilitaryDataDialogComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](1, "app-datepicker", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx_r3.formCtrls.endDate)("submitted", ctx_r3.submitted);
} }
function EmployeeMilitaryDataDialogComponent_reset_form_btn_16_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeMilitaryDataDialogComponent_reset_form_btn_16_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r5.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
class EmployeeMilitaryDataDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    constructor(employeeMilitaryDataService, dialogRef) {
        super();
        this.employeeMilitaryDataService = employeeMilitaryDataService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.hasUpdate = false;
        this.mandatoryColomns = [
            "Ser",
            "status",
            "grade",
            "statusDate",
            "endDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_military_data_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            militaryID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            gradeID: [null],
            statusDate: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
            endDate: [null, [ngx_custom_validators__WEBPACK_IMPORTED_MODULE_15__.CustomValidators.date]],
        }, {
            validator: app_shared_validators_custom_validator__WEBPACK_IMPORTED_MODULE_4__.CustomValidator.compareDates("statusDate", "endDate"),
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.checkNoBusinessOrCompany()) {
    //     if (this.employeeId > 0) this.getAll();
    //   }
    // }
    // getAll() {
    //   this.employeeMilitaryDataService
    //     .getAll(this.employeeId)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponse<IEmployeeMilitaryModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           employeeMilitaryStatusToMap(res.data)
    //         );
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res.message.messages);
    //     });
    // }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    PersonID: this.employeeId,
                    militaryID: this.form.value.militaryID,
                },
            };
            if (this.selectedStatus.showGrade)
                model.EmployeeData.gradeID = this.form.value.gradeID;
            if (this.selectedStatus.dateMandatory > 0) {
                model.EmployeeData.statusDate = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.statusDate);
                if (this.selectedStatus.dateMandatory == 2)
                    model.EmployeeData.endDate = app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.form.value.endDate);
            }
            this.create(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeMilitaryDataService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    // update(model: IEmployeeMilitaryRequest) {
    //   this.showLoading();
    //   this.employeeMilitaryDataService
    //     .update(model)
    //     .subscribe((res: IResponse<IEmployeeMilitaryModel>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.clearForm();
    //         this.updateSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.updated = true;
    //       } else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    // employeeMilitaryToEdit(employeeMilitaryInfo: IEmployeeMilitaryModel) {
    //   this.form.patchValue(employeeMilitaryInfo);
    //   // console.log(this.form.value);
    // }
    // onDelete(employeeMilitaryInfo: IEmployeeMilitaryModel): void {
    //   let msg = employeeMilitaryInfo.status;
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeMilitaryInfo);
    //   });
    // }
    //
    // delete(employeeMilitaryInfo: IEmployeeMilitaryModel) {
    //   let deleteParams: IEmployeeMilitaryDeleteParams = {
    //     PersonID: this.employeeId,
    //     MilitaryID: employeeMilitaryInfo.militaryID,
    //   };
    //   this.showLoading();
    //   this.employeeMilitaryDataService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAll();
    //         this.hasUpdate = true;
    //         // if (employeeMilitaryInfo.id == this.formCtrls.id.value)
    //         //   this.clearForm();
    //       }
    //       else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    afterDelete(Military) {
        if (Military?.comm_Military_Status.id == this.formCtrls.id.value)
            this.clearForm();
        if (Military)
            this.hasUpdate = true;
    }
    onChangeStatus(values) {
        this.selectedStatus = values?.length > 0 ? values[0] : null;
        if (this.selectedStatus?.showGrade)
            this.formCtrls.gradeID.setValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]);
        else
            this.formCtrls.gradeID.clearValidators();
        this.formCtrls.gradeID.updateValueAndValidity();
    }
}
EmployeeMilitaryDataDialogComponent.ɵfac = function EmployeeMilitaryDataDialogComponent_Factory(t) { return new (t || EmployeeMilitaryDataDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeMilitaryDataService), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogRef)); };
EmployeeMilitaryDataDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeMilitaryDataDialogComponent, selectors: [["app-employee-military-data-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 19, vars: 13, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "militaryData", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo", "change"], ["class", "col-md-4 col-sm-6 col-12", 4, "ngIf"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], [3, "hasUpdate", "afterDelete"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "submitted", "label"], ["label", "endDate", 3, "control", "submitted"], [3, "click"]], template: function EmployeeMilitaryDataDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeMilitaryDataDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8)(11, "app-military-status-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("change", function EmployeeMilitaryDataDialogComponent_Template_app_military_status_dropdown_change_11_listener($event) { return ctx.onChangeStatus($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](12, EmployeeMilitaryDataDialogComponent_div_12_Template, 2, 4, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](13, EmployeeMilitaryDataDialogComponent_div_13_Template, 2, 3, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](14, EmployeeMilitaryDataDialogComponent_div_14_Template, 2, 2, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](15, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](16, EmployeeMilitaryDataDialogComponent_reset_form_btn_16_Template, 1, 0, "reset-form-btn", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](17, "submit-btn", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeMilitaryDataDialogComponent_Template_submit_btn_onClick_17_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "app-emp-military-table", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("afterDelete", function EmployeeMilitaryDataDialogComponent_Template_app_emp_military_table_afterDelete_18_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.militaryID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", !ctx.formCtrls.militaryID.value || (ctx.selectedStatus == null ? null : ctx.selectedStatus.showGrade));
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", !ctx.formCtrls.militaryID.value || (ctx.selectedStatus == null ? null : ctx.selectedStatus.dateMandatory) > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", (ctx.selectedStatus == null ? null : ctx.selectedStatus.dateMandatory) == 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("hasUpdate", ctx.hasUpdate);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_17__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_6__.DatepickerComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_18__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_19__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_military_status_dropdown_military_status_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.MilitaryStatusDropdownComponent, _shared_components_dropdowns_hr_setup_military_grade_dropdown_military_grade_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.MilitaryGradeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_12__.EmpMilitaryTableComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWlsaXRhcnktZGF0YS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 74855:
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-military-data/emp-military-table/emp-military-table.component.ts ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMilitaryTableComponent": () => (/* binding */ EmpMilitaryTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-military-data.service */ 65635);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpMilitaryTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpMilitaryTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpMilitaryTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpMilitaryTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r0.page)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showSpaceTop", false);
} }
class EmpMilitaryTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeMilitaryDataService) {
        super();
        this.employeeMilitaryDataService = employeeMilitaryDataService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter();
        this.mandatoryColomns = [
            "status",
            "grade",
            "statusDate",
            "endDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.employeeId = 0;
        this.isLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_military_data_sec);
    }
    getList(page, pageSize) {
        throw new Error("Method not implemented.");
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getAll();
        // if (this.hideActions) {
        //   let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
        //   this.rowFunctions.basic.splice(editIndex, 1);
        // }
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getAll();
        }
    }
    getAll() {
        this.employeeMilitaryDataService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMilitaryStatusToMap)(res.data));
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    onDelete(employeeMilitaryInfo) {
        let msg = employeeMilitaryInfo.status;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeMilitaryInfo);
        });
    }
    delete(employeeMilitaryInfo) {
        let deleteParams = {
            PersonID: this.employeeId,
            MilitaryID: employeeMilitaryInfo.militaryID,
        };
        this.showLoading();
        this.employeeMilitaryDataService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.afterDelete.emit(employeeMilitaryInfo);
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAll();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    toEdit(Military) {
        this.rowToEdit.emit(Military);
    }
}
EmpMilitaryTableComponent.ɵfac = function EmpMilitaryTableComponent_Factory(t) { return new (t || EmpMilitaryTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_military_data_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeMilitaryDataService)); };
EmpMilitaryTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpMilitaryTableComponent, selectors: [["app-emp-military-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 1, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "isMatPaginator", "showFirstLastButtons", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpMilitaryTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpMilitaryTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWlsaXRhcnktdGFibGUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 59897:
/*!***************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-personal-info-core/empl-personal-info-core.component.ts ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePersonalInfoCoreComponent": () => (/* binding */ EmployeePersonalInfoCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _emp_personal_info_emp_personal_info_card_emp_personal_info_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-personal-info/emp-personal-info-card/emp-personal-info-card.component */ 60930);
/* harmony import */ var _emp_address_emp_address_card_emp_address_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-address/emp-address-card/emp-address-card.component */ 68530);
/* harmony import */ var _emp_contact_emp_contact_card_emp_contact_card_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../emp-contact/emp-contact-card/emp-contact-card.component */ 52761);
/* harmony import */ var _emp_dependants_emp_dependants_card_emp_dependants_card_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../emp-dependants/emp-dependants-card/emp-dependants-card.component */ 43097);
/* harmony import */ var _emp_military_data_emp_military_data_card_emp_military_data_card_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../emp-military-data/emp-military-data-card/emp-military-data-card.component */ 83223);
/* harmony import */ var _emp_documents_emp_documents_card_emp_documents_card_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../emp-documents/emp-documents-card/emp-documents-card.component */ 84353);













function EmployeePersonalInfoCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-personal-info-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-contact-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-address-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-dependants-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-military-data-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCoreComponent_div_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](1, "emp-documents-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
} }
class EmployeePersonalInfoCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_personal_info_tab);
        //		console.log("personal-info", this.allowedSections);
    }
}
EmployeePersonalInfoCoreComponent.ɵfac = function EmployeePersonalInfoCoreComponent_Factory(t) { return new (t || EmployeePersonalInfoCoreComponent)(); };
EmployeePersonalInfoCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmployeePersonalInfoCoreComponent, selectors: [["emp-personal-info-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 16, vars: 6, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "personalInformation", "color", "font-dark", 1, "font-size-17", "font-weight-bold"], [1, "container-fluid", "p-0", "px-4"], [1, "row", "mx-md-n2"], ["class", "col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-12", "p-0", "px-md-2"]], template: function EmployeePersonalInfoCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](7, EmployeePersonalInfoCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](8, "mat-divider");
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](9, EmployeePersonalInfoCoreComponent_div_9_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](10, "mat-divider");
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](11, EmployeePersonalInfoCoreComponent_div_11_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](12, "mat-divider");
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](13, EmployeePersonalInfoCoreComponent_div_13_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](14, EmployeePersonalInfoCoreComponent_div_14_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](15, EmployeePersonalInfoCoreComponent_div_15_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_personal_info_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_contact_address_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_contact_address_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_dependants_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_military_data_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_documents_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_11__.MatCardTitle, _angular_material_divider__WEBPACK_IMPORTED_MODULE_12__.MatDivider, _emp_personal_info_emp_personal_info_card_emp_personal_info_card_component__WEBPACK_IMPORTED_MODULE_3__.EmployeePersonalInfoCardComponent, _emp_address_emp_address_card_emp_address_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpAddressCardComponent, _emp_contact_emp_contact_card_emp_contact_card_component__WEBPACK_IMPORTED_MODULE_5__.EmpContactCardComponent, _emp_dependants_emp_dependants_card_emp_dependants_card_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeDependantsCardComponent, _emp_military_data_emp_military_data_card_emp_military_data_card_component__WEBPACK_IMPORTED_MODULE_7__.EmployeeMilitaryDataCardComponent, _emp_documents_emp_documents_card_emp_documents_card_component__WEBPACK_IMPORTED_MODULE_8__.EmployeeDocumentsCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsLXBlcnNvbmFsLWluZm8tY29yZS5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 64209:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-personal-info/emp-marital-status-table/emp-marital-status-table.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpMaritalStatusTableComponent": () => (/* binding */ EmpMaritalStatusTableComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/employee-personal-info */ 45875);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-marital-data.service */ 87978);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-spinner */ 88035);












function EmpMaritalStatusTableComponent_app_material_table_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "app-material-table", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("onChangePage", function EmpMaritalStatusTableComponent_app_material_table_0_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r1.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpMaritalStatusTableComponent_app_material_table_0_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.toEdit($event)); })("deleteRow", function EmpMaritalStatusTableComponent_app_material_table_0_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r2); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r4.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("isLoaded", ctx_r0.isLoaded)("dataSource", ctx_r0.dataSource)("mandatoryColomns", ctx_r0.mandatoryColomns)("optionalColomns", ctx_r0.optionalColomns)("page", ctx_r0.page)("actions", ctx_r0.rowFunctions)("isDialogSize", true)("isMatPaginator", ctx_r0.isMatPaginator)("showFirstLastButtons", false)("showFilter", false)("showSpaceTop", false);
} }
class EmpMaritalStatusTableComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_0__.AppHelpers {
    constructor(employeeMaritalDataService) {
        super();
        this.employeeMaritalDataService = employeeMaritalDataService;
        this.hideActions = false;
        this.isMatPaginator = false;
        this.rowToEdit = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter;
        this.afterDelete = new _angular_core__WEBPACK_IMPORTED_MODULE_7__.EventEmitter;
        this.mandatoryColomns = [
            "maritalStatus",
            "statusDate",
            "actions",
        ];
        this.optionalColomns = [];
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        // marital status index
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_2__.ViewsManager.emp_personal_info_sec);
    }
    ngOnChanges(changes) {
        if (changes.hasUpdate && changes.hasUpdate.currentValue && this.employeeId > 0)
            this.getAllMaritalStatus();
        if (this.hideActions) {
            let editIndex = this.rowFunctions.basic.findIndex(e => e.name.toLowerCase() == "edit");
            this.rowFunctions.basic.splice(editIndex, 1);
        }
    }
    getList(page, pageSize) {
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource(null);
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.getAllMaritalStatus();
        }
        else
            this.isLoaded = true;
    }
    getAllMaritalStatus() {
        this.employeeMaritalDataService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_8__.MatTableDataSource((0,app_personnel_setup_mapper_employee_personal_info__WEBPACK_IMPORTED_MODULE_4__.employeeMaritalStatusToMap)(res.data));
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    onDelete(employeeMaritalInfo) {
        let msg = this.msgTranslate(employeeMaritalInfo.comm_Marital_Status?.ar_Name, employeeMaritalInfo.comm_Marital_Status?.en_Name);
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeMaritalInfo);
        });
    }
    delete(empMarital) {
        let deleteParams = {
            PersonID: this.employeeId,
            MaritalID: empMarital.comm_Marital_Status?.id,
        };
        this.showLoading();
        this.employeeMaritalDataService
            .Delete(deleteParams)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                this.getAllMaritalStatus();
                this.afterDelete.emit(empMarital); // emit to parent
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    toEdit(empMarital) {
        this.rowToEdit.emit(empMarital);
    }
}
EmpMaritalStatusTableComponent.ɵfac = function EmpMaritalStatusTableComponent_Factory(t) { return new (t || EmpMaritalStatusTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeMaritalDataService)); };
EmpMaritalStatusTableComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: EmpMaritalStatusTableComponent, selectors: [["app-emp-marital-status-table"]], inputs: { hasUpdate: "hasUpdate", hideActions: "hideActions", isMatPaginator: "isMatPaginator" }, outputs: { rowToEdit: "rowToEdit", afterDelete: "afterDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 1, consts: [["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "isMatPaginator", "showFirstLastButtons", "showFilter", "showSpaceTop", "onChangePage", "editRow", "deleteRow"]], template: function EmpMaritalStatusTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, EmpMaritalStatusTableComponent_app_material_table_0_Template, 1, 11, "app-material-table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](1, "ngx-spinner");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, ngx_spinner__WEBPACK_IMPORTED_MODULE_10__.NgxSpinnerComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtbWFyaXRhbC1zdGF0dXMtdGFibGUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 60930:
/*!********************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-personal-info/emp-personal-info-card/emp-personal-info-card.component.ts ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePersonalInfoCardComponent": () => (/* binding */ EmployeePersonalInfoCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_personal_info_dialog_emp_personal_info_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-personal-info-dialog/emp-personal-info-dialog.component */ 17588);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-marital-data.service */ 87978);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var primeng_skeleton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/skeleton */ 32712);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../emp-marital-status-table/emp-marital-status-table.component */ 64209);
/* harmony import */ var _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/see-more-btn/see-more-btn.component */ 87749);














function EmployeePersonalInfoCardComponent_div_0_div_5_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "card-row-item", 17)(2, "card-row-item", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r8.employee == null ? null : ctx_r8.employee.person.dob)("isDate", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r8.msgTranslate(ctx_r8.employee == null ? null : ctx_r8.employee.country == null ? null : ctx_r8.employee.country.ar_Name, ctx_r8.employee == null ? null : ctx_r8.employee.country == null ? null : ctx_r8.employee.country.en_NAme));
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_card_row_item_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "card-row-item", 19);
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r9.msgTranslate(ctx_r9.empMarital == null ? null : ctx_r9.empMarital.comm_Marital_Status == null ? null : ctx_r9.empMarital.comm_Marital_Status.ar_Name, ctx_r9.empMarital == null ? null : ctx_r9.empMarital.comm_Marital_Status == null ? null : ctx_r9.empMarital.comm_Marital_Status.en_Name));
} }
function EmployeePersonalInfoCardComponent_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeePersonalInfoCardComponent_div_0_div_5_div_1_Template, 2, 0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](2, EmployeePersonalInfoCardComponent_div_0_div_5_div_2_Template, 2, 0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](3, EmployeePersonalInfoCardComponent_div_0_div_5_div_3_Template, 2, 0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](4, EmployeePersonalInfoCardComponent_div_0_div_5_ng_container_4_Template, 3, 3, "ng-container", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmployeePersonalInfoCardComponent_div_0_div_5_card_row_item_5_Template, 1, 1, "card-row-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r3.isPersonalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r3.isPersonalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r3.isMaritalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r3.isPersonalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r3.isMaritalLoaded);
} }
function EmployeePersonalInfoCardComponent_div_0_app_emp_marital_status_table_6_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "app-emp-marital-status-table", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("afterDelete", function EmployeePersonalInfoCardComponent_div_0_app_emp_marital_status_table_6_Template_app_emp_marital_status_table_afterDelete_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r10.afterDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isMatPaginator", true)("hideActions", true);
} }
function EmployeePersonalInfoCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmployeePersonalInfoCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r12.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](5, EmployeePersonalInfoCardComponent_div_0_div_5_Template, 6, 5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](6, EmployeePersonalInfoCardComponent_div_0_app_emp_marital_status_table_6_Template, 1, 2, "app-emp-marital-status-table", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](7, "div", 4)(8, "see-more-btn", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("toggleTable", function EmployeePersonalInfoCardComponent_div_0_Template_see_more_btn_toggleTable_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r13); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r14.toggleTable()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", ctx_r0.employeeId)("isLoaded", ctx_r0.isPersonalLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r0.isTableView);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isTableView", ctx_r0.isTableView);
} }
function EmployeePersonalInfoCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 21);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 5);
} }
class EmployeePersonalInfoCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(empGeneralInfoService, employeeMaritalDataService) {
        super();
        this.empGeneralInfoService = empGeneralInfoService;
        this.employeeMaritalDataService = employeeMaritalDataService;
        this.isPersonalLoaded = false;
        this.isMaritalLoaded = false;
        this.isTableView = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        this.employee = this.empGeneralInfoService.employee$.getValue();
        this.empGeneralInfoService.employee$.subscribe((emp) => {
            this.employee = emp;
            this.personalLoadedFun();
        });
        this.personalLoadedFun();
    }
    personalLoadedFun() {
        this.isPersonalLoaded = false;
        if (this.employee != null && this.employeeId > 0)
            this.isPersonalLoaded = true;
        if (this.employee == null && this.employeeId == 0)
            this.isPersonalLoaded = true;
    }
    onChangeBusinessAndCompanyId() {
        this.empMarital = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany())
            this.getAll();
        else
            this.isMaritalLoaded = true;
    }
    getAll() {
        this.empMarital = null;
        this.employeeMaritalDataService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_3__.MessageTypes.Success) {
                let sortedList = res.data;
                // if at least one with status date sort by status date // else sort by create date
                // from old to new
                if (sortedList.some((ele) => ele.statusDate))
                    sortedList.sort((a, b) => new Date(a.statusDate).getTime() -
                        new Date(b.statusDate).getTime());
                else
                    sortedList.sort((a, b) => new Date(a.create_Date).getTime() -
                        new Date(b.create_Date).getTime());
                // console.log(sortedList);
                this.empMarital = sortedList[sortedList.length - 1];
            }
            else
                this.errorList(res.message.messages);
            this.isMaritalLoaded = true;
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_personal_info_dialog_emp_personal_info_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmployeePersonalInfoDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isMaritalLoaded = false;
                this.getAll();
            }
            // if (res?.isPersonal) {
            // 	this.empGeneralInfoService.getEmployee(this.employeeId);
            // } else if (res?.isMarital) {
            // 	this.getEmpAll_Military();
            //   this.empGeneralInfoService.getEmployee(this.employeeId);
            // }
        });
    }
    afterDelete(Marital) {
        if (Marital) {
            this.isMaritalLoaded = false;
            this.getAll();
        }
    }
    toggleTable() {
        this.isTableView = !this.isTableView;
    }
}
EmployeePersonalInfoCardComponent.ɵfac = function EmployeePersonalInfoCardComponent_Factory(t) { return new (t || EmployeePersonalInfoCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeMaritalDataService)); };
EmployeePersonalInfoCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmployeePersonalInfoCardComponent, selectors: [["emp-personal-info-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row"], [1, "col-2"], ["cardTitle", "personalInfo", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-8"], ["class", "view-data-row-container", 4, "ngIf"], [3, "isMatPaginator", "hideActions", "afterDelete", 4, "ngIf"], [3, "isTableView", "toggleTable"], [1, "view-data-row-container"], ["class", "w-25 m-auto", 4, "ngIf"], ["class", "w-25  m-auto", 4, "ngIf"], [4, "ngIf"], ["class", "w-25", "label", "maritalStatus", 3, "value", 4, "ngIf"], [1, "w-25", "m-auto"], ["width", "7rem", "styleClass", "p-mb-2", "borderRadius", "10px"], ["label", "dob", 1, "w-25", 3, "value", "isDate"], ["label", "placeOfBirth", 1, "w-25", 3, "value"], ["label", "maritalStatus", 1, "w-25", 3, "value"], [3, "isMatPaginator", "hideActions", "afterDelete"], [3, "rowNo"]], template: function EmployeePersonalInfoCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmployeePersonalInfoCardComponent_div_0_Template, 9, 5, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeePersonalInfoCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isPersonalLoaded || ctx.isMaritalLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeProfileCardSkeletonComponent, primeng_skeleton__WEBPACK_IMPORTED_MODULE_12__.Skeleton, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent, _emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_8__.EmpMaritalStatusTableComponent, _card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_9__.SeeMoreBtnComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGVyc29uYWwtaW5mby1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 17588:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/emp-personal-info/emp-personal-info-dialog/emp-personal-info-dialog.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePersonalInfoDialogComponent": () => (/* binding */ EmployeePersonalInfoDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-marital-data.service */ 87978);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/datepicker/datepicker.component */ 70137);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_hr_setup_marital_status_dropdown_marital_status_dropdown_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/marital-status-dropdown/marital-status-dropdown.component */ 9316);
/* harmony import */ var _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../employee-general-info/emp-general-info-form/emp-general-info-form.component */ 9442);
/* harmony import */ var _emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../emp-marital-status-table/emp-marital-status-table.component */ 64209);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ngx-translate/core */ 89461);





















function EmployeePersonalInfoDialogComponent_reset_form_btn_26_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "reset-form-btn", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("click", function EmployeePersonalInfoDialogComponent_reset_form_btn_26_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r2.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} }
class EmployeePersonalInfoDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_2__.AppHelpers {
    // mandatoryColomns: string[] = [
    //   "Ser",
    //   "maritalStatus",
    //   "statusDate",
    //   "actions",
    // ];
    // optionalColomns: string[] = [];
    // dataSource: MatTableDataSource<IEmployeeMaritalModel>;
    // isLoaded: boolean = false;
    // @ViewChild(EmployeePersonalInfoCardComponent, { static: true })
    // personalInfoCard: EmployeePersonalInfoCardComponent;
    constructor(employeeMaritalDataService, dialogRef) {
        super();
        this.employeeMaritalDataService = employeeMaritalDataService;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.hasUpdate = false;
        this.submitted = false;
        this.selectedMaritalId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
        // marital status index
        // this.rowFunctions = this.getSubRowFunctions(
        //   this.getParentViewName,
        //   ViewsManager.emp_personal_info_sec
        // );
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            maritalID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_13__.Validators.required]],
            statusDate: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    onCloseDialog() {
        this.dialogRef.close(this.hasUpdate);
    }
    get formCtrls() {
        return this.form.controls;
    }
    // override onChangeBusinessAndCompanyId(): void {
    //   if (this.dataSource?.data?.length > 0)
    //     this.dataSource = new MatTableDataSource(null);
    //   if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
    //     this.getAllMaritalStatus();
    //   }
    //   else this.isLoaded = true;
    // }
    // getAllMaritalStatus() {
    //   this.employeeMaritalDataService
    //     .getAll(this.employeeId)
    //     .pipe(this.cancelRequest())
    //     .subscribe((res: IResponse<IEmployeeMaritalModel[]>) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.dataSource = new MatTableDataSource(
    //           employeeMaritalStatusToMap(res.data)
    //         );
    //         this.isLoaded = true;
    //       }
    //       else this.errorList(res.message.messages);
    //     });
    // }
    submit() {
        // console.log(this.personalInfoCard);
        // if (this.personalInfoCard) this.personalInfoCard?.getEmpAll_Military();
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    personID: this.employeeId,
                    maritalID: this.formCtrls.maritalID.value,
                    statusDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_3__.HelpersFunctions.mapDateReverse(this.formCtrls.statusDate.value),
                },
            };
            this.formCtrls.id.value == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeMaritalDataService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                //  this.getAllMaritalStatus();
                this.hasUpdate = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        let editModel = {
            ...model,
            OriginalEmployeeData: {
                PersonID: this.employeeId,
                MaritalID: this.selectedMaritalId,
            },
        };
        this.showLoading();
        this.employeeMaritalDataService
            .update(editModel)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_1__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                //   this.getAllMaritalStatus();
                this.hasUpdate = true;
                this.selectedMaritalId = 0;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeMaritalToEdit(employeeMaritalInfo) {
        this.form.patchValue(employeeMaritalInfo);
        this.formCtrls.statusDate.setValue(employeeMaritalInfo.originalDateFormat);
        // not real id >> only to detect edit mode
        this.formCtrls.id.setValue(employeeMaritalInfo.comm_Marital_Status?.id ?? 1);
        // to use in edit request
        this.selectedMaritalId = employeeMaritalInfo.maritalID;
    }
    // onDelete(employeeMaritalInfo: IEmployeeMaritalModel): void {
    //   let msg = this.msgTranslate(
    //     employeeMaritalInfo.comm_Marital_Status?.ar_Name,
    //     employeeMaritalInfo.comm_Marital_Status?.en_Name
    //   );
    //   this.deleteDialog(msg).subscribe((confirm) => {
    //     if (confirm) this.delete(employeeMaritalInfo);
    //   });
    // }
    //
    // delete(employeeMaritalInfo: IEmployeeMaritalModel) {
    //   let deleteParams: IEmployeeMaritalDeleteParams = {
    //     PersonID: this.employeeId,
    //     MaritalID: employeeMaritalInfo.comm_Marital_Status?.id,
    //   };
    //   this.showLoading();
    //   this.employeeMaritalDataService
    //     .Delete(deleteParams)
    //     .subscribe((res: IResponse) => {
    //       if (res.message.messageType == MessageTypes.Success) {
    //         this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
    //         this.getAllMaritalStatus();
    //         this.updated = true;
    //         if (
    //           employeeMaritalInfo.comm_Marital_Status?.id ==
    //           this.selectedMaritalId &&
    //           // if edit
    //           this.formCtrls.id.value > 0
    //         )
    //           this.clearForm();
    //       }
    //       else this.errorList(res.message.messages);
    //       this.hideLoading();
    //     });
    // }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    onSave(data) {
        // this.empGeneralInfoService.getEmployee(this.data.employeeId);
        // this.dialogRef.close(data);
    }
    afterDelete(Marital) {
        if (Marital?.comm_Marital_Status.id == this.formCtrls.id.value)
            this.clearForm();
        if (Marital)
            this.hasUpdate = true;
    }
}
EmployeePersonalInfoDialogComponent.ɵfac = function EmployeePersonalInfoDialogComponent_Factory(t) { return new (t || EmployeePersonalInfoDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_marital_data_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeMaritalDataService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__.MatDialogRef)); };
EmployeePersonalInfoDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineComponent"]({ type: EmployeePersonalInfoDialogComponent, selectors: [["app-employee-personal-info-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵInheritDefinitionFeature"]], decls: 29, vars: 23, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "personalInfo", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [1, "divider-title"], [3, "isPersonal", "onSave"], [1, "mtop-20"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "date", 3, "control", "submitted"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], [3, "hasUpdate", "rowToEdit", "afterDelete"], [3, "click"]], template: function EmployeePersonalInfoDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("click", function EmployeePersonalInfoDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](6, "mat-dialog-content", 4)(7, "p", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](9, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](10, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](11, "emp-general-info-form", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onSave", function EmployeePersonalInfoDialogComponent_Template_emp_general_info_form_onSave_11_listener($event) { return ctx.onSave($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](12, "mat-divider", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](13, "div", null, 8)(15, "p", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtext"](16);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](17, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipe"](18, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](19, "form", 9)(20, "div", 10)(21, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](22, "app-marital-status-dropdown", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](23, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](24, "app-datepicker", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](25, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](26, EmployeePersonalInfoDialogComponent_reset_form_btn_26_Template, 1, 0, "reset-form-btn", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](27, "submit-btn", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onClick", function EmployeePersonalInfoDialogComponent_Template_submit_btn_onClick_27_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](28, "app-emp-marital-status-table", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("rowToEdit", function EmployeePersonalInfoDialogComponent_Template_app_emp_marital_status_table_rowToEdit_28_listener($event) { return ctx.employeeMaritalToEdit($event); })("afterDelete", function EmployeePersonalInfoDialogComponent_Template_app_emp_marital_status_table_afterDelete_28_listener($event) { return ctx.afterDelete($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵreference"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](9, 15, _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](10, 17, "personalData")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isPersonal", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](17, 19, _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵpipeBind1"](18, 21, "maritalData")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.maritalID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.statusDate)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("hasUpdate", ctx.hasUpdate);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_15__.NgIf, _shared_components_resources_dynamic_form_field_datepicker_datepicker_component__WEBPACK_IMPORTED_MODULE_5__.DatepickerComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_6__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_7__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_8__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_16__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_17__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_14__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_18__.NgxSpinnerComponent, _shared_components_dropdowns_hr_setup_marital_status_dropdown_marital_status_dropdown_component__WEBPACK_IMPORTED_MODULE_9__.MaritalStatusDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_13__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_13__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_13__.FormGroupDirective, _employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_10__.EmpGeneralInfoFormComponent, _emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_11__.EmpMaritalStatusTableComponent, _angular_common__WEBPACK_IMPORTED_MODULE_15__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtcGVyc29uYWwtaW5mby1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 23674:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/old-emp-contact-and-address/emp-address-section/emp-address-section.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeAddressDialogComponent": () => (/* binding */ EmployeeAddressDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/country-dropdown/country-dropdown.component */ 59681);
/* harmony import */ var _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/governorate-by-country-dropdown/governorate-by-country-dropdown.component */ 10225);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ngx-translate/core */ 89461);




















function EmployeeAddressDialogComponent_reset_form_btn_17_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeAddressDialogComponent_reset_form_btn_17_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
function EmployeeAddressDialogComponent_app_material_table_19_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "app-material-table", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onChangePage", function EmployeeAddressDialogComponent_app_material_table_19_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r5.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmployeeAddressDialogComponent_app_material_table_19_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r7.employeeAddressToEdit($event)); })("deleteRow", function EmployeeAddressDialogComponent_app_material_table_19_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r8.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("actions", ctx_r2.rowFunctions)("isDialogSize", true)("showFilter", false)("page", ctx_r2.page);
} }
class EmployeeAddressDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeAddressService) {
        super();
        this.employeeAddressService = employeeAddressService;
        this.employeeId = 0;
        this.changUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_13__.EventEmitter();
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "country",
            "governorate",
            "address",
            "primary",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_contact_address_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            countryId: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            Governorate_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            address: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            primary: [null],
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_15__.MatTableDataSource(null);
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeAddressService
            .GetList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_15__.MatTableDataSource((0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.employeeAddressToMap)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_ID: this.employeeId,
                    Comm_Address: {
                        ID: this.form.value.id,
                        Governorate_ID: this.form.value.Governorate_ID,
                        En_Name: this.form.value.address,
                        IsVaild: this.form.value.primary ?? false,
                    },
                },
            };
            model.EmployeeData.Comm_Address.ID == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeAddressService.create(model).subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.firstPage);
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeAddressService.update(model).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeAddressToEdit(employeeAddressInfo) {
        this.form.patchValue(employeeAddressInfo);
        this.formCtrls.countryId.setValue(employeeAddressInfo.comm_Governorate.comm_Country.id);
        this.formCtrls.Governorate_ID.setValue(employeeAddressInfo.governorate_ID);
    }
    onDelete(employeeAddressInfo) {
        let msg = employeeAddressInfo.address;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeAddressInfo);
        });
    }
    delete(employeeAddressInfo) {
        let deleteParams = {
            Person_ID: this.employeeId,
            ADDRESS_ID: employeeAddressInfo.id,
        };
        this.showLoading();
        this.employeeAddressService.Delete(deleteParams).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.changUpdated.emit(true);
                if (employeeAddressInfo.id == this.formCtrls.id.value)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmployeeAddressDialogComponent.ɵfac = function EmployeeAddressDialogComponent_Factory(t) { return new (t || EmployeeAddressDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeAddressService)); };
EmployeeAddressDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeAddressDialogComponent, selectors: [["employee-address-section"]], outputs: { changUpdated: "changUpdated" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 20, vars: 23, consts: [["dialogContainer", ""], [1, "divider-title"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "countryControl", "submitted", "filter", "appendTo"], ["label", "address", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-20", "mtop-14"], ["label", "primary", 3, "control"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "actions", "isDialogSize", "showFilter", "page", "onChangePage", "editRow", "deleteRow"]], template: function EmployeeAddressDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", null, 0)(2, "p", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](4, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](5, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "form", 2)(7, "div", 3)(8, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](9, "app-country-dropdown", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](10, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "app-governorate-by-country-dropdown", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-input", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-check-box", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](17, EmployeeAddressDialogComponent_reset_form_btn_17_Template, 1, 0, "reset-form-btn", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "submit-btn", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeAddressDialogComponent_Template_submit_btn_onClick_18_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](19, EmployeeAddressDialogComponent_app_material_table_19_Template, 1, 8, "app-material-table", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](4, 19, _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](5, 21, "address")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.Governorate_ID)("countryControl", ctx.formCtrls.countryId)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.address)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.primary);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_dropdowns_hr_setup_country_dropdown_country_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.GovernorateDropdownComponent, _shared_components_dropdowns_hr_setup_governorate_by_country_dropdown_governorate_by_country_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.GovernorateByCountryDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_16__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtYWRkcmVzcy1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 33491:
/*!******************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/old-emp-contact-and-address/emp-contact-and-address-card/emp-contact-and-address-card.component.ts ***!
  \******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContactAndAddressCardComponent": () => (/* binding */ EmployeeContactAndAddressCardComponent)
/* harmony export */ });
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_contact_and_address_dialog_emp_contact_and_address_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-contact-and-address-dialog/emp-contact-and-address-dialog.component */ 36888);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-address.service */ 52608);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var primeng_skeleton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/skeleton */ 32712);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-translate/core */ 89461);














function EmployeeContactAndAddressCardComponent_div_0_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeeContactAndAddressCardComponent_div_0_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeeContactAndAddressCardComponent_div_0_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](1, "p-skeleton", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
function EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    const contact_r10 = ctx_r14.$implicit;
    const lst_r11 = ctx_r14.last;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate2"](" ", contact_r10.value, " ", !lst_r11 ? "-" : "", " ");
} }
function EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "span")(1, "a", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](2, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const contact_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("href", contact_r10.value, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵclassMap"](contact_r10.comm_Contact_Category.icon);
} }
function EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_span_1_Template, 2, 2, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](2, EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_span_2_Template, 3, 3, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const contact_r10 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !(contact_r10 == null ? null : contact_r10.comm_Contact_Category == null ? null : contact_r10.comm_Contact_Category.icon));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", contact_r10 == null ? null : contact_r10.comm_Contact_Category == null ? null : contact_r10.comm_Contact_Category.icon);
} }
function EmployeeContactAndAddressCardComponent_div_0_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 13)(1, "div", 14)(2, "p", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](4, "titlecase");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](5, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](6, "div", 16)(7, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](8, EmployeeContactAndAddressCardComponent_div_0_div_9_ng_container_8_Template, 3, 2, "ng-container", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const contactType_r8 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](4, 2, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](5, 4, contactType_r8.key)));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngForOf", contactType_r8.value);
} }
function EmployeeContactAndAddressCardComponent_div_0_card_row_item_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "card-row-item", 21);
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("value", ctx_r7.employeeAddressInfo == null ? null : ctx_r7.employeeAddressInfo.allAddress);
} }
function EmployeeContactAndAddressCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "card-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onClickIcon", function EmployeeContactAndAddressCardComponent_div_0_Template_card_header_onClickIcon_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r17); const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵresetView"](ctx_r16.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "div", 6)(5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](6, EmployeeContactAndAddressCardComponent_div_0_div_6_Template, 2, 0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](7, EmployeeContactAndAddressCardComponent_div_0_div_7_Template, 2, 0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](8, EmployeeContactAndAddressCardComponent_div_0_div_8_Template, 2, 0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](9, EmployeeContactAndAddressCardComponent_div_0_div_9_Template, 9, 6, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](10, "keyvalue");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](11, EmployeeContactAndAddressCardComponent_div_0_card_row_item_11_Template, 1, 1, "card-row-item", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]()()()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("isEdit", ctx_r0.empContacts || ctx_r0.employeeAddressInfo)("isLoaded", ctx_r0.isContactLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isContactLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isContactLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", !ctx_r0.isAddressLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind2"](10, 7, ctx_r0.empContacts, ctx_r0.iteration));
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx_r0.isAddressLoaded);
} }
function EmployeeContactAndAddressCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 22);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rowNo", 5);
} }
class EmployeeContactAndAddressCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeContactService, employeeAddressService) {
        super();
        this.employeeContactService = employeeContactService;
        this.employeeAddressService = employeeAddressService;
        this.isContactLoaded = false;
        this.isAddressLoaded = false;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empContacts = null;
        this.employeeAddressInfo = null;
        if (this.employeeId > 0 && this.checkNoBusinessOrCompany()) {
            this.GetAllEmpContacts();
            this.GetAllEmpAddress();
        }
        else {
            this.isContactLoaded = true;
            this.isAddressLoaded = true;
        }
    }
    GetAllEmpContacts() {
        return this.employeeContactService
            .GetAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.isContactLoaded = true;
                this.empContacts = (0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.empContactCard)(res.data);
            }
            else
                this.errorList(res.message.messages);
        });
    }
    GetAllEmpAddress() {
        return this.employeeAddressService
            .getAll(this.employeeId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.isAddressLoaded = true;
                let employeeAddressesFromNewest = (0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.employeeAddressToMap)(res.data).reverse();
                this.employeeAddressInfo =
                    employeeAddressesFromNewest.find((address) => address.primary == true) ?? employeeAddressesFromNewest[0];
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_contact_and_address_dialog_emp_contact_and_address_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeContactAndAddressDialogComponent)
            .afterClosed()
            .subscribe((data) => {
            if (data.isContactUpdated) {
                this.isContactLoaded = false;
                this.GetAllEmpContacts();
            }
            if (data.isAddressUpdated) {
                this.isAddressLoaded = false;
                this.GetAllEmpAddress();
            }
        });
    }
    iteration(a, b) {
        return a.key - b.key;
    }
}
EmployeeContactAndAddressCardComponent.ɵfac = function EmployeeContactAndAddressCardComponent_Factory(t) { return new (t || EmployeeContactAndAddressCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContactService), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_address_service__WEBPACK_IMPORTED_MODULE_6__.EmployeeAddressService)); };
EmployeeContactAndAddressCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: EmployeeContactAndAddressCardComponent, selectors: [["emp-contact-and-address-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "card-view border-bottom", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "card-view", "border-bottom"], [1, "row", "mt-2"], [1, "col-2"], ["cardTitle", "contact_Address", 1, "side_title", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "col-10"], [1, "view-data-row-container"], ["class", "w-20", 4, "ngIf"], ["class", "w-15", 4, "ngFor", "ngForOf"], ["class", "w-15", "label", "address", 3, "value", 4, "ngIf"], [1, "w-20"], ["width", "7rem", "styleClass", "p-mb-2", "borderRadius", "10px"], [1, "w-15"], [1, "col"], [1, "view-data-title"], [1, "view-data-value"], [1, "d-inline-block"], [4, "ngFor", "ngForOf"], [4, "ngIf"], ["target", "_blank", 1, "mr-1", "ml-1", "font-medium-3", 3, "href"], ["label", "address", 1, "w-15", 3, "value"], [3, "rowNo"]], template: function EmployeeContactAndAddressCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](0, EmployeeContactAndAddressCardComponent_div_0_Template, 12, 10, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, EmployeeContactAndAddressCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.isContactLoaded || ctx.isAddressLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_11__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_7__.EmployeeProfileCardSkeletonComponent, primeng_skeleton__WEBPACK_IMPORTED_MODULE_12__.Skeleton, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_8__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_9__.CardRowItemComponent, _angular_common__WEBPACK_IMPORTED_MODULE_11__.TitleCasePipe, _angular_common__WEBPACK_IMPORTED_MODULE_11__.KeyValuePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1hbmQtYWRkcmVzcy1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 36888:
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/old-emp-contact-and-address/emp-contact-and-address-dialog/emp-contact-and-address-dialog.component.ts ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContactAndAddressDialogComponent": () => (/* binding */ EmployeeContactAndAddressDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _emp_contact_section_emp_contact_section_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-contact-section/emp-contact-section.component */ 71767);
/* harmony import */ var _emp_address_section_emp_address_section_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-address-section/emp-address-section.component */ 23674);











class EmployeeContactAndAddressDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(data, dialogRef) {
        super();
        this.data = data;
        this.dialogRef = dialogRef;
        this.employeeId = 0;
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_0__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    contactUpdated(value) {
        this.isContactUpdated = value;
        //  this.data.updateCard();
    }
    addressUpdated(value) {
        this.isAddressUpdated = value;
        //	this.data.updateCard();
    }
    onCloseDialog() {
        this.dialogRef.close({
            isContactUpdated: this.isContactUpdated,
            isAddressUpdated: this.isAddressUpdated,
        });
    }
}
EmployeeContactAndAddressDialogComponent.ɵfac = function EmployeeContactAndAddressDialogComponent_Factory(t) { return new (t || EmployeeContactAndAddressDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MAT_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MatDialogRef)); };
EmployeeContactAndAddressDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmployeeContactAndAddressDialogComponent, selectors: [["app-employee-contact-and-address-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 11, vars: 0, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "contact_Address", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], [3, "changUpdated"], [1, "clearfix"], [1, "mtop-20"]], template: function EmployeeContactAndAddressDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function EmployeeContactAndAddressDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](6, "mat-dialog-content", 4)(7, "employee-contact-section", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("changUpdated", function EmployeeContactAndAddressDialogComponent_Template_employee_contact_section_changUpdated_7_listener($event) { return ctx.contactUpdated($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](8, "div", 6)(9, "mat-divider", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](10, "employee-address-section", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("changUpdated", function EmployeeContactAndAddressDialogComponent_Template_employee_address_section_changUpdated_10_listener($event) { return ctx.addressUpdated($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    } }, dependencies: [_shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_7__.MatButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_8__.MatDivider, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_9__.NgxSpinnerComponent, _emp_contact_section_emp_contact_section_component__WEBPACK_IMPORTED_MODULE_3__.EmployeeContactDialogComponent, _emp_address_section_emp_address_section_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeAddressDialogComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1hbmQtYWRkcmVzcy1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 71767:
/*!************************************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/personal-information/old-emp-contact-and-address/emp-contact-section/emp-contact-section.component.ts ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContactDialogComponent": () => (/* binding */ EmployeeContactDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-contact-address */ 34057);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/personal-info/employee-contact.service */ 55284);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/check-box/check-box.component */ 12613);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contact_type_dropdown_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contact-type-dropdown/contact-type-dropdown.component */ 99167);
/* harmony import */ var _shared_components_dropdowns_hr_setup_contact_categories_by_contact_dropdown_categories_by_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/hr-setup/contact-categories-by-contact-dropdown/categories-by-contact-type-dropdown.component */ 58092);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ngx-translate/core */ 89461);




















function EmployeeContactDialogComponent_reset_form_btn_19_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "reset-form-btn", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("click", function EmployeeContactDialogComponent_reset_form_btn_19_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} }
function EmployeeContactDialogComponent_app_material_table_21_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "app-material-table", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onChangePage", function EmployeeContactDialogComponent_app_material_table_21_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r5.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmployeeContactDialogComponent_app_material_table_21_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r7.employeeContactToEdit($event)); })("deleteRow", function EmployeeContactDialogComponent_app_material_table_21_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵresetView"](ctx_r8.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("page", ctx_r2.page)("actions", ctx_r2.rowFunctions)("showFilter", false)("isDialogSize", true);
} }
class EmployeeContactDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeContactService) {
        super();
        this.employeeContactService = employeeContactService;
        this.employeeId = 0;
        this.changUpdated = new _angular_core__WEBPACK_IMPORTED_MODULE_13__.EventEmitter();
        this.mandatoryColomns = [
            "Ser",
            "contactType",
            "contactCategory",
            "contact",
            "primary",
            "display_in_emp_card",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_contact_address_sec);
        this.employeeId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeId;
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            contacT_TYPE_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            contacT_Category_ID: [null],
            value: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.required]],
            isPrimary: [null],
            isShow: [null],
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_15__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeContactService
            .GetList(this.employeeId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_15__.MatTableDataSource((0,app_personnel_setup_mapper_emp_contact_address__WEBPACK_IMPORTED_MODULE_0__.empContactDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_ID: this.employeeId,
                    Comm_Contact: {
                        id: this.form.value.id,
                        contacT_TYPE_ID: this.form.value.contacT_TYPE_ID,
                        contacT_Category_ID: this.form.value.contacT_Category_ID,
                        value: this.form.value.value,
                        isVaild: this.form.value.isPrimary ?? false,
                        isShow: this.form.value.isShow ?? false,
                    },
                },
            };
            model.EmployeeData.Comm_Contact.id == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeContactService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.firstPage);
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeContactService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.changUpdated.emit(true);
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeContactToEdit(empContacts) {
        this.form.patchValue(empContacts);
        this.formCtrls.value.setValue(empContacts.contact);
        this.formCtrls.id.setValue(empContacts.contact_ID);
        this.formCtrls.isPrimary.setValue(empContacts.primary);
        this.formCtrls.isShow.setValue(empContacts.display_in_emp_card);
        // console.log(this.form.value);
    }
    onDelete(employeeContactInfo) {
        let msg = employeeContactInfo.contact;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeContactInfo);
        });
    }
    delete(employeeContactInfo) {
        let deleteParams = {
            Person_ID: this.employeeId,
            Contact_ID: employeeContactInfo.contact_ID,
        };
        this.showLoading();
        this.employeeContactService.Delete(deleteParams).subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.changUpdated.emit(true);
                if (employeeContactInfo.contact_ID == this.formCtrls.id.value)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    onChangeContactType(contact) {
        if (contact)
            this.formCtrls.value.setValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(contact[0]?.regularExpression)]);
        else
            this.formCtrls.value.removeValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_14__.Validators.pattern(contact[0]?.regularExpression)]);
    }
}
EmployeeContactDialogComponent.ɵfac = function EmployeeContactDialogComponent_Factory(t) { return new (t || EmployeeContactDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_personal_info_employee_contact_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeContactService)); };
EmployeeContactDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineComponent"]({ type: EmployeeContactDialogComponent, selectors: [["employee-contact-section"]], outputs: { changUpdated: "changUpdated" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵInheritDefinitionFeature"]], decls: 22, vars: 24, consts: [["dialogContainer", ""], [1, "divider-title"], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo", "change"], [3, "control", "contactTypControl", "submitted", "filter", "appendTo"], ["label", "contact", 3, "control", "submitted"], [1, "col-md-4", "col-sm-6", "col-12", "mbottom-14", "mtop-14"], ["label", "primary", 3, "control"], ["label", "display_in_emp_card", 3, "control"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "showFilter", "isDialogSize", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "showFilter", "isDialogSize", "onChangePage", "editRow", "deleteRow"]], template: function EmployeeContactDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](0, "div", null, 0)(2, "p", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](4, "titlecase");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipe"](5, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](6, "form", 2)(7, "div", 3)(8, "div", 4)(9, "app-contact-type-dropdown", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("change", function EmployeeContactDialogComponent_Template_app_contact_type_dropdown_change_9_listener($event) { return ctx.onChangeContactType($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](10, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](11, "contact-categories-by-contact-dropdown", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](12, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](13, "app-input", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](15, "app-check-box", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelement"](17, "app-check-box", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](18, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](19, EmployeeContactDialogComponent_reset_form_btn_19_Template, 1, 0, "reset-form-btn", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementStart"](20, "submit-btn", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵlistener"]("onClick", function EmployeeContactDialogComponent_Template_submit_btn_onClick_20_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtemplate"](21, EmployeeContactDialogComponent_app_material_table_21_Template, 1, 8, "app-material-table", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵreference"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](4, 20, _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵpipeBind1"](5, 22, "contact")), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.contacT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.contacT_Category_ID)("contactTypControl", ctx.formCtrls.contacT_TYPE_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.value)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isPrimary);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("control", ctx.formCtrls.isShow);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeId);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵproperty"]("ngIf", ctx.employeeId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_dynamic_form_field_check_box_check_box_component__WEBPACK_IMPORTED_MODULE_8__.CheckBoxComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_9__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_10__.SubmitBtnComponent, _shared_components_dropdowns_hr_setup_contact_type_dropdown_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.ContactTypeDropdownComponent, _shared_components_dropdowns_hr_setup_contact_categories_by_contact_dropdown_categories_by_contact_type_dropdown_component__WEBPACK_IMPORTED_MODULE_12__.CategoriesByContactTypeDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_14__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_14__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_14__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_16__.TitleCasePipe, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.TranslatePipe], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtY29udGFjdC1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 22718:
/*!*********************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-s4-hana/emp-s4-hana-card/emp-s4-hana-card.component.ts ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpS4HanaCardComponent": () => (/* binding */ EmpS4HanaCardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_s4_hana_dialog_emp_s4_hana_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-s4-hana-dialog/emp-s4-hana-dialog.component */ 22331);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-s4-hana.service */ 25199);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);










function EmpS4HanaCardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵlistener"]("onClickIcon", function EmpS4HanaCardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵresetView"](ctx_r3.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](3, "card-row-item", 5)(4, "card-row-item", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("isEdit", ctx_r0.empS4)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.empS4 == null ? null : ctx_r0.empS4.costCenter);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("value", ctx_r0.empS4 == null ? null : ctx_r0.empS4.costCenter_Text);
} }
function EmpS4HanaCardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 7);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("rowNo", 2);
} }
class EmpS4HanaCardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeS4HanaService) {
        super();
        this.employeeS4HanaService = employeeS4HanaService;
        this.isLoaded = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empS4 = null;
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getAllByEmployeeId();
        else
            this.isLoaded = true;
    }
    getAllByEmployeeId() {
        this.empS4 = null;
        this.employeeS4HanaService
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                // sort by id (from new to old)
                res.data.sort((a, b) => new Date(b.id).getTime() - new Date(a.id).getTime());
                this.empS4 = res.data[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_s4_hana_dialog_emp_s4_hana_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmpS4HanaDialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
}
EmpS4HanaCardComponent.ɵfac = function EmpS4HanaCardComponent_Factory(t) { return new (t || EmpS4HanaCardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_4__.EmployeeS4HanaService)); };
EmpS4HanaCardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({ type: EmpS4HanaCardComponent, selectors: [["app-emp-s4-hana-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "s4Hana", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], ["label", "costCentres", 3, "value"], [3, "value"], [3, "rowNo"]], template: function EmpS4HanaCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](0, EmpS4HanaCardComponent_div_0_Template, 5, 4, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](1, EmpS4HanaCardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtczQtaGFuYS1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */"] });


/***/ }),

/***/ 22331:
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-s4-hana/emp-s4-hana-dialog/emp-s4-hana-dialog.component.ts ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpS4HanaDialogComponent": () => (/* binding */ EmpS4HanaDialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-sap-integration */ 74245);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-s4-hana.service */ 25199);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_s4_setup_s4_system_instance_dropdown_s4_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/s4-setup/s4-system-instance-dropdown/s4-system-instance-dropdown.component */ 44423);
/* harmony import */ var _shared_components_dropdowns_personnel_setup_cost_center_by_s4_system_instance_dropdown_cost_center_by_s4_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/personnel-setup/cost-center-by-s4-system-instance-dropdown/cost-center-by-s4-system-instance-dropdown.component */ 63218);




















function EmpS4HanaDialogComponent_reset_form_btn_15_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "reset-form-btn", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("click", function EmpS4HanaDialogComponent_reset_form_btn_15_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} }
function EmpS4HanaDialogComponent_app_material_table_17_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "app-material-table", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onChangePage", function EmpS4HanaDialogComponent_app_material_table_17_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r5.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpS4HanaDialogComponent_app_material_table_17_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r7.employeeS4HanaToEdit($event)); })("deleteRow", function EmpS4HanaDialogComponent_app_material_table_17_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r8.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("page", ctx_r2.page)("actions", ctx_r2.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpS4HanaDialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeS4HanaService, dialogRef) {
        super();
        this.employeeS4HanaService = employeeS4HanaService;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.updated = false;
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "s4SystemInstance",
            "costCenter",
            "costCenter_Text",
            "actions",
        ];
        this.optionalColomns = [];
        this.isLoaded = false;
        this.submitted = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_S4Hana_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            systemInstance_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_13__.Validators.required]],
            costCenter: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_13__.Validators.required]],
            costCenter_Text: [null /* , [Validators.required] */],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.updated);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_14__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeS4HanaService
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_14__.MatTableDataSource((0,app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_0__.empS4CostCenterDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_Instance_ID: this.employeeInstanceId,
                    ID: this.form.value.id,
                    SystemInstance_ID: this.form.value.systemInstance_ID,
                    CostCenter: this.form.value.costCenter,
                    CostCenter_Text: this.form.value.costCenter_Text,
                },
            };
            model.EmployeeData.ID == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeS4HanaService
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeS4HanaService
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeS4HanaToEdit(employeeS4HanaInfo) {
        this.form.patchValue(employeeS4HanaInfo);
        // console.log(this.form.value);
    }
    onDelete(employeeS4HanaInfo) {
        let msg = employeeS4HanaInfo.s4SystemInstance;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeS4HanaInfo);
        });
    }
    delete(employeeS4HanaInfo) {
        this.showLoading();
        this.employeeS4HanaService
            .Delete(employeeS4HanaInfo.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.updated = true;
                if (employeeS4HanaInfo.id == this.formCtrls.id.value)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
    changeCostCenterText(costCenters) {
        this.formCtrls.costCenter_Text.setValue(costCenters[0]?.costCenter_Text ?? null);
    }
}
EmpS4HanaDialogComponent.ɵfac = function EmpS4HanaDialogComponent_Factory(t) { return new (t || EmpS4HanaDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_s4_hana_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeS4HanaService), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogRef)); };
EmpS4HanaDialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineComponent"]({ type: EmpS4HanaDialogComponent, selectors: [["app-emp-s4-hana-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵInheritDefinitionFeature"]], decls: 18, vars: 14, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "s4Hana", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], [3, "control", "s4SystemInstanceControl", "submitted", "appendTo", "change"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow"]], template: function EmpS4HanaDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("click", function EmpS4HanaDialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](11, "app-s4-system-instance-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](12, "div", 8)(13, "app-cost-center-by-s4-system-instance-dropdown", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("change", function EmpS4HanaDialogComponent_Template_app_cost_center_by_s4_system_instance_dropdown_change_13_listener($event) { return ctx.changeCostCenterText($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](14, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](15, EmpS4HanaDialogComponent_reset_form_btn_15_Template, 1, 0, "reset-form-btn", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](16, "submit-btn", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onClick", function EmpS4HanaDialogComponent_Template_submit_btn_onClick_16_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](17, EmpS4HanaDialogComponent_app_material_table_17_Template, 1, 8, "app-material-table", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.systemInstance_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.costCenter)("s4SystemInstanceControl", ctx.formCtrls.systemInstance_ID)("submitted", ctx.submitted)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_6__.MaterialTableComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_7__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_8__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_9__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_17__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_18__.NgxSpinnerComponent, _shared_components_dropdowns_s4_setup_s4_system_instance_dropdown_s4_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_10__.S4SystemInstanceDropdownComponent, _shared_components_dropdowns_personnel_setup_cost_center_by_s4_system_instance_dropdown_cost_center_by_s4_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.CostCenterByS4SystemInstanceDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_13__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_13__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_13__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtczQtaGFuYS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 14393:
/*!******************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-sap-b1/emp-sap-b1-card/emp-sap-b1-card.component.ts ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSapB1CardComponent": () => (/* binding */ EmpSapB1CardComponent)
/* harmony export */ });
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _emp_sap_b1_dialog_emp_sap_b1_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../emp-sap-b1-dialog/emp-sap-b1-dialog.component */ 93035);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-sap-integration */ 74245);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-sap-b1.service */ 18114);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/skeletons/employee/employee-profile-card-skeleton/employee-profile-card-skeleton.component */ 95981);
/* harmony import */ var _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../card-shared-components/card-row-item/card-row-item.component */ 58588);











function EmpSapB1CardComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 2)(1, "card-header", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("onClickIcon", function EmpSapB1CardComponent_div_0_Template_card_header_onClickIcon_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r3.openAddEditDialog()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](3, "card-row-item", 5)(4, "card-row-item", 6)(5, "card-row-item", 7)(6, "card-row-item", 8)(7, "card-row-item", 9)(8, "card-row-item", 10)(9, "card-row-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("isEdit", ctx_r0.empSapB1)("isLoaded", ctx_r0.isLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.empSapB1 == null ? null : ctx_r0.empSapB1.sapSystemInstance);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.empSapB1 == null ? null : ctx_r0.empSapB1.projectCode);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.empSapB1 == null ? null : ctx_r0.empSapB1.defualtOcrCode1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.empSapB1 == null ? null : ctx_r0.empSapB1.defualtOcrCode2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.empSapB1 == null ? null : ctx_r0.empSapB1.defualtOcrCode3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.empSapB1 == null ? null : ctx_r0.empSapB1.defualtOcrCode4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("value", ctx_r0.empSapB1 == null ? null : ctx_r0.empSapB1.defualtOcrCode5);
} }
function EmpSapB1CardComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "app-employee-profile-card-skeleton", 12);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("rowNo", 7);
} }
class EmpSapB1CardComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor(employeeSapB1Service) {
        super();
        this.employeeSapB1Service = employeeSapB1Service;
        this.isLoaded = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.EmployeeInstanceId;
        app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_3__.EmpGeneralInfoService.employeeInstanceId$.subscribe((empInstanceId) => {
            this.employeeInstanceId = empInstanceId;
            if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany()) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
    ngOnInit() { }
    onChangeBusinessAndCompanyId() {
        this.empSapB1 = null;
        if (this.employeeInstanceId > 0 && this.checkNoBusinessOrCompany())
            this.getAllByEmployeeId();
        else
            this.isLoaded = true;
    }
    getAllByEmployeeId() {
        this.empSapB1 = null;
        this.employeeSapB1Service
            .getAll(this.employeeInstanceId)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_0__.MessageTypes.Success) {
                // // sort by id (from new to old)
                // res.data.sort(
                //   (a, b) => new Date(b.id).getTime() - new Date(a.id).getTime()
                // );
                this.empSapB1 = (0,app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_4__.empSapCostCenterDisplay)(res.data.reverse().slice(0, 1))[0];
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    openAddEditDialog() {
        this.dialogsService
            .addEditDialog(_emp_sap_b1_dialog_emp_sap_b1_dialog_component__WEBPACK_IMPORTED_MODULE_2__.EmpSapB1DialogComponent)
            .afterClosed()
            .subscribe((updated) => {
            if (updated) {
                this.isLoaded = false;
                this.getAllByEmployeeId();
            }
        });
    }
}
EmpSapB1CardComponent.ɵfac = function EmpSapB1CardComponent_Factory(t) { return new (t || EmpSapB1CardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeSapB1Service)); };
EmpSapB1CardComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({ type: EmpSapB1CardComponent, selectors: [["app-emp-sap-b1-card"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 2, consts: [["class", "cardSection", 4, "ngIf", "ngIfElse"], ["notLoaded", ""], [1, "cardSection"], ["cardTitle", "sapB1", 3, "isEdit", "isLoaded", "onClickIcon"], [1, "cardSectionBody"], ["label", "sapSystemInstance", 3, "value"], ["label", "projectCode", 3, "value"], ["label", "defualtOcrCode1", 3, "value"], ["label", "defualtOcrCode2", 3, "value"], ["label", "defualtOcrCode3", 3, "value"], ["label", "defualtOcrCode4", 3, "value"], ["label", "defualtOcrCode5", 3, "value"], [3, "rowNo"]], template: function EmpSapB1CardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, EmpSapB1CardComponent_div_0_Template, 10, 9, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, EmpSapB1CardComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.isLoaded)("ngIfElse", _r1);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _shared_skeletons_employee_employee_profile_card_skeleton_employee_profile_card_skeleton_component__WEBPACK_IMPORTED_MODULE_6__.EmployeeProfileCardSkeletonComponent, _card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_7__.CardHeaderComponent, _card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_8__.CardRowItemComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc2FwLWIxLWNhcmQuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 93035:
/*!**********************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-sap-b1/emp-sap-b1-dialog/emp-sap-b1-dialog.component.ts ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSapB1DialogComponent": () => (/* binding */ EmpSapB1DialogComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/table */ 85288);
/* harmony import */ var app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/personnel-setup/mapper/emp-sap-integration */ 74245);
/* harmony import */ var app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/personnel-setup/services/employees/general-info/emp-general-info.service */ 22699);
/* harmony import */ var app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/enums/message-types.enum */ 15602);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/personnel-setup/services/employees/sap-integration/employee-sap-b1.service */ 18114);
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/dialog */ 31484);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../shared/components/resources/dynamic-form-field/input/input.component */ 25273);
/* harmony import */ var _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../shared/components/resources/material-table/material-table.component */ 93410);
/* harmony import */ var _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/reset-form-btn/reset-form-btn.component */ 56500);
/* harmony import */ var _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../shared/components/resources/buttons/submit-btn/submit-btn.component */ 57566);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/button */ 84522);
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-spinner */ 88035);
/* harmony import */ var _shared_components_dropdowns_sap_business_one_setup_sap_system_instance_dropdown_sap_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../shared/components/dropdowns/sap-business-one-setup/sap-system-instance-dropdown/sap-system-instance-dropdown.component */ 37034);




















function EmpSapB1DialogComponent_reset_form_btn_25_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "reset-form-btn", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("click", function EmpSapB1DialogComponent_reset_form_btn_25_Template_reset_form_btn_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r3.clearForm()); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} }
function EmpSapB1DialogComponent_app_material_table_28_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](0, "app-material-table", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onChangePage", function EmpSapB1DialogComponent_app_material_table_28_Template_app_material_table_onChangePage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r5.getList($event.pageIndex + 1, $event.pageSize)); })("editRow", function EmpSapB1DialogComponent_app_material_table_28_Template_app_material_table_editRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r7.employeeSapB1ToEdit($event)); })("deleteRow", function EmpSapB1DialogComponent_app_material_table_28_Template_app_material_table_deleteRow_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"](); return _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵresetView"](ctx_r8.onDelete($event)); });
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("isLoaded", ctx_r2.isLoaded)("dataSource", ctx_r2.dataSource)("mandatoryColomns", ctx_r2.mandatoryColomns)("optionalColomns", ctx_r2.optionalColomns)("page", ctx_r2.page)("actions", ctx_r2.rowFunctions)("isDialogSize", true)("showFilter", false);
} }
class EmpSapB1DialogComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_3__.AppHelpers {
    constructor(employeeSapB1Service, dialogRef) {
        super();
        this.employeeSapB1Service = employeeSapB1Service;
        this.dialogRef = dialogRef;
        // employeeId: number = 0;
        this.employeeInstanceId = 0;
        this.updated = false;
        this.mandatoryColomns = [
            "Ser",
            // "id",
            "sapSystemInstance",
            "projectCode",
            "actions",
        ];
        this.optionalColomns = [
            "defualtOcrCode1",
            "defualtOcrCode2",
            "defualtOcrCode3",
            "defualtOcrCode4",
            "defualtOcrCode5",
        ];
        this.isLoaded = false;
        this.submitted = false;
        // this.employeeId = EmpGeneralInfoService.EmployeeId;
        this.employeeInstanceId = app_personnel_setup_services_employees_general_info_emp_general_info_service__WEBPACK_IMPORTED_MODULE_1__.EmpGeneralInfoService.EmployeeInstanceId;
        this.rowFunctions = this.getSubRowFunctions(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_4__.ViewsManager.emp_SAPB1_sec);
    }
    ngOnInit() {
        this.form = this.fb.group({
            id: [0, { nonNullable: true }],
            systemInstance_ID: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_13__.Validators.required]],
            proj_Code: [null /* , [Validators.required] */],
            ocrCode1: [null],
            ocrCode2: [null],
            ocrCode3: [null],
            ocrCode4: [null],
            ocrCode5: [null],
        });
        this.dialogRef.backdropClick().subscribe((ele) => {
            this.onCloseDialog();
        });
    }
    get formCtrls() {
        return this.form.controls;
    }
    onCloseDialog() {
        this.dialogRef.close(this.updated);
    }
    onChangeBusinessAndCompanyId() {
        if (this.dataSource?.data?.length > 0)
            this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_14__.MatTableDataSource(null);
        if (this.checkNoBusinessOrCompany()) {
            if (this.employeeInstanceId > 0)
                this.getList(this.firstPage);
        }
    }
    getList(page, pageSize) {
        this.page.pageIndex = page;
        if (pageSize)
            this.page.dialogSize = pageSize;
        let params = {
            PageNumber: page,
            pageSize: this.page.dialogSize,
        };
        this.employeeSapB1Service
            .getList(this.employeeInstanceId, params)
            .pipe(this.cancelRequest())
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.dataSource = new _angular_material_table__WEBPACK_IMPORTED_MODULE_14__.MatTableDataSource((0,app_personnel_setup_mapper_emp_sap_integration__WEBPACK_IMPORTED_MODULE_0__.empSapCostCenterDisplay)(res.data));
                this.page.length = res.meta.totalItemCount;
                this.isLoaded = true;
            }
            else
                this.errorList(res.message.messages);
        });
    }
    submit() {
        // console.log(this.form.value);
        this.submitted = true;
        if (this.form.valid) {
            const model = {
                EmployeeData: {
                    Person_Instance_ID: this.employeeInstanceId,
                    ID: this.form.value.id,
                    SystemInstance_ID: this.form.value.systemInstance_ID,
                    Proj_Code: this.form.value.proj_Code,
                    OcrCode1: this.form.value.ocrCode1,
                    OcrCode2: this.form.value.ocrCode2,
                    OcrCode3: this.form.value.ocrCode3,
                    OcrCode4: this.form.value.ocrCode4,
                    OcrCode5: this.form.value.ocrCode5,
                },
            };
            model.EmployeeData.ID == 0 ? this.create(model) : this.update(model);
        } // else this.toastr.error("General.formNotValid");
    }
    create(model) {
        this.showLoading();
        this.employeeSapB1Service
            .create(model)
            .subscribe((res) => {
            if (res?.message?.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.addSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.lastPageDialog);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    update(model) {
        this.showLoading();
        this.employeeSapB1Service
            .update(model)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.clearForm();
                this.updateSuccessfullyMsg(res?.message?.messageTypeName);
                this.getList(this.currentPage);
                this.updated = true;
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    employeeSapB1ToEdit(employeeSapB1Info) {
        this.form.patchValue(employeeSapB1Info);
        // console.log(this.form.value);
    }
    onDelete(employeeSapB1Info) {
        let msg = employeeSapB1Info.sapSystemInstance;
        this.deleteDialog(msg).subscribe((confirm) => {
            if (confirm)
                this.delete(employeeSapB1Info);
        });
    }
    delete(employeeSapB1Info) {
        this.showLoading();
        this.employeeSapB1Service
            .Delete(employeeSapB1Info.id)
            .subscribe((res) => {
            if (res.message.messageType == app_shared_enums_message_types_enum__WEBPACK_IMPORTED_MODULE_2__.MessageTypes.Success) {
                this.deleteSuccessfullyMsg(res?.message?.messageTypeName);
                if (this.dataSource.data.length == 1 && this.currentPage > 1) {
                    // if last item in list: get previous page
                    this.getList(this.prevPage, this.page.dialogSize);
                }
                else {
                    // if not last item in list: get current page
                    this.getList(this.currentPage, this.page.dialogSize);
                }
                this.updated = true;
                if (employeeSapB1Info.id == this.formCtrls.id.value)
                    this.clearForm();
            }
            else
                this.errorList(res.message.messages);
            this.hideLoading();
        });
    }
    clearForm() {
        this.form.reset({ id: 0 });
        this.submitted = false;
    }
}
EmpSapB1DialogComponent.ɵfac = function EmpSapB1DialogComponent_Factory(t) { return new (t || EmpSapB1DialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](app_personnel_setup_services_employees_sap_integration_employee_sap_b1_service__WEBPACK_IMPORTED_MODULE_5__.EmployeeSapB1Service), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogRef)); };
EmpSapB1DialogComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineComponent"]({ type: EmpSapB1DialogComponent, selectors: [["app-emp-sap-b1-dialog"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵInheritDefinitionFeature"]], decls: 29, vars: 22, consts: [["mat-dialog-title", "", 1, "primary-color", "font-size-20", "m-0"], ["title", "sapB1", 1, "d-inline-block", "mtop-5"], ["mat-icon-button", "", 1, "float-right", "mb-1", "mr-1", 3, "click"], [1, "pi", "pi-times"], [1, "container-fluid", "mx-0"], ["dialogContainer", ""], [3, "formGroup"], [1, "row", "ptop-20"], [1, "col-md-4", "col-sm-6", "col-12"], [3, "control", "submitted", "filter", "appendTo"], ["label", "projectCode", 3, "control", "submitted"], ["label", "defualtOcrCode1", 3, "control", "submitted"], ["label", "defualtOcrCode2", 3, "control", "submitted"], ["label", "defualtOcrCode3", 3, "control", "submitted"], ["label", "defualtOcrCode4", 3, "control", "submitted"], ["label", "defualtOcrCode5", 3, "control", "submitted"], [1, "emp-form-btns-float"], [3, "click", 4, "ngIf"], [3, "id", "color", "disabled", "onClick"], [1, "clearfix"], ["class", "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow", 4, "ngIf"], [3, "click"], [1, "table-in-forms", 3, "isLoaded", "dataSource", "mandatoryColomns", "optionalColomns", "page", "actions", "isDialogSize", "showFilter", "onChangePage", "editRow", "deleteRow"]], template: function EmpSapB1DialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](0, "ngx-spinner");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](1, "div", 0)(2, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](3, "page-title", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](4, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("click", function EmpSapB1DialogComponent_Template_button_click_4_listener() { return ctx.onCloseDialog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](5, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](6, "mat-dialog-content", 4, 5)(8, "form", 6)(9, "div", 7)(10, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](11, "app-sap-system-instance-dropdown", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](12, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](13, "app-input", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](14, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](15, "app-input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](16, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](17, "app-input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](18, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](19, "app-input", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](20, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](21, "app-input", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](22, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](23, "app-input", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](24, "div", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](25, EmpSapB1DialogComponent_reset_form_btn_25_Template, 1, 0, "reset-form-btn", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementStart"](26, "submit-btn", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵlistener"]("onClick", function EmpSapB1DialogComponent_Template_submit_btn_onClick_26_listener() { return ctx.submit(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelement"](27, "div", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵtemplate"](28, EmpSapB1DialogComponent_app_material_table_28_Template, 1, 8, "app-material-table", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.systemInstance_ID)("submitted", ctx.submitted)("filter", true)("appendTo", _r0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.proj_Code)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode1)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode2)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode3)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode4)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("control", ctx.formCtrls.ocrCode5)("submitted", ctx.submitted);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.formCtrls.id.value > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("id", ctx.formCtrls.id.value)("color", ctx.btn.darkBlue)("disabled", !ctx.employeeInstanceId);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵproperty"]("ngIf", ctx.employeeInstanceId > 0);
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_16__.NgIf, _shared_components_resources_dynamic_form_field_input_input_component__WEBPACK_IMPORTED_MODULE_6__.InputComponent, _shared_components_resources_material_table_material_table_component__WEBPACK_IMPORTED_MODULE_7__.MaterialTableComponent, _shared_components_resources_buttons_reset_form_btn_reset_form_btn_component__WEBPACK_IMPORTED_MODULE_8__.ResetFormBtnComponent, _shared_components_resources_buttons_submit_btn_submit_btn_component__WEBPACK_IMPORTED_MODULE_9__.SubmitBtnComponent, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_10__.PageTitleComponent, _angular_material_button__WEBPACK_IMPORTED_MODULE_17__.MatButton, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogTitle, _angular_material_dialog__WEBPACK_IMPORTED_MODULE_15__.MatDialogContent, ngx_spinner__WEBPACK_IMPORTED_MODULE_18__.NgxSpinnerComponent, _shared_components_dropdowns_sap_business_one_setup_sap_system_instance_dropdown_sap_system_instance_dropdown_component__WEBPACK_IMPORTED_MODULE_11__.SapSystemInstanceDropdownComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_13__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_13__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_13__.FormGroupDirective], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc2FwLWIxLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ 56333:
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/components/employees/sap-integration/emp-sap-integration-core/emp-sap-integration-core.component.ts ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmpSapIntegrationCoreComponent": () => (/* binding */ EmpSapIntegrationCoreComponent)
/* harmony export */ });
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/app-helpers */ 95751);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/page-title/page-title.component */ 46896);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/card */ 82156);
/* harmony import */ var _emp_sap_b1_emp_sap_b1_card_emp_sap_b1_card_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../emp-sap-b1/emp-sap-b1-card/emp-sap-b1-card.component */ 14393);
/* harmony import */ var _emp_s4_hana_emp_s4_hana_card_emp_s4_hana_card_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../emp-s4-hana/emp-s4-hana-card/emp-s4-hana-card.component */ 22718);








function EmpSapIntegrationCoreComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "app-emp-sap-b1-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
function EmpSapIntegrationCoreComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "app-emp-s4-hana-card");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
class EmpSapIntegrationCoreComponent extends app_shared_resources_app_helpers__WEBPACK_IMPORTED_MODULE_1__.AppHelpers {
    constructor() {
        super();
        this.viewsManager = app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager;
    }
    ngOnInit() { }
    onModulesChanged() {
        this.allowedSections = this.getCustomViewChildren(this.getParentViewName, app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_0__.ViewsManager.emp_sap_integration_tab);
        //  console.log("sap_integration", this.allowedSections);
    }
}
EmpSapIntegrationCoreComponent.ɵfac = function EmpSapIntegrationCoreComponent_Factory(t) { return new (t || EmpSapIntegrationCoreComponent)(); };
EmpSapIntegrationCoreComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: EmpSapIntegrationCoreComponent, selectors: [["emp-sap-integration-core"]], inputs: { icon: "icon" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 3, consts: [[1, "row"], [1, "col-12"], [1, "main-card-title", "border-bottom"], ["title", "sapIntegration", "color", "info", 3, "icon"], [1, "container-fluid", "p-0"], [1, "row", "mx-md-n2"], ["class", "col-md-6 col-12 p-0 px-md-2", 4, "ngIf"], [1, "col-md-6", "col-12", "p-0", "px-md-2"]], template: function EmpSapIntegrationCoreComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "mat-card")(3, "mat-card-title", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "page-title", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "mat-card-content", 4)(6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](7, EmpSapIntegrationCoreComponent_div_7_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](8, EmpSapIntegrationCoreComponent_div_8_Template, 2, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("icon", ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_SAPB1_sec));
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isViewAllowed(ctx.viewsManager.emp_S4Hana_sec));
    } }, dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _shared_components_page_title_page_title_component__WEBPACK_IMPORTED_MODULE_2__.PageTitleComponent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCard, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardContent, _angular_material_card__WEBPACK_IMPORTED_MODULE_7__.MatCardTitle, _emp_sap_b1_emp_sap_b1_card_emp_sap_b1_card_component__WEBPACK_IMPORTED_MODULE_3__.EmpSapB1CardComponent, _emp_s4_hana_emp_s4_hana_card_emp_s4_hana_card_component__WEBPACK_IMPORTED_MODULE_4__.EmpS4HanaCardComponent], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXAtc2FwLWludGVncmF0aW9uLWNvcmUuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ 43242:
/*!********************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp-balances.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empPermissionDisplay": () => (/* binding */ empPermissionDisplay),
/* harmony export */   "empVacationDisplay": () => (/* binding */ empVacationDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empVacationDisplay(data) {
    return data.map((vacation) => {
        return {
            ...vacation,
            vacation: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(vacation.vacation_ArName, vacation.vacation_EnName),
            startDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(vacation.opening_balance_date),
            endDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(vacation.closing_balance_date),
            balance: vacation.vacationBalanceOriginal,
            used: vacation.vacation_Done_Balance,
            remaining: vacation.vacation_balance,
        };
    });
}
function empPermissionDisplay(data) {
    return data.map((permission) => {
        return {
            ...permission,
            permission: permission.permission_Setup_Name,
            startDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(permission.opening_balance_date),
            endDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(permission.closing_balance_date),
            balance: permission.permission_balance,
            used: permission.taken_permission_Yearly,
            remaining: permission.remaining_Balance,
            newHireCloseDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(permission.newHireCloseDate),
        };
    });
}


/***/ }),

/***/ 34057:
/*!***************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp-contact-address.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empContactCard": () => (/* binding */ empContactCard),
/* harmony export */   "empContactDisplay": () => (/* binding */ empContactDisplay),
/* harmony export */   "employeeAddressToMap": () => (/* binding */ employeeAddressToMap)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empContactDisplay(empContacts) {
    return empContacts.map((contact) => {
        return {
            contactType: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(contact?.comm_Contact?.comm_Contact_Type?.ar_Name, contact?.comm_Contact?.comm_Contact_Type?.en_Name),
            contactCategory: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(contact?.comm_Contact?.comm_Contact_Category?.ar_Name, contact?.comm_Contact?.comm_Contact_Category?.en_Name),
            contact: contact?.comm_Contact?.value,
            primary: contact?.comm_Contact?.isVaild,
            display_in_emp_card: contact?.comm_Contact?.isShow,
            person_ID: contact.person_ID,
            contact_ID: contact.contact_ID,
            contacT_TYPE_ID: contact.comm_Contact?.contacT_TYPE_ID,
            contacT_Category_ID: contact.comm_Contact?.contacT_Category_ID,
        };
    });
}
function empContactCard(empContacts) {
    let list = [];
    empContacts.map((element) => {
        element.comm_Contact.comm_Contact_Type.displayName = (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(element.comm_Contact?.comm_Contact_Type.ar_Name, element.comm_Contact?.comm_Contact_Type.en_Name);
        if (element.comm_Contact?.isShow)
            list.push(element.comm_Contact);
    });
    let data = list.reduce((g, contact) => {
        g[contact.comm_Contact_Type?.displayName] = g[contact.comm_Contact_Type?.displayName] || [];
        g[contact.comm_Contact_Type?.displayName].push(contact);
        return g;
    }, {});
    return data;
}
function employeeAddressToMap(employeeAddresss) {
    let addresses = employeeAddresss.map((employeeAddress) => {
        return {
            ...employeeAddress.comm_Address,
            country: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(employeeAddress.comm_Address.comm_Governorate?.comm_Country?.ar_Name, employeeAddress.comm_Address.comm_Governorate?.comm_Country?.en_NAme),
            governorate: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(employeeAddress.comm_Address.comm_Governorate?.ar_Name, employeeAddress.comm_Address.comm_Governorate?.en_Name),
            address: employeeAddress.comm_Address.en_Name,
            primary: employeeAddress.comm_Address.isVaild,
        };
    });
    // to display in card as >> value, governorate, country
    addresses.map((employeeAddresss) => {
        employeeAddresss.allAddress = `${employeeAddresss.address}, ${employeeAddresss.governorate ?? "-"}, ${employeeAddresss.country ?? "-"}`;
    });
    return addresses;
}


/***/ }),

/***/ 61757:
/*!**********************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp-employment.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empAssignManagerDisplay": () => (/* binding */ empAssignManagerDisplay),
/* harmony export */   "empContractDisplay": () => (/* binding */ empContractDisplay),
/* harmony export */   "empCustodyDisplay": () => (/* binding */ empCustodyDisplay),
/* harmony export */   "empHiringDocumentDisplay": () => (/* binding */ empHiringDocumentDisplay),
/* harmony export */   "empInsuranceOfficeDisplay": () => (/* binding */ empInsuranceOfficeDisplay),
/* harmony export */   "empLocationDisplay": () => (/* binding */ empLocationDisplay),
/* harmony export */   "empSupervisorDisplay": () => (/* binding */ empSupervisorDisplay),
/* harmony export */   "empWorkScheduleDisplay": () => (/* binding */ empWorkScheduleDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/emp-hire-doc-type.enum */ 50046);
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);


function empCustodyDisplay(data) {
    return data.map((custody) => {
        return {
            ...custody,
            custodies: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(custody.core_Covenant?.ar_Name, custody.core_Covenant?.en_Name),
            froM_DATE: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(custody.fromDate),
            endDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(custody.toDate),
            date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(custody?.fromDate) +
                (custody?.toDate
                    ? " - " + app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(custody?.toDate)
                    : ""),
        };
    });
}
function empWorkScheduleDisplay(data) {
    return data.map((plan) => {
        return {
            ...plan,
            plan: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(plan.att_Plan?.ar_Name, plan.att_Plan?.en_Name),
            employee: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(plan.core_Person_Instance?.core_Person?.ar_Name, plan.core_Person_Instance?.core_Person?.en_Name),
            startDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(plan.fromDate),
            toDateOriginal: plan.toDate,
            toDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(plan.toDate),
        };
    });
}
function empInsuranceOfficeDisplay(data) {
    return data.map((office) => {
        return {
            ...office,
            insuranceOffice: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(office.core_Insurance_Office?.ar_Name, office.core_Insurance_Office?.en_Name),
            fromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(office.froM_DATE),
            endDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(office.enD_DATE),
            date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(office?.froM_DATE) +
                (office?.enD_DATE
                    ? " - " + app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(office?.enD_DATE)
                    : ""),
        };
    });
}
function empLocationDisplay(data) {
    let locations = data.map((location) => {
        return {
            ...location,
            country: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(location.comm_Country?.ar_Name, location.comm_Country?.en_NAme),
            governorate: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(location.comm_Governorate?.ar_Name, location.comm_Governorate?.en_Name),
            froM_DATE: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(location.from_Date),
            tO_DATE: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(location.to_Date),
        };
    });
    // to use properties from first map
    locations.map((location) => {
        location.allAddress = `${location.location ?? "-"}, ${location.governorate ?? "-"}`;
        location.date =
            location?.froM_DATE +
                (location?.to_Date ? " - " + location?.tO_DATE : "");
    });
    return locations;
}
function empHiringDocumentDisplay(data) {
    return data.map((doc) => {
        return {
            ...doc,
            documentName: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(doc.ar_Name_Type, doc.en_Name_Type),
            attachmentType: app_shared_enums_emp_hire_doc_type_enum__WEBPACK_IMPORTED_MODULE_0__.EEmpHireDocType.getValue(doc.is_Attached),
            attachment: doc.attachmentFilePath ? "/" + doc.attachmentFilePath : "",
        };
    });
}
function empContractDisplay(data) {
    return data.map((contract) => {
        return {
            ...contract,
            contractType: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(contract.core_Contract_Type?.ar_Name, contract.core_Contract_Type?.en_Name),
            start_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(contract.starT_DATE),
            end_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(contract.enD_DATE),
            actual_End_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(contract.actual_End_Date),
        };
    });
}
function empSupervisorDisplay(data) {
    return data.map((ele) => {
        return {
            ...ele,
            supervisor: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(ele.manager?.core_Person?.ar_Name, ele.manager?.core_Person?.en_Name),
            fromDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(ele.from_Date),
            toDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(ele.tO_Date),
        };
    });
}
function empAssignManagerDisplay(data) {
    return data.map((ele) => {
        return {
            ...ele,
            employee: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.msgTranslate)(ele.core_Person_Instance?.core_Person?.ar_Name, ele.core_Person_Instance?.core_Person?.en_Name),
            startDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(ele.from_Date),
            endDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_1__.HelpersFunctions.mapDate(ele.to_Date),
        };
    });
}


/***/ }),

/***/ 42562:
/*!*************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp-payments-info.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empBankingAccountDisplay": () => (/* binding */ empBankingAccountDisplay),
/* harmony export */   "empPayrollDisplay": () => (/* binding */ empPayrollDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empBankingAccountDisplay(data) {
    return data.map((bankAccount) => {
        return {
            ...bankAccount,
            bank: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(bankAccount.comm_Bank?.ar_Name, bankAccount.comm_Bank?.en_Name),
            startDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(bankAccount.from_Date),
        };
    });
}
function empPayrollDisplay(data) {
    // global section
    let list = [
        {
            paymentId: 0,
            payment: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)("المتغيرات العامه", "Global Variable"),
            variables: [],
        },
    ];
    // payments section
    data.lstPayments.map((payment) => list.push({
        paymentId: payment.id,
        payment: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(payment.ar_Name, payment.en_Name),
        variables: [],
    }));
    // global variables
    data.lstFixedVAriableGlobal.map((variable) => list[0].variables.push(...getVariableList(variable)));
    // payments variables
    data.perssonPeriodLsts.map((ele) => {
        let paymentIndex = getIndexInList(list, ele.payment?.id);
        ele.lstpersperiodcalculations.forEach((variable) => list[paymentIndex].variables.push(...getVariableList(variable)));
    });
    data.lstFixedVAriable.map((variable) => {
        if ((variable.paY_Variable?.pay_Payment_Variable?.length != 0 &&
            getIndexInList(list, variable.paY_Variable?.pay_Payment_Variable[0].Payment_ID) >= 0) ||
            variable.paY_Variable?.pay_Payment_Variable?.length == 0) {
            let paymentIndex = getIndexInList(list, variable.paY_PeriodCalculation?.payment_ID);
            if (data.lstAuthorize.find((ele) => ele.variable_ID == variable.variable_ID &&
                ele.payment_ID == list[paymentIndex].paymentId))
                list[paymentIndex].variables.push(...getVariableList(variable));
        }
    });
    return list;
}
function getIndexInList(list, paymentId) {
    return list.findIndex((ele) => ele.paymentId == paymentId);
}
function getVariableList(payrollElement) {
    let variables = [];
    variables.push({
        variable: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(payrollElement.paY_Variable?.arName, payrollElement.paY_Variable?.name),
        value: payrollElement.variable_Value,
    });
    return variables;
}


/***/ }),

/***/ 74245:
/*!***************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp-sap-integration.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empS4CostCenterDisplay": () => (/* binding */ empS4CostCenterDisplay),
/* harmony export */   "empSapCostCenterDisplay": () => (/* binding */ empSapCostCenterDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empS4CostCenterDisplay(data) {
    return data.map((s4Item) => {
        return {
            ...s4Item,
            s4SystemInstance: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(s4Item.s4_SystemInstance?.ar_Name, s4Item.s4_SystemInstance?.en_Name),
        };
    });
}
function empSapCostCenterDisplay(data) {
    return data.map((sapItem) => {
        return {
            ...sapItem,
            sapSystemInstance: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(sapItem.saP_SystemInstance?.ar_Name, sapItem.saP_SystemInstance?.en_Name),
            projectCode: sapItem.proj_Code,
            defualtOcrCode1: sapItem.ocrCode1,
            defualtOcrCode2: sapItem.ocrCode2,
            defualtOcrCode3: sapItem.ocrCode3,
            defualtOcrCode4: sapItem.ocrCode4,
            defualtOcrCode5: sapItem.ocrCode5,
        };
    });
}


/***/ }),

/***/ 42637:
/*!***************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/emp_status_position.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empStatusCardDisplay": () => (/* binding */ empStatusCardDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empStatusCardDisplay(data) {
    return {
        status_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.core_Person_Instance_Status?.core_Status?.ar_Name, data?.core_Person_Instance_Status?.core_Status?.en_Name),
        status_from_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.core_Person_Instance_Status?.from_Date),
        status_to_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.core_Person_Instance_Status?.to_Date),
        status_properties_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.core_Person_Instance_Status?.core_Status_Properties?.ar_Name, data?.core_Person_Instance_Status?.core_Status_Properties?.ar_Name),
        org_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.positions?.core_Org?.ar_Name, data?.positions?.core_Org?.en_Name),
        org_from_date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.positions?.orgFromDate),
        job_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.positions?.core_Job_Title?.ar_Name, data?.positions?.core_Job_Title?.en_Name),
        time_in_position: data?.positions?.time_In_Position ?
            `${data?.positions?.time_In_Position?.years} years, ${data?.positions?.time_In_Position?.months} months, ${data?.positions?.time_In_Position?.days} days` :
            "---",
        time_in_company: data?.time_In_Company ?
            `${data?.time_In_Company?.years} years, ${data?.time_In_Company?.months} months, ${data?.time_In_Company?.days} days` :
            "---",
        contract_name: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(data?.core_Contract?.contracT_NO),
        contract_duration: data?.core_Contract ? `${app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.core_Contract?.starT_DATE)}, ${app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(data?.core_Contract?.enD_DATE)}` : "---",
        policies: data.policies
    };
}


/***/ }),

/***/ 45875:
/*!******************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/employee-personal-info.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "employeeDependentToMap": () => (/* binding */ employeeDependentToMap),
/* harmony export */   "employeeMaritalStatusToMap": () => (/* binding */ employeeMaritalStatusToMap),
/* harmony export */   "employeeMilitaryStatusToMap": () => (/* binding */ employeeMilitaryStatusToMap),
/* harmony export */   "employeePersonalDocumentToMap": () => (/* binding */ employeePersonalDocumentToMap)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function employeeDependentToMap(maritalStatus) {
    return maritalStatus.map((dependent) => {
        return {
            ...dependent,
            originalBirthDateFormat: dependent.birthDate,
            dependentName: dependent.flower_Name,
            birthDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(dependent.birthDate),
            relationship: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(dependent.corE_Family_Relation?.ar_Name, dependent.corE_Family_Relation?.en_Name),
        };
    });
}
function employeeMaritalStatusToMap(maritalStatus) {
    return maritalStatus.map((status) => {
        return {
            ...status,
            originalDateFormat: status.statusDate,
            statusDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(status.statusDate),
            maritalStatus: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(status.comm_Marital_Status?.ar_Name, status.comm_Marital_Status?.en_Name),
        };
    });
}
function employeeMilitaryStatusToMap(militaryStatus) {
    return militaryStatus.map((military) => {
        return {
            ...military,
            status: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(military.comm_Military_Status?.ar_Name, military.comm_Military_Status?.en_Name),
            grade: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(military.comm_Military_Grade?.ar_Name, military.comm_Military_Grade?.en_Name),
            statusDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(military.statusDate),
            endDate: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(military.endDate),
        };
    });
}
function employeePersonalDocumentToMap(data) {
    return data.map((doc) => {
        return {
            ...doc.employeeData,
            documentName: doc.employeeData?.core_Personal_Identity_Type?.identity_TypeTital,
            originalIssuingDate: doc.employeeData?.dateof_issue,
            originalExpirationDate: doc.employeeData?.expire_Date,
            dateof_issue: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(doc.employeeData?.dateof_issue),
            expire_Date: app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.HelpersFunctions.mapDate(doc.employeeData?.expire_Date),
            attachment_En_Name: doc.attachment_En_Name,
            attachmentID: doc.attachmentID,
            attachment: doc.attachmentFilePath ? "/" + doc.attachmentFilePath : "",
        };
    });
}


/***/ }),

/***/ 87908:
/*!****************************************************************!*\
  !*** ./src/app/personnel-setup/mapper/employees-activation.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "empActivationDisplay": () => (/* binding */ empActivationDisplay)
/* harmony export */ });
/* harmony import */ var app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/helpers-functions */ 35478);

function empActivationDisplay(data) {
    return data.map((ele) => {
        return {
            ...ele,
            employee: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(ele.core_Person?.ar_Name, ele.core_Person?.en_Name),
            job: (0,app_shared_resources_helpers_functions__WEBPACK_IMPORTED_MODULE_0__.msgTranslate)(ele.core_Person_Instance_Job_Title[0]?.core_Job_Title?.ar_Name, ele.core_Person_Instance_Job_Title[0]?.core_Job_Title?.en_Name),
        };
    });
}


/***/ }),

/***/ 74127:
/*!*******************************************************************!*\
  !*** ./src/app/personnel-setup/personnel-setup-routing.module.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PersonnelSetupRoutingModule": () => (/* binding */ PersonnelSetupRoutingModule)
/* harmony export */ });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ 60124);
/* harmony import */ var app_shared_enums_route_path_match_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/enums/route-path-match.enum */ 36162);
/* harmony import */ var app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/views-manager */ 74513);
/* harmony import */ var _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/employees/add-employee/add-employee.component */ 29222);
/* harmony import */ var _components_employees_employees_index_employees_index_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/employees/employees-index/employees-index.component */ 89535);
/* harmony import */ var _components_employees_assign_plan_assign_plan_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/employees/assign-plan/assign-plan.component */ 23589);
/* harmony import */ var _components_employees_activation_employees_activation_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/employees-activation/employees-activation.component */ 91921);
/* harmony import */ var app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/Guards/check-is-allowd.guard */ 3710);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 22560);










const routes = [
    {
        path: "employees",
        data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employees },
        children: [
            {
                path: "",
                redirectTo: "index",
                pathMatch: app_shared_enums_route_path_match_enum__WEBPACK_IMPORTED_MODULE_0__.pathMatch.full,
            },
            {
                path: "index",
                component: _components_employees_employees_index_employees_index_component__WEBPACK_IMPORTED_MODULE_3__.EmployeesIndexComponent,
                data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employees_index },
                canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
            },
            {
                path: "add",
                component: _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_2__.AddEmployeeComponent,
                data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employee_profile },
                canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
            },
            {
                path: "edit/:employeeId",
                component: _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_2__.AddEmployeeComponent,
                data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employee_profile },
                canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
            },
            {
                path: "assign-plan",
                component: _components_employees_assign_plan_assign_plan_component__WEBPACK_IMPORTED_MODULE_4__.AssignPlanComponent,
                data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.assign_plan },
                canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
            },
        ],
    },
    {
        path: "employees-activation",
        component: _components_employees_activation_employees_activation_component__WEBPACK_IMPORTED_MODULE_5__.EmployeesActivationComponent,
        data: { view: app_shared_resources_views_manager__WEBPACK_IMPORTED_MODULE_1__.ViewsManager.employees_activation },
        canActivate: [app_shared_Guards_check_is_allowd_guard__WEBPACK_IMPORTED_MODULE_6__.CheckIsViewAllowedGuard],
    },
];
class PersonnelSetupRoutingModule {
}
PersonnelSetupRoutingModule.ɵfac = function PersonnelSetupRoutingModule_Factory(t) { return new (t || PersonnelSetupRoutingModule)(); };
PersonnelSetupRoutingModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({ type: PersonnelSetupRoutingModule });
PersonnelSetupRoutingModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({ imports: [_angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule.forChild(routes), _angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](PersonnelSetupRoutingModule, { imports: [_angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule], exports: [_angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule] }); })();


/***/ }),

/***/ 43578:
/*!***********************************************************!*\
  !*** ./src/app/personnel-setup/personnel-setup.module.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PersonnelSetupModule": () => (/* binding */ PersonnelSetupModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _personnel_setup_routing_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./personnel-setup-routing.module */ 74127);
/* harmony import */ var _components_employees_employees_index_employees_index_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/employees/employees-index/employees-index.component */ 89535);
/* harmony import */ var app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/shared.module */ 44466);
/* harmony import */ var _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/employees/add-employee/add-employee.component */ 29222);
/* harmony import */ var _components_employees_employee_general_info_emp_general_info_dialog_emp_general_info_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/employees/employee-general-info/emp-general-info-dialog/emp-general-info-dialog.component */ 71125);
/* harmony import */ var _components_employees_employee_general_info_emp_general_info_card_emp_general_info_card_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/employees/employee-general-info/emp-general-info-card/emp-general-info-card.component */ 59330);
/* harmony import */ var _components_employees_card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/employees/card-shared-components/card-header/card-header.component */ 43536);
/* harmony import */ var _components_employees_card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/employees/card-shared-components/card-row-item/card-row-item.component */ 58588);
/* harmony import */ var _components_employees_employee_career_emp_career_core_emp_career_core_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/employees/employee-career/emp-career-core/emp-career-core.component */ 70923);
/* harmony import */ var _components_employees_employee_career_emp_work_experience_emp_work_experience_dialog_employee_work_experience_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/employees/employee-career/emp-work-experience/emp-work-experience-dialog/employee-work-experience-dialog.component */ 13619);
/* harmony import */ var _components_employees_employee_general_info_emp_general_info_core_emp_general_info_core_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/employees/employee-general-info/emp-general-info-core/emp-general-info-core.component */ 78392);
/* harmony import */ var _components_employees_personal_information_emp_personal_info_core_empl_personal_info_core_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/employees/personal-information/emp-personal-info-core/empl-personal-info-core.component */ 59897);
/* harmony import */ var _components_employees_personal_information_old_emp_contact_and_address_emp_address_section_emp_address_section_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/employees/personal-information/old-emp-contact-and-address/emp-address-section/emp-address-section.component */ 23674);
/* harmony import */ var _components_employees_personal_information_old_emp_contact_and_address_emp_contact_and_address_card_emp_contact_and_address_card_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/employees/personal-information/old-emp-contact-and-address/emp-contact-and-address-card/emp-contact-and-address-card.component */ 33491);
/* harmony import */ var _components_employees_personal_information_old_emp_contact_and_address_emp_contact_and_address_dialog_emp_contact_and_address_dialog_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/employees/personal-information/old-emp-contact-and-address/emp-contact-and-address-dialog/emp-contact-and-address-dialog.component */ 36888);
/* harmony import */ var _components_employees_personal_information_old_emp_contact_and_address_emp_contact_section_emp_contact_section_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/employees/personal-information/old-emp-contact-and-address/emp-contact-section/emp-contact-section.component */ 71767);
/* harmony import */ var _components_employees_personal_information_emp_dependants_emp_dependants_card_emp_dependants_card_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/employees/personal-information/emp-dependants/emp-dependants-card/emp-dependants-card.component */ 43097);
/* harmony import */ var _components_employees_personal_information_emp_dependants_emp_dependants_dialog_emp_dependants_dialog_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/employees/personal-information/emp-dependants/emp-dependants-dialog/emp-dependants-dialog.component */ 62483);
/* harmony import */ var _components_employees_personal_information_emp_documents_emp_documents_card_emp_documents_card_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/employees/personal-information/emp-documents/emp-documents-card/emp-documents-card.component */ 84353);
/* harmony import */ var _components_employees_personal_information_emp_documents_emp_documents_dialog_emp_documents_dialog_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/employees/personal-information/emp-documents/emp-documents-dialog/emp-documents-dialog.component */ 53477);
/* harmony import */ var _components_employees_personal_information_emp_military_data_emp_military_data_card_emp_military_data_card_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/employees/personal-information/emp-military-data/emp-military-data-card/emp-military-data-card.component */ 83223);
/* harmony import */ var _components_employees_personal_information_emp_military_data_emp_military_data_dialog_emp_military_data_dialog_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/employees/personal-information/emp-military-data/emp-military-data-dialog/emp-military-data-dialog.component */ 22839);
/* harmony import */ var _components_employees_personal_information_emp_personal_info_emp_personal_info_card_emp_personal_info_card_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/employees/personal-information/emp-personal-info/emp-personal-info-card/emp-personal-info-card.component */ 60930);
/* harmony import */ var _components_employees_personal_information_emp_personal_info_emp_personal_info_dialog_emp_personal_info_dialog_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/employees/personal-information/emp-personal-info/emp-personal-info-dialog/emp-personal-info-dialog.component */ 17588);
/* harmony import */ var _components_employees_employee_career_emp_education_emp_education_card_emp_education_card_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/employees/employee-career/emp-education/emp-education-card/emp-education-card.component */ 36355);
/* harmony import */ var _components_employees_employee_career_emp_education_emp_education_dialog_emp_education_dialog_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/employees/employee-career/emp-education/emp-education-dialog/emp-education-dialog.component */ 41864);
/* harmony import */ var _components_employees_employee_career_emp_work_experience_emp_work_experience_card_emp_work_experience_card_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/employees/employee-career/emp-work-experience/emp-work-experience-card/emp-work-experience-card.component */ 5760);
/* harmony import */ var _components_employees_employement_information_employement_info_core_employement_info_core_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/employees/employement-information/employement-info-core/employement-info-core.component */ 20001);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_job_info_card_emp_job_info_card_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-job-info-card/emp-job-info-card.component */ 55813);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_job_info_dialog_emp_job_info_dialog_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-job-info-dialog/emp-job-info-dialog.component */ 73610);
/* harmony import */ var _components_employees_employement_information_emp_work_schedule_emp_work_schedule_card_emp_work_schedule_card_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/employees/employement-information/emp-work-schedule/emp-work-schedule-card/emp-work-schedule-card.component */ 1250);
/* harmony import */ var _components_employees_employement_information_emp_work_schedule_emp_work_schedule_dialog_emp_work_schedule_dialog_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/employees/employement-information/emp-work-schedule/emp-work-schedule-dialog/emp-work-schedule-dialog.component */ 47437);
/* harmony import */ var _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_card_emp_hiring_documents_card_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-card/emp-hiring-documents-card.component */ 78471);
/* harmony import */ var _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_dialog_emp_hiring_documents_dialog_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./components/employees/employement-information/emp-hiring-documents/emp-hiring-documents-dialog/emp-hiring-documents-dialog.component */ 10205);
/* harmony import */ var _components_employees_employement_information_emp_location_emp_location_card_emp_location_card_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./components/employees/employement-information/emp-location/emp-location-card/emp-location-card.component */ 6208);
/* harmony import */ var _components_employees_employement_information_emp_location_emp_location_dialog_emp_location_dialog_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./components/employees/employement-information/emp-location/emp-location-dialog/emp-location-dialog.component */ 50677);
/* harmony import */ var _components_employees_employement_information_emp_custodies_emp_custodies_card_emp_custodies_card_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./components/employees/employement-information/emp-custodies/emp-custodies-card/emp-custodies-card.component */ 63042);
/* harmony import */ var _components_employees_employement_information_emp_custodies_emp_custodies_dialog_emp_custodies_dialog_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./components/employees/employement-information/emp-custodies/emp-custodies-dialog/emp-custodies-dialog.component */ 9228);
/* harmony import */ var _components_employees_employement_information_emp_social_insurance_emp_social_insurance_card_emp_social_insurance_card_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./components/employees/employement-information/emp-social-insurance/emp-social-insurance-card/emp-social-insurance-card.component */ 81988);
/* harmony import */ var _components_employees_employement_information_emp_medical_insurance_emp_medical_insurance_card_emp_medical_insurance_card_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./components/employees/employement-information/emp-medical-insurance/emp-medical-insurance-card/emp-medical-insurance-card.component */ 13881);
/* harmony import */ var _components_employees_employement_information_emp_medical_insurance_emp_medical_insurance_dialog_emp_medical_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./components/employees/employement-information/emp-medical-insurance/emp-medical-insurance-dialog/emp-medical-insurance-dialog.component */ 92545);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-job-section/emp-job-section.component */ 58319);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_contract_section_emp_contract_section_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-contract-section/emp-contract-section.component */ 75418);
/* harmony import */ var _components_employees_employee_balances_emp_vacation_emp_vacation_card_emp_vacation_card_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./components/employees/employee-balances/emp-vacation/emp-vacation-card/emp-vacation-card.component */ 76816);
/* harmony import */ var _components_employees_employee_balances_emp_vacation_emp_vacation_dialog_emp_vacation_dialog_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./components/employees/employee-balances/emp-vacation/emp-vacation-dialog/emp-vacation-dialog.component */ 92915);
/* harmony import */ var _components_employees_employee_balances_emp_permission_emp_permission_card_emp_permission_card_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./components/employees/employee-balances/emp-permission/emp-permission-card/emp-permission-card.component */ 43996);
/* harmony import */ var _components_employees_employee_balances_employee_balances_core_employee_balances_core_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./components/employees/employee-balances/employee-balances-core/employee-balances-core.component */ 21918);
/* harmony import */ var _components_employees_employee_balances_emp_permission_emp_permission_dialog_emp_permission_dialog_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./components/employees/employee-balances/emp-permission/emp-permission-dialog/emp-permission-dialog.component */ 68837);
/* harmony import */ var _components_employees_sap_integration_emp_sap_integration_core_emp_sap_integration_core_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-sap-integration-core/emp-sap-integration-core.component */ 56333);
/* harmony import */ var _components_employees_payments_information_emp_payments_info_core_emp_payments_info_core_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./components/employees/payments-information/emp-payments-info-core/emp-payments-info-core.component */ 61198);
/* harmony import */ var _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_card_emp_sap_b1_card_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-sap-b1/emp-sap-b1-card/emp-sap-b1-card.component */ 14393);
/* harmony import */ var _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_dialog_emp_sap_b1_dialog_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-sap-b1/emp-sap-b1-dialog/emp-sap-b1-dialog.component */ 93035);
/* harmony import */ var _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_card_emp_s4_hana_card_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-s4-hana/emp-s4-hana-card/emp-s4-hana-card.component */ 22718);
/* harmony import */ var _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_dialog_emp_s4_hana_dialog_component__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./components/employees/sap-integration/emp-s4-hana/emp-s4-hana-dialog/emp-s4-hana-dialog.component */ 22331);
/* harmony import */ var _components_employees_payments_information_emp_payroll_data_emp_payroll_data_card_emp_payroll_data_card_component__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./components/employees/payments-information/emp-payroll-data/emp-payroll-data-card/emp-payroll-data-card.component */ 80151);
/* harmony import */ var _components_employees_payments_information_emp_payroll_data_emp_payroll_data_dialog_emp_payroll_data_dialog_component__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./components/employees/payments-information/emp-payroll-data/emp-payroll-data-dialog/emp-payroll-data-dialog.component */ 85303);
/* harmony import */ var _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_card_emp_banking_account_data_card_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-card/emp-banking-account-data-card.component */ 56275);
/* harmony import */ var _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_dialog_emp_banking_account_data_dialog_component__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./components/employees/payments-information/emp-banking-account-data/emp-banking-account-data-dialog/emp-banking-account-data-dialog.component */ 19434);
/* harmony import */ var _components_employees_employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./components/employees/employee-general-info/emp-general-info-form/emp-general-info-form.component */ 9442);
/* harmony import */ var _components_employees_employement_information_emp_medical_insurance_emp_blood_type_section_emp_blood_type_section_component__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./components/employees/employement-information/emp-medical-insurance/emp-blood-type-section/emp-blood-type-section.component */ 63612);
/* harmony import */ var app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! app/personnel-setup/components/employees/employement-information/emp-social-insurance/emp-insurance-office-dialog/emp-social-insurance-dialog.component */ 11215);
/* harmony import */ var app_org_management_org_management_module__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! app/org-management/org-management.module */ 90446);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_contract_attachment_section_emp_contract_attachment_section_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-contract-attachment-section/emp-contract-attachment-section.component */ 28256);
/* harmony import */ var _components_employees_assign_plan_assign_plan_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./components/employees/assign-plan/assign-plan.component */ 23589);
/* harmony import */ var _components_employees_activation_employees_activation_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./components/employees-activation/employees-activation.component */ 91921);
/* harmony import */ var _components_employees_employement_information_emp_job_info_emp_supervisor_section_emp_supervisor_section_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/emp-supervisor-section/emp-supervisor-section.component */ 56421);
/* harmony import */ var _components_employees_employement_information_emp_job_info_assign_as_org_manager_dialog_assign_as_org_manager_dialog_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/assign-as-org-manager-dialog/assign-as-org-manager-dialog.component */ 57993);
/* harmony import */ var _components_employees_employement_information_emp_job_info_close_job_dialog_close_job_dialog_component__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./components/employees/employement-information/emp-job-info/close-job-dialog/close-job-dialog.component */ 27849);
/* harmony import */ var _components_employees_personal_information_emp_dependants_emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./components/employees/personal-information/emp-dependants/emp-dependants-table/emp-dependants-table.component */ 97035);
/* harmony import */ var _components_employees_personal_information_emp_address_emp_address_card_emp_address_card_component__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./components/employees/personal-information/emp-address/emp-address-card/emp-address-card.component */ 68530);
/* harmony import */ var _components_employees_personal_information_emp_address_emp_address_dialog_emp_address_dialog_component__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./components/employees/personal-information/emp-address/emp-address-dialog/emp-address-dialog.component */ 47219);
/* harmony import */ var _components_employees_personal_information_emp_address_emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./components/employees/personal-information/emp-address/emp-address-table/emp-address-table.component */ 62866);
/* harmony import */ var _components_employees_personal_information_emp_contact_emp_contact_card_emp_contact_card_component__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./components/employees/personal-information/emp-contact/emp-contact-card/emp-contact-card.component */ 52761);
/* harmony import */ var _components_employees_personal_information_emp_contact_emp_contact_dialog_emp_contact_dialog_component__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./components/employees/personal-information/emp-contact/emp-contact-dialog/emp-contact-dialog.component */ 56017);
/* harmony import */ var _components_employees_personal_information_emp_contact_emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./components/employees/personal-information/emp-contact/emp-contact-table/emp-contact-table.component */ 74155);
/* harmony import */ var _components_employees_personal_information_emp_personal_info_emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./components/employees/personal-information/emp-personal-info/emp-marital-status-table/emp-marital-status-table.component */ 64209);
/* harmony import */ var _components_employees_card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./components/employees/card-shared-components/see-more-btn/see-more-btn.component */ 87749);
/* harmony import */ var _components_employees_personal_information_emp_military_data_emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./components/employees/personal-information/emp-military-data/emp-military-table/emp-military-table.component */ 74855);
/* harmony import */ var _components_employees_personal_information_emp_documents_emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./components/employees/personal-information/emp-documents/emp-documents-table/emp-documents-table.component */ 6181);
/* harmony import */ var _components_employees_employee_career_emp_education_emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ./components/employees/employee-career/emp-education/emp-education-table/emp-education-table.component */ 11806);
/* harmony import */ var _components_employees_employee_career_emp_work_experience_emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./components/employees/employee-career/emp-work-experience/emp-work-experience-table/emp-work-experience-table.component */ 79371);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! @angular/core */ 22560);



















































































class PersonnelSetupModule {
}
PersonnelSetupModule.ɵfac = function PersonnelSetupModule_Factory(t) { return new (t || PersonnelSetupModule)(); };
PersonnelSetupModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_81__["ɵɵdefineNgModule"]({ type: PersonnelSetupModule });
PersonnelSetupModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_81__["ɵɵdefineInjector"]({ imports: [_angular_common__WEBPACK_IMPORTED_MODULE_82__.CommonModule,
        _personnel_setup_routing_module__WEBPACK_IMPORTED_MODULE_0__.PersonnelSetupRoutingModule,
        app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__.SharedModule,
        app_org_management_org_management_module__WEBPACK_IMPORTED_MODULE_61__.OrgManagementModule] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_81__["ɵɵsetNgModuleScope"](PersonnelSetupModule, { declarations: [_components_employees_employees_index_employees_index_component__WEBPACK_IMPORTED_MODULE_1__.EmployeesIndexComponent,
        _components_employees_add_employee_add_employee_component__WEBPACK_IMPORTED_MODULE_3__.AddEmployeeComponent,
        _components_employees_employee_general_info_emp_general_info_dialog_emp_general_info_dialog_component__WEBPACK_IMPORTED_MODULE_4__.EmployeeGeneralInfoDialogComponent,
        _components_employees_employee_general_info_emp_general_info_card_emp_general_info_card_component__WEBPACK_IMPORTED_MODULE_5__.EmployeeGeneralInfoCardComponent,
        _components_employees_card_shared_components_card_header_card_header_component__WEBPACK_IMPORTED_MODULE_6__.CardHeaderComponent,
        _components_employees_card_shared_components_card_row_item_card_row_item_component__WEBPACK_IMPORTED_MODULE_7__.CardRowItemComponent,
        _components_employees_personal_information_emp_personal_info_core_empl_personal_info_core_component__WEBPACK_IMPORTED_MODULE_11__.EmployeePersonalInfoCoreComponent,
        _components_employees_personal_information_emp_personal_info_emp_personal_info_card_emp_personal_info_card_component__WEBPACK_IMPORTED_MODULE_22__.EmployeePersonalInfoCardComponent,
        _components_employees_personal_information_emp_personal_info_emp_personal_info_dialog_emp_personal_info_dialog_component__WEBPACK_IMPORTED_MODULE_23__.EmployeePersonalInfoDialogComponent,
        _components_employees_personal_information_old_emp_contact_and_address_emp_contact_and_address_card_emp_contact_and_address_card_component__WEBPACK_IMPORTED_MODULE_13__.EmployeeContactAndAddressCardComponent,
        _components_employees_personal_information_old_emp_contact_and_address_emp_contact_and_address_dialog_emp_contact_and_address_dialog_component__WEBPACK_IMPORTED_MODULE_14__.EmployeeContactAndAddressDialogComponent,
        _components_employees_personal_information_old_emp_contact_and_address_emp_contact_section_emp_contact_section_component__WEBPACK_IMPORTED_MODULE_15__.EmployeeContactDialogComponent,
        _components_employees_personal_information_emp_address_emp_address_card_emp_address_card_component__WEBPACK_IMPORTED_MODULE_69__.EmpAddressCardComponent,
        _components_employees_personal_information_emp_address_emp_address_dialog_emp_address_dialog_component__WEBPACK_IMPORTED_MODULE_70__.EmpAddressDialogComponent,
        _components_employees_personal_information_emp_address_emp_address_table_emp_address_table_component__WEBPACK_IMPORTED_MODULE_71__.EmpAddressTableComponent,
        _components_employees_personal_information_emp_contact_emp_contact_card_emp_contact_card_component__WEBPACK_IMPORTED_MODULE_72__.EmpContactCardComponent,
        _components_employees_personal_information_emp_contact_emp_contact_dialog_emp_contact_dialog_component__WEBPACK_IMPORTED_MODULE_73__.EmpContactDialogComponent,
        _components_employees_personal_information_emp_contact_emp_contact_table_emp_contact_table_component__WEBPACK_IMPORTED_MODULE_74__.EmpContactTableComponent,
        _components_employees_personal_information_old_emp_contact_and_address_emp_address_section_emp_address_section_component__WEBPACK_IMPORTED_MODULE_12__.EmployeeAddressDialogComponent,
        _components_employees_personal_information_emp_dependants_emp_dependants_card_emp_dependants_card_component__WEBPACK_IMPORTED_MODULE_16__.EmployeeDependantsCardComponent,
        _components_employees_personal_information_emp_dependants_emp_dependants_dialog_emp_dependants_dialog_component__WEBPACK_IMPORTED_MODULE_17__.EmployeeDependantsDialogComponent,
        _components_employees_personal_information_emp_military_data_emp_military_data_card_emp_military_data_card_component__WEBPACK_IMPORTED_MODULE_20__.EmployeeMilitaryDataCardComponent,
        _components_employees_personal_information_emp_military_data_emp_military_data_dialog_emp_military_data_dialog_component__WEBPACK_IMPORTED_MODULE_21__.EmployeeMilitaryDataDialogComponent,
        _components_employees_personal_information_emp_documents_emp_documents_card_emp_documents_card_component__WEBPACK_IMPORTED_MODULE_18__.EmployeeDocumentsCardComponent,
        _components_employees_personal_information_emp_documents_emp_documents_dialog_emp_documents_dialog_component__WEBPACK_IMPORTED_MODULE_19__.EmployeeDocumentsDialogComponent,
        _components_employees_employee_career_emp_career_core_emp_career_core_component__WEBPACK_IMPORTED_MODULE_8__.EmployeeCareerCoreComponent,
        _components_employees_employee_career_emp_education_emp_education_card_emp_education_card_component__WEBPACK_IMPORTED_MODULE_24__.EmployeeEducationCardComponent,
        _components_employees_employee_career_emp_education_emp_education_dialog_emp_education_dialog_component__WEBPACK_IMPORTED_MODULE_25__.EmployeeEducationDialogComponent,
        _components_employees_employee_career_emp_work_experience_emp_work_experience_card_emp_work_experience_card_component__WEBPACK_IMPORTED_MODULE_26__.EmployeeWorkExperienceCardComponent,
        _components_employees_employee_career_emp_work_experience_emp_work_experience_dialog_employee_work_experience_dialog_component__WEBPACK_IMPORTED_MODULE_9__.EmployeeWorkExperienceDialogComponent,
        _components_employees_employee_general_info_emp_general_info_core_emp_general_info_core_component__WEBPACK_IMPORTED_MODULE_10__.EmpGeneralInfoCoreComponent,
        _components_employees_employement_information_employement_info_core_employement_info_core_component__WEBPACK_IMPORTED_MODULE_27__.EmployementInformationComponent,
        _components_employees_employement_information_emp_job_info_emp_job_info_card_emp_job_info_card_component__WEBPACK_IMPORTED_MODULE_28__.EmpJobInfoCardComponent,
        _components_employees_employement_information_emp_job_info_emp_job_info_dialog_emp_job_info_dialog_component__WEBPACK_IMPORTED_MODULE_29__.EmpJobInfoDialogComponent,
        _components_employees_employement_information_emp_work_schedule_emp_work_schedule_card_emp_work_schedule_card_component__WEBPACK_IMPORTED_MODULE_30__.EmpWorkScheduleCardComponent,
        _components_employees_employement_information_emp_work_schedule_emp_work_schedule_dialog_emp_work_schedule_dialog_component__WEBPACK_IMPORTED_MODULE_31__.EmpWorkScheduleDialogComponent,
        _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_card_emp_hiring_documents_card_component__WEBPACK_IMPORTED_MODULE_32__.EmpHiringDocumentsCardComponent,
        _components_employees_employement_information_emp_hiring_documents_emp_hiring_documents_dialog_emp_hiring_documents_dialog_component__WEBPACK_IMPORTED_MODULE_33__.EmpHiringDocumentsDialogComponent,
        _components_employees_employement_information_emp_location_emp_location_card_emp_location_card_component__WEBPACK_IMPORTED_MODULE_34__.EmpLocationCardComponent,
        _components_employees_employement_information_emp_location_emp_location_dialog_emp_location_dialog_component__WEBPACK_IMPORTED_MODULE_35__.EmpLocationDialogComponent,
        _components_employees_employement_information_emp_custodies_emp_custodies_card_emp_custodies_card_component__WEBPACK_IMPORTED_MODULE_36__.EmpCustodiesCardComponent,
        _components_employees_employement_information_emp_custodies_emp_custodies_dialog_emp_custodies_dialog_component__WEBPACK_IMPORTED_MODULE_37__.EmpCustodiesDialogComponent,
        _components_employees_employement_information_emp_social_insurance_emp_social_insurance_card_emp_social_insurance_card_component__WEBPACK_IMPORTED_MODULE_38__.EmpSocialInsuranceCardComponent,
        app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_60__.EmpSocialInsuranceDialogComponent,
        _components_employees_employement_information_emp_medical_insurance_emp_medical_insurance_card_emp_medical_insurance_card_component__WEBPACK_IMPORTED_MODULE_39__.EmpMedicalInsuranceCardComponent,
        _components_employees_employement_information_emp_medical_insurance_emp_medical_insurance_dialog_emp_medical_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_40__.EmpMedicalInsuranceDialogComponent,
        _components_employees_employement_information_emp_job_info_emp_job_section_emp_job_section_component__WEBPACK_IMPORTED_MODULE_41__.EmpJobDataDialogComponent,
        _components_employees_employement_information_emp_job_info_emp_contract_section_emp_contract_section_component__WEBPACK_IMPORTED_MODULE_42__.EmpContractDetailsDialogComponent,
        _components_employees_employee_balances_employee_balances_core_employee_balances_core_component__WEBPACK_IMPORTED_MODULE_46__.EmployeeBalancesCoreComponent,
        _components_employees_employee_balances_emp_vacation_emp_vacation_card_emp_vacation_card_component__WEBPACK_IMPORTED_MODULE_43__.EmpVacationCardComponent,
        _components_employees_employee_balances_emp_vacation_emp_vacation_dialog_emp_vacation_dialog_component__WEBPACK_IMPORTED_MODULE_44__.EmpVacationDialogComponent,
        _components_employees_employee_balances_emp_permission_emp_permission_card_emp_permission_card_component__WEBPACK_IMPORTED_MODULE_45__.EmpPermissionCardComponent,
        _components_employees_employee_balances_emp_permission_emp_permission_dialog_emp_permission_dialog_component__WEBPACK_IMPORTED_MODULE_47__.EmpPermissionDialogComponent,
        _components_employees_sap_integration_emp_sap_integration_core_emp_sap_integration_core_component__WEBPACK_IMPORTED_MODULE_48__.EmpSapIntegrationCoreComponent,
        _components_employees_payments_information_emp_payments_info_core_emp_payments_info_core_component__WEBPACK_IMPORTED_MODULE_49__.EmpPaymentsInfoCoreComponent,
        _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_card_emp_sap_b1_card_component__WEBPACK_IMPORTED_MODULE_50__.EmpSapB1CardComponent,
        _components_employees_sap_integration_emp_sap_b1_emp_sap_b1_dialog_emp_sap_b1_dialog_component__WEBPACK_IMPORTED_MODULE_51__.EmpSapB1DialogComponent,
        _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_card_emp_s4_hana_card_component__WEBPACK_IMPORTED_MODULE_52__.EmpS4HanaCardComponent,
        _components_employees_sap_integration_emp_s4_hana_emp_s4_hana_dialog_emp_s4_hana_dialog_component__WEBPACK_IMPORTED_MODULE_53__.EmpS4HanaDialogComponent,
        _components_employees_payments_information_emp_payroll_data_emp_payroll_data_card_emp_payroll_data_card_component__WEBPACK_IMPORTED_MODULE_54__.EmpPayrollDataCardComponent,
        _components_employees_payments_information_emp_payroll_data_emp_payroll_data_dialog_emp_payroll_data_dialog_component__WEBPACK_IMPORTED_MODULE_55__.EmpPayrollDataDialogComponent,
        _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_card_emp_banking_account_data_card_component__WEBPACK_IMPORTED_MODULE_56__.EmpBankingAccountDataCardComponent,
        _components_employees_payments_information_emp_banking_account_data_emp_banking_account_data_dialog_emp_banking_account_data_dialog_component__WEBPACK_IMPORTED_MODULE_57__.EmpBankingAccountDataDialogComponent,
        _components_employees_employee_general_info_emp_general_info_form_emp_general_info_form_component__WEBPACK_IMPORTED_MODULE_58__.EmpGeneralInfoFormComponent,
        _components_employees_employement_information_emp_medical_insurance_emp_blood_type_section_emp_blood_type_section_component__WEBPACK_IMPORTED_MODULE_59__.EmpMedicalAndBloodTypeDialogComponent,
        app_personnel_setup_components_employees_employement_information_emp_social_insurance_emp_insurance_office_dialog_emp_social_insurance_dialog_component__WEBPACK_IMPORTED_MODULE_60__.EmpSocialInsuranceDialogComponent,
        _components_employees_employement_information_emp_job_info_emp_contract_attachment_section_emp_contract_attachment_section_component__WEBPACK_IMPORTED_MODULE_62__.EmpContractAttachmentSectionComponent,
        _components_employees_assign_plan_assign_plan_component__WEBPACK_IMPORTED_MODULE_63__.AssignPlanComponent,
        _components_employees_activation_employees_activation_component__WEBPACK_IMPORTED_MODULE_64__.EmployeesActivationComponent,
        _components_employees_employement_information_emp_job_info_emp_supervisor_section_emp_supervisor_section_component__WEBPACK_IMPORTED_MODULE_65__.EmpSupervisorSectionComponent,
        _components_employees_employement_information_emp_job_info_assign_as_org_manager_dialog_assign_as_org_manager_dialog_component__WEBPACK_IMPORTED_MODULE_66__.AssignAsOrgManagerDialogComponent,
        _components_employees_employement_information_emp_job_info_close_job_dialog_close_job_dialog_component__WEBPACK_IMPORTED_MODULE_67__.CloseJobDialogComponent,
        _components_employees_personal_information_emp_dependants_emp_dependants_table_emp_dependants_table_component__WEBPACK_IMPORTED_MODULE_68__.EmpDependantsTableComponent,
        _components_employees_personal_information_emp_personal_info_emp_marital_status_table_emp_marital_status_table_component__WEBPACK_IMPORTED_MODULE_75__.EmpMaritalStatusTableComponent,
        _components_employees_card_shared_components_see_more_btn_see_more_btn_component__WEBPACK_IMPORTED_MODULE_76__.SeeMoreBtnComponent,
        _components_employees_personal_information_emp_military_data_emp_military_table_emp_military_table_component__WEBPACK_IMPORTED_MODULE_77__.EmpMilitaryTableComponent,
        _components_employees_personal_information_emp_documents_emp_documents_table_emp_documents_table_component__WEBPACK_IMPORTED_MODULE_78__.EmpDocumentsTableComponent,
        _components_employees_employee_career_emp_education_emp_education_table_emp_education_table_component__WEBPACK_IMPORTED_MODULE_79__.EmpEducationTableComponent,
        _components_employees_employee_career_emp_work_experience_emp_work_experience_table_emp_work_experience_table_component__WEBPACK_IMPORTED_MODULE_80__.EmpWorkExperienceTableComponent], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_82__.CommonModule,
        _personnel_setup_routing_module__WEBPACK_IMPORTED_MODULE_0__.PersonnelSetupRoutingModule,
        app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__.SharedModule,
        app_org_management_org_management_module__WEBPACK_IMPORTED_MODULE_61__.OrgManagementModule] }); })();


/***/ }),

/***/ 92570:
/*!**************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees-activation.service.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeesActivationService": () => (/* binding */ EmployeesActivationService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeesActivationService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    getList(params) {
        return this.get("Personnel/EmployeeActivation/GetNonActivationEmployeesList", {
            params: params,
        });
    }
    activate(id) {
        return this.post("Personnel/EmployeeActivation/Activate", null, {
            params: { id: id },
        });
    }
    exportExcel() {
        // return this.getAll();
    }
}
EmployeesActivationService.ɵfac = function EmployeesActivationService_Factory(t) { return new (t || EmployeesActivationService)(); };
EmployeesActivationService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeesActivationService, factory: EmployeesActivationService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 63875:
/*!***********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/career/employee-work-experience.service.ts ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeWorkExperienceService": () => (/* binding */ EmployeeWorkExperienceService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeWorkExperienceService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeWorkExperience", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeWorkExperience", data);
    }
    getList(Person_Instance_ID, params) {
        return this.get("Personnel/Employees/GetList_EmployeeWorkExperience", {
            params: {
                ...params,
                $filter: `Person_Instance_ID  eq ${Person_Instance_ID}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.Core_Person_Instance}/${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.Core_Person}`,
            },
        });
    }
    getAll(Person_Instance_ID) {
        return this.get("Personnel/Employees/GetAll_EmployeeWorkExperience", {
            params: {
                $filter: `Person_Instance_ID  eq ${Person_Instance_ID}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.Core_Person_Instance}/${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.Core_Person}`,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeWorkExperience", {
            params: { ID: Id },
        });
    }
}
EmployeeWorkExperienceService.ɵfac = function EmployeeWorkExperienceService_Factory(t) { return new (t || EmployeeWorkExperienceService)(); };
EmployeeWorkExperienceService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeWorkExperienceService, factory: EmployeeWorkExperienceService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 84241:
/*!*****************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employee-balances/employee-permission.service.ts ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePermissionService": () => (/* binding */ EmployeePermissionService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeePermissionService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    // create(data: IEmpPermissionRequest) {
    //   return this.post<IResponse<IEmpPermissionModel>>(
    //     "Personnel/Employees/Create_Permission",
    //     data
    //   );
    // }
    // update(data: IEmpPermissionRequest) {
    //   return this.post<IResponse<IEmpPermissionModel>>(
    //     "Personnel/Employees/Edit_Permission",
    //     data
    //   );
    // }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeePermission", {
            params: {
                ...params,
                person_instance_id: employeeInstanceId,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeePermission", {
            params: {
                person_instance_id: employeeInstanceId,
            },
        });
    }
}
EmployeePermissionService.ɵfac = function EmployeePermissionService_Factory(t) { return new (t || EmployeePermissionService)(); };
EmployeePermissionService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeePermissionService, factory: EmployeePermissionService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 56379:
/*!***************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employee-balances/employee-vacation.service.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeVacationService": () => (/* binding */ EmployeeVacationService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeeVacationService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeVacationBalance", data);
    }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeVacationBalance", {
            params: {
                ...params,
                PersonInstanceID: employeeInstanceId,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeeVacationBalance", {
            params: {
                person_instance_id: employeeInstanceId,
            },
        });
    }
    Delete(data) {
        return this.delete("Personnel/Employees/Delete_EmployeeVacationBalance", {
            body: data,
        });
    }
    getCard(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAllCard_LastVactionBalance", {
            params: {
                person_instance_id: employeeInstanceId,
            },
        });
    }
    regenerateBalance(employeeInstanceId) {
        return this.post("Personnel/Employees/RegenerateBalance", null, {
            params: {
                person_instance_id: employeeInstanceId,
            },
        });
    }
}
EmployeeVacationService.ɵfac = function EmployeeVacationService_Factory(t) { return new (t || EmployeeVacationService)(); };
EmployeeVacationService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeeVacationService, factory: EmployeeVacationService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 59273:
/*!**********************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-assign-as-org-manager.service.ts ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeAssignAsOrgManagerService": () => (/* binding */ EmployeeAssignAsOrgManagerService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeeAssignAsOrgManagerService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeManger", data);
    }
    getList(
    // employeeInstanceId: number,
    orgId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeManger", {
            params: {
                ...params,
                // prtid: employeeInstanceId,
                orgid: orgId,
            },
        });
    }
    getAll(employeeInstanceId, orgId) {
        return this.get("Personnel/Employees/GetAll_EmployeeManger", {
            params: {
                prtid: employeeInstanceId,
                orgid: orgId,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeManger", {
            params: params,
        });
    }
}
EmployeeAssignAsOrgManagerService.ɵfac = function EmployeeAssignAsOrgManagerService_Factory(t) { return new (t || EmployeeAssignAsOrgManagerService)(); };
EmployeeAssignAsOrgManagerService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeeAssignAsOrgManagerService, factory: EmployeeAssignAsOrgManagerService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 37707:
/*!********************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-contract-attachment.service.ts ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContractAttachmentService": () => (/* binding */ EmployeeContractAttachmentService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeeContractAttachmentService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeContract_Attachments", data);
    }
    getAll(contractId) {
        return this.get("Personnel/Employees/GetAll_EmployeeContract_Attachments", {
            params: {
                Contract_ID: contractId,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeContract_Attachments", {
            params: params,
        });
    }
}
EmployeeContractAttachmentService.ɵfac = function EmployeeContractAttachmentService_Factory(t) { return new (t || EmployeeContractAttachmentService)(); };
EmployeeContractAttachmentService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeeContractAttachmentService, factory: EmployeeContractAttachmentService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 28634:
/*!*****************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-contract-details.service.ts ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContractDetailsService": () => (/* binding */ EmployeeContractDetailsService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeContractDetailsService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeContract", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeContract", data);
    }
    getList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeContract", {
            params: {
                ...params,
                $filter: `Person_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.core_Contract_Type,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeContract", {
            params: {
                $filter: `Person_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.core_Contract_Type,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeContract", {
            params: { ID: Id },
        });
    }
}
EmployeeContractDetailsService.ɵfac = function EmployeeContractDetailsService_Factory(t) { return new (t || EmployeeContractDetailsService)(); };
EmployeeContractDetailsService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeContractDetailsService, factory: EmployeeContractDetailsService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 41769:
/*!*********************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-location.service.ts ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeLocationService": () => (/* binding */ EmployeeLocationService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeLocationService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeLocation", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeLocation", data);
    }
    getList(personInstancId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeLocation", {
            params: {
                ...params,
                $filter: `Person_Instance_ID eq ${personInstancId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.Core_Location,
            },
        });
    }
    getAll(personInstancId) {
        return this.get("Personnel/Employees/GetAll_EmployeeLocation", {
            params: {
                $filter: `Person_Instance_ID eq ${personInstancId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.Core_Location,
            },
        });
    }
    close(params) {
        return this.delete("Personnel/Employees/Close_EmployeeLocation", {
            params: params,
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeLocation", {
            params: params,
        });
    }
}
EmployeeLocationService.ɵfac = function EmployeeLocationService_Factory(t) { return new (t || EmployeeLocationService)(); };
EmployeeLocationService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeLocationService, factory: EmployeeLocationService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 25018:
/*!******************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-medical-insurance.service.ts ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMedicalInsuranceService": () => (/* binding */ EmployeeMedicalInsuranceService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeeMedicalInsuranceService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_dependant", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_dependant", data);
    }
    getAllByEmployeeId(employeeId) {
        return this.get("Personnel/Employees/GetAll_dependant", {
            params: {
                $filter: `id eq ${employeeId}`,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_dependant", {
            params: { Id: Id },
        });
    }
}
EmployeeMedicalInsuranceService.ɵfac = function EmployeeMedicalInsuranceService_Factory(t) { return new (t || EmployeeMedicalInsuranceService)(); };
EmployeeMedicalInsuranceService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeeMedicalInsuranceService, factory: EmployeeMedicalInsuranceService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 88331:
/*!*****************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-social-insurance.service.ts ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeSocialInsuranceService": () => (/* binding */ EmployeeSocialInsuranceService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeSocialInsuranceService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeInsurance", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeInsurance", data);
    }
    getList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeInsurance", {
            params: {
                ...params,
                $filter: `Person_ID  eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.core_Insurance_Office,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeInsurance", {
            params: {
                $filter: `Person_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.core_Insurance_Office,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeInsurance", {
            params: params,
        });
    }
}
EmployeeSocialInsuranceService.ɵfac = function EmployeeSocialInsuranceService_Factory(t) { return new (t || EmployeeSocialInsuranceService)(); };
EmployeeSocialInsuranceService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeSocialInsuranceService, factory: EmployeeSocialInsuranceService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 77950:
/*!***********************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-supervisor.service.ts ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeSupervisorService": () => (/* binding */ EmployeeSupervisorService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeeSupervisorService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeSupervisor", data);
    }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeSupervisor", {
            params: {
                ...params,
                prtid: employeeInstanceId,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeeSupervisor", {
            params: {
                prtid: employeeInstanceId,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeSupervisor", {
            params: params,
        });
    }
}
EmployeeSupervisorService.ɵfac = function EmployeeSupervisorService_Factory(t) { return new (t || EmployeeSupervisorService)(); };
EmployeeSupervisorService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeeSupervisorService, factory: EmployeeSupervisorService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 89320:
/*!**************************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/employement-information/employee-work-schedule.service.ts ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeWorkScheduleService": () => (/* binding */ EmployeeWorkScheduleService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeWorkScheduleService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeAttendencePlan", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeAttendencePlan", data);
    }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeAttendencePlan", {
            params: {
                ...params,
                $filter: `Person_Instance_ID eq ${employeeInstanceId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.att_Plan,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeeAttendencePlan", {
            params: {
                $filter: `Person_Instance_ID eq ${employeeInstanceId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.att_Plan,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeAttendencePlan", {
            params: params,
        });
    }
    getCard(employeeInstanceId) {
        return this.get("Personnel/Employees/Get_AttendancePlanCard", {
            params: {
                Person_Instance_ID: employeeInstanceId,
            },
        });
    }
    getAnnualCasualDashboard(employeeInstanceId) {
        return this.get("Dashboards/VacationSummary/GetAnnualCasualSummery", {
            params: {
                Person_Instance_ID: employeeInstanceId,
            },
        });
    }
    getSickLeaveDashboard(employeeInstanceId) {
        return this.get("Dashboards/VacationSummary/GetSickLeaveSummery", {
            params: {
                Person_Instance_ID: employeeInstanceId,
            },
        });
    }
    getWorkingHoursDashboard(employeeInstanceId) {
        return this.get("Dashboards/WorkingHoursSummary/GetCurrentMonthWorkingHoursSummary", {
            params: {
                Person_Instance_ID: employeeInstanceId,
            },
        });
    }
}
EmployeeWorkScheduleService.ɵfac = function EmployeeWorkScheduleService_Factory(t) { return new (t || EmployeeWorkScheduleService)(); };
EmployeeWorkScheduleService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeWorkScheduleService, factory: EmployeeWorkScheduleService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 38242:
/*!******************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/payments-info/employee-banking-account.service.ts ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeBankingAccountService": () => (/* binding */ EmployeeBankingAccountService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeBankingAccountService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeBank", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeBank", data);
    }
    getList(employeeInstanceId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeBank", {
            params: {
                ...params,
                $filter: `Person_Instance_ID  eq ${employeeInstanceId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Bank,
            },
        });
    }
    getAll(employeeInstanceId) {
        return this.get("Personnel/Employees/GetAll_EmployeeBank", {
            params: {
                $filter: `Person_Instance_ID  eq ${employeeInstanceId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Bank,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeBank", {
            params: params,
        });
    }
}
EmployeeBankingAccountService.ɵfac = function EmployeeBankingAccountService_Factory(t) { return new (t || EmployeeBankingAccountService)(); };
EmployeeBankingAccountService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeBankingAccountService, factory: EmployeeBankingAccountService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 80374:
/*!**********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/payments-info/employee-payroll.service.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeePayrollService": () => (/* binding */ EmployeePayrollService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);


class EmployeePayrollService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    // create(data: IEmployeePayrollRequest) {
    //   return this.post<IResponse<IEmployeePayrollModel>>(
    //     "Personnel/Employees/Create_address",
    //     data
    //   );
    // }
    // update(data: IEmployeePayrollRequest) {
    //   return this.post<IResponse<IEmployeePayrollModel>>(
    //     "Personnel/Employees/Edit_address",
    //     data
    //   );
    // }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeePayment", {
            params: {
                person_id: employeeId,
            },
        });
    }
}
EmployeePayrollService.ɵfac = function EmployeePayrollService_Factory(t) { return new (t || EmployeePayrollService)(); };
EmployeePayrollService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: EmployeePayrollService, factory: EmployeePayrollService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 52608:
/*!**********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-address.service.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeAddressService": () => (/* binding */ EmployeeAddressService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeAddressService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeAddress", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeAddress", data);
    }
    GetList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeAddress", {
            params: {
                ...params,
                $filter: `Person_ID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Address}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Governorate}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Country}`,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeAddress", {
            params: {
                $filter: `Person_ID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Address}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Governorate}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Country}`,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeAddress", {
            params: params,
        });
    }
}
EmployeeAddressService.ɵfac = function EmployeeAddressService_Factory(t) { return new (t || EmployeeAddressService)(); };
EmployeeAddressService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeAddressService, factory: EmployeeAddressService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 55284:
/*!**********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-contact.service.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeContactService": () => (/* binding */ EmployeeContactService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeContactService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeContactType", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeContactType", data);
    }
    GetList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeContactType", {
            params: {
                ...params,
                $filter: `Person_ID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact_Type},${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact_Category}`,
            },
        });
    }
    GetAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeContactType", {
            params: {
                $filter: `Person_ID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact_Type},${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact}.${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.comm_Contact_Category}`,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeContactType", {
            params: params,
        });
    }
}
EmployeeContactService.ɵfac = function EmployeeContactService_Factory(t) { return new (t || EmployeeContactService)(); };
EmployeeContactService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeContactService, factory: EmployeeContactService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 45310:
/*!************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-documents.service.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeDocumentsService": () => (/* binding */ EmployeeDocumentsService)
/* harmony export */ });
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeDocumentsService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_0__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeIdentityInformation", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeIdentityInformation", data);
    }
    getList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeIdentityInformation", {
            params: {
                ...params,
                $filter: `PersonID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.Core_Personal_Identity_Type,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeIdentityInformation", {
            params: {
                $filter: `PersonID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_1__.db.Core_Personal_Identity_Type,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeIdentityInformation", {
            params: { Id: Id },
        });
    }
    // delete by emp_attach id
    DeleteAttachment(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeIdentityInformation_Attachment", {
            params: { ID: Id },
        });
    }
}
EmployeeDocumentsService.ɵfac = function EmployeeDocumentsService_Factory(t) { return new (t || EmployeeDocumentsService)(); };
EmployeeDocumentsService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeDocumentsService, factory: EmployeeDocumentsService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 87978:
/*!***************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-marital-data.service.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMaritalDataService": () => (/* binding */ EmployeeMaritalDataService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeMaritalDataService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeMaritalStatus", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeMaritalStatus", data);
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeMaritalStatus", {
            params: {
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.comm_Marital_Status,
                $filter: `PersonID eq ${employeeId}`,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeMaritalStatus", {
            params: params,
        });
    }
}
EmployeeMaritalDataService.ɵfac = function EmployeeMaritalDataService_Factory(t) { return new (t || EmployeeMaritalDataService)(); };
EmployeeMaritalDataService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeMaritalDataService, factory: EmployeeMaritalDataService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 65635:
/*!****************************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/personal-info/employee-military-data.service.ts ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeMilitaryDataService": () => (/* binding */ EmployeeMilitaryDataService)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeMilitaryDataService extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeMilitaryStatus", data);
    }
    // update(data: IEmployeeMilitaryRequest) {
    //   return this.post<IResponse<IEmployeeMilitaryModel>>(
    //     "Personnel/Employees/Edit_EmployeeMilitaryStatus",
    //     data
    //   );
    // }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeMilitaryStatus", {
            params: {
                $filter: `PersonID eq ${employeeId}`,
                $expand: `${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.comm_Military_Status},${app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.comm_Military_Grade}`,
            },
        });
    }
    Delete(params) {
        return this.delete("Personnel/Employees/Delete_EmployeeMilitaryStatus", {
            params: params,
        });
    }
}
EmployeeMilitaryDataService.ɵfac = function EmployeeMilitaryDataService_Factory(t) { return new (t || EmployeeMilitaryDataService)(); };
EmployeeMilitaryDataService.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeMilitaryDataService, factory: EmployeeMilitaryDataService.ɵfac, providedIn: "root" });


/***/ }),

/***/ 18114:
/*!***********************************************************************************************!*\
  !*** ./src/app/personnel-setup/services/employees/sap-integration/employee-sap-b1.service.ts ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmployeeSapB1Service": () => (/* binding */ EmployeeSapB1Service)
/* harmony export */ });
/* harmony import */ var app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/resources/database-tabels */ 26315);
/* harmony import */ var app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/app-client.service */ 18521);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);



class EmployeeSapB1Service extends app_shared_services_app_client_service__WEBPACK_IMPORTED_MODULE_1__.AppClientService {
    constructor() {
        super();
    }
    create(data) {
        return this.post("Personnel/Employees/Create_EmployeeSapCostCenter", data);
    }
    update(data) {
        return this.post("Personnel/Employees/Edit_EmployeeSapCostCenter", data);
    }
    getList(employeeId, params) {
        return this.get("Personnel/Employees/GetList_EmployeeSapCostCenter", {
            params: {
                ...params,
                $filter: `Person_Instance_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.saP_SystemInstance,
            },
        });
    }
    getAll(employeeId) {
        return this.get("Personnel/Employees/GetAll_EmployeeSapCostCenter", {
            params: {
                $filter: `Person_Instance_ID eq ${employeeId}`,
                $expand: app_shared_resources_database_tabels__WEBPACK_IMPORTED_MODULE_0__.db.saP_SystemInstance,
            },
        });
    }
    Delete(Id) {
        return this.delete("Personnel/Employees/Delete_EmployeeSapCostCenter", {
            params: { Id: Id },
        });
    }
}
EmployeeSapB1Service.ɵfac = function EmployeeSapB1Service_Factory(t) { return new (t || EmployeeSapB1Service)(); };
EmployeeSapB1Service.ɵprov = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: EmployeeSapB1Service, factory: EmployeeSapB1Service.ɵfac, providedIn: "root" });


/***/ }),

/***/ 21138:
/*!********************************************************!*\
  !*** ./src/app/shared/animations/custom-animations.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FadeIn": () => (/* binding */ FadeIn),
/* harmony export */   "FadeInOut": () => (/* binding */ FadeInOut),
/* harmony export */   "SlideInOutAnimation": () => (/* binding */ SlideInOutAnimation),
/* harmony export */   "fadeOut": () => (/* binding */ fadeOut),
/* harmony export */   "slideInOut": () => (/* binding */ slideInOut)
/* harmony export */ });
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/animations */ 24851);

const slideInOut = [
    (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("slideInOut", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.state)("1", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({ height: "*" })),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.state)("0", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({ height: "0px" })),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)("1 <=> 0", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(200))
    ])
];
function FadeIn(timingIn, height = false) {
    return (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("fadeIn", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)(":enter", [
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 0, height: 0, } : { opacity: 0, }),
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(timingIn, (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 1, height: "fit-content" } : { opacity: 1, })),
        ]),
    ]);
}
function fadeOut(timingOut, height = false) {
    return (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("fadeOut", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)(":leave", [
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(timingOut, (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 0, height: 0, } : { opacity: 0, })),
        ])
    ]);
}
function FadeInOut(timingIn, timingOut, height = false) {
    return (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("fadeInOut", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)(":enter", [
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 0, height: 0, } : { opacity: 0, }),
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(timingIn, (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 1, height: "fit-content" } : { opacity: 1, })),
        ]),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)(":leave", [
            (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)(timingOut, (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)(height ? { opacity: 0, height: 0, } : { opacity: 0, })),
        ])
    ]);
}
const SlideInOutAnimation = [
    (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.trigger)("slideInOut", [
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.state)("in", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
            "max-height": "500px", "opacity": "1", "visibility": "visible"
        })),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.state)("out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
            "max-height": "0px", "opacity": "0", "visibility": "hidden"
        })),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)("in => out", [(0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.group)([
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("400ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "opacity": "0"
                })),
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("600ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "max-height": "0px"
                })),
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("700ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "visibility": "hidden"
                }))
            ])]),
        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.transition)("out => in", [(0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.group)([
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("1ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "visibility": "visible"
                })),
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("600ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "max-height": "500px"
                })),
                (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.animate)("800ms ease-in-out", (0,_angular_animations__WEBPACK_IMPORTED_MODULE_0__.style)({
                    "opacity": "1"
                }))
            ])])
    ]),
];


/***/ }),

/***/ 50046:
/*!********************************************************!*\
  !*** ./src/app/shared/enums/emp-hire-doc-type.enum.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EEmpHireDocType": () => (/* binding */ EEmpHireDocType)
/* harmony export */ });
var EEmpHireDocType;
(function (EEmpHireDocType) {
    EEmpHireDocType[EEmpHireDocType["attached"] = 1] = "attached";
    EEmpHireDocType[EEmpHireDocType["handDelivery"] = 2] = "handDelivery";
    EEmpHireDocType[EEmpHireDocType["notNeed"] = 3] = "notNeed";
})(EEmpHireDocType || (EEmpHireDocType = {}));
(function (EEmpHireDocType) {
    function getValue(docType) {
        switch (docType) {
            case EEmpHireDocType.attached:
                return "attachment";
            case EEmpHireDocType.handDelivery:
                return "isHandDelivered";
            case EEmpHireDocType.notNeed:
                return "notNeed";
            default:
                return "";
        }
    }
    EEmpHireDocType.getValue = getValue;
})(EEmpHireDocType || (EEmpHireDocType = {}));


/***/ })

}]);
//# sourceMappingURL=src_app_personnel-setup_personnel-setup_module_ts.js.map