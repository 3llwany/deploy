"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[993],{3710:(z,Z,r)=>{r.d(Z,{r:()=>h});var f=r(94650),I=r(67579),d=r(24280);let h=(()=>{class l{constructor(c){this.viewsService=c,this.loadingService=(0,f.f3M)(I.b),this.UserModules=this.viewsService.UserModules$.getValue(),this.loading=document.getElementById("page-loading")}canActivate(c,e){return!0}showLoading(){this.loading.style.display="block",this.loading.style.opacity="1",this.loading.style.zIndex="998"}hideLoading(){this.loading.style.display="none",this.loading.style.opacity="0",this.loading.style.zIndex="0"}}return l.\u0275fac=function(c){return new(c||l)(f.LFG(d.Z))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},63993:(z,Z,r)=>{r.r(Z),r.d(Z,{AttendanceSetupModule:()=>Je});var f=r(36895),I=r(80458),d=r(24006),h=r(30671),l=r(15602),g=r(95751),c=r(78937),e=r(94650),y=r(18521);let B=(()=>{class i extends y.K{constructor(){super()}create(t){return this.post("AttendanceSetup/OfficialHoliday/Create",t)}update(t){return this.post("AttendanceSetup/OfficialHoliday/Edit",t)}getList(t){return this.get("AttendanceSetup/OfficialHoliday/GetList",{params:t})}getById(t){return this.get("AttendanceSetup/OfficialHoliday/GetAll",{params:{$filter:`id eq ${t}`}})}getAll(){return this.get("AttendanceSetup/OfficialHoliday/GetAll")}Delete(t){return this.delete("AttendanceSetup/OfficialHoliday/Delete",{params:{Id:t}})}exportExcel(){this.getAll()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var S=r(25273),T=r(93410),L=r(56500),C=r(57566),v=r(46896),m=r(73546),N=r(44850),_=r(86405);function Y(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let U=(()=>{class i extends g.U{constructor(t){super(),this.holidayService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[d.kI.required,c.w.whiteSpace]],en_Name:[null,[d.kI.required,c.w.whiteSpace]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new h.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.holidayService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==l.u.Success?(this.dataSource=new h.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount):this.errorList(s?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const t={ID:this.form.value.id,Ar_Name:this.form.value.ar_Name,En_Name:this.form.value.en_Name};0==t.ID?this.create(t):this.update(t)}}create(t){this.showLoading(),this.holidayService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.holidayService.update(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}holidayToEdit(t){this.form.patchValue(t)}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}navigateToCalendar(t){this.router.navigate([`attendance-setup/${this.moduleId}/holidays-calendar/${t.id}`])}delete(t){this.showLoading(),this.holidayService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg(a?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),t.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(a?.message?.messages)})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-official-holidays"]],features:[e.qOj],decls:18,vars:15,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","officialHolidays","editTitle","editHoliday",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","exportService","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"mat-card-content",4)(7,"form",5)(8,"div",0)(9,"div",6),e._UZ(10,"app-input",7),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"app-input",8),e.qZA()()()(),e.TgZ(13,"mat-card-actions",9)(14,"submit-btn",10),e.NdJ("onClick",function(){return a.submit()}),e.qZA(),e.YNc(15,Y,1,0,"reset-form-btn",11),e.qZA(),e._UZ(16,"mat-divider"),e.TgZ(17,"app-material-table",12),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("editRow",function(s){return a.holidayToEdit(s)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("id",a.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.en_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.ar_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",a.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions)("exportService",a.holidayService))},dependencies:[f.O5,S.a,T.I,L.J,C.p,v.T,m.a8,m.dn,m.n5,m.hq,N.d,_.Ro,d._Y,d.JL,d.sg]}),i})(),G=(()=>{class i extends y.K{constructor(){super()}create(t){return this.post("AttendanceSetup/AttDevice/Create",t)}update(t){return this.post("AttendanceSetup/AttDevice/Edit",t)}getList(t){return this.get("AttendanceSetup/AttDevice/GetList",{params:t})}getAll(){return this.get("AttendanceSetup/AttDevice/GetAll")}Delete(t){return this.delete("AttendanceSetup/AttDevice/Delete",{params:{Id:t}})}exportExcel(){this.getAll()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function H(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let j=(()=>{class i extends g.U{constructor(t){super(),this.attendanceDeviceService=t,this.submitted=!1,this.mandatoryColomns=["id","name","machineIP","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],name:[null,[d.kI.required,c.w.whiteSpace]],machineIP:[null,[d.kI.required,c.w.whiteSpace]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new h.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.attendanceDeviceService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==l.u.Success?(this.dataSource=new h.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount):this.errorList(s?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const t={ID:this.form.value.id,Name:this.form.value.name,MachineIP:this.form.value.machineIP};0==t.ID?this.create(t):this.update(t)}}create(t){this.showLoading(),this.attendanceDeviceService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.attendanceDeviceService.update(t).subscribe(a=>{a.message.messageType==l.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}onDelete(t){this.deleteDialog(t.name).subscribe(a=>{a&&this.delete(t)})}delete(t){this.showLoading(),this.attendanceDeviceService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg(a?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),t.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(a?.message?.messages),this.hideLoading()})}attendanceDeviceTOEdit(t){this.form.patchValue(t)}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-device"]],features:[e.qOj],decls:20,vars:15,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","attendanceDevices","editTitle","attendanceDeviceEdit",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","name",3,"control","submitted"],["label","machineIP",3,"control","submitted"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"mat-card-content",4)(7,"div",0)(8,"div",1)(9,"form",5)(10,"div",0)(11,"div",6),e._UZ(12,"app-input",7),e.qZA(),e.TgZ(13,"div",6),e._UZ(14,"app-input",8),e.qZA()()()()()(),e.TgZ(15,"mat-card-actions",9)(16,"submit-btn",10),e.NdJ("onClick",function(){return a.submit()}),e.qZA(),e.YNc(17,H,1,0,"reset-form-btn",11),e.qZA(),e._UZ(18,"mat-divider"),e.TgZ(19,"app-material-table",12),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("editRow",function(s){return a.attendanceDeviceTOEdit(s)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("id",a.formCtrls.id.value),e.xp6(4),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.machineIP)("submitted",a.submitted),e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",a.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.attendanceDeviceService)("actions",a.rowFunctions))},dependencies:[f.O5,S.a,T.I,L.J,C.p,v.T,m.a8,m.dn,m.n5,m.hq,N.d,_.Ro,d._Y,d.JL,d.sg]}),i})();var V=r(37734),F=r(39709),W=r(96391);let X=(()=>{class i extends g.U{constructor(t){super(),this.permissionService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","name","num_Permission_Per_Month","num_Permission_Per_Year","enable_Validation","actions"],this.optionalColomns=["warningInsertAction","stopInsertAction","total_Hour_Per_Permission","total_Hour_Per_Month"]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new h.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.permissionService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==l.u.Success){if(0==s.data.length&&t>1)return void this.getList(t-1);this.dataSource=new h.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount}else this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.permissionService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg(a?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-permission-index"]],features:[e.qOj],decls:7,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","permissionType",3,"globalFunctions"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.permissionService)("actions",a.rowFunctions))},dependencies:[T.I,v.T,m.a8,m.n5,_.Ro]}),i})();var x=r(7494),K=r(97986),$=r(37343);let ee=(()=>{class i extends g.U{constructor(t){super(),this.vacationService=t,this.isLoaded=!1,this.mandatoryColomns=["Ser","id","en_Name","allow_Post","max_Post_Days","offecial_Vaction_Included","actions"],this.optionalColomns=["display_In_Result","variableCode","defaultBalance","day_Off_Included","isRenew","renew_Day","renew_Month","renew_Period","number_of_Earning","isDefault","is_Paid","canBeRequestedToday","maxRelatedBal","deductible_Value","relatedVacationId","relatedVacationPriority","hasAttashment","calculate_Balance","calculate_Balance_By_Contract","number_Days_month","reportOrder","gender"]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new h.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.vacationService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType===l.u.Success?(this.dataSource=new h.by((0,K.U)(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount):this.errorList(s?.message?.messages)})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.vacationService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg(a.message.messageTypeName),this.getList(1==this.dataSource.data.length&&this.page.pageIndex>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36($.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vacation-index"]],features:[e.qOj],decls:7,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","vacationType",3,"globalFunctions"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.vacationService)("actions",a.rowFunctions))},dependencies:[T.I,v.T,m.a8,m.n5,_.Ro]}),i})();var O=r(26315);let ae=(()=>{class i extends y.K{constructor(){super()}create(t){return this.post("AttendanceSetup/Element/Create",t)}update(t){return this.post("AttendanceSetup/Element/Edit",t)}getList(t){return this.get("AttendanceSetup/Element/GetList",{params:{...t,$expand:`${O.db.Att_Attendance_Element},${O.db.PAY_Variable}`}})}getAll(){return this.get("AttendanceSetup/Element/GetAll")}Delete(t){return this.delete("AttendanceSetup/Element/Delete",{params:{Id:t}})}exportExcel(){this.getAll()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var M=r(12613);function ie(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let se=(()=>{class i extends g.U{constructor(t){super(),this.attendanceElementService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","arName","name","code","actions"],this.optionalColomns=["display_In_Result"],this.isLoaded=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],arName:[null,[d.kI.required,c.w.whiteSpace]],name:[null,[d.kI.required,c.w.whiteSpace]],code:[null,[d.kI.required]],display_In_Result:[!1]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new h.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.attendanceElementService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==l.u.Success?(this.dataSource=new h.by(function te(i){return i.map(n=>({...n,arName:n.att_Attendance_Element?.ar_Name,name:n.att_Attendance_Element?.en_Name,code:n.att_Attendance_Element?.code,id:n.att_Attendance_Element?.id,display_In_Result:n.paY_Variable?.display_In_Result}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount):this.errorList(s?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const t={element:{id:this.form.value.id,en_Name:this.form.value.name,ar_Name:this.form.value.arName,code:this.form.value.code},display_In_Result:this.form.value.display_In_Result};0==t.element.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.attendanceElementService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.attendanceElementService.update(t).subscribe(a=>{a.message.messageType==l.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}attendanceElementToEdit(t){this.form.patchValue(t)}onDelete(t){let a=this.msgTranslate(t.arName,t.name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.attendanceElementService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg(a?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),t.attendance_Element_ID==this.formCtrls.id.value&&this.clearForm()):this.errorList(a?.message?.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0,display_In_Result:!1}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ae))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-element"]],features:[e.qOj],decls:23,vars:18,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","attendance_Element","editTitle","edit_Attendance_Element",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-4","col-12"],["label","ar_Name",3,"control","submitted"],["label","en name",3,"control","submitted"],["label","code",3,"control","submitted"],[1,"col-md-4","col-12","p-2","align-text-center"],["label","display_In_Result",3,"control"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","deleteRow","editRow"],[3,"click"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"mat-card-content",4)(7,"form",5)(8,"div",0)(9,"div",6),e._UZ(10,"app-input",7),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"app-input",8),e.qZA(),e.TgZ(13,"div",6),e._UZ(14,"app-input",9),e.qZA()(),e.TgZ(15,"div",0)(16,"div",10),e._UZ(17,"app-check-box",11),e.qZA()()()(),e.TgZ(18,"mat-card-actions",12)(19,"submit-btn",13),e.NdJ("onClick",function(){return a.submit()}),e.qZA(),e.YNc(20,ie,1,0,"reset-form-btn",14),e.qZA(),e._UZ(21,"mat-divider"),e.TgZ(22,"app-material-table",15),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)})("editRow",function(s){return a.attendanceElementToEdit(s)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("id",a.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.arName)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.code)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.display_In_Result),e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",a.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.attendanceElementService)("actions",a.rowFunctions))},dependencies:[f.O5,S.a,T.I,M.u,L.J,C.p,v.T,m.a8,m.dn,m.n5,m.hq,N.d,_.Ro,d._Y,d.JL,d.sg]}),i})(),ne=(()=>{class i extends y.K{constructor(){super()}create(t){return this.post("AttendanceSetup/OverTimeType/Create",t)}update(t){return this.post("AttendanceSetup/OverTimeType/Edit",t)}getList(t){return this.get("AttendanceSetup/OverTimeType/GetList",{params:t})}getAll(){return this.get("AttendanceSetup/OverTimeType/GetAll")}Delete(t){return this.delete("AttendanceSetup/OverTimeType/Delete",{params:{Id:t}})}exportExcel(){this.getAll()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function oe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let re=(()=>{class i extends g.U{constructor(t){super(),this.overTimeTypeService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","name","ar_Name","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],name:[null,[d.kI.required,c.w.whiteSpace]],ar_Name:[null,[d.kI.required,c.w.whiteSpace]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new h.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.overTimeTypeService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==l.u.Success?(this.dataSource=new h.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount):this.errorList(s?.message?.messages)})}submit(){if(this.submitted=!0,this.form.valid){const t={ID:this.form.value.id,Ar_Name:this.form.value.ar_Name,Name:this.form.value.name};0==t.ID?this.create(t):this.update(t)}}create(t){this.showLoading(),this.overTimeTypeService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.clearForm(),this.getList(this.lastPage,this.page.pageSize),this.addSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.overTimeTypeService.update(t).subscribe(a=>{a.message.messageType==l.u.Success?(this.clearForm(),this.getList(this.currentPage,this.page.pageSize),this.updateSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}attendanceElementToEdit(t){this.form.patchValue(t)}onDelete(t){this.deleteDialog(t.name).subscribe(a=>{a&&this.delete(t)})}delete(t){this.showLoading(),this.overTimeTypeService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg(a?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),t.id==this.formCtrls.id.value&&this.clearForm()):this.errorList(a?.message?.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ne))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-over-time-type"]],features:[e.qOj],decls:18,vars:15,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","overtimetype","editTitle","editOverTimeType",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["align","end"],[3,"id","onClick"],[3,"click",4,"ngIf"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","exportService","onChangePage","editRow","deleteRow"],[3,"click"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"mat-card-content",4)(7,"form",5)(8,"div",0)(9,"div",6),e._UZ(10,"app-input",7),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"app-input",8),e.qZA()()()(),e.TgZ(13,"mat-card-actions",9)(14,"submit-btn",10),e.NdJ("onClick",function(){return a.submit()}),e.qZA(),e.YNc(15,oe,1,0,"reset-form-btn",11),e.qZA(),e._UZ(16,"mat-divider"),e.TgZ(17,"app-material-table",12),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("editRow",function(s){return a.attendanceElementToEdit(s)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("id",a.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.ar_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",a.formCtrls.id.value>0),e.xp6(2),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("actions",a.rowFunctions)("exportService",a.overTimeTypeService))},dependencies:[f.O5,S.a,T.I,L.J,C.p,v.T,m.a8,m.dn,m.n5,m.hq,N.d,_.Ro,d._Y,d.JL,d.sg]}),i})();var E=r(25470),R=r(61064),le=r(47383),de=r(52682);function me(i,n){if(1&i&&e._UZ(0,"app-add-new-btn",40),2&i){const t=e.oxw();e.MGl("url","/attendance-setup/",t.moduleId,"/shifts/add"),e.Q6J("params",t.pageParams)}}function ce(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearForm())}),e.qZA()}}let Q=(()=>{class i extends g.U{constructor(t){super(),this.shiftsService=t,this.shiftId=0,this.submitted=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.shiftId=Number(t.get("shiftId"))??0}),this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_Name:[null,[d.kI.required,c.w.whiteSpace]],en_Name:[null,[d.kI.required,c.w.whiteSpace]],is_Just_Attend:[!1],is_Target:[!1],hour_Number:[null,[d.kI.required,d.kI.min(0)]],ovt_Target_Factor:[null,d.kI.min(0)],ovt_Target_Max_Limit:[null,d.kI.min(0)],delay_Tolerance:[null,d.kI.min(0)],across_Mid_Night:[!1],isNight:[!1],is_DefaultAttend:[!1],calc_Delay_From:[null],calc_Departure_From:[null],start_Time_Lower_Limit:[null],start_Time_Upper_Limit:[null],end_Time_Lower_Limit:[null,{disable:!0}],end_Time_Upper_Limit:[null],start_Time:[null],end_Time:[null]},{validator:[c.w.timeAfter("end_Time","start_Time"),c.w.timeBefore("start_Time_Lower_Limit","start_Time"),c.w.timeBefore("start_Time_Lower_Limit","end_Time"),c.w.timeAfter("calc_Departure_From","calc_Delay_From"),c.w.timeAfter("calc_Delay_From","start_Time"),c.w.timeBefore("calc_Departure_From","end_Time"),c.w.timeAfter("start_Time_Upper_Limit","start_Time_Lower_Limit"),c.w.timeAfter("end_Time_Upper_Limit","end_Time_Lower_Limit"),c.w.timeAfter("end_Time_Upper_Limit","end_Time"),c.w.timeAfter("start_Time_Upper_Limit","start_Time"),c.w.timeBefore("start_Time_Upper_Limit","end_Time")]}),this.formCtrls.start_Time.valueChanges.subscribe(t=>{this.calcHourNumber()}),this.formCtrls.end_Time.valueChanges.subscribe(t=>{this.calcHourNumber()})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.getShiftsById()}onchangeJustAttend(t){["hour_Number","ovt_Target_Factor","ovt_Target_Max_Limit","across_Mid_Night","delay_Tolerance","isNight","is_DefaultAttend","end_Time","calc_Delay_From","calc_Departure_From","start_Time"].forEach(o=>{t?(this.formCtrls.is_Target.setValue(!1),this.form.get(o).disable(),this.form.get(o).reset()):this.form.get(o).enable()})}onchangeTarget(t){["start_Time","end_Time","calc_Delay_From","calc_Departure_From","isNight","is_DefaultAttend"].forEach(o=>{t?(this.formCtrls.is_Just_Attend.setValue(!1),this.form.get(o).disable(),this.form.get(o).reset(),this.formCtrls.hour_Number.enable(),this.formCtrls.ovt_Target_Max_Limit.enable(),this.formCtrls.ovt_Target_Factor.enable(),this.formCtrls.across_Mid_Night.enable(),this.formCtrls.delay_Tolerance.enable()):this.form.get(o).enable()})}calcHourNumber(){this.formCtrls?.hour_Number?.disable();let t=new Date("01/01/2000 "+this.formCtrls.start_Time.value),a=new Date("01/01/2000 "+this.formCtrls.end_Time.value);var o=t.getHours(),s=a.getHours(),Ue=t.getMinutes();let q=s-o+(a.getMinutes()-Ue)/60;this.formCtrls.hour_Number.setValue(q||null)}changeStartTimeUpperLimit(){this.formCtrls.end_Time_Lower_Limit.disable();let t=new Date("01/01/2000 "+this.formCtrls.start_Time_Upper_Limit.value);t.setSeconds(t.getSeconds()+1);var a=t.toTimeString().split(" ")[0];this.formCtrls.end_Time_Lower_Limit.setValue(a),this.formCtrls.end_Time_Lower_Limit.disable()}submit(){if(this.submitted=!0,this.form.valid){const t={id:this.form.value.id,ar_Name:this.form.value.ar_Name,en_Name:this.form.value.en_Name,start_Time:this.form.value.start_Time,end_Time:this.form.value.end_Time,across_Mid_Night:this.form.value.across_Mid_Night,is_Target:this.form.value.is_Target,ovt_Target_Factor:this.form.value.ovt_Target_Factor,delay_Tolerance:this.form.value.delay_Tolerance,calc_Delay_From:this.form.value.calc_Delay_From,calc_Departure_From:this.form.value.calc_Departure_From,is_Just_Attend:this.form.value.is_Just_Attend,is_DefaultAttend:this.form.value.is_DefaultAttend,hour_Number:this.form.value.hour_Number,isNight:this.form.value.isNight,ovt_Target_Max_Limit:this.form.value.ovt_Target_Max_Limit,start_Time_Lower_Limit:this.form.value.start_Time_Lower_Limit,start_Time_Upper_Limit:this.form.value.start_Time_Upper_Limit,end_Time_Lower_Limit:this.form.value.end_Time_Lower_Limit,end_Time_Upper_Limit:this.form.value.end_Time_Upper_Limit};0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.shiftsService.create(t).subscribe(a=>{a?.message?.messageType==l.u.Success?(this.addSuccessfullyMsg(a?.message?.messageTypeName),this.shiftId=a.data.id):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.shiftsService.update(t).subscribe(a=>{a.message.messageType==l.u.Success?(this.shiftId=a.data.id,this.updateSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}getShiftsById(){this.shiftsService.getById(this.shiftId).subscribe(t=>{(t.message.messageType=l.u.Success)&&this.form.patchValue(t.data[0])})}clearForm(){this.form.reset({id:0}),this.submitted=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-shifts"]],features:[e.qOj],decls:59,vars:40,consts:[[1,"row"],[1,"col-12"],[1,"p-2","form-card"],["addTitle","shifts","editTitle","editShifts",3,"id"],["label","addshifts",3,"url","params",4,"ngIf"],[3,"url","params"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["label","ar_Name",3,"control","submitted"],["label","en_Name",3,"control","submitted"],[1,"row","mb-2"],[1,"col-md-6","col-6"],["label","is_Just_Attend",3,"control","onChange"],["label","is_Target",3,"control","onChange"],[1,"row","mt-3"],[1,"col-md-3","col-12"],["label","hour_Number","type","number",3,"control","submitted"],["type","number","label","ovtTargetFactor",3,"control","submitted"],["type","number","label","ovtTargetMaxLimit",3,"control","submitted"],[1,"col-md-3","col-6"],["label","delay_Tolerance","type","number",3,"control","submitted"],[1,"row","mt-2"],[1,"col-md-4","col-6"],["label","acrossMidNight",3,"control"],[1,"col-md-4","col-12"],["label","isNight",3,"control"],[1,"col-md-4"],["label","is_DefaultAttend",3,"control"],["label","start_Time",3,"control","submitted"],["label","end_Time",3,"control","submitted"],["label","calc_Delay_From",3,"control","submitted"],["label","calc_Departure_From",3,"control","submitted"],["label","start_Time_Lower_Limit",3,"control","submitted"],["label","start_Time_Upper_Limit",3,"control","submitted","change"],["label"," end_Time_Lower_Limit",3,"control","submitted"],["label","end_Time_Upper_Limit",3,"control","submitted"],["align","end",1,"m-2"],[3,"id","onClick"],[3,"click",4,"ngIf"],["label","addshifts",3,"url","params"],[3,"click"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.YNc(6,me,1,2,"app-add-new-btn",4),e._UZ(7,"app-back-btn",5),e.qZA(),e.TgZ(8,"mat-card-content",6)(9,"form",7)(10,"div",0)(11,"div",8),e._UZ(12,"app-input",9),e.qZA(),e.TgZ(13,"div",8),e._UZ(14,"app-input",10),e.qZA()(),e.TgZ(15,"div",11)(16,"div",12)(17,"app-check-box",13),e.NdJ("onChange",function(s){return a.onchangeJustAttend(s)}),e.qZA()(),e.TgZ(18,"div",12)(19,"app-check-box",14),e.NdJ("onChange",function(s){return a.onchangeTarget(s)}),e.qZA()()(),e.TgZ(20,"div",15)(21,"div",16),e._UZ(22,"app-input",17),e.qZA(),e.TgZ(23,"div",16),e._UZ(24,"app-input",18),e.qZA(),e.TgZ(25,"div",16),e._UZ(26,"app-input",19),e.qZA(),e.TgZ(27,"div",20),e._UZ(28,"app-input",21),e.qZA()(),e.TgZ(29,"div",22)(30,"div",23),e._UZ(31,"app-check-box",24),e.qZA(),e.TgZ(32,"div",25),e._UZ(33,"app-check-box",26),e.qZA(),e.TgZ(34,"div",27),e._UZ(35,"app-check-box",28),e.qZA()(),e.TgZ(36,"div",22)(37,"div",8),e._UZ(38,"app-timepicker",29),e.qZA(),e.TgZ(39,"div",8),e._UZ(40,"app-timepicker",30),e.qZA()(),e.TgZ(41,"div",22)(42,"div",8),e._UZ(43,"app-timepicker",31),e.qZA(),e.TgZ(44,"div",8),e._UZ(45,"app-timepicker",32),e.qZA()(),e.TgZ(46,"div",0)(47,"div",8),e._UZ(48,"app-timepicker",33),e.qZA(),e.TgZ(49,"div",8)(50,"app-timepicker",34),e.NdJ("change",function(){return a.changeStartTimeUpperLimit()}),e.qZA()()(),e.TgZ(51,"div",0)(52,"div",8),e._UZ(53,"app-timepicker",35),e.qZA(),e.TgZ(54,"div",8),e._UZ(55,"app-timepicker",36),e.qZA()()()(),e.TgZ(56,"mat-card-actions",37)(57,"submit-btn",38),e.NdJ("onClick",function(){return a.submit()}),e.qZA(),e.YNc(58,ce,1,0,"reset-form-btn",39),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("id",a.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",a.shiftId>0),e.xp6(1),e.MGl("url","/attendance-setup/",a.moduleId,"/shifts/index"),e.Q6J("params",a.pageParams),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.ar_Name)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.en_Name)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.is_Just_Attend),e.xp6(2),e.Q6J("control",a.formCtrls.is_Target),e.xp6(3),e.Q6J("control",a.formCtrls.hour_Number)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.ovt_Target_Factor)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.ovt_Target_Max_Limit)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.delay_Tolerance)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.across_Mid_Night),e.xp6(2),e.Q6J("control",a.formCtrls.isNight),e.xp6(2),e.Q6J("control",a.formCtrls.is_DefaultAttend),e.xp6(3),e.Q6J("control",a.formCtrls.start_Time)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.end_Time)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.calc_Delay_From)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.calc_Departure_From)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.start_Time_Lower_Limit)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.start_Time_Upper_Limit)("submitted",a.submitted),e.xp6(3),e.Q6J("control",a.formCtrls.end_Time_Lower_Limit)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.end_Time_Upper_Limit)("submitted",a.submitted),e.xp6(2),e.Q6J("id",a.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",a.formCtrls.id.value>0))},dependencies:[f.O5,S.a,M.u,R.a,le.E,de.J,L.J,C.p,v.T,m.a8,m.dn,m.n5,m.hq,_.Ro,d._Y,d.JL,d.sg]}),i})();var b=r(35478);let ue=(()=>{class i extends g.U{constructor(t){super(),this.shiftsService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","start_Time","end_Time","isNight","is_Just_Attend","actions"],this.optionalColomns=["end_Time_Lower_Limit","end_Time_Upper_Limit","calc_Delay_From","calc_Departure_From","is_Target","ovt_Target_Factor","ovt_Target_Max_Limit","start_Time_Lower_Limit","start_Time_Upper_Limit","delay_Tolerance","hour_Number","is_DefaultAttend","shift_Type_ID"],this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new h.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.shiftsService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==l.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new h.by(function pe(i){return i.map(n=>({...n,start_Time:b.M.mapTime(n.start_Time),end_Time:b.M.mapTime(n.end_Time),start_Time_Lower_Limit:b.M.mapTime(n.start_Time_Lower_Limit),start_Time_Upper_Limit:b.M.mapTime(n.start_Time_Upper_Limit),end_Time_Lower_Limit:b.M.mapTime(n.end_Time_Lower_Limit),end_Time_Upper_Limit:b.M.mapTime(n.end_Time_Upper_Limit),calc_Departure_From:b.M.mapTime(n.calc_Departure_From),calc_Delay_From:b.M.mapTime(n.calc_Delay_From)}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount}else this.errorList(s?.message?.messages);this.hideLoading()})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.shiftsService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg(a?.message?.messageTypeName),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-shifts-index"]],features:[e.qOj],decls:7,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","shifts",3,"globalFunctions"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("dataSource",a.dataSource)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.shiftsService)("actions",a.rowFunctions))},dependencies:[T.I,v.T,m.a8,m.n5,_.Ro]}),i})();var A=r(86280);let _e=(()=>{class i extends g.U{constructor(t){super(),this.planService=t,this.submitted=!1,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","actions"],this.optionalColomns=["start_date","end_date","group_Days","description"],this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new h.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,a){this.isLoaded=!1,this.page.pageIndex=t,a&&(this.page.pageSize=a),this.removePageParams(),this.planService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(s.message.messageType==l.u.Success){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new h.by(function he(i){return i.map(n=>({...n,start_date:b.M.mapDate(n.start_Date),end_date:b.M.mapDate(n.end_Date)}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount}else this.errorList(s?.message?.messages);this.hideLoading()})}onDelete(t){let a=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(a).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.planService.Delete(t.id).subscribe(a=>{a.message.messageType==l.u.Success?(this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize),this.deleteSuccessfullyMsg(a?.message?.messageTypeName)):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-plan-index"]],features:[e.qOj],decls:7,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","attendance_Plans",3,"globalFunctions"],[3,"isLoaded","mandatoryColomns","optionalColomns","page","exportService","actions","dataSource","onChangePage","deleteRow"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"app-material-table",4),e.NdJ("onChangePage",function(s){return a.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return a.onDelete(s)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("globalFunctions",a.globalFunctions),e.xp6(1),e.Q6J("isLoaded",a.isLoaded)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("page",a.page)("exportService",a.planService)("actions",a.rowFunctions)("dataSource",a.dataSource))},dependencies:[T.I,v.T,m.a8,m.n5,_.Ro]}),i})();var k=r(32521),w=r(43949);let fe=(()=>{class i extends y.K{constructor(){super()}create(t){return this.post("AttendanceSetup/AttendancePeriodSetup/Create",t)}update(t){return this.post("AttendanceSetup/AttendancePeriodSetup/Edit",t)}getObject(){return this.get("AttendanceSetup/AttendancePeriodSetup/GetObject")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ve=(()=>{class i extends g.U{constructor(t){super(),this.periodSetupServ=t,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNallable:!0}],startDay:[null,[d.kI.required,w.dN.lte(31),w.dN.gt(0)]],startMonth:[null,[d.kI.required,w.dN.lte(12),w.dN.gt(0)]]})}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.getObject()}get formCtrls(){return this.form.controls}create(t){this.showLoading(),this.periodSetupServ.create(t).subscribe(a=>{a.message.messageType==l.u.Success?this.addSuccessfullyMsg(a.message.messageTypeName):this.errorList(a?.message?.messages),this.hideLoading()})}submit(){if(this.form.valid){const t={month_setup:{id:this.form.value.id,startDay:this.form.value.startDay,startMonth:this.form.value.startMonth}};0==t.month_setup.id?this.create(t):this.update(t)}}update(t){this.showLoading(),this.periodSetupServ.update(t).subscribe(a=>{a.message.messageType==l.u.Success?this.updateSuccessfullyMsg(a.message.messageTypeName):this.errorList(a?.message?.messages),this.hideLoading()})}getObject(){this.showLoading(),this.periodSetupServ.getObject().subscribe(t=>{t.message.messageType==l.u.Success?this.form.patchValue(t.data.month_setup):this.errorList(t?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(fe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-period"]],features:[e.qOj],decls:15,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","attendancePeriod","editTitle","editattendancePeriod",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-4","col-12"],["type","number","label","startDay",3,"control","submitted"],["type","number","label","startMonth",3,"control","submitted"],["align","end"],[3,"id","onClick"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"mat-card-content",4)(7,"form",5)(8,"div",0)(9,"div",6),e._UZ(10,"app-input",7),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"app-input",8),e.qZA()()()(),e.TgZ(13,"mat-card-actions",9)(14,"submit-btn",10),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("id",a.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.startDay)("submitted",a.submitted),e.xp6(2),e.Q6J("control",a.formCtrls.startMonth)("submitted",a.submitted),e.xp6(2),e.Q6J("id",a.formCtrls.id.value))},dependencies:[S.a,C.p,v.T,m.a8,m.dn,m.n5,m.hq,_.Ro,d._Y,d.JL,d.sg]}),i})(),be=(()=>{class i extends y.K{constructor(){super()}create(t){return this.post("AttendanceSetup/AttendancePenaltyDeductionSetup/Create",t)}update(t){return this.post("AttendanceSetup/AttendancePenaltyDeductionSetup/Edit",t)}getObject(){return this.get("AttendanceSetup/AttendancePenaltyDeductionSetup/GetObject")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Te=(()=>{class i extends g.U{constructor(t){super(),this.penaltySetupServ=t,this.submitted=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNallable:!0}],maxDeductionLimitDays:[null,[w.dN.gt(0)]]})}get formCtrls(){return this.form.controls}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.getObject()}getObject(){this.showLoading(),this.penaltySetupServ.getObject().subscribe(t=>{t.message.messageType==l.u.Success?this.form.patchValue(t.data):this.errorList(t?.message?.messages),this.hideLoading()})}submit(){if(this.form.valid){const t={id:this.form.value.id,maxDeductionLimitDays:this.form.value.maxDeductionLimitDays};0==t.id?this.create(t):this.update(t)}}create(t){this.showLoading(),this.penaltySetupServ.create(t).subscribe(a=>{a.message.messageType==l.u.Success?this.addSuccessfullyMsg(a.message.messageTypeName):this.errorList(a?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.penaltySetupServ.update(t).subscribe(a=>{a.message.messageType==l.u.Success?this.updateSuccessfullyMsg(a.message.messageTypeName):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(be))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-penalty-setup"]],features:[e.qOj],decls:13,vars:5,consts:[[1,"row"],[1,"col-12"],[1,"form-card"],["addTitle","attendancePenaltySetup","editTitle","editattendancePenaltySetup",3,"id"],[1,"container-fluid"],[3,"formGroup"],[1,"col-md-6","col-12"],["type","number","label","maxDeductionLimitDays",3,"control","submitted"],["align","end"],[3,"id","onClick"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title"),e._UZ(5,"page-title",3),e.qZA(),e.TgZ(6,"mat-card-content",4)(7,"form",5)(8,"div",0)(9,"div",6),e._UZ(10,"app-input",7),e.qZA()()()(),e.TgZ(11,"mat-card-actions",8)(12,"submit-btn",9),e.NdJ("onClick",function(){return a.submit()}),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("id",a.formCtrls.id.value),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("control",a.formCtrls.maxDeductionLimitDays)("submitted",a.submitted),e.xp6(2),e.Q6J("id",a.formCtrls.id.value))},dependencies:[S.a,C.p,v.T,m.a8,m.dn,m.n5,m.hq,_.Ro,d._Y,d.JL,d.sg]}),i})();var D=r(54832);let Se=(()=>{class i extends g.U{constructor(t){super(),this.planService=t}ngOnInit(){}submit(t){delete t.plan.description,delete t.plan.group_Days,delete t.Att_Plan_ShiftList,t.plan.id&&this.create(t)}create(t){this.showLoading(),this.planService.createShrink(t).subscribe(a=>{a?.message?.messageType==l.u.Success?this.addSuccessfullyMsg(a?.message?.messageTypeName):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-shrink"]],features:[e.qOj],decls:2,vars:2,consts:[["pageTitle","shrink",3,"showDaysTable","disabelControls","onSubmit"]],template:function(t,a){1&t&&(e.TgZ(0,"app-plan-form",0),e.NdJ("onSubmit",function(s){return a.submit(s)}),e.qZA(),e._UZ(1,"ngx-spinner")),2&t&&e.Q6J("showDaysTable",!1)("disabelControls",!0)},dependencies:[_.Ro,D.d]}),i})(),Ce=(()=>{class i extends g.U{constructor(t){super(),this.planService=t}ngOnInit(){}submit(t){delete t.plan.description,delete t.plan.group_Days,delete t.Att_Plan_ShiftList,t.plan.id&&this.create(t)}create(t){this.showLoading(),this.planService.createExtendWithoutChange(t).subscribe(a=>{a?.message?.messageType==l.u.Success?this.addSuccessfullyMsg(a?.message?.messageTypeName):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-extendwithoutchange"]],features:[e.qOj],decls:2,vars:2,consts:[["pageTitle","extendWithoutChange",3,"showDaysTable","disabelControls","onSubmit"]],template:function(t,a){1&t&&(e.TgZ(0,"app-plan-form",0),e.NdJ("onSubmit",function(s){return a.submit(s)}),e.qZA(),e._UZ(1,"ngx-spinner")),2&t&&e.Q6J("showDaysTable",!1)("disabelControls",!0)},dependencies:[_.Ro,D.d]}),i})(),ye=(()=>{class i extends g.U{constructor(t){super(),this.planService=t}ngOnInit(){}submit(t){t?.plan?.id>=0&&this.create(t)}create(t){this.showLoading(),this.planService.createExtendWithChange(t).subscribe(a=>{a?.message?.messageType==l.u.Success?this.addSuccessfullyMsg(a?.message?.messageTypeName):this.errorList(a?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-extendwithchange"]],features:[e.qOj],decls:2,vars:2,consts:[["pageTitle","extendWithChange",3,"disabelControls","isExtendWithChange","onSubmit"]],template:function(t,a){1&t&&(e.TgZ(0,"app-plan-form",0),e.NdJ("onSubmit",function(s){return a.submit(s)}),e.qZA(),e._UZ(1,"ngx-spinner")),2&t&&e.Q6J("disabelControls",!0)("isExtendWithChange",!0)},dependencies:[_.Ro,D.d]}),i})();var Le=r(8929),Ae=r(7625),J=r(37084),we=r(49274);function Ze(i,n){if(1&i&&(e.TgZ(0,"div",2)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"translate"),e.qZA()(),e._UZ(7,"app-material-table",6),e.qZA()()),2&i){const t=n.$implicit,a=e.oxw();e.xp6(4),e.AsE(" ",e.lcZ(5,9,e.lcZ(6,11,"iteration"))," ",t.key," "),e.xp6(3),e.Q6J("isLoaded",a.isLoaded)("mandatoryColomns",a.mandatoryColomns)("optionalColomns",a.optionalColomns)("showPaginator",!1)("showFilter",!1)("showLoader",!1)("dataSource",t.value)}}let Ie=(()=>{class i extends g.U{constructor(t){super(),this.planServ=t,this.groupedPlans={},this.mandatoryColomns=["date","dayName","is_Basic","is_WeekEnd"],this.isLoaded=!1,this.optionalColomns=[],this.destroy$=new Le.xQ}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.planId=t.planId}),this.getPlansDetailsById(1)}getPlansDetailsById(t,a){this.page.pageIndex=t,a&&(this.page.pageSize=a),this.showLoading(),this.planServ.getDetailsById(this.planId).pipe((0,Ae.R)(this.destroy$)).subscribe(o=>{o?.message?.messageType==l.u.Success?this.groupedPlans=this.groupPlansByIterationNumber(function ge(i){return i.map(n=>({...n,dayName:b.M.getDayName(new Date(n.date)),date:b.M.mapDate(n.date)}))}(o.data)):this.errorList(o?.message?.messages),this.hideLoading()})}iterationNumberAscending(t,a){return t.key-a.key}groupPlansByIterationNumber(t){let a={};for(let o of t){let s=o.iterationNumber;a[s]||(a[s]=[]),a[s].push(o)}return a}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-plan-details"]],inputs:{planId:"planId"},features:[e.qOj],decls:10,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"mb-2"],["title","attendancePlansDetails"],[3,"url","params"],["class","mb-2",4,"ngFor","ngForOf"],[3,"isLoaded","mandatoryColomns","optionalColomns","showPaginator","showFilter","showLoader","dataSource"]],template:function(t,a){1&t&&(e._UZ(0,"ngx-spinner"),e.TgZ(1,"div",0)(2,"div",1)(3,"mat-card",2)(4,"mat-card-title")(5,"div"),e._UZ(6,"page-title",3)(7,"app-back-btn",4),e.qZA()()(),e.YNc(8,Ze,8,13,"div",5),e.ALo(9,"keyvalue"),e.qZA()()),2&t&&(e.xp6(7),e.MGl("url","/attendance-setup/",a.moduleId,"/plan/index"),e.Q6J("params",a.pageParams),e.xp6(1),e.Q6J("ngForOf",e.xi3(9,3,a.groupedPlans,a.iterationNumberAscending)))},dependencies:[f.sg,T.I,R.a,v.T,m.a8,m.n5,J.ib,J.yz,J.yK,_.Ro,f.rS,f.Nd,we.X$]}),i})();var P=r(36162),p=r(74513),u=r(3710);const Ne=[{path:"attendance-devices",component:j,data:{view:p.S.attendance_devices},canActivate:[u.r]},{path:"official-holidays",component:U,data:{view:p.S.official_holidays},canActivate:[u.r]},{path:"holidays-calendar/:holidayid",component:U,data:{view:p.S.holidays_calendar},canActivate:[u.r]},{path:"location",component:V.n,data:{view:p.S.location},canActivate:[u.r]},{path:"attendance-element",component:se,data:{view:p.S.attendance_element},canActivate:[u.r]},{path:"over-time-type",component:re,data:{view:p.S.over_time_type},canActivate:[u.r]},{path:"permissions",children:[{path:"",redirectTo:"index",pathMatch:P.U.full},{path:"index",component:X,data:{view:p.S.permission_index},canActivate:[u.r]},{path:"add",component:F.j,data:{view:p.S.add_permission},canActivate:[u.r]},{path:"edit/:permissionId",component:F.j,data:{view:p.S.edit_permission},canActivate:[u.r]}]},{path:"vacations",children:[{path:"",redirectTo:"index",pathMatch:P.U.full},{path:"index",component:ee,data:{view:p.S.vacation_index},canActivate:[u.r]},{path:"add",component:x.W,data:{view:p.S.add_vacation},canActivate:[u.r]},{path:"edit/:vacationId",component:x.W,data:{view:p.S.add_vacation},canActivate:[u.r]}]},{path:"shifts",children:[{path:"",redirectTo:"index",pathMatch:P.U.full},{path:"index",component:ue,data:{view:p.S.shifts_index},canActivate:[u.r]},{path:"add",component:Q,data:{view:p.S.add_shift},canActivate:[u.r]},{path:"edit/:shiftId",component:Q,data:{view:p.S.add_shift},canActivate:[u.r]}]},{path:"plan",children:[{path:"",redirectTo:"index",pathMatch:P.U.full},{path:"index",component:_e,data:{view:p.S.plan_index},canActivate:[u.r]},{path:"add",component:k.f,data:{view:p.S.add_plan},canActivate:[u.r]},{path:"edit/:planId",component:k.f,data:{view:p.S.add_plan},canActivate:[u.r]},{path:"shrink/:planId",component:Se,data:{view:p.S.shrink},canActivate:[u.r]},{path:"extend-without-change/:planId",component:Ce,data:{view:p.S.extend_without_change},canActivate:[u.r]},{path:"extend-with-change/:planId",component:ye,data:{view:p.S.extend_with_change},canActivate:[u.r]},{path:"details/:planId",component:Ie,data:{view:p.S.plan_details},canActivate:[u.r]}]},{path:"attendance-period",component:ve,data:{view:p.S.attendance_period},canActivate:[u.r]},{path:"attendance-penalty-setup",component:Te,data:{view:p.S.attendance_penalty_setup},canActivate:[u.r]}];let Pe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[I.Bz.forChild(Ne),I.Bz]}),i})();var De=r(62361);let Je=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.ez,Pe,De.m]}),i})()}}]);