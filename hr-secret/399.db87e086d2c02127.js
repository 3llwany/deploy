"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[399],{78399:(H,L,r)=>{r.r(L),r.d(L,{OrgManagementModule:()=>Qa});var c=r(36895),h=r(80458),g=r(30671),d=r(35478);function p(i,a){let n,t=[],o=[];for(;o.length<i.core_Org_Structure_Org.length;)C(i.core_Org_Structure_Org,o,t);return n=[{label:"structure",type:"org",styleClass:"structure-node",expanded:!0,data:{parentId:null,org:null,orgType:null,numEmp:0,structure:{id:null,ar_Name:i.ar_Name,en_Name:i.en_Name}},children:[]}],o.map(s=>{let y={label:`${s.core_Org?.code} - ${(0,d._f)(s.core_Org?.ar_Name,s.core_Org?.en_Name)}`,type:"org",styleClass:"org-node",expanded:!1,data:{parentId:s.parenT_ID,org:s.core_Org,orgType:{id:s.core_Org_TYPE?.id,ar_Name:s.core_Org_TYPE?.ar_Name,en_Name:s.core_Org_TYPE?.en_Name},structure:null,structureId:a,numEmp:s.numEmp},children:[]};s.parenT_ID?_(y,n[0].children):n[0].children.push(y)}),n}function C(i,a,t){i.forEach(o=>{(null==o.parenT_ID||t.includes(o.parenT_ID))&&!t.includes(o.orG_ID)&&(a.push(o),t.push(o.orG_ID))})}function _(i,a){a.map(t=>{t.data.org?.id!=i.data.parentId||t.children.push(i)}),a.map(t=>{_(i,t.children)})}function A(i){let a=[{label:i[0].code,type:"job-title",styleClass:"job-title-node",expanded:!1,data:i[0],children:[]}];return P(a[0]),a}function P(i){i.data.chiledJobTitles?.map(a=>{let t={label:a.code,type:"job-title",styleClass:"job-title-node",expanded:!1,data:a,children:[]};i.children.push(t),P(t)})}function S(i,a){let t=i.findIndex(n=>n.id==a),o=[];return t>=0&&(o=[{label:(0,d._f)(i[t]?.ar_Name,i[t]?.en_Name),type:"resources",styleClass:i[t].isSolidEmp?"":"dashed-border",expanded:!1,data:i[t],children:[]}],i.filter(n=>n.id!=a).map(n=>{let s={label:(0,d._f)(n.ar_Name,n.en_Name),type:"resources",styleClass:n.isSolidEmp?"":"dashed-border",expanded:!1,data:n,children:[]};n.parentID==a?o[0].children.push(s):n.id!=a&&Q(s,o[0].children)})),o}function Q(i,a){a.map(t=>{t.data.id!=i.data.parentID||t.children.push(i)}),a.map(t=>{Q(i,t.children)})}var u=r(15602),f=r(95751),b=r(74513),R=r(29341),l=r(24006),e=r(94650),E=r(56808),J=r(70137),He=r(91347),z=r(25273),ze=r(92393),O=r(57566),I=r(46896),m=r(73546),x=r(65938),fe=r(32399),Z=r(49274);function $e(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"org-structure-dropdown",12),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getStructureById())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.MGl("param","From_Date ge ",t.currentDate,""),e.Q6J("control",t.formCtrls.structureId)("submitted",t.submitted)("filter",!0)}}function Ke(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",4),e._UZ(2,"app-input",13),e.qZA(),e.TgZ(3,"div",4),e._UZ(4,"app-input",14),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"app-datepicker",15),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("control",t.formCtrls.ar_Name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.en_Name)("submitted",t.submitted),e.xp6(2),e.Q6J("control",t.formCtrls.EffectiveDate)("submitted",t.submitted)}}let We=(()=>{class i extends f.U{constructor(t){super(),this.orgStructureService=t,this.submitted=!1,this.modeList=[{value:!0,label:"addMode"},{value:!1,label:"editMode"}],this.currentDate=this.datePipe.transform(new Date,"yyyy-MM-dd")}ngOnInit(){this.form=this.fb.group({uploadfile:["orgStructure.xlsx"],file:[null,l.kI.required],AddMode:[!0,l.kI.required],ar_Name:[null,l.kI.required],en_Name:[null,l.kI.required],EffectiveDate:[null,l.kI.required],structureId:[null]})}get formCtrls(){return this.form.controls}upload(){this.submitted=!0;let o=d.M6.objectToFormData({file:this.formCtrls.file.value,AddMode:this.formCtrls.AddMode.value,ArabicName:this.formCtrls.ar_Name.value,EnglishName:this.formCtrls.en_Name.value,SelectedStructureToEdit:this.formCtrls.structureId.value,EffectiveDate:this.formCtrls.EffectiveDate.value});this.form.valid&&(this.showLoading(),this.orgStructureService.upload(o).subscribe(n=>{n.message.messageType==u.u.Success?(this.success("successfulUpload"),this.submitted=!1):this.errorList(n.message.messages),this.hideLoading()}))}download(){this.orgStructureService.download().subscribe(t=>{this.fileService.downloadBufferFile(t,"orgStructure.xlsx")})}changeMode(){this.formCtrls.ar_Name.setValue(null),this.formCtrls.en_Name.setValue(null),this.formCtrls.EffectiveDate.setValue(null),this.formCtrls.structureId.setValidators(this.formCtrls.addMode?null:l.kI.required)}getStructureById(){this.orgStructureService.getById(this.formCtrls.structureId.value).subscribe(t=>{this.form.patchValue(t.data[0]),this.formCtrls.EffectiveDate.setValue(t.data[0].froM_DATE)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-upload-org-structure-dialog"]],features:[e.qOj],decls:18,vars:17,consts:[["mat-dialog-title","",1,"primary-color","font-size-20","m-0"],["parentTitle","orgStructure","title","upload",1,"d-inline-block","mtop-10",3,"id"],[1,"container-fluid","mx-0"],[1,"row"],[1,"col-12"],["suffixIcon","pi pi-download",3,"control","prefixIcon","isPrefixSvg","readonly","clickSuffixIcon"],[3,"control","submitted","radioList","change"],["class","col-12",4,"ngIf"],[4,"ngIf"],[3,"control","submitted"],["align","end",1,"mb-0","mt-1"],["icon","pi pi-upload","label","upload",1,"w-95","m-auto","d-block",3,"styleClass","iconPositionBefore","onClick"],[3,"control","submitted","filter","param","change"],["label","ar_Name",3,"control","submitted"],["label","en_Name",3,"control","submitted"],["label","start_date",3,"control","submitted"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h4"),e._UZ(2,"page-title",1),e.qZA()(),e.TgZ(3,"mat-dialog-content",2)(4,"mat-card-subtitle"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",3)(8,"div",4)(9,"app-input",5),e.NdJ("clickSuffixIcon",function(){return o.download()}),e.qZA()(),e.TgZ(10,"div",4)(11,"app-radio-button",6),e.NdJ("change",function(){return o.changeMode()}),e.qZA()(),e.YNc(12,$e,2,4,"div",7),e.YNc(13,Ke,7,6,"ng-container",8),e.TgZ(14,"div",4),e._UZ(15,"app-file-input",9),e.qZA()(),e.TgZ(16,"mat-card-actions",10)(17,"submit-btn",11),e.NdJ("onClick",function(){return o.upload()}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("id",0),e.xp6(3),e.hij(" ",e.lcZ(6,15,"downloadTemplateAndFillItWithData")," "),e.xp6(4),e.Q6J("control",o.formCtrls.uploadfile)("prefixIcon",o.svg.excel)("isPrefixSvg",!0)("readonly",!0),e.xp6(2),e.Q6J("control",o.formCtrls.AddMode)("submitted",o.submitted)("radioList",o.modeList),e.xp6(1),e.Q6J("ngIf",!o.formCtrls.AddMode.value),e.xp6(1),e.Q6J("ngIf",!o.formCtrls.AddMode.value&&o.formCtrls.structureId.value||o.formCtrls.AddMode.value),e.xp6(2),e.Q6J("control",o.formCtrls.file)("submitted",o.submitted),e.xp6(2),e.MGl("styleClass","",o.btn.block," m-auto"),e.Q6J("iconPositionBefore",!1))},dependencies:[c.O5,J.Q,He.Y,z.a,ze._,O.p,I.T,m.$j,m.hq,x.uh,x.xY,fe.s,Z.X$]}),i})();var F=r(92510),ye=r(72986),V=r(73978);const Xe=[{name:(0,d._f)("\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a","Arabic Name"),id:"ar_Name",dataType:V.n.string},{name:(0,d._f)("\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0627\u0646\u062c\u0644\u064a\u0632\u064a","English Name"),id:"en_Name",dataType:V.n.string},{name:(0,d._f)("\u0645\u0646 \u062a\u0627\u0631\u064a\u062e","From Date"),id:"from_date",dataType:V.n.date},{name:(0,d._f)("\u0627\u0644\u064a \u062a\u0627\u0631\u064a\u062e","To Date"),id:"to_date",dataType:V.n.date}];var $=r(93410),ne=r(60544),se=r(76411),be=r(24369),ee=r(29721),N=r(78575);let et=(()=>{class i extends f.U{constructor(){super(),this.onChange=new e.vpe}ngOnInit(){this.form=this.fb.group({name:[null],orgIds:[null],from_date:[null],to_date:[null]}),this.currentFilter&&this.form.patchValue(this.currentFilter,{emitEvent:!1})}get formCtrls(){return this.form.controls}getConditionString(t){return[t.orgIds?(0,N.In)("id",t.orgIds):"",t.name?`${(0,N.yi)("ar_Name",t.name)} or ${(0,N.yi)("en_Name",t.name)}`:"",t.from_date?(0,N.J0)("from_date",t.from_date):"",t.to_date?(0,N.VE)("to_date",t.to_date):""].filter(Boolean).join(" and ")}ngOnDestroy(){const t=this.getConditionString(this.form.value);this.onChange.emit({conditionString:t,groups:this.form.value})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["org-structure-simple-search"]],inputs:{currentFilter:"currentFilter"},outputs:{onChange:"onChange"},features:[e.qOj],decls:10,vars:8,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-6","col-lg-3","col-12"],["label","structure",3,"control","filter","multi"],["label","name",3,"control","disabled"],[1,"col-md-4","col-lg-3","col-sm-6","col-12","mb-2"],["label","from_Date",3,"control"],[1,"col-md-4","col-lg-3","col-sm-6","col-12"],["label","to_Date",3,"control"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2),e._UZ(3,"org-structure-dropdown",3),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"app-input",4),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"app-datepicker",6),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"app-datepicker",8),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("control",o.formCtrls.orgIds)("filter",!0)("multi",!0),e.xp6(2),e.Q6J("control",o.formCtrls.name)("disabled",(null==o.formCtrls.orgIds.value?null:o.formCtrls.orgIds.value.length)>0),e.xp6(2),e.Q6J("control",o.formCtrls.from_date),e.xp6(2),e.Q6J("control",o.formCtrls.to_date))},dependencies:[J.Q,z.a,fe.s,l._Y,l.JL,l.sg]}),i})();const tt=["dialogTemplate"];function ot(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-simple-advanced-search",7),e.NdJ("advancedResults",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.getAdvanced(n))}),e.ynx(1,8),e.TgZ(2,"org-structure-simple-search",9),e.NdJ("onChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.getSimple(n))}),e.qZA(),e.BQk(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("currentFilter",t.advancedGroups)("ope",t.advancedOpe)("AdvancedColumns",t.AdvancedColumns),e.xp6(2),e.Q6J("currentFilter",t.simpleGroups)}}let it=(()=>{class i extends f.U{constructor(t){super(),this.orgStructureService=t,this.mandatoryColomns=["Ser","id","en_Name","ar_Name","froM_DATE","tO_DATE","actions"],this.isLoaded=!1,this.optionalColomns=[],this.dialogRef=null,this.usingSimple=!1,this.usingAdvanced=!1,this.AdvancedColumns=Xe}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,o){let s;this.dataSource=new g.by(null),this.isLoaded=!1,this.removePageParams(),this.page.pageIndex=t,o&&(this.page.pageSize=o),s=this.usingSimple?this.simpleCondition:this.usingAdvanced?this.advancedCondition:null,this.orgStructureService.getList({PageNumber:t,pageSize:this.page.pageSize},s).pipe(this.cancelRequest()).subscribe(y=>{if(y.message.messageType==u.u.Success){if(0==y.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new g.by(function D(i){return i.map(a=>({...a,froM_DATE:d.M6.mapDate(a.froM_DATE),tO_DATE:d.M6.mapDate(a.tO_DATE)}))}(y.data)),this.isLoaded=!0,this.page.length=y.meta.totalItemCount,this.page.meta=y.meta}else this.errorList(y?.message?.messages)})}onDelete(t){let o=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(o).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.orgStructureService.Delete(t.id).subscribe(o=>{o.message.messageType==u.u.Success?(this.deleteSuccessfullyMsg("orgStructureRemoved"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(o?.message?.messages),this.hideLoading()})}globalFunctionActions(t){t.viewName==b.S.upload_org_structure&&this.openUploadStructureDialog(),t.viewName==b.S.upload_kpi&&this.openUploadDialog({uploadPath:R.Z.upload_kpi,downloadPath:R.Z.download_kpi,name:"kpi"})}openUploadDialog(t){this.dialogsService.uploadDownloadDialog(t,{}).afterClosed().subscribe(o=>{})}openUploadStructureDialog(){this.dialogsService.addEditDialog(We,{},{maxWidth:"500px",panelClass:"dialog-emp-form"}).afterClosed().subscribe(t=>{})}onChangeFilterDrop(t){t==F.U.simple?this.openSearchDialog(F.U.simple):t==F.U.advanced?this.openSearchDialog(F.U.advanced):(this.usingSimple=!1,this.usingAdvanced=!1,this.advancedGroups=null,this.simpleGroups=null,this.getList(this.firstPage))}getSimple(t){this.simpleCondition=t.conditionString,this.simpleGroups=t.groups}getAdvanced(t){this.advancedCondition=t.conditionString,this.advancedGroups=t.groups,this.advancedOpe=t.ope}openSearchDialog(t){this.dialogRef&&this.dialogRef.close(),this.dialogRef=this.dialogsService.addEditDialog(this.dialogTemplate,t,{width:"60%"}),this.dialogRef.afterClosed().pipe((0,ye.q)(1)).subscribe(o=>{o?.isSimple?(this.usingSimple=!0,this.getList(this.firstPage,this.page.pageSize)):0==o?.isSimple?(this.usingAdvanced=!0,this.getList(this.firstPage,this.page.pageSize)):(this.usingSimple=!1,this.usingAdvanced=!1,this.resetDropdown=null,this.advancedGroups=null,this.simpleGroups=null,(this.simpleCondition||this.advancedCondition)&&this.getList(this.firstPage))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-org-structure-index"]],viewQuery:function(t,o){if(1&t&&e.Gf(tt,5),2&t){let n;e.iGM(n=e.CRH())&&(o.dialogTemplate=n.first)}},features:[e.qOj],decls:9,vars:16,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","orgStructure","parentTitle","orgManagement","TitleHasGlobalFunc","",3,"globalFunctions","action"],[1,"index-card"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","showSearchDropdown","searchDropdownList","selectedValueInSearchDropdown","selectSearchItem","onChangePage","deleteRow"],["dialogTemplate",""],[3,"title"],[3,"serviceId","moduleId"],[3,"currentFilter","ope","AdvancedColumns","advancedResults"],[1,"simple"],[3,"currentFilter","onChange"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0)(1,"page-title",1),e.NdJ("action",function(s){return o.globalFunctionActions(s)}),e.qZA()(),e.TgZ(2,"mat-card",2)(3,"app-material-table",3),e.NdJ("selectSearchItem",function(s){return o.onChangeFilterDrop(s)})("onChangePage",function(s){return o.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return o.onDelete(s)}),e.qZA()(),e.YNc(4,ot,3,4,"ng-template",null,4,e.W1O),e.TgZ(6,"side-helping-menu",5),e.ALo(7,"translate"),e._UZ(8,"app-dashboard-display",6),e.qZA()),2&t&&(e.xp6(1),e.Q6J("globalFunctions",o.globalFunctions),e.xp6(2),e.Q6J("isLoaded",o.isLoaded)("dataSource",o.dataSource)("mandatoryColomns",o.mandatoryColomns)("optionalColomns",o.optionalColomns)("page",o.page)("exportService",o.orgStructureService)("actions",o.rowFunctions)("showSearchDropdown",!0)("searchDropdownList",o.simpleAdvancedSearch)("selectedValueInSearchDropdown",o.resetDropdown),e.xp6(3),e.s9C("title",e.lcZ(7,14,"Dashboard")),e.xp6(2),e.Q6J("serviceId",o.getCurrentServiceId())("moduleId",o.moduleId))},dependencies:[$.I,I.T,ne.c,se.b,be.c,ee.X,m.a8,m.n5,et,Z.X$]}),i})();var Ce=r(78937),te=r(61064),re=r(52682),at=r(56500),oe=r(68506),B=r(10805),ie=r(57772),nt=r(12574),ve=r(77304),q=r(4859),Te=r(26941);let st=(()=>{class i extends f.U{constructor(t,o,n,s){super(),this.orgStructureService=t,this.organizationsService=o,this.dialogRef=n,this.data=s,this.submitted=!1,this.viewName=b.S.add_organization}ngOnInit(){this.form=this.fb.group({org_Structure_ID:[null],parenT_ID:[null],orG_TYPE_ID:[null,[l.kI.required]],orG_ID:[null,[l.kI.required]]}),this.getFormValues()}onChangeBusinessAndCompanyId(){this.formCtrls.org_Structure_ID.value>0&&this.checkNoBusinessOrCompany()&&this.getAllUnAssignedOrganizationsByStructureId()}getFormValues(){this.form.patchValue(this.data),setTimeout(()=>{this.form.value.parenT_ID||(this.formCtrls.orG_TYPE_ID.disable(),this.formCtrls.orG_TYPE_ID.setValue(1))},100)}get formCtrls(){return this.form.controls}submit(){this.submitted=!0,this.form.valid&&this.create({core_Org_Structure_Org:{org_Structure_ID:this.formCtrls.org_Structure_ID.value,orG_TYPE_ID:this.formCtrls.orG_TYPE_ID.value,orG_ID:this.formCtrls.orG_ID.value,parenT_ID:this.formCtrls.parenT_ID.value}})}create(t){this.showLoading(),this.orgStructureService.createNode(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.addSuccessfullyMsg("canRemoveFromIndex","newOrgStructureNodeAdded"),this.dialogRef.close(!0)):this.errorList(o?.message?.messages),this.hideLoading()})}getAllUnAssignedOrganizationsByStructureId(t){this.organizationList=null,this.organizationsService.GetAllUnAssignedByStructureId(this.formCtrls.org_Structure_ID.value).pipe(this.cancelRequest()).subscribe(o=>{o.message.messageType==u.u.Success?(this.organizationList=o.data,t&&this.formCtrls.orG_ID.setValue(t)):this.errorList(o?.message?.messages)})}createDialog(t){this.dialogsService.addFromDropdownDialog(nt.$,t,0,{width:"25vw",minWidth:"400px",maxWidth:"500px",panelClass:"setup-dialog"}).afterClosed().subscribe(o=>{this.getAllUnAssignedOrganizationsByStructureId(o.newId)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E._),e.Y36(ve.z),e.Y36(x.so),e.Y36(x.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-org-structure-node"]],features:[e.qOj],decls:17,vars:14,consts:[["mat-dialog-title","",1,"primary-color","font-size-20","m-0"],["title","orgStructureNode",1,"d-inline-block","mtop-5","mbottom-10"],["mat-icon-button","",1,"float-right","mb-1","mr-1",3,"mat-dialog-close"],[1,"pi","pi-times"],[1,"clearfix"],["dialogContainer",""],[1,"row"],[1,"col-12","mtop-5"],[3,"formGroup"],[1,"col-md-6","col-12"],[3,"control","submitted","disableCompany","appendTo","filter"],["label","organization","optionDisabled","assignStr",3,"control","submitted","List","appendTo","filter","viewName","createNewDialog"],["align","end"],[3,"id","onClick"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"page-title",1),e.TgZ(2,"button",2),e._UZ(3,"i",3),e.qZA(),e._UZ(4,"div",4),e.qZA(),e.TgZ(5,"mat-dialog-content",null,5)(7,"div",6)(8,"div",7)(9,"form",8)(10,"div",6)(11,"div",9),e._UZ(12,"app-org-types-dropdown",10),e.qZA(),e.TgZ(13,"div",9)(14,"app-prime-dropdown",11),e.NdJ("createNewDialog",function(s){return o.createDialog(s)}),e.qZA()()()()()()(),e.TgZ(15,"mat-dialog-actions",12)(16,"submit-btn",13),e.NdJ("onClick",function(){return o.submit()}),e.qZA()()),2&t){const n=e.MAs(6);e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(7),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("control",o.formCtrls.orG_TYPE_ID)("submitted",o.submitted)("disableCompany",!!o.formCtrls.parenT_ID.value)("appendTo",n)("filter",!0),e.xp6(2),e.Q6J("control",o.formCtrls.orG_ID)("submitted",o.submitted)("List",o.organizationList)("appendTo",n)("filter",!0)("viewName",o.viewName),e.xp6(2),e.Q6J("id",0)}},dependencies:[O.p,I.T,q.lW,x.ZT,x.uh,x.xY,x.H8,oe.t,Te.q,l._Y,l.JL,l.sg],styles:[".add-structure-node .mat-dialog-container{padding:24px}@media (min-width: 320px) and (max-width: 991px){  .page-title{font-size:13px!important}}"]}),i})();var rt=r(52614),De=r(20408),lt=r(91365),xe=r(25054);function ct(i,a){if(1&i&&(e._UZ(0,"p-image",14),e.ALo(1,"translate")),2&i){const t=e.oxw(2);e.s9C("alt",e.lcZ(1,2,"img")),e.Q6J("src",t.fileService.preview(t.employeeData.img))}}function pt(i,a){1&i&&(e.TgZ(0,"div",15),e._UZ(1,"i",16),e.qZA())}function dt(i,a){if(1&i&&(e.TgZ(0,"p"),e._UZ(1,"i",17),e.TgZ(2,"span",18),e._uU(3),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.employeeData.contact)}}function ut(i,a){if(1&i&&(e.TgZ(0,"p"),e._UZ(1,"i",19),e.TgZ(2,"span",18),e._uU(3),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.employeeData.email)}}function mt(i,a){1&i&&(e.TgZ(0,"span",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"active")," "))}function _t(i,a){1&i&&(e.TgZ(0,"span",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"notActive")," "))}function gt(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"p"),e.YNc(2,mt,3,3,"span",20),e.YNc(3,_t,3,3,"ng-template",null,21,e.W1O),e.qZA(),e.TgZ(5,"p",22),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",23)(9,"span",24),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"p",23)(15,"span",24),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.qZA()(),e.BQk()),2&i){const t=e.MAs(4),o=e.oxw(2);e.xp6(2),e.Q6J("ngIf",o.employeeData.isActive)("ngIfElse",t),e.xp6(4),e.hij(" ",e.lcZ(7,7,"noOfEmployeeReporting")," "),e.xp6(4),e.hij(" ",e.lcZ(11,9,"asSolidManager")," : "),e.xp6(3),e.hij(" ",null==o.employeeData?null:o.employeeData.manageSolidEmpNo,""),e.xp6(3),e.hij(" ",e.lcZ(17,11,"asDottedManager")," : "),e.xp6(3),e.hij(" ",null==o.employeeData?null:o.employeeData.manageDotesEmpNo,"")}}function ht(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7),e.YNc(3,ct,2,4,"p-image",8),e.YNc(4,pt,2,0,"ng-template",null,9,e.W1O),e.qZA(),e.TgZ(6,"div",10)(7,"p",11),e._uU(8),e.qZA(),e.YNc(9,dt,4,1,"p",5),e.YNc(10,ut,4,1,"p",5),e.qZA()(),e.TgZ(11,"div",12)(12,"p",13),e._uU(13),e.ALo(14,"titlecase"),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.qZA(),e.YNc(20,gt,20,13,"ng-container",5),e.qZA(),e.BQk()),2&i){const t=e.MAs(5),o=e.oxw();e.xp6(3),e.Q6J("ngIf",o.employeeData.img&&""!=o.employeeData.img)("ngIfElse",t),e.xp6(5),e.hij(" ",o.msgTranslate(o.employeeData.ar_Name,o.employeeData.en_Name)," "),e.xp6(1),e.Q6J("ngIf",o.employeeData.contact),e.xp6(1),e.Q6J("ngIf",o.employeeData.email),e.xp6(3),e.hij(" ",e.lcZ(14,9,e.lcZ(15,11,"employment"))," "),e.xp6(4),e.hij(" ",o.employeeData.jobTitleName," "),e.xp6(2),e.hij(" ",o.employeeData.organization," "),e.xp6(1),e.Q6J("ngIf",!o.showMainData)}}function ft(i,a){1&i&&(e._UZ(0,"span",29),e.TgZ(1,"div",30),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"noEmployeeData")," "))}function yt(i,a){1&i&&(e.ynx(0),e.TgZ(1,"p-messages",27),e.YNc(2,ft,4,3,"ng-template",28),e.qZA(),e.BQk())}function bt(i,a){1&i&&(e.ynx(0),e._UZ(1,"app-structure-employee-card-skeleton"),e.BQk())}let le=(()=>{class i extends f.U{constructor(t,o,n){super(),this.employeesService=t,this.dialogRef=o,this.data=n,this.loaded=!1,this.showMainData=!1,n&&(this.employeeId=n.employeeId,this.showMainData=n.showMainData??!1)}ngOnInit(){const t=document.querySelectorAll(".cdk-overlay-backdrop");t.length>0&&t[t.length-1].classList.add("no-overlay")}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.employeeId>0&&this.getEmployeeData()}getEmployeeData(){this.employeesService.getEmployeeCardById(this.employeeId).pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==u.u.Success?(t.data.length>0&&(this.employeeData=(0,rt.A)(t.data)[0]),this.loaded=!0):this.errorList(t?.message?.messages)})}onWindowResize(t){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(De.M),e.Y36(x.so),e.Y36(x.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-employee-card"]],hostBindings:function(t,o){1&t&&e.NdJ("resize",function(s){return o.onWindowResize(s)},!1,e.Jf7)},features:[e.qOj],decls:11,vars:11,consts:[[1,"title"],[1,"type-name","info"],["mat-icon-button","",1,"float-right","mb-1",3,"mat-dialog-close"],[1,"pi","pi-times"],[1,"employee-card"],[4,"ngIf"],[1,"row"],[1,"col-md-4","col-12","img-container"],["preview","true",3,"src","alt",4,"ngIf","ngIfElse"],["noImg",""],[1,"col-md-8","col-12","text-break"],[1,"mtop-5"],[1,"mtop-20"],[1,"mbottom-14",2,"font-weight","bold"],["preview","true",3,"src","alt"],[1,"alt-img-preview"],[1,"pi","pi-user"],[1,"pi","pi-phone"],[1,"mx-1"],[1,"fa","fa-envelope"],["class","badge bg-light-success",4,"ngIf","ngIfElse"],["no",""],[1,"mbottom-14","mtop-14",2,"font-weight","bold"],[1,"font-size-14"],[1,"d-inline-block"],[1,"badge","bg-light-success"],[1,"badge","bg-light-danger"],["severity","warn"],["pTemplate",""],[1,"p-message-icon","pi","pi-exclamation-triangle"],[1,"p-message-detail"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h6",1),e._uU(2),e.ALo(3,"titlecase"),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",2),e._UZ(6,"i",3),e.qZA()(),e.TgZ(7,"mat-dialog-content",4),e.YNc(8,ht,21,13,"ng-container",5),e.YNc(9,yt,3,0,"ng-container",5),e.YNc(10,bt,2,0,"ng-container",5),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,7,e.lcZ(4,9,"employeeDetails"))," "),e.xp6(3),e.ekj("ar",o.languageService.isArabic),e.Q6J("mat-dialog-close",!1),e.xp6(3),e.Q6J("ngIf",o.employeeData&&o.loaded),e.xp6(1),e.Q6J("ngIf",!o.employeeData&&o.loaded),e.xp6(1),e.Q6J("ngIf",!o.employeeData&&!o.loaded))},dependencies:[c.O5,lt.v,q.lW,x.ZT,x.xY,B.jx,xe.E,ie.V,c.rS,Z.X$],styles:[".title[_ngcontent-%COMP%]{background-color:#0000000a;margin:-24px;padding:24px 18px}.title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{display:inline-block;margin-bottom:0;font-size:16px}.title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:-10px;margin-right:-15px}.title[_ngcontent-%COMP%]   button.ar[_ngcontent-%COMP%]{margin-left:-15px!important}  .mat-dialog-content.employee-card{margin-top:40px}  .mat-dialog-content.employee-card p{margin-bottom:.5rem;font-size:14px}"]}),i})();var Ze=r(58350),Se=r(31534),T=r(37084);function Ct(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"p",16),e.NdJ("click",function(n){const y=e.CHM(t).$implicit,Y=e.oxw(3);return e.KtG(Y.openEmployeeCardDialog(n.target,y.id))}),e.TgZ(1,"span",17),e._UZ(2,"i",18),e.qZA(),e.TgZ(3,"span",19),e._uU(4),e.qZA()()}if(2&i){const t=a.$implicit,o=e.oxw(3);e.xp6(1),e.Tol(o.msgTranslate("mleft-10","mright-10")),e.xp6(3),e.hij(" ",o.msgTranslate(t.ar_Name,t.en_Name)," ")}}function vt(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",13),e._uU(2),e.qZA(),e.TgZ(3,"div",14),e.YNc(4,Ct,5,3,"p",15),e.qZA(),e.BQk()),2&i){const t=a.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Q6J("ngForOf",t.List)}}function Tt(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",11),e.NdJ("keyup",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.searchEmployees(n.target.value))}),e.ALo(2,"translate"),e.qZA(),e.YNc(3,vt,5,2,"ng-container",12),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"search")),e.xp6(2),e.Q6J("ngForOf",t.employeesGroupsFiltered)}}function Dt(i,a){1&i&&(e.ynx(0),e._UZ(1,"app-org-details-employees-list-skeleton"),e.BQk())}function xt(i,a){1&i&&(e._UZ(0,"span",22),e.TgZ(1,"div",23),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"noEmployeeInOrg")," "))}function Zt(i,a){1&i&&(e.ynx(0),e.TgZ(1,"p-messages",20),e.YNc(2,xt,4,3,"ng-template",21),e.qZA(),e.BQk())}let St=(()=>{class i extends f.U{constructor(t,o,n,s){super(),this.employeesService=t,this.groupByService=o,this.dialogRef=n,this.data=s,this.expandedIndex=0,this.employees=[],this.loaded=!1,this.expandedIndex=s.expandedIndex,this.nodeData=s.nodeData}ngOnInit(){this.checkNoBusinessOrCompany()&&this.nodeData.structureId>0&&this.nodeData.org.id>0&&this.getEmployeesByOrgId();const t=document.querySelectorAll(".cdk-overlay-backdrop");t.length>0&&t[t.length-1].classList.add("no-overlay")}getEmployeesByOrgId(){this.employeesService.getAllByStructureAndOrgId(this.nodeData.structureId,this.nodeData.org.id).pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==u.u.Success?(this.employees=t.data,this.employees.length>0?this.sortAndGroupEmployees():this.loaded=!0):this.errorList(t?.message?.messages)})}sortAndGroupEmployees(){this.employeesGroups=this.groupByService.groupByPartOfProperty(this.employees,this.languageService.isArabic?"ar_Name":"en_Name",1).sort((t,o)=>t.key<o.key?-1:t.key>o.key?1:0),this.employeesGroupsFiltered=this.employeesGroups.slice(),this.loaded=!0}openEmployeeCardDialog(t,o){let n=this.getHeaderElement(t),s={employeeId:o};this.dialogsService.dialogLeftOrRightCard(le,n.getBoundingClientRect(),350,!0,"80hv",s)}getHeaderElement(t){return t.classList.contains("mat-expansion-panel-body")?t:this.getHeaderElement(t.parentElement)}searchEmployees(t){this.employeesGroupsFiltered=this.employeesGroups.map(o=>({key:o.key,List:o.List.filter(n=>n.en_Name.toLowerCase().includes(t.toLowerCase())||n.ar_Name.toLowerCase().includes(t.toLowerCase()))})).filter(o=>o.List.length>0)}onWindowResize(t){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(De.M),e.Y36(Ze.$),e.Y36(x.so),e.Y36(x.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-org-details-employees"]],hostBindings:function(t,o){1&t&&e.NdJ("resize",function(s){return o.onWindowResize(s)},!1,e.Jf7)},features:[e.qOj],decls:19,vars:11,consts:[[1,"details-dialog-title"],[1,"mb-2"],[1,"type-name","info"],["mat-icon-button","",1,"float-right","mb-1",3,"mat-dialog-close"],[1,"pi","pi-times"],[1,"org-name"],[1,"details-dialog","company"],["multi",""],[3,"expanded"],[1,"expantion-body"],[4,"ngIf"],[1,"form-control","mbottom-15",3,"placeholder","keyup"],[4,"ngFor","ngForOf"],[1,"key-emp"],["role","button"],["class","name-container",3,"click",4,"ngFor","ngForOf"],[1,"name-container",3,"click"],[1,"img-small-icon"],[1,"pi","pi-user"],[1,"emp-name"],["severity","warn"],["pTemplate",""],[1,"p-message-icon","pi","pi-exclamation-triangle"],[1,"p-message-detail"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h6",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e._UZ(5,"i",4),e.qZA()(),e.TgZ(6,"p",5),e._uU(7),e.qZA()(),e.TgZ(8,"mat-dialog-content",6)(9,"mat-accordion",7)(10,"mat-expansion-panel",8)(11,"mat-expansion-panel-header")(12,"mat-panel-title"),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Tt,4,4,"ng-container",10),e.YNc(17,Dt,2,0,"ng-container",10),e.YNc(18,Zt,3,0,"ng-container",10),e.qZA()()()()),2&t&&(e.xp6(3),e.AsE(" ",o.nodeData.org.code," - ",o.msgTranslate(o.nodeData.org.ar_Name,o.nodeData.org.en_Name)," "),e.xp6(1),e.Q6J("mat-dialog-close",!1),e.xp6(3),e.hij(" ",o.msgTranslate(o.nodeData.orgType.ar_Name,o.nodeData.orgType.en_Name)," "),e.xp6(3),e.Q6J("expanded",1==o.expandedIndex),e.xp6(3),e.Oqu(e.lcZ(14,9,"employees")),e.xp6(3),e.Q6J("ngIf",o.employees.length>0&&o.loaded),e.xp6(1),e.Q6J("ngIf",0==o.employees.length&&!o.loaded),e.xp6(1),e.Q6J("ngIf",0==o.employees.length&&o.loaded))},dependencies:[c.sg,c.O5,Se.b,q.lW,x.ZT,x.xY,T.pp,T.ib,T.yz,T.yK,B.jx,ie.V,Z.X$]}),i})();var ce=r(44132),X=r(79417),pe=r(75885),It=r(40445),Ie=r(3848),Pt=r(10266),wt=r(12453),de=r(86467),M=r(44850);function At(i,a){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=a.$implicit,o=e.oxw(2);let n;e.xp6(1),e.HOy(" ",o.msgTranslate(null==t.core_Org?null:t.core_Org.ar_Name,null==t.core_Org?null:t.core_Org.en_Name)," ( ",null!==(n=t.currentEmployeeNumber)&&void 0!==n?n:0," ",e.lcZ(2,4,"of")," ",0==t.max_Employee?o.translate("unlimited"):t.max_Employee," FTE ) ")}}function Lt(i,a){if(1&i&&(e.TgZ(0,"div",14),e.YNc(1,At,3,6,"p",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.nodeData.core_Org_Job_Title)}}function Ot(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"p",20),e.NdJ("click",function(n){const y=e.CHM(t).$implicit,Y=e.oxw(3);return e.KtG(Y.openEmployeeCardDialog(n.target,y.id))}),e.TgZ(1,"span",21),e._UZ(2,"i",22),e.qZA(),e.TgZ(3,"span",23),e._uU(4),e.qZA()()}if(2&i){const t=a.$implicit,o=e.oxw(3);e.xp6(1),e.Tol(o.msgTranslate("mleft-10","mright-10")),e.xp6(3),e.hij(" ",o.msgTranslate(t.ar_Name,t.en_Name)," ")}}function Jt(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",17),e._uU(2),e.qZA(),e.TgZ(3,"div",18),e.YNc(4,Ot,5,3,"p",19),e.qZA(),e.BQk()),2&i){const t=a.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Q6J("ngForOf",t.List)}}function Nt(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",16),e.NdJ("keyup",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.searchEmployees(n.target.value))}),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Jt,5,2,"ng-container",15),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"search")),e.xp6(2),e.Q6J("ngForOf",t.employeesGroupsFiltered)}}function Gt(i,a){1&i&&(e.ynx(0),e._UZ(1,"app-org-details-employees-list-skeleton"),e.BQk())}function Ut(i,a){1&i&&(e._UZ(0,"span",26),e.TgZ(1,"div",27),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"noEmployeeInJob")," "))}function Et(i,a){1&i&&(e.ynx(0),e.TgZ(1,"p-messages",24),e.YNc(2,Ut,4,3,"ng-template",25),e.qZA(),e.BQk())}let qt=(()=>{class i extends f.U{constructor(t,o,n){super(),this.groupByService=t,this.dialogRef=o,this.data=n,this.expandedIndex=0,this.employees=[],this.loaded=!1,this.expandedIndex=n.expandedIndex,this.nodeData=n.nodeData,this.employees=this.nodeData.core_Person_Instance_Job_Title.map(s=>s.core_Person_Instance?.core_Person),this.employees.length>0?this.sortAndGroupEmployees():this.loaded=!0}ngOnInit(){const t=document.querySelectorAll(".cdk-overlay-backdrop");t.length>0&&t[t.length-1].classList.add("no-overlay")}sortAndGroupEmployees(){this.employees=this.employees.filter(t=>{if(t)return t}),this.employeesGroups=this.groupByService.groupByPartOfProperty(this.employees,this.languageService.isArabic?"ar_Name":"en_Name",1).sort((t,o)=>t.key<o.key?-1:t.key>o.key?1:0),this.employeesGroupsFiltered=this.employeesGroups.slice(),this.loaded=!0}openEmployeeCardDialog(t,o){let n=this.getHeaderElement(t),s={employeeId:o};this.dialogsService.dialogLeftOrRightCard(le,n.getBoundingClientRect(),350,!0,"80hv",s)}getHeaderElement(t){return t.classList.contains("mat-expansion-panel-body")?t:this.getHeaderElement(t.parentElement)}searchEmployees(t){this.employeesGroupsFiltered=this.employeesGroups.map(o=>({key:o.key,List:o.List.filter(n=>n.en_Name.toLowerCase().includes(t.toLowerCase())||n.ar_Name.toLowerCase().includes(t.toLowerCase()))})).filter(o=>o.List.length>0)}onWindowResize(t){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ze.$),e.Y36(x.so),e.Y36(x.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-job-title-details-dialog"]],hostBindings:function(t,o){1&t&&e.NdJ("resize",function(s){return o.onWindowResize(s)},!1,e.Jf7)},features:[e.qOj],decls:50,vars:32,consts:[[1,"details-dialog-title"],[1,"mb-2"],["mat-icon-button","",1,"float-right","mb-1",3,"mat-dialog-close"],[1,"pi","pi-times"],[1,"type-name","info"],[1,"clearfix"],[1,"details-dialog","jobtitle"],["multi",""],[3,"expanded"],[1,"expantion-body"],[1,"table-container"],["class","no-employees",4,"ngIf"],[1,"expantion-body","employee-body"],[4,"ngIf"],[1,"no-employees"],[4,"ngFor","ngForOf"],[1,"form-control","mbottom-15",3,"placeholder","keyup"],[1,"key-emp"],["role","button"],["class","name-container",3,"click",4,"ngFor","ngForOf"],[1,"name-container",3,"click"],[1,"img-small-icon"],[1,"pi","pi-user"],[1,"emp-name"],["severity","warn"],["pTemplate",""],[1,"p-message-icon","pi","pi-exclamation-triangle"],[1,"p-message-detail"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"h6",4),e._uU(5),e.qZA()(),e._UZ(6,"p",5),e.qZA(),e.TgZ(7,"mat-dialog-content",6)(8,"mat-accordion",7)(9,"mat-expansion-panel",8)(10,"mat-expansion-panel-header")(11,"mat-panel-title"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"div",10)(16,"table")(17,"tbody")(18,"tr")(19,"th"),e._uU(20),e.ALo(21,"titlecase"),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA()(),e.TgZ(25,"tr")(26,"th"),e._uU(27),e.ALo(28,"titlecase"),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA()(),e.TgZ(32,"tr")(33,"th"),e._uU(34),e.ALo(35,"titlecase"),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA()()()()(),e._UZ(39,"mat-divider"),e.YNc(40,Lt,2,1,"div",11),e.qZA()(),e.TgZ(41,"mat-expansion-panel",8)(42,"mat-expansion-panel-header")(43,"mat-panel-title"),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",12),e.YNc(47,Nt,4,4,"ng-container",13),e.YNc(48,Gt,2,0,"ng-container",13),e.YNc(49,Et,3,0,"ng-container",13),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(3),e.hij(" ",o.msgTranslate(o.nodeData.ar_Name,o.nodeData.en_Name)," "),e.xp6(4),e.Q6J("expanded",0==o.expandedIndex),e.xp6(3),e.Oqu(e.lcZ(13,16,"details")),e.xp6(8),e.Oqu(e.lcZ(21,18,e.lcZ(22,20,"code"))),e.xp6(4),e.Oqu(o.nodeData.code),e.xp6(3),e.Oqu(e.lcZ(28,22,e.lcZ(29,24,"jobTitle"))),e.xp6(4),e.hij(" ",o.msgTranslate(o.nodeData.ar_Name,o.nodeData.en_Name)," "),e.xp6(3),e.Oqu(e.lcZ(35,26,e.lcZ(36,28,"jobFamily"))),e.xp6(4),e.hij(" ",o.msgTranslate(null==o.nodeData.core_Job_Title_Family?null:o.nodeData.core_Job_Title_Family.ar_Name,null==o.nodeData.core_Job_Title_Family?null:o.nodeData.core_Job_Title_Family.en_Name)," "),e.xp6(2),e.Q6J("ngIf",o.nodeData.core_Org_Job_Title.length>0),e.xp6(1),e.Q6J("expanded",1==o.expandedIndex),e.xp6(3),e.Oqu(e.lcZ(45,30,"employees")),e.xp6(3),e.Q6J("ngIf",o.employees.length>0&&o.loaded),e.xp6(1),e.Q6J("ngIf",0==o.employees.length&&!o.loaded),e.xp6(1),e.Q6J("ngIf",0==o.employees.length&&o.loaded))},dependencies:[c.sg,c.O5,Se.b,q.lW,M.d,x.ZT,x.xY,T.pp,T.ib,T.yz,T.yK,B.jx,ie.V,c.rS,Z.X$],styles:[".mat-dialog-content.details-dialog.jobtitle .mat-expansion-panel-body{padding:0}  .mat-dialog-content.details-dialog.jobtitle .table-container{padding:0 24px 16px}  .mat-dialog-content.details-dialog.jobtitle .no-employees,   .mat-dialog-content.details-dialog.jobtitle .employee-body{padding:16px 24px 0}"]}),i})();var K=r(26315),ue=r(18521);let Mt=(()=>{class i extends ue.K{constructor(){super()}getJobTitleHierarchy(t){return this.get("OrgManagement/JobTitle/GetAll_Structure",{params:{$filter:`id eq ${t}`,$expand:`${K.db.core_Org_Job_Title}/${K.db.core_Org},${K.db.Core_Person_Instance_Job_Title}.${K.db.Core_Person_Instance}.${K.db.Core_Person},${K.db.Core_Job_Title_Family}`}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var jt=r(89609),Pe=r(70502),we=r(62160);const Qt=["jobTitleChart"];function Ft(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-job-title-dropdown",13),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeSearchValue())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("control",t.formCtrls.jobTitleId)("filter",!0)}}function Rt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-employee-dropdown",13),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getAllEmployeeJobTitles())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("control",t.formCtrls.employeeId)("filter",!0)}}function Vt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"app-prime-dropdown",14),e.NdJ("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeSearchValue())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("control",t.formCtrls.jobTitleId)("filter",!0)("List",t.employeeJobTitles)}}function Bt(i,a){if(1&i&&(e.TgZ(0,"div",3),e._UZ(1,"export-chart-buttons",15),e.qZA()),2&i){const t=e.oxw(),o=e.MAs(12);e.ekj("col-md-6",!(t.formCtrls.employeeId.value>0)),e.xp6(1),e.Q6J("resource",o)}}function kt(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.upOneLevel())}),e._UZ(2,"i",24),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"div"),e.BQk()}if(2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Udp("left",o.upOneLevelBtnPositions.btnLeft,"px"),e.xp6(2),e.AsE(" ",e.lcZ(4,6,"upOneLevel")," ",t.parent," "),e.xp6(2),e.Udp("left",o.upOneLevelBtnPositions.lineLeft,"px")}}function Yt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"i",26),e.NdJ("click",function(n){e.CHM(t);const s=e.oxw().$implicit,y=e.oxw();return e.KtG(y.openJobTitleDetailsDialog(n.target,s.data,1))}),e.TgZ(2,"span"),e._uU(3),e.qZA()()()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.data.core_Person_Instance_Job_Title.length," ")}}function Ht(i,a){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=a.$implicit,o=e.oxw(3);let n;e.xp6(1),e.lnq(" ",o.msgTranslate(null==t.core_Org?null:t.core_Org.ar_Name,null==t.core_Org?null:t.core_Org.en_Name)," ( ",null!==(n=t.currentEmployeeNumber)&&void 0!==n?n:0," / ",0==t.max_Employee?o.translate("unlimited"):t.max_Employee," FTE ) ")}}function zt(i,a){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,Ht,2,3,"p",28),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.data.core_Org_Job_Title)}}function $t(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return s.expandNode(n),e.KtG(s.changePositions())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.children.length," ",e.lcZ(2,2,1==t.children.length?"jobTitleBelow":"jobTitlesBelow")," ")}}function Kt(i,a){if(1&i){const t=e.EpF();e.YNc(0,kt,6,8,"ng-container",16),e.TgZ(1,"div",17),e.NdJ("click",function(n){const y=e.CHM(t).$implicit,Y=e.oxw();return e.KtG(Y.openJobTitleDetailsDialog(n.target,y.data,0))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"div",18)(5,"p"),e._uU(6),e.qZA()()(),e.TgZ(7,"div",19),e.YNc(8,Yt,4,1,"div",20),e.YNc(9,zt,2,1,"div",21),e.YNc(10,$t,3,4,"div",22),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngIf",o.jobTitleOrgChart&&(null==o.jobTitleOrgChart[0]||null==o.jobTitleOrgChart[0].data?null:o.jobTitleOrgChart[0].data.parentJobTitleID)>0&&1==t.data.currentFirstNode),e.xp6(1),e.Q6J("id",t.data.id),e.xp6(2),e.AsE(" ",t.data.code," - ",o.msgTranslate(t.data.ar_Name,t.data.en_Name)," "),e.xp6(3),e.hij(" ",o.msgTranslate(null==t.data.core_Job_Title_Family?null:t.data.core_Job_Title_Family.ar_Name,null==t.data.core_Job_Title_Family?null:t.data.core_Job_Title_Family.en_Name)," "),e.xp6(2),e.Q6J("ngIf",(null==t.data.core_Person_Instance_Job_Title?null:t.data.core_Person_Instance_Job_Title.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.data.core_Org_Job_Title?null:t.data.core_Org_Job_Title.length)>0),e.xp6(1),e.Q6J("ngIf",t.children.length>0)}}function Wt(i,a){1&i&&e._UZ(0,"app-chart-skeleton",30),2&i&&e.Q6J("width",280)}let Xt=(()=>{class i extends f.U{constructor(t,o){super(),this.jobTitleChartService=t,this.employeeJobInformationService=o,this.loading=!1,this.lastSelectedJobId=0,this.searchTypeList=[],this.employeeJobTitles=[],this.upOneLevelBtnPositions={btnLeft:0,lineLeft:0}}ngOnInit(){this.form=this.fb.group({searchTypeId:[null],jobTitleId:[null],employeeId:[null]}),setTimeout(()=>{this.searchTypeList=[{id:1,ar_Name:"\u0627\u0644\u0648\u0638\u0627\u0626\u0641",en_Name:"Job titles"},{id:2,ar_Name:"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646",en_Name:"Employees"}]},100)}onChangeBusinessAndCompanyId(){this.jobTitleOrgChart=null,this.checkNoBusinessOrCompany()&&this.getJobTitleOrgChart(this.formCtrls.jobTitleId.value)}get formCtrls(){return this.form.controls}getJobTitleOrgChart(t){t>0&&(this.lastSelectedJobId=t,this.jobTitleOrgChart=null,this.loading=!0,this.jobTitleChartService.getJobTitleHierarchy(t).pipe(this.cancelRequest()).subscribe(o=>{o.message.messageType==u.u.Success?(this.jobTitleOrgChart=A(o.data),this.jobTitleOrgChart[0].data.currentFirstNode=!0,this.changePositions(),this.lastSelectedJobId==t&&(this.loading=!1)):(this.errorList(o?.message?.messages),this.loading=!1)}))}changePositions(){setTimeout(()=>{this.setPositionBtnUpOneLevel(),this.setPositionUpOneLevelLine()},100)}onChangeSearchType(){this.formCtrls.jobTitleId.reset(),this.formCtrls.employeeId.reset()}onChangeSearchValue(){this.getJobTitleOrgChart(this.formCtrls.jobTitleId.value)}upOneLevel(){1==this.formCtrls.searchTypeId.value?this.formCtrls.jobTitleId.setValue(this.jobTitleOrgChart[0].data.parentJobTitleID):2==this.formCtrls.searchTypeId.value&&(this.onChangeSearchType(),this.getJobTitleOrgChart(this.jobTitleOrgChart[0].data.parentJobTitleID))}setPositionBtnUpOneLevel(){let t=document.querySelector(".upOneLevel-btn")?.getBoundingClientRect().width,o=document.querySelector(".p-organizationchart-node-content")?.getBoundingClientRect();this.upOneLevelBtnPositions.btnLeft=o?.width/2-t/2}setPositionUpOneLevelLine(){let t=document.querySelector(".p-organizationchart-node-content")?.getBoundingClientRect();this.upOneLevelBtnPositions.lineLeft=t?.width/2}openJobTitleDetailsDialog(t,o,n){let s=this.getHeaderElement(t),y={nodeData:o,expandedIndex:n};this.dialogsService.dialogLeftOrRightCard(qt,s.getBoundingClientRect(),350,!1,"90hv",y)}getHeaderElement(t){return t.classList.contains("p-organizationchart-node-content")?t:this.getHeaderElement(t.parentElement)}expandNode(t){t.expanded=!t.expanded}onWindowResize(t){this.setPositionBtnUpOneLevel(),this.setPositionUpOneLevelLine()}getAllEmployeeJobTitles(){let t=this.formCtrls.employeeId.value;t>0&&(this.showLoading(),this.employeeJobInformationService.getAllCurrentJobsByEmployeeId(t).pipe(this.cancelRequest()).subscribe(o=>{o.message.messageType==u.u.Success?this.employeeJobTitles=o.data:this.errorList(o?.message?.messages),this.hideLoading()}))}onScroll(t){this.changePositions()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Mt),e.Y36(jt._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-job-title-org-chart"]],viewQuery:function(t,o){if(1&t&&e.Gf(Qt,5),2&t){let n;e.iGM(n=e.CRH())&&(o.jobTitleChart=n.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(s){return o.onWindowResize(s)},!1,e.Jf7)},features:[e.qOj],decls:15,vars:10,consts:[[1,"organizationchart-container","job-title-chart"],[1,"mbottom-20",3,"formGroup"],[1,"row","mx-0"],[1,"col-md-3","col-12"],["label","searchBy",3,"control","List","change"],[3,"control","filter","change",4,"ngIf"],["class","col-md-3 col-12",4,"ngIf"],["class","col-md-3 col-12",3,"col-md-6",4,"ngIf"],["id","jobTitleChart","appScrollableHorizontal","",3,"scroll"],[3,"value","preserveSpace","onNodeExpand","onNodeCollapse"],["jobTitleChart",""],["pTemplate","job-title"],[3,"width",4,"ngIf"],[3,"control","filter","change"],["label","jobTitle",3,"control","filter","List","change"],["elementId","jobTitleChart",3,"resource"],[4,"ngIf"],[1,"node-header",3,"id","click"],[1,"node-content","main-data"],[1,"node-content"],["class","employees-no-section",4,"ngIf"],["class","fte-content",4,"ngIf"],["class","node-footer info",3,"click",4,"ngIf"],["mat-button","",1,"btn","bg-light-info","upOneLevel-btn",3,"click"],[1,"pi","pi-angle-up"],[1,"employees-no-section"],[1,"pi","pi-users",3,"click"],[1,"fte-content"],[4,"ngFor","ngForOf"],[1,"node-footer","info",3,"click"],[3,"width"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"app-prime-dropdown",4),e.NdJ("change",function(){return o.onChangeSearchType()}),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,Ft,1,2,"app-job-title-dropdown",5),e.YNc(7,Rt,1,2,"app-employee-dropdown",5),e.qZA(),e.YNc(8,Vt,2,3,"div",6),e.YNc(9,Bt,2,3,"div",7),e.qZA()(),e.TgZ(10,"div",8),e.NdJ("scroll",function(s){return o.onScroll(s)}),e.TgZ(11,"p-organizationChart",9,10),e.NdJ("onNodeExpand",function(){return o.changePositions()})("onNodeCollapse",function(){return o.changePositions()}),e.YNc(13,Kt,11,8,"ng-template",11),e.qZA()(),e.YNc(14,Wt,1,1,"app-chart-skeleton",12),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("control",o.formCtrls.searchTypeId)("List",o.searchTypeList),e.xp6(2),e.Q6J("ngIf",1==o.formCtrls.searchTypeId.value),e.xp6(1),e.Q6J("ngIf",2==o.formCtrls.searchTypeId.value),e.xp6(1),e.Q6J("ngIf",o.formCtrls.employeeId.value>0),e.xp6(1),e.Q6J("ngIf",null!=o.jobTitleOrgChart),e.xp6(2),e.Q6J("value",o.jobTitleOrgChart)("preserveSpace",!1),e.xp6(3),e.Q6J("ngIf",o.loading))},dependencies:[c.sg,c.O5,ce.$,Pe.J,X.c,pe.a,q.lW,oe.t,we.W,l._Y,l.JL,l.sg,B.jx,de.OE,Z.X$],styles:[".job-title-chart .p-organizationchart-node-content{border-radius:10px;width:280px!important}  .job-title-chart .main-data p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .job-title-chart .node-header{border-top-left-radius:10px;border-top-right-radius:10px;cursor:pointer}  .job-title-chart .node-footer{background-color:inherit;border-bottom-left-radius:10px;border-bottom-right-radius:10px;padding-bottom:10px;padding-top:10px;font-size:13px}  .job-title-chart .node-footer:hover{background-color:#f2f4f5;color:#525050!important}  .job-title-chart .p-organizationchart-node-content .node-header:hover{background:#f2f4f5!important}  .job-title-chart .no-employees{margin-top:1.8rem;text-align:start;color:#525050;padding-bottom:.3rem}  .job-title-chart .employees-no-section{border-bottom:1px solid #dee2e6!important}  .job-title-chart .fte-content{padding:15px .7rem 0;text-align:start}  .job-title-chart .ft-image,   .job-title-chart .ft-file{cursor:pointer}"]}),i})(),eo=(()=>{class i extends ue.K{constructor(){super()}getEmployeesChart(t){return this.get("personnel/Employees/GetAll_EmployeesCard_Structure",{params:{PerinsID:t}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const to=["resourceChart"];function oo(i,a){if(1&i&&(e.TgZ(0,"div",11),e._UZ(1,"export-chart-buttons",12),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("resource",t.resourcesChart)}}function io(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.upOneLevel())}),e._UZ(2,"i",23),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"div"),e.BQk()}if(2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Udp("left",o.upOneLevelBtnPositions.btnLeft,"px"),e.xp6(2),e.AsE(" ",e.lcZ(4,6,"upOneLevel")," ",t.parent," "),e.xp6(2),e.Udp("left",o.upOneLevelBtnPositions.lineLeft,"px")}}function ao(i,a){if(1&i&&(e._UZ(0,"p-image",24),e.ALo(1,"translate")),2&i){const t=e.oxw().$implicit,o=e.oxw();e.s9C("alt",e.lcZ(1,2,"img")),e.Q6J("src",o.fileService.preview(t.data.img))}}function no(i,a){1&i&&(e.TgZ(0,"div",25),e._UZ(1,"i",26),e.qZA())}function so(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return s.expandNode(n),e.KtG(s.changePositions())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.children.length," ")}}function ro(i,a){if(1&i){const t=e.EpF();e.YNc(0,io,6,8,"ng-container",10),e.TgZ(1,"div",13)(2,"div",14)(3,"div",15),e.YNc(4,ao,2,4,"p-image",16),e.YNc(5,no,2,0,"ng-template",null,17,e.W1O),e.qZA(),e.TgZ(7,"div",18),e.NdJ("click",function(n){const y=e.CHM(t).$implicit,Y=e.oxw();return e.KtG(Y.openEmployeeDetailsDialog(n.target,y.data))}),e.TgZ(8,"p",19),e._uU(9),e.ALo(10,"titlecase"),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.ALo(13,"titlecase"),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.ALo(16,"date"),e.qZA()()()(),e.TgZ(17,"div",20),e.YNc(18,so,2,1,"div",21),e.qZA()}if(2&i){const t=a.$implicit,o=e.MAs(6),n=e.oxw();e.Q6J("ngIf",n.resourcesChart&&(null==n.resourcesChart[0]||null==n.resourcesChart[0].data?null:n.resourcesChart[0].data.parentID)>0&&1==t.data.currentFirstNode),e.xp6(1),e.Q6J("id",t.data.id),e.xp6(3),e.Q6J("ngIf",t.data.img&&"/"!=t.data.img)("ngIfElse",o),e.xp6(5),e.hij(" ",e.lcZ(10,8,n.msgTranslate(t.data.ar_Name,t.data.en_Name))," "),e.xp6(3),e.hij(" ",e.lcZ(13,10,n.msgTranslate(t.data.jobTitleNameAr,t.data.jobTitleName))," "),e.xp6(3),e.hij(" ",e.xi3(16,12,t.data.joiningDate,"dd-MM-yyyy")," "),e.xp6(3),e.Q6J("ngIf",t.children.length>0)}}function lo(i,a){1&i&&e._UZ(0,"app-chart-skeleton")}let co=(()=>{class i extends f.U{constructor(t){super(),this.resourcesChartService=t,this.loading=!1,this.lastSelectedEmpId=0,this.upOneLevelBtnPositions={btnLeft:0,lineLeft:0}}ngOnInit(){this.form=this.fb.group({employeeId:[null]})}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.getResourcesChart(this.formCtrls.employeeId.value)}get formCtrls(){return this.form.controls}getResourcesChart(t){t>0&&(this.lastSelectedEmpId=t,this.resourcesChart=null,this.loading=!0,this.resourcesChartService.getEmployeesChart(t).pipe(this.cancelRequest()).subscribe(o=>{o.message.messageType==u.u.Success?(this.resourcesChart=S(o.data,this.lastSelectedEmpId),console.log(this.resourceChart),this.resourcesChart[0].data.currentFirstNode=!0,this.changePositions(),this.lastSelectedEmpId==t&&(this.loading=!1)):(this.errorList(o?.message?.messages),this.loading=!1)}))}changePositions(){setTimeout(()=>{this.setPositionBtnUpOneLevel(),this.setPositionUpOneLevelLine()},100)}onChangeEmployee(){this.getResourcesChart(this.formCtrls.employeeId.value)}upOneLevel(){this.formCtrls.employeeId.setValue(this.resourcesChart[0].data.parentID)}setPositionBtnUpOneLevel(){let t=document.querySelector(".upOneLevel-btn")?.getBoundingClientRect().width,o=document.querySelector(".p-organizationchart-node-content")?.getBoundingClientRect();this.upOneLevelBtnPositions.btnLeft=o?.width/2-t/2||0}setPositionUpOneLevelLine(){let t=document.querySelector(".p-organizationchart-node-content")?.getBoundingClientRect();this.upOneLevelBtnPositions.lineLeft=t?.width/2||0}openEmployeeDetailsDialog(t,o){let n=this.getHeaderElement(t),s={employeeId:o.id};this.dialogsService.dialogLeftOrRightCard(le,n.getBoundingClientRect(),350,!0,"80hv",s,!0)}getHeaderElement(t){return t.classList.contains("p-organizationchart-node-content")?t:this.getHeaderElement(t.parentElement)}expandNode(t){t.expanded=!t.expanded}onWindowResize(t){this.setPositionBtnUpOneLevel(),this.setPositionUpOneLevelLine()}onScroll(t){this.changePositions()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(eo))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-resources-chart"]],viewQuery:function(t,o){if(1&t&&e.Gf(to,5),2&t){let n;e.iGM(n=e.CRH())&&(o.resourceChart=n.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(s){return o.onWindowResize(s)},!1,e.Jf7)},features:[e.qOj],decls:11,vars:7,consts:[[1,"organizationchart-container","resources-chart"],[1,"mbottom-20",3,"formGroup"],[1,"row","mx-0"],[1,"col-lg-4","col-md-6","col-12"],[3,"control","filter","change"],["class","col-lg-4 offset-lg-4 col-md-4 offset-md-2 col-12",4,"ngIf"],["id","resourceChart","appScrollableHorizontal","",3,"scroll"],[3,"value","preserveSpace","onNodeExpand","onNodeCollapse"],["resourceChart",""],["pTemplate","resources"],[4,"ngIf"],[1,"col-lg-4","offset-lg-4","col-md-4","offset-md-2","col-12"],["elementId","resourceChart",3,"resource"],[1,"node-header",3,"id"],[1,"node-content","main-data"],[1,"img-emp-chart"],["preview","true",3,"src","alt",4,"ngIf","ngIfElse"],["noImg",""],[1,"p-2","info-content",3,"click"],[1,"info"],[1,"node-content"],["class","node-footer",3,"click",4,"ngIf"],["mat-button","",1,"btn","bg-light-info","upOneLevel-btn",3,"click"],[1,"pi","pi-angle-up"],["preview","true",3,"src","alt"],[1,"alt-img-preview"],[1,"pi","pi-user"],[1,"node-footer",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"app-employee-dropdown",4),e.NdJ("change",function(){return o.onChangeEmployee()}),e.qZA()(),e.YNc(5,oo,2,1,"div",5),e.qZA()(),e.TgZ(6,"div",6),e.NdJ("scroll",function(s){return o.onScroll(s)}),e.TgZ(7,"p-organizationChart",7,8),e.NdJ("onNodeExpand",function(){return o.changePositions()})("onNodeCollapse",function(){return o.changePositions()}),e.YNc(9,ro,19,15,"ng-template",9),e.qZA()(),e.YNc(10,lo,1,0,"app-chart-skeleton",10),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("control",o.formCtrls.employeeId)("filter",!0),e.xp6(1),e.Q6J("ngIf",null!=o.resourcesChart),e.xp6(2),e.Q6J("value",o.resourcesChart)("preserveSpace",!1),e.xp6(3),e.Q6J("ngIf",o.loading))},dependencies:[c.O5,ce.$,Pe.J,X.c,pe.a,q.lW,l._Y,l.JL,l.sg,B.jx,de.OE,xe.E,c.rS,c.uU,Z.X$],styles:[".resources-chart .p-organizationchart-node-content{width:150px!important;border-color:#c1c3c4}  .resources-chart .p-organizationchart-node-content.dashed-border{border-style:dashed}  .resources-chart .info-content{cursor:pointer;margin-top:-10px}  .resources-chart .node-header{padding:0}  .resources-chart .node-header p{margin:0 0 5px}  .resources-chart .img-emp-chart{display:flex;align-items:center;justify-content:center;height:90px}  .resources-chart .img-emp-chart p-image,   .resources-chart .img-emp-chart .p-image-preview-container>img{height:70px;width:70px;border-radius:50%}  .resources-chart .img-emp-chart .p-image-preview-indicator{border-radius:50%}  .resources-chart .img-emp-chart .alt-img-preview{background-color:#00000024;display:flex;align-items:center;justify-content:center;height:70px;width:70px;border-radius:50%}  .resources-chart .img-emp-chart .alt-img-preview i{font-size:2.5rem;color:#000000ad}  .resources-chart .ft-image,   .resources-chart .ft-file{cursor:pointer}"]}),i})();const po=["companyChart"];function uo(i,a){if(1&i&&(e.TgZ(0,"div",12),e._UZ(1,"export-chart-buttons",16),e.qZA()),2&i){e.oxw(2);const t=e.MAs(9);e.xp6(1),e.Q6J("resource",t)}}function mo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"app-org-types-dropdown",13),e.NdJ("change",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.getAllOrganizationsByOrgType())}),e.qZA()(),e.TgZ(3,"div",12),e._UZ(4,"app-prime-dropdown",14),e.qZA(),e.YNc(5,uo,2,1,"div",15),e.qZA()}if(2&i){e.oxw();const t=e.MAs(9),o=e.oxw();e.xp6(2),e.Q6J("control",o.formCtrls.organizationTypeId)("filter",!0),e.xp6(2),e.Q6J("control",o.formCtrls.organization_ID)("List",o.organizationList),e.xp6(1),e.Q6J("ngIf",t)}}function _o(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.upOneLevel())}),e._UZ(2,"i",24),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"div"),e.BQk()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Udp("left",o.upOneLevelBtnPositions.btnLeft,"px"),e.xp6(2),e.AsE(" ",e.lcZ(4,6,"upOneLevel")," ",t.parent," "),e.xp6(2),e.Udp("left",o.upOneLevelBtnPositions.lineLeft,"px")}}function go(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"i",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.onDelete(n))}),e.ALo(1,"translate"),e.qZA()}2&i&&e.s9C("matTooltip",e.lcZ(1,1,"delete"))}function ho(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",25),e.YNc(1,go,2,3,"i",26),e.TgZ(2,"i",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.openAddEditDialog(n))}),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.data.org),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,2,"add"))}}function fo(i,a){if(1&i&&(e.TgZ(0,"div",29)(1,"p"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",o.msgTranslate(null==t.data.orgType?null:t.data.orgType.ar_Name,null==t.data.orgType?null:t.data.orgType.en_Name)," ")}}function yo(i,a){if(1&i&&(e.TgZ(0,"div",29)(1,"p"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",o.msgTranslate(t.data.structure.ar_Name,t.data.structure.en_Name)," ")}}function bo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"i",31),e.NdJ("click",function(n){e.CHM(t);const s=e.oxw().$implicit,y=e.oxw(2);return e.KtG(y.openOrgDetailsDialog(n.target,s.data,1))}),e.TgZ(2,"span"),e._uU(3),e.qZA()()()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.data.numEmp," ")}}function Co(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(2);return s.expandNode(n),e.KtG(s.changePositions())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.children.length," ")}}function vo(i,a){if(1&i&&(e.YNc(0,_o,6,8,"ng-container",10),e.TgZ(1,"div",17)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,ho,4,4,"div",18),e.YNc(6,fo,3,1,"div",19),e.YNc(7,yo,3,1,"div",19),e.qZA(),e.TgZ(8,"div",20),e.YNc(9,bo,4,1,"div",21),e.YNc(10,Co,2,1,"div",22),e.qZA()),2&i){const t=a.$implicit,o=e.oxw(2);let n;e.Q6J("ngIf",o.orgStructureDetailsFiltered&&(null==o.orgStructureDetailsFiltered[0]||null==o.orgStructureDetailsFiltered[0].data?null:o.orgStructureDetailsFiltered[0].data.parentId)>0&&1==t.data.currentFirstNode),e.xp6(1),e.ekj("text-start",!o.canNotEdit),e.Q6J("id",null!==(n=null==t.data.org?null:t.data.org.id)&&void 0!==n?n:null),e.xp6(2),e.hij(" ",t.data.structure?e.lcZ(4,10,t.label):t.label," "),e.xp6(2),e.Q6J("ngIf",!o.canNotEdit),e.xp6(1),e.Q6J("ngIf",t.data.org),e.xp6(1),e.Q6J("ngIf",t.data.structure),e.xp6(2),e.Q6J("ngIf",t.data.numEmp>0),e.xp6(1),e.Q6J("ngIf",t.children.length>0)}}function To(i,a){1&i&&e._UZ(0,"app-chart-skeleton")}function Do(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab-group",1)(1,"mat-tab",2),e.ALo(2,"titlecase"),e.ALo(3,"translate"),e.TgZ(4,"div",3)(5,"form",4),e.YNc(6,mo,6,5,"div",5),e.qZA(),e.TgZ(7,"div",6),e.NdJ("scroll",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onScroll(n))}),e.TgZ(8,"p-organizationChart",7,8),e.NdJ("onNodeExpand",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changePositions())})("onNodeCollapse",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changePositions())}),e.YNc(10,vo,11,12,"ng-template",9),e.qZA()(),e.YNc(11,To,1,0,"app-chart-skeleton",10),e.qZA()(),e.TgZ(12,"mat-tab",2),e.ALo(13,"titlecase"),e.ALo(14,"translate"),e._UZ(15,"app-job-title-org-chart"),e.qZA(),e.TgZ(16,"mat-tab",2),e.ALo(17,"titlecase"),e.ALo(18,"translate"),e._UZ(19,"app-resources-chart"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("dir",t.languageService.isArabic?"rtl":"ltr"),e.xp6(1),e.s9C("label",e.lcZ(2,11,e.lcZ(3,13,"companyOrgStructure"))),e.xp6(3),e.ekj("ar",t.languageService.isArabic),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(1),e.Q6J("ngIf",!t.loading),e.xp6(2),e.Q6J("value",t.orgStructureDetailsFiltered)("preserveSpace",!1),e.xp6(3),e.Q6J("ngIf",t.loading),e.xp6(1),e.s9C("label",e.lcZ(13,15,e.lcZ(14,17,"jobtitleChart"))),e.xp6(4),e.s9C("label",e.lcZ(17,19,e.lcZ(18,21,"resources")))}}let Ae=(()=>{class i extends f.U{constructor(t,o,n){super(),this.orgStructureService=t,this.organizationsService=o,this.dialog=n,this.orgStructureDetailsFiltered=[],this.organizationList=[],this.loading=!0,this.expandAll=!1,this.firstOnChange=!0,this.upOneLevelBtnPositions={btnLeft:0,lineLeft:0},this.upOneLevelLastPositionsBeforeScroll={btnLeft:0,lineLeft:0}}ngOnInit(){this.form=this.fb.group({organizationTypeId:[null],organization_ID:[{value:null,disabled:!0}]}),this.formCtrls.organization_ID.valueChanges.subscribe(t=>{(null==t||t>0)&&this.onChangeOrg(t)})}ngOnChanges(t){t.orgStructureId&&(this.firstOnChange?this.firstOnChange=!1:this.onChangeBusinessAndCompanyId())}onChangeBusinessAndCompanyId(){this.orgStructureId>0&&this.checkNoBusinessOrCompany()&&this.getStructureDetails()}get formCtrls(){return this.form.controls}getStructureDetails(){this.loading=!0,this.orgStructureDetails=null,this.orgStructureDetailsFiltered=[],this.orgStructureService.getByIdWithHierarchy(this.orgStructureId).pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==u.u.Success?(this.orgStructureDetails=p(t.data[0],this.orgStructureId),this.orgStructureDetailsFiltered=this.orgStructureDetails.slice(),this.loading=!1):(this.errorList(t?.message?.messages),this.loading=!1)})}onChangeOrg(t){this.orgStructureDetailsFiltered=[],t>0?this.getChartDataByOrg(t,this.orgStructureDetails[0]):this.orgStructureDetailsFiltered=this.orgStructureDetails}getChartDataByOrg(t,o,n=!1){o.children.map(s=>{if(s.data.org?.id==t)return this.orgStructureDetailsFiltered=[s],this.orgStructureDetailsFiltered[0].data.currentFirstNode=!0,n&&(this.formCtrls.organizationTypeId.setValue(s.data.orgType.id),this.formCtrls.organization_ID.setValue(s.data.org.id)),void this.changePositions()}),o.children.map(s=>this.getChartDataByOrg(t,s,n))}changePositions(){setTimeout(()=>{this.setPositionBtnUpOneLevel(),this.setPositionUpOneLevelLine()},50)}upOneLevel(){this.orgStructureDetailsFiltered[0].data.currentFirstNode=!1,this.formCtrls.organization_ID.setValue(0);let t=this.orgStructureDetailsFiltered[0].data.parentId;t?this.getChartDataByOrg(t,this.orgStructureDetails[0],!0):this.orgStructureDetailsFiltered=this.orgStructureDetails}setPositionBtnUpOneLevel(){let t=document.querySelector(".upOneLevel-btn")?.getBoundingClientRect().width,o=document.querySelector(".p-organizationchart-node-content")?.getBoundingClientRect();this.upOneLevelBtnPositions.btnLeft=o?.width/2-t/2}setPositionUpOneLevelLine(){let t=document.querySelector(".p-organizationchart-node-content")?.getBoundingClientRect();this.upOneLevelBtnPositions.lineLeft=t?.width/2}onDelete(t){let o=this.msgTranslate(t.data.org.ar_Name,t.data.org.en_Name);this.deleteDialog(o).subscribe(n=>{n&&this.deleteNode(t)})}deleteNode(t){let o={StructureID:this.orgStructureId,OrgID:t.data.org.id};this.showLoading(),this.orgStructureService.DeleteNode(o).subscribe(n=>{n.message.messageType==u.u.Success?(this.deleteSuccessfullyMsg("orgStructureNodeRemoved"),this.getStructureDetails(),this.getAllOrganizationsByOrgType()):this.errorList(n?.message?.messages),this.hideLoading()})}openAddEditDialog(t){return this.dialog.open(st,{data:{org_Structure_ID:this.orgStructureId,parenT_ID:t.data.org?.id??null},minWidth:"50vw",panelClass:"add-structure-node",autoFocus:!1}).afterClosed().subscribe(o=>{o&&(this.getStructureDetails(),this.getAllOrganizationsByOrgType())})}openOrgDetailsDialog(t,o,n){let s=this.getHeaderElement(t),y={org_Structure_ID:this.orgStructureId,nodeData:o,expandedIndex:n};this.dialogsService.dialogLeftOrRightCard(St,s.getBoundingClientRect(),350,!1,"90hv",y)}getHeaderElement(t){return t.classList.contains("p-organizationchart-node-content")?t:this.getHeaderElement(t.parentElement)}expandNode(t){t.expanded=!t.expanded}getAllOrganizationsByOrgType(){let t=this.formCtrls.organizationTypeId.value;this.formCtrls.organization_ID.setValue(null),t>0?(this.organizationsService.GetAllByOrgTypeAndStructure(t,this.orgStructureId).pipe(this.cancelRequest()).subscribe(o=>{o.message.messageType==u.u.Success?this.organizationList=o.data:this.errorList(o?.message?.messages)}),this.formCtrls.organization_ID.enable()):this.formCtrls.organization_ID.disable()}onWindowResize(t){this.changePositions()}onScroll(t){this.changePositions()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E._),e.Y36(ve.z),e.Y36(x.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-org-structure-hierarchy-details"]],viewQuery:function(t,o){if(1&t&&e.Gf(po,5),2&t){let n;e.iGM(n=e.CRH())&&(o.companyChart=n.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(s){return o.onWindowResize(s)},!1,e.Jf7)},inputs:{orgStructureId:"orgStructureId",canNotEdit:"canNotEdit"},features:[e.qOj,e.TTD],decls:2,vars:1,consts:[["class","col-12 w-100 view-tabs-group",3,"dir",4,"ngIf"],[1,"col-12","w-100","view-tabs-group",3,"dir"],[3,"label"],[1,"organizationchart-container","company-chart"],[1,"mbottom-20",3,"formGroup"],["class","row mx-0",4,"ngIf"],["id","companyChart","appScrollableHorizontal","",3,"scroll"],["styleClass","company",3,"value","preserveSpace","onNodeExpand","onNodeCollapse"],["companyChart",""],["pTemplate","org"],[4,"ngIf"],[1,"row","mx-0"],[1,"col-md-4","col-12"],[3,"control","filter","change"],["label","organization",3,"control","List"],["class","col-md-4 col-12",4,"ngIf"],["elementId","companyChart",3,"resource"],[1,"node-header",3,"id"],["class","action-icons",4,"ngIf"],["class","node-content main-data",4,"ngIf"],[1,"node-content"],["class","employees-no-section",4,"ngIf"],["class","node-footer",3,"click",4,"ngIf"],["mat-button","",1,"btn","bg-light-info","upOneLevel-btn",3,"click"],[1,"pi","pi-angle-up"],[1,"action-icons"],["mat-icon-button","","class","pi pi-trash danger",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"pi","pi-plus","info",3,"matTooltip","click"],["mat-icon-button","",1,"pi","pi-trash","danger",3,"matTooltip","click"],[1,"node-content","main-data"],[1,"employees-no-section"],[1,"pi","pi-users",3,"click"],[1,"node-footer",3,"click"]],template:function(t,o){1&t&&(e._UZ(0,"p-toast"),e.YNc(1,Do,20,23,"mat-tab-group",0)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.orgStructureId>0))},dependencies:[c.O5,ce.$,X.c,pe.a,q.lW,It.Lv,Ie.SP,Ie.uX,Pt.gM,oe.t,Te.q,l._Y,l.JL,l.sg,B.jx,wt.FN,de.OE,Xt,co,c.rS,Z.X$],styles:[".mat-tab-body-content{padding:0;overflow-y:auto!important}  .view-tabs-group .mat-tab-header .mat-tab-labels{justify-content:flex-start}  .mat-dialog-content{max-height:65vh!important}[_nghost-%COMP%]     .company-chart .node-header i{font-size:16px;cursor:pointer}[_nghost-%COMP%]     .company-chart .p-organizationchart .node-header{position:relative}[_nghost-%COMP%]     .company-chart .p-organizationchart .node-header span{display:inline-block;max-width:calc(100% - 44px)}[_nghost-%COMP%]     .company-chart .p-organizationchart .action-icons{float:right;position:absolute;top:12px;right:0}[_nghost-%COMP%]     .company-chart .p-organizationchart .action-icons i{font-size:1rem;margin-right:10px}.ar[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]{float:left!important;left:0!important;right:auto!important;right:initial!important}.ar[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.ft-image[_ngcontent-%COMP%], .ft-file[_ngcontent-%COMP%]{cursor:pointer}"]}),i})();function xo(i,a){if(1&i&&e._UZ(0,"app-add-new-btn",3),2&i){const t=e.oxw();e.MGl("url","/org-management/",t.moduleId,"/org-structure/add"),e.Q6J("params",t.parentParam)}}function Zo(i,a){if(1&i&&e._UZ(0,"app-prime-dropdown",19),2&i){const t=e.oxw();e.Q6J("control",t.formCtrls.CopyStructureID)("submitted",t.submitted)("List",t.structureList)}}function So(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"reset-form-btn",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearForm())}),e.qZA()}}function Io(i,a){1&i&&(e._UZ(0,"span",23),e.TgZ(1,"div",24),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"canNotEditOrgStructure")," "))}function Po(i,a){1&i&&(e.TgZ(0,"p-messages",21),e.YNc(1,Io,4,3,"ng-template",22),e.qZA())}let Le=(()=>{class i extends f.U{constructor(t){super(),this.orgStructureService=t,this.submitted=!1,this.todayDate=new Date,this.structureList=[],this.todayDate.setHours(0,0,0,0)}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],en_Name:[null,[l.kI.required,Ce.w.whiteSpace]],ar_Name:[null,[l.kI.required,Ce.w.whiteSpace]],froM_DATE:[null,[l.kI.required]],CopyStructureID:[null]}),this.activatedRoute.paramMap.subscribe(t=>{this.orgStructureId=Number(t.get("orgStructureId"))??0})}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&(0==this.orgStructureId?this.getAllStructures():this.getById())}get formCtrls(){return this.form.controls}getById(){this.showLoading(),this.orgStructureService.getById(this.orgStructureId).pipe(this.cancelRequest()).subscribe(t=>{t?.message?.messageType==u.u.Success?(this.orgStructure=t.data[0],this.orgStructureToEdit()):this.errorList(t?.message?.messages),this.hideLoading()})}orgStructureToEdit(){this.form.patchValue(this.orgStructure)}submit(){this.submitted=!0,this.form.valid&&(0==this.formCtrls.id.value?this.create():this.update())}create(){const t={Core_Org_Structure:{en_Name:this.form.value.en_Name,ar_Name:this.form.value.ar_Name,froM_DATE:this.form.value.froM_DATE??this.orgStructure?.froM_DATE},CopyStructureID:this.formCtrls.CopyStructureID.value};this.showLoading(),this.orgStructureService.create(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newOrgStructureAdded"),this.orgStructureId=o.data.id,this.formCtrls.id.setValue(this.orgStructureId),this.navigateTo(`/org-management/${this.moduleId}/org-structure/edit/${this.orgStructureId}`),this.orgStructure=o.data,this.formCtrls.CopyStructureID.reset()):this.errorList(o?.message?.messages),this.hideLoading()})}update(){const t={id:this.form.value.id,en_Name:this.form.value.en_Name,ar_Name:this.form.value.ar_Name,froM_DATE:this.form.value.froM_DATE??this.orgStructure?.froM_DATE,to_DATE:this.orgStructure.tO_DATE};this.showLoading(),this.orgStructureService.update(t).subscribe(o=>{o.message.messageType==u.u.Success?(this.updateSuccessfullyMsg("orgStructureUpdated"),this.orgStructure=o.data):this.errorList(o?.message?.messages),this.hideLoading()})}clearForm(){this.form.reset({id:0}),this.submitted=!1}canNotEdit(){return new Date(this.todayDate).getTime()>=new Date(this.orgStructure?.froM_DATE).getTime()}getAllStructures(){this.orgStructureService.getAll().pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==u.u.Success?this.structureList=[{id:0,ar_Name:"\u0627\u0646\u0634\u0627\u0621 \u062c\u062f\u064a\u062f",en_Name:"Create new"},...t.data]:this.errorList(t?.message?.messages)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-org-structure"]],features:[e.qOj],decls:25,vars:28,consts:[[1,"title-no-margin","title-section","fixed-title"],["addTitle","orgStructure","editTitle","editOrgStructure",3,"id","parentTitle","parentTitleLink","title","parentLinkParams"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"form-card"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[3,"formGroup"],[1,"col-md-3","col-12"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","froM_DATE",3,"control","submitted","minDate","disable"],["label","copyFromPreviousStructure",3,"control","submitted","List",4,"ngIf"],["align","end"],[3,"click",4,"ngIf"],[3,"id","onClick"],["severity","warn",4,"ngIf"],[3,"orgStructureId","canNotEdit"],["label","copyFromPreviousStructure",3,"control","submitted","List"],[3,"click"],["severity","warn"],["pTemplate",""],[1,"p-message-icon","pi","pi-exclamation-triangle"],[1,"p-message-detail"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.YNc(4,xo,1,2,"app-add-new-btn",2),e._UZ(5,"app-back-btn",3),e.qZA(),e.TgZ(6,"mat-card",4)(7,"mat-card-content",5)(8,"div",6)(9,"div",7)(10,"form",8)(11,"div",6)(12,"div",9),e._UZ(13,"app-input",10),e.qZA(),e.TgZ(14,"div",9),e._UZ(15,"app-input",11),e.qZA(),e.TgZ(16,"div",9),e._UZ(17,"app-datepicker",12),e.qZA(),e.TgZ(18,"div",9),e.YNc(19,Zo,1,3,"app-prime-dropdown",13),e.qZA()()()()()(),e.TgZ(20,"mat-card-actions",14),e.YNc(21,So,1,0,"reset-form-btn",15),e.TgZ(22,"submit-btn",16),e.NdJ("onClick",function(){return o.submit()}),e.qZA()(),e.YNc(23,Po,2,0,"p-messages",17),e._UZ(24,"app-org-structure-hierarchy-details",18),e.qZA()),2&t&&(e.xp6(1),e.hYB("parentTitle","",e.lcZ(2,24,"orgManagement")," / ",e.lcZ(3,26,"orgStructure"),""),e.MGl("parentTitleLink","/org-management/",o.moduleId,"/org-structure"),e.Q6J("id",o.formCtrls.id.value)("title",o.formCtrls.id.value>0?"edit":"wizard")("parentLinkParams",o.pageParams),e.xp6(3),e.Q6J("ngIf",o.formCtrls.id.value>0),e.xp6(1),e.MGl("url","/org-management/",o.moduleId,"/org-structure/index"),e.Q6J("params",o.pageParams),e.xp6(5),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("control",o.formCtrls.en_Name)("submitted",o.submitted),e.xp6(2),e.Q6J("control",o.formCtrls.ar_Name)("submitted",o.submitted),e.xp6(2),e.Q6J("control",o.formCtrls.froM_DATE)("submitted",o.submitted)("minDate",o.todayDate)("disable",o.canNotEdit()),e.xp6(2),e.Q6J("ngIf",0==o.form.value.id),e.xp6(2),e.Q6J("ngIf",0==o.formCtrls.id.value),e.xp6(1),e.Q6J("id",o.formCtrls.id.value),e.xp6(1),e.Q6J("ngIf",o.canNotEdit()),e.xp6(1),e.Q6J("orgStructureId",o.orgStructureId||o.formCtrls.CopyStructureID.value)("canNotEdit",0==o.orgStructureId||o.canNotEdit()))},dependencies:[c.O5,J.Q,z.a,te.a,re.J,at.J,O.p,I.T,m.a8,m.dn,m.n5,m.hq,oe.t,l._Y,l.JL,l.sg,B.jx,ie.V,Ae,Z.X$]}),i})();var ae=r(36162);function wo(i,a){if(1&i&&e._UZ(0,"app-org-structure-hierarchy-details",5),2&i){const t=e.oxw();e.Q6J("orgStructureId",t.orgStructureId)("canNotEdit",!0)}}let Ao=(()=>{class i extends f.U{constructor(){super(),this.orgStructureId=0}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.orgStructureId=Number(t.get("orgStructureId"))??0})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-org-structure-details"]],features:[e.qOj],decls:7,vars:11,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","orgStructureDetails",3,"parentTitle","parentTitleLink","parentLinkParams"],[3,"url","params"],[1,"mtop-15"],[3,"orgStructureId","canNotEdit",4,"ngIf"],[3,"orgStructureId","canNotEdit"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ALo(2,"translate"),e.ALo(3,"translate"),e._UZ(4,"app-back-btn",2),e.qZA(),e.TgZ(5,"mat-card",3),e.YNc(6,wo,1,2,"app-org-structure-hierarchy-details",4),e.qZA()),2&t&&(e.xp6(1),e.hYB("parentTitle","",e.lcZ(2,7,"orgManagement")," / ",e.lcZ(3,9,"orgStructure"),""),e.MGl("parentTitleLink","/org-management/",o.moduleId,"/org-structure"),e.Q6J("parentLinkParams",o.pageParams),e.xp6(3),e.MGl("url","/org-management/",o.moduleId,"/org-structure/index"),e.Q6J("params",o.pageParams),e.xp6(2),e.Q6J("ngIf",o.orgStructureId>0))},dependencies:[c.O5,te.a,I.T,m.a8,m.n5,Ae,Z.X$]}),i})();var Oe=r(68781),Lo=r(63581),Oo=r(52912),W=r(26427);function Je(i){if(i)return i.objectTypesIds=i.core_SS_Template_PolicyGroups?.map(a=>a.core_SS_ObjectType?.id),i.policyPermissionSetups?.map(a=>{a.permission=a.att_Permission_Setup?.name,a.effectiveDate=d.M6.mapDate(a.fromDate),a.endDate=d.M6.mapDate(a.toDate)}),i.policyVacations?.map(a=>{a.vacation=(0,d._f)(a.att_Vacation?.ar_Name,a.att_Vacation?.en_Name),a.effectiveDate=d.M6.mapDate(a.fromDate),a.endDate=d.M6.mapDate(a.toDate)}),i.policyOfficialHolidaies?.map(a=>{a.officialHoliday=(0,d._f)(a.att_Official_Holiday?.ar_Name,a.att_Official_Holiday?.en_Name),a.effectiveDate=d.M6.mapDate(a.fromDate),a.endDate=d.M6.mapDate(a.toDate)}),i.policyPlans?.map(a=>{a.plan=(0,d._f)(a.att_Plan?.ar_Name,a.att_Plan?.en_Name),a.effectiveDate=d.M6.mapDate(a.fromDate),a.endDate=d.M6.mapDate(a.toDate)}),i.policyPayments?.map(a=>{a.payment=(0,d._f)(a.paY_Payment?.ar_Name,a.paY_Payment?.en_Name),a.effectiveDate=d.M6.mapDate(a.fromDate),a.endDate=d.M6.mapDate(a.toDate)}),i.core_SS_Template_PolicyGroups?.map(a=>{a.template=(0,d._f)(a.core_SS_Template?.ar_Name,a.core_SS_Template?.en_Name),a.objectType=(0,d._f)(a.core_SS_ObjectType?.ar_Name,a.core_SS_ObjectType?.en_Name),a.effectiveDate=d.M6.mapDate(a.from_Date),a.endDate=d.M6.mapDate(a.to_Date)}),i}var j=r(90376);const No=function(){return[]};let Go=(()=>{class i extends f.U{constructor(t){super(),this.policyGroupService=t,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","policyGroupType","groupingType","noOfEmployees","actions"],this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,o){this.isLoaded=!1,this.removePageParams(),this.page.pageIndex=t,o&&(this.page.pageSize=o),this.policyGroupService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{if(1==s.message.messageType){if(0==s.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new g.by(function Jo(i){return i.map(a=>({id:a?.core_PolicyGroup?.id,ar_Name:a?.core_PolicyGroup?.ar_Name,en_Name:a?.core_PolicyGroup?.en_Name,policyGroupType:(0,d._f)(a?.core_PolicyGroup?.core_PolicyGroup_Type?.ar_Name,a?.core_PolicyGroup?.core_PolicyGroup_Type?.en_Name),noOfEmployees:a.countEmpsOnPolicy,groupingType:W.n$.find(t=>t.value==a.core_PolicyGroup?.groupingType)?.label??""}))}(s.data)),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta}else this.errorList(s?.message?.messages)})}onDelete(t){let o=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(o).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.policyGroupService.Delete(t.id).subscribe(o=>{o.message.messageType==u.u.Success?(this.deleteSuccessfullyMsg("policyGroupRemoved"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(o?.message?.messages),this.hideLoading()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-policy-group-index"]],features:[e.qOj],decls:7,vars:14,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","policyGroups","parentTitle","orgManagement","TitleHasGlobalFunc","",3,"globalFunctions"],[1,"index-card"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","exportService","onChangePage","deleteRow"],[3,"title"],[3,"serviceId","moduleId"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.qZA(),e.TgZ(2,"mat-card",2)(3,"app-material-table",3),e.NdJ("onChangePage",function(s){return o.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return o.onDelete(s)}),e.qZA()(),e.TgZ(4,"side-helping-menu",4),e.ALo(5,"translate"),e._UZ(6,"app-dashboard-display",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("globalFunctions",o.globalFunctions),e.xp6(2),e.Q6J("isLoaded",o.isLoaded)("dataSource",o.dataSource)("mandatoryColomns",o.mandatoryColomns)("optionalColomns",e.DdM(13,No))("page",o.page)("actions",o.rowFunctions)("exportService",o.policyGroupService),e.xp6(1),e.s9C("title",e.lcZ(5,11,"Dashboard")),e.xp6(2),e.Q6J("serviceId",o.getCurrentServiceId())("moduleId",o.moduleId))},dependencies:[$.I,I.T,ne.c,se.b,ee.X,m.a8,m.n5,Z.X$]}),i})();var Uo=r(20957),Ne=r(86257),me=r(44950),G=r(79395),Eo=r(92665),k=r(44389),qo=r(97476);function Mo(i,a){1&i&&(e.TgZ(0,"mat-card-title",15),e._UZ(1,"page-title",16),e.qZA())}function jo(i,a){1&i&&e._UZ(0,"mat-divider",17)}function Qo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-split-table",18),e.NdJ("currentTableNumber",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.currentTableNumber=n)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("isLoaded",t.isLoaded)("dataSource",t.paymentDataSource)("displayedColumns",t.Colomns)("hasPaginator",!0)("showFilter",!1)}}function Fo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card"),e.YNc(1,Mo,2,0,"mat-card-title",2),e.YNc(2,jo,1,0,"mat-divider",3),e.TgZ(3,"mat-card-content",4)(4,"div",5)(5,"div",6),e._UZ(6,"payment-for-policy-details-dropdown",7),e.qZA(),e.TgZ(7,"div",8),e._UZ(8,"app-datepicker",9),e.qZA(),e.TgZ(9,"div",10)(10,"submit-btn",11),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.paymentSubmit())}),e.qZA()()(),e._UZ(11,"mat-divider"),e.TgZ(12,"div",12)(13,"div",13),e.YNc(14,Qo,1,5,"app-split-table",14),e.qZA()()()()}if(2&i){const t=e.oxw();e.ekj("mt-3",t.hideTitle),e.xp6(1),e.Q6J("ngIf",!t.hideTitle),e.xp6(1),e.Q6J("ngIf",!t.hideTitle),e.xp6(4),e.Q6J("control",t.paymentCtrl)("submitted",t.submitted)("filter",!0)("multi",!0),e.xp6(2),e.Q6J("control",t.from_DateCtrl)("submitted",t.submitted),e.xp6(2),e.Q6J("color",t.btn.darkBlue)("iconPositionBefore",!1),e.xp6(3),e.Tol(t.currentTableNumber>1?"col-md-10":"col-md-6"),e.xp6(1),e.Q6J("ngIf",t.policyId>0)}}function Ro(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-split-table",18),e.NdJ("currentTableNumber",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.currentTableNumber=n)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("isLoaded",t.isLoaded)("dataSource",t.paymentDataSource)("displayedColumns",t.Colomns)("hasPaginator",!0)("showFilter",!1)}}function Vo(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13),e.YNc(2,Ro,1,5,"app-split-table",14),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Tol(t.currentTableNumber>1?"col-md-10":"col-md-6"),e.xp6(1),e.Q6J("ngIf",t.policyId>0)}}let Ge=(()=>{class i extends f.U{constructor(t,o){super(),this.policyDetailsService=t,this.policyGroupService=o,this.getPolicyDetails=new e.vpe,this.submitted=!1,this.isLoaded=!1,this.from_DateCtrl=new l.NI("",l.kI.required),this.paymentCtrl=new l.NI([],l.kI.required),this.Colomns=["payment","effectiveDate","endDate"],this.policyId=o.policyGroup$.getValue().id,this.policyGroupDetails=t.policyGroupDetails$.getValue()}ngOnInit(){this.policyGroupService.policyGroup$.pipe(this.cancelRequest()).subscribe(t=>{this.policyId=t?.id??0}),this.policyDetailsService.policyGroupDetails$.pipe(this.cancelRequest()).subscribe(t=>{this.policyGroupDetails=t,this.isLoaded=!0,t&&(this.paymentCtrl.setValue(t.paymentsIds),this.paymentDataSource=new g.by(t.policyPayments))})}paymentSubmit(){if(this.submitted=!0,this.paymentCtrl.valid&&this.from_DateCtrl.valid){let t={PaymentsIds:this.paymentCtrl.value,policyId:this.policyId,from_Date:d.M6.mapDateReverse(this.from_DateCtrl.value)};this.showLoading(),this.policyDetailsService.SavePolicyDetailsPayments(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.submitted=!1,this.from_DateCtrl.reset(),this.addSuccessfullyMsg("newPaymentAddedToPolicyGroup"),this.getPolicyDetails.emit(!0)):this.errorList(o?.message?.messages),this.hideLoading()})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P),e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-payroll-details"]],inputs:{isView:"isView",hideTitle:"hideTitle"},outputs:{getPolicyDetails:"getPolicyDetails"},features:[e.qOj],decls:2,vars:2,consts:[[3,"mt-3",4,"ngIf"],["class","row mt-3",4,"ngIf"],["class","title-no-margin",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"container-fluid","mt-4"],[1,"row"],[1,"col-12","col-md-5"],[3,"control","submitted","filter","multi"],[1,"col-12","col-md-4"],["label","effectiveDate",3,"control","submitted"],[1,"col-12","col-md-2","text-center"],["icon","pi pi-plus-circle","label","add",1,"d-block","mt-1",3,"color","iconPositionBefore","onClick"],[1,"row","mt-3"],[1,"col"],["class","table-in-forms",3,"isLoaded","dataSource","displayedColumns","hasPaginator","showFilter","currentTableNumber",4,"ngIf"],[1,"title-no-margin"],["title","payments"],[1,"mt-2"],[1,"table-in-forms",3,"isLoaded","dataSource","displayedColumns","hasPaginator","showFilter","currentTableNumber"]],template:function(t,o){1&t&&(e.YNc(0,Fo,15,15,"mat-card",0),e.YNc(1,Vo,3,3,"div",1)),2&t&&(e.Q6J("ngIf",!o.isView),e.xp6(1),e.Q6J("ngIf",o.isView))},dependencies:[c.O5,J.Q,O.p,I.T,k.M,m.a8,m.dn,m.n5,M.d,qo.v]}),i})();var Bo=r(71353);function ko(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6),e._UZ(2,"app-permission-type-dropdown",7),e.qZA(),e.TgZ(3,"div",8),e._UZ(4,"app-datepicker",9),e.qZA(),e.TgZ(5,"div",10)(6,"submit-btn",11),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.permissionSubmit())}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("control",t.permissionIdsCtrl)("submitted",t.submitted)("filter",!0)("multi",!0),e.xp6(2),e.Q6J("control",t.from_DateCtrl)("submitted",t.submitted),e.xp6(2),e.Q6J("color",t.btn.darkBlue)("iconPositionBefore",!1)}}function Yo(i,a){1&i&&e._UZ(0,"mat-divider")}let Ue=(()=>{class i extends f.U{constructor(t){super(),this.policyDetailsService=t,this.isView=!1,this.getPolicyDetails=new e.vpe,this.submitted=!1,this.from_DateCtrl=new l.NI("",l.kI.required),this.permissionIdsCtrl=new l.NI([],l.kI.required),this.Colomns=["permission","effectiveDate","endDate"]}ngOnChanges(t){t.value&&this.permissionIdsCtrl.setValue(this.value)}permissionSubmit(){if(this.submitted=!0,this.permissionIdsCtrl.valid&&this.from_DateCtrl.valid){let t={PermissionSetup_SelectedIds:this.permissionIdsCtrl.value,policyId:this.policyId,from_Date:d.M6.mapDateReverse(this.from_DateCtrl.value)};this.showLoading(),this.policyDetailsService.SavePolicyDetailsPermissions(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.submitted=!1,this.from_DateCtrl.reset(),this.addSuccessfullyMsg("newPermissionAddedToPolicyGroup"),this.getPolicyDetails.emit(!0)):this.errorList(o?.message?.messages),this.hideLoading()})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-permission-policy-details"]],inputs:{isView:"isView",isLoaded:"isLoaded",policyId:"policyId",value:"value",dataSource:"dataSource"},outputs:{getPolicyDetails:"getPolicyDetails"},features:[e.qOj,e.TTD],decls:5,vars:9,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row","mt-3"],[1,"col"],[1,"table-in-forms",3,"isLoaded","dataSource","displayedColumns","hasPaginator","showFilter","currentTableNumber"],[1,"row"],[1,"col-12","col-md-5"],["label","permission",3,"control","submitted","filter","multi"],[1,"col-12","col-md-4"],["label","effectiveDate",3,"control","submitted"],[1,"col-12","col-md-2","text-center"],["icon","pi pi-plus-circle","label","add",1,"d-block","mt-1",3,"color","iconPositionBefore","onClick"]],template:function(t,o){1&t&&(e.YNc(0,ko,7,8,"div",0),e.YNc(1,Yo,1,0,"mat-divider",1),e.TgZ(2,"div",2)(3,"div",3)(4,"app-split-table",4),e.NdJ("currentTableNumber",function(s){return o.currentTableNumber=s}),e.qZA()()()),2&t&&(e.Q6J("ngIf",!o.isView),e.xp6(1),e.Q6J("ngIf",!o.isView),e.xp6(2),e.Tol(o.currentTableNumber>1?"col-md-10":"col-md-6"),e.xp6(1),e.Q6J("isLoaded",o.isLoaded)("dataSource",o.dataSource)("displayedColumns",o.Colomns)("hasPaginator",!0)("showFilter",!1))},dependencies:[c.O5,J.Q,O.p,k.M,M.d,Bo._]}),i})();var Ho=r(81031);function zo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6),e._UZ(2,"app-official-holidays-dropdown",7),e.qZA(),e.TgZ(3,"div",8),e._UZ(4,"app-datepicker",9),e.qZA(),e.TgZ(5,"div",10)(6,"submit-btn",11),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.SavePolicyDetailsOfficialHolidays())}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("control",t.officialHolidaysCtrl)("submitted",t.submitted)("filter",!0)("multi",!0),e.xp6(2),e.Q6J("control",t.from_DateCtrl)("submitted",t.submitted),e.xp6(2),e.Q6J("color",t.btn.darkBlue)("iconPositionBefore",!1)}}function $o(i,a){1&i&&e._UZ(0,"mat-divider")}let Ee=(()=>{class i extends f.U{constructor(t){super(),this.policyDetailsService=t,this.isView=!1,this.getPolicyDetails=new e.vpe,this.submitted=!1,this.from_DateCtrl=new l.NI("",l.kI.required),this.officialHolidaysCtrl=new l.NI([],l.kI.required),this.Colomns=["officialHoliday","effectiveDate","endDate"]}ngOnChanges(t){t.value&&this.officialHolidaysCtrl.setValue(this.value)}ngOnInit(){}SavePolicyDetailsOfficialHolidays(){if(this.submitted=!0,this.officialHolidaysCtrl.valid&&this.from_DateCtrl.valid){let t={OfficailHoliday_SelectedIds:this.officialHolidaysCtrl.value,policyId:this.policyId,from_Date:d.M6.mapDateReverse(this.from_DateCtrl.value)};this.showLoading(),this.policyDetailsService.SavePolicyDetailsOfficialHolidays(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.submitted=!1,this.from_DateCtrl.reset(),this.addSuccessfullyMsg("newOfficialHolidaysAddedToPolicyGroup"),this.getPolicyDetails.emit(!0)):this.errorList(o?.message?.messages),this.hideLoading()})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-official-holidays-policy-details"]],inputs:{isView:"isView",isLoaded:"isLoaded",policyId:"policyId",value:"value",dataSource:"dataSource"},outputs:{getPolicyDetails:"getPolicyDetails"},features:[e.qOj,e.TTD],decls:5,vars:9,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row","mt-3"],[1,"col"],[1,"table-in-forms",3,"isLoaded","dataSource","displayedColumns","hasPaginator","showFilter","currentTableNumber"],[1,"row"],[1,"col-12","col-md-5"],[3,"control","submitted","filter","multi"],[1,"col-12","col-md-4"],["label","effectiveDate",3,"control","submitted"],[1,"col-12","col-md-2","text-center"],["icon","pi pi-plus-circle","label","add",1,"d-block","mt-1",3,"color","iconPositionBefore","onClick"]],template:function(t,o){1&t&&(e.YNc(0,zo,7,8,"div",0),e.YNc(1,$o,1,0,"mat-divider",1),e.TgZ(2,"div",2)(3,"div",3)(4,"app-split-table",4),e.NdJ("currentTableNumber",function(s){return o.currentTableNumber=s}),e.qZA()()()),2&t&&(e.Q6J("ngIf",!o.isView),e.xp6(1),e.Q6J("ngIf",!o.isView),e.xp6(2),e.Tol(o.currentTableNumber>1?"col-md-10":"col-md-6"),e.xp6(1),e.Q6J("isLoaded",o.isLoaded)("dataSource",o.dataSource)("displayedColumns",o.Colomns)("hasPaginator",!0)("showFilter",!1))},dependencies:[c.O5,J.Q,O.p,k.M,M.d,Ho.p]}),i})();var Ko=r(47414);function Wo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6),e._UZ(2,"app-attendance-plan-dropdown",7),e.qZA(),e.TgZ(3,"div",8),e._UZ(4,"app-datepicker",9),e.qZA(),e.TgZ(5,"div",10)(6,"submit-btn",11),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.SavePolicyDetailsPlans())}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("control",t.planCtrl)("submitted",t.submitted)("filter",!0)("multi",!0),e.xp6(2),e.Q6J("control",t.from_DateCtrl)("submitted",t.submitted),e.xp6(2),e.Q6J("color",t.btn.darkBlue)("iconPositionBefore",!1)}}function Xo(i,a){1&i&&e._UZ(0,"mat-divider")}let qe=(()=>{class i extends f.U{constructor(t){super(),this.policyDetailsService=t,this.isView=!1,this.getPolicyDetails=new e.vpe,this.submitted=!1,this.from_DateCtrl=new l.NI("",l.kI.required),this.planCtrl=new l.NI([],l.kI.required),this.Colomns=["plan","effectiveDate","endDate"]}ngOnChanges(t){t.value&&this.planCtrl.setValue(this.value)}SavePolicyDetailsPlans(){if(this.submitted=!0,this.planCtrl.valid&&this.from_DateCtrl.valid){let t={plans_SelectedIds:this.planCtrl.value,policyId:this.policyId,from_Date:d.M6.mapDateReverse(this.from_DateCtrl.value)};this.showLoading(),this.policyDetailsService.SavePolicyDetailsPlans(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.submitted=!1,this.from_DateCtrl.reset(),this.addSuccessfullyMsg("newPlanAddedToPolicyGroup"),this.getPolicyDetails.emit(!0)):this.errorList(o?.message?.messages),this.hideLoading()})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-plan-policy-details"]],inputs:{isView:"isView",isLoaded:"isLoaded",policyId:"policyId",value:"value",dataSource:"dataSource"},outputs:{getPolicyDetails:"getPolicyDetails"},features:[e.qOj,e.TTD],decls:5,vars:9,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row","mt-3"],[1,"col"],[1,"table-in-forms",3,"isLoaded","dataSource","displayedColumns","hasPaginator","showFilter","currentTableNumber"],[1,"row"],[1,"col-12","col-md-5"],[3,"control","submitted","filter","multi"],[1,"col-12","col-md-4"],["label","effectiveDate",3,"control","submitted"],[1,"col-12","col-md-2","text-center"],["icon","pi pi-plus-circle","label","add",1,"d-block","mt-1",3,"color","iconPositionBefore","onClick"]],template:function(t,o){1&t&&(e.YNc(0,Wo,7,8,"div",0),e.YNc(1,Xo,1,0,"mat-divider",1),e.TgZ(2,"div",2)(3,"div",3)(4,"app-split-table",4),e.NdJ("currentTableNumber",function(s){return o.currentTableNumber=s}),e.qZA()()()),2&t&&(e.Q6J("ngIf",!o.isView),e.xp6(1),e.Q6J("ngIf",!o.isView),e.xp6(2),e.Tol(o.currentTableNumber>1?"col-md-10":"col-md-6"),e.xp6(1),e.Q6J("isLoaded",o.isLoaded)("dataSource",o.dataSource)("displayedColumns",o.Colomns)("hasPaginator",!0)("showFilter",!1))},dependencies:[c.O5,J.Q,O.p,k.M,M.d,Ko.B]}),i})();var ei=r(72370);function ti(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6),e._UZ(2,"app-vacation-type-dropdown",7),e.qZA(),e.TgZ(3,"div",8),e._UZ(4,"app-datepicker",9),e.qZA(),e.TgZ(5,"div",10)(6,"submit-btn",11),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.vacationSubmit())}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("control",t.vacationIdsCtrl)("submitted",t.submitted)("filter",!0)("multi",!0),e.xp6(2),e.Q6J("control",t.from_DateCtrl)("submitted",t.submitted),e.xp6(2),e.Q6J("color",t.btn.darkBlue)("iconPositionBefore",!1)}}function oi(i,a){1&i&&e._UZ(0,"mat-divider")}let Me=(()=>{class i extends f.U{constructor(t){super(),this.policyDetailsService=t,this.getPolicyDetails=new e.vpe,this.submitted=!1,this.from_DateCtrl=new l.NI("",l.kI.required),this.vacationIdsCtrl=new l.NI([],l.kI.required),this.Colomns=["vacation","effectiveDate","endDate"]}ngOnChanges(t){t.value&&this.vacationIdsCtrl.setValue(this.value)}vacationSubmit(){if(this.submitted=!0,this.vacationIdsCtrl.valid&&this.from_DateCtrl.valid){let t={VacitionsIds:this.vacationIdsCtrl.value,policyId:this.policyId,from_Date:d.M6.mapDateReverse(this.from_DateCtrl.value)};this.showLoading(),this.policyDetailsService.SavePolicyDetailsVacations(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.submitted=!1,this.from_DateCtrl.reset(),this.addSuccessfullyMsg("newVacationAddedToPolicyGroup"),this.getPolicyDetails.emit(!0)):this.errorList(o?.message?.messages),this.hideLoading()})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vacations-policy-details"]],inputs:{isView:"isView",isLoaded:"isLoaded",policyId:"policyId",value:"value",dataSource:"dataSource"},outputs:{getPolicyDetails:"getPolicyDetails"},features:[e.qOj,e.TTD],decls:5,vars:9,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row","mt-3"],[1,"col"],[1,"table-in-forms",3,"isLoaded","dataSource","displayedColumns","hasPaginator","showFilter","currentTableNumber"],[1,"row"],[1,"col-12","col-md-5"],["label","vacation",3,"control","submitted","filter","multi"],[1,"col-12","col-md-4"],["label","effectiveDate",3,"control","submitted"],[1,"col-12","col-md-2","text-center"],["icon","pi pi-plus-circle","label","add",1,"d-block","mt-1",3,"color","iconPositionBefore","onClick"]],template:function(t,o){1&t&&(e.YNc(0,ti,7,8,"div",0),e.YNc(1,oi,1,0,"mat-divider",1),e.TgZ(2,"div",2)(3,"div",3)(4,"app-split-table",4),e.NdJ("currentTableNumber",function(s){return o.currentTableNumber=s}),e.qZA()()()),2&t&&(e.Q6J("ngIf",!o.isView),e.xp6(1),e.Q6J("ngIf",!o.isView),e.xp6(2),e.Tol(o.currentTableNumber>1?"col-md-10":"col-md-6"),e.xp6(1),e.Q6J("isLoaded",o.isLoaded)("dataSource",o.dataSource)("displayedColumns",o.Colomns)("hasPaginator",!0)("showFilter",!1))},dependencies:[c.O5,J.Q,O.p,k.M,M.d,ei.t]}),i})();var ii=r(60087);function ai(i,a){if(1&i&&(e.TgZ(0,"div",5),e._UZ(1,"app-datepicker",6),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("control",t.from_DateCtrl)("submitted",t.submitted)}}function ni(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"submit-btn",8),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.SavePolicyDetailsPenalty())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("color",t.btn.darkBlue)("iconPositionBefore",!1)}}let je=(()=>{class i extends f.U{constructor(t){super(),this.policyDetailsService=t,this.isView=!1,this.getPolicyDetails=new e.vpe,this.submitted=!1,this.from_DateCtrl=new l.NI("",l.kI.required),this.penaltyCtrl=new l.NI(null,l.kI.required)}ngOnChanges(t){t.value&&this.penaltyCtrl.setValue(this.value)}ngOnInit(){}SavePolicyDetailsPenalty(){if(this.submitted=!0,this.penaltyCtrl.valid&&this.from_DateCtrl.valid){let t={PenalityReguration_SelectedId:this.penaltyCtrl.value,policyId:this.policyId,from_Date:d.M6.mapDateReverse(this.from_DateCtrl.value)};this.showLoading(),this.policyDetailsService.SavePolicyDetailsPenalty(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.submitted=!1,this.from_DateCtrl.reset(),this.addSuccessfullyMsg("newPenaltyAddedToPolicyGroup"),this.getPolicyDetails.emit(!0)):this.errorList(o?.message?.messages),this.hideLoading()})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-penalty-policy-details"]],inputs:{isView:"isView",isLoaded:"isLoaded",policyId:"policyId",value:"value"},outputs:{getPolicyDetails:"getPolicyDetails"},features:[e.qOj,e.TTD],decls:5,vars:6,consts:[[1,"row"],[1,"col-12","col-md-5"],[3,"control","submitted","disable","filter"],["class","col-12 col-md-4",4,"ngIf"],["class","col-12 col-md-2 text-center",4,"ngIf"],[1,"col-12","col-md-4"],["label","effectiveDate",3,"control","submitted"],[1,"col-12","col-md-2","text-center"],["icon","pi pi-plus-circle","label","add",1,"d-block","mt-1",3,"color","iconPositionBefore","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-penalty-regulation-dropdown",2),e.qZA(),e.YNc(3,ai,2,2,"div",3),e.YNc(4,ni,2,2,"div",4),e.qZA()),2&t&&(e.xp6(2),e.Q6J("control",o.penaltyCtrl)("submitted",o.submitted)("disable",o.isView)("filter",!0),e.xp6(1),e.Q6J("ngIf",!o.isView),e.xp6(1),e.Q6J("ngIf",!o.isView))},dependencies:[c.O5,J.Q,O.p,ii.b]}),i})();function si(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-permission-policy-details",5),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.reGetPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("policyId",t.policyId)("value",t.permissionSetup_SelectedIds)("dataSource",t.permissionDataSource)}}function ri(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-vacations-policy-details",5),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.reGetPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("policyId",t.policyId)("value",t.vacitionsIds)("dataSource",t.vacationDataSource)}}function li(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-official-holidays-policy-details",5),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.reGetPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("policyId",t.policyId)("value",t.officailHoliday_SelectedIds)("dataSource",t.officialHolidaysDataSource)}}function ci(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-plan-policy-details",5),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.reGetPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("policyId",t.policyId)("value",t.plans_SelectedIds)("dataSource",t.planDataSource)}}function pi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-penalty-policy-details",6),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.reGetPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("value",t.penalityReguration_SelectedId)("policyId",t.policyId)}}function di(i,a){if(1&i&&(e.TgZ(0,"mat-expansion-panel",2)(1,"mat-expansion-panel-header")(2,"mat-panel-title",3),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,si,2,4,"div",4),e.YNc(6,ri,2,4,"div",4),e.YNc(7,li,2,4,"div",4),e.YNc(8,ci,2,4,"div",4),e.YNc(9,pi,2,3,"div",4),e.qZA()),2&i){const t=a.$implicit,o=a.index,n=e.oxw();e.Q6J("expanded",0===o),e.xp6(3),e.hij(" ",e.lcZ(4,7,t)," "),e.xp6(2),e.Q6J("ngIf",t==n.collapseEnum.permission),e.xp6(1),e.Q6J("ngIf",t==n.collapseEnum.vacations),e.xp6(1),e.Q6J("ngIf",t==n.collapseEnum.officialHolidays),e.xp6(1),e.Q6J("ngIf",t==n.collapseEnum.plan),e.xp6(1),e.Q6J("ngIf",t==n.collapseEnum.penalty)}}var v=(()=>{return(i=v||(v={})).permission="permission",i.officialHolidays="officialHolidays",i.plan="plan",i.vacations="vacations",i.penalty="penalty",v;var i})();let ui=(()=>{class i extends f.U{constructor(t,o){super(),this.policyDetailsService=t,this.policyGroupService=o,this.isView=!1,this.getPolicyDetails=new e.vpe,this.isLoaded=!1,this.collapseEnum=v,this.collapseList=[v.permission,v.officialHolidays,v.plan,v.vacations,v.penalty],this.policyId=o.policyGroup$.getValue()?.id,this.policyGroupDetails=t.policyGroupDetails$.getValue()}ngOnInit(){this.policyGroupService.policyGroup$.pipe(this.cancelRequest()).subscribe(t=>{this.policyId=t?.id??0}),this.policyDetailsService.policyGroupDetails$.pipe(this.cancelRequest()).subscribe(t=>{this.policyGroupDetails=t,t&&(this.isLoaded=!0,this.permissionSetup_SelectedIds=t.permissionSetup_SelectedIds,this.permissionDataSource=new g.by(t.policyPermissionSetups),this.vacitionsIds=t.vacitionsIds,this.vacationDataSource=new g.by(t.policyVacations),this.officailHoliday_SelectedIds=t.officailHoliday_SelectedIds,this.officialHolidaysDataSource=new g.by(t.policyOfficialHolidaies),this.plans_SelectedIds=t.plans_SelectedIds,this.planDataSource=new g.by(t.policyPlans),this.penalityReguration_SelectedId=t.penalityReguration_SelectedId)})}reGetPolicyDetails(){this.getPolicyDetails.emit(!0)}ngOnDestroy(){this.policyDetailsService.policyGroupDetails$.next(null),this.policyGroupService.policyGroup$.next(null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P),e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-attendance-details"]],inputs:{isView:"isView",hideTitle:"hideTitle"},outputs:{getPolicyDetails:"getPolicyDetails"},features:[e.qOj],decls:2,vars:1,consts:[[1,"d-block","mt-2"],["class","mb-2",3,"expanded",4,"ngFor","ngForOf"],[1,"mb-2",3,"expanded"],[1,"page-title"],[4,"ngIf"],[3,"isLoaded","policyId","value","dataSource","getPolicyDetails"],[3,"isLoaded","value","policyId","getPolicyDetails"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-accordion",0),e.YNc(1,di,10,9,"mat-expansion-panel",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.collapseList))},dependencies:[c.sg,c.O5,T.pp,T.ib,T.yz,T.yK,Ue,Ee,qe,Me,je,Z.X$],styles:["mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 4px 4px #84848440!important}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{border-bottom:1px solid #eaeaea!important;border-radius:0;margin-bottom:20px}"]}),i})();var mi=r(24200),_i=r(64189);function gi(i,a){1&i&&e._UZ(0,"mat-divider",16)}function hi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-split-table",17),e.NdJ("currentTableNumber",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.currentTableNumber=n)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("displayedColumns",t.Colomns)("hasPaginator",!0)("showFilter",!1)}}function fi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card")(1,"mat-card-title",2),e._UZ(2,"page-title",3),e.qZA(),e.YNc(3,gi,1,0,"mat-divider",4),e.TgZ(4,"mat-card-content",5)(5,"div",6)(6,"div",7),e._UZ(7,"app-template-dropdown",8),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"app-object-types-dropdown",9),e.qZA(),e.TgZ(10,"div",7),e._UZ(11,"app-datepicker",10),e.qZA(),e.TgZ(12,"div",11)(13,"submit-btn",12),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.SavePolicyDetailsTemplate())}),e.qZA()()(),e._UZ(14,"mat-divider"),e.TgZ(15,"div",13)(16,"div",14),e.YNc(17,hi,1,5,"app-split-table",15),e.qZA()()()()}if(2&i){const t=e.oxw();e.ekj("mt-3",t.hideTitle),e.xp6(3),e.Q6J("ngIf",!t.hideTitle),e.xp6(4),e.Q6J("control",t.templateIdCtrl)("submitted",t.submitted)("filter",!0),e.xp6(2),e.Q6J("control",t.objectTypesCtrl)("submitted",t.submitted)("filter",!0)("multi",!0),e.xp6(2),e.Q6J("control",t.from_DateCtrl)("submitted",t.submitted),e.xp6(2),e.Q6J("color",t.btn.darkBlue)("iconPositionBefore",!1),e.xp6(3),e.Tol(t.currentTableNumber>1?"col-md-10":"col-md-6"),e.xp6(1),e.Q6J("ngIf",t.policyId>0)}}function yi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-split-table",17),e.NdJ("currentTableNumber",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.currentTableNumber=n)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("displayedColumns",t.Colomns)("hasPaginator",!0)("showFilter",!1)}}function bi(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"div",14),e.YNc(2,yi,1,5,"app-split-table",15),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Tol(t.currentTableNumber>1?"col-md-10":"col-md-6"),e.xp6(1),e.Q6J("ngIf",t.policyId>0)}}let Qe=(()=>{class i extends f.U{constructor(t,o){super(),this.policyDetailsService=t,this.policyGroupService=o,this.getPolicyDetails=new e.vpe,this.submitted=!1,this.isLoaded=!1,this.from_DateCtrl=new l.NI("",l.kI.required),this.objectTypesCtrl=new l.NI([],l.kI.required),this.templateIdCtrl=new l.NI(null,l.kI.required),this.Colomns=["objectType","template","effectiveDate","endDate"],this.policyId=o.policyGroup$.getValue().id,this.policyGroupDetails=t.policyGroupDetails$.getValue()}ngOnInit(){this.policyGroupService.policyGroup$.pipe(this.cancelRequest()).subscribe(t=>{this.policyId=t?.id??0}),this.policyDetailsService.policyGroupDetails$.pipe(this.cancelRequest()).subscribe(t=>{this.policyGroupDetails=t,this.isLoaded=!0,t&&(this.objectTypesCtrl.setValue(t.objectTypesIds),this.templateIdCtrl.setValue(t.templeteId),this.dataSource=new g.by(t.core_SS_Template_PolicyGroups))})}SavePolicyDetailsTemplate(){if(this.submitted=!0,this.objectTypesCtrl.valid&&this.from_DateCtrl.valid){let t={objectTypesIds:this.objectTypesCtrl.value,TempleteId:this.templateIdCtrl.value,policyId:this.policyId,from_Date:d.M6.mapDateReverse(this.from_DateCtrl.value)};this.showLoading(),this.policyDetailsService.SavePolicyDetailsTemplate(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.submitted=!1,this.from_DateCtrl.reset(),this.templateIdCtrl.reset(),this.addSuccessfullyMsg("newTemplateAddedToPolicyGroup"),this.getPolicyDetails.emit(!0)):this.errorList(o?.message?.messages),this.hideLoading()})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P),e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-selfService-details"]],inputs:{isView:"isView",hideTitle:"hideTitle"},outputs:{getPolicyDetails:"getPolicyDetails"},features:[e.qOj],decls:2,vars:2,consts:[[3,"mt-3",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"title-no-margin"],["title","objectTypes"],["class","mt-2",4,"ngIf"],[1,"container-fluid","mt-4"],[1,"row"],[1,"col-12","col-md-3"],[3,"control","submitted","filter"],[3,"control","submitted","filter","multi"],["label","effectiveDate",3,"control","submitted"],[1,"col-12","col-md-2","text-center"],["icon","pi pi-plus-circle","label","add",1,"d-block","mt-1",3,"color","iconPositionBefore","onClick"],[1,"row","mt-3"],[1,"col"],["class","table-in-forms",3,"isLoaded","dataSource","displayedColumns","hasPaginator","showFilter","currentTableNumber",4,"ngIf"],[1,"mt-2"],[1,"table-in-forms",3,"isLoaded","dataSource","displayedColumns","hasPaginator","showFilter","currentTableNumber"]],template:function(t,o){1&t&&(e.YNc(0,fi,18,17,"mat-card",0),e.YNc(1,bi,3,3,"div",1)),2&t&&(e.Q6J("ngIf",!o.isView),e.xp6(1),e.Q6J("ngIf",o.isView))},dependencies:[c.O5,J.Q,O.p,I.T,k.M,m.a8,m.dn,m.n5,M.d,mi.n,_i.g]}),i})();function Ci(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-attendance-details",2),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getPolicyDetails())}),e.qZA()()}}function vi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-payroll-details",2),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getPolicyDetails())}),e.qZA()()}}function Ti(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-selfService-details",2),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getPolicyDetails())}),e.qZA()()}}function Di(i,a){1&i&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"p-message",5),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.s9C("text",e.lcZ(3,1,"please enter policy group general data first")))}let xi=(()=>{class i extends f.U{constructor(t,o){super(),this.policyDetailsService=t,this.policyGroupService=o,this.PolicyGroupType=W.Sg,this.policyId=o.policyGroup$.getValue()?.id,this.policyGroupDetails=t.policyGroupDetails$.getValue()}ngOnInit(){this.policyGroupService.policyGroup$.pipe(this.cancelRequest()).subscribe(t=>{this.policyGroup=t,this.policyId=t?.id??0,t&&this.getPolicyDetails()}),this.policyDetailsService.policyGroupDetails$.pipe(this.cancelRequest()).subscribe(t=>{this.policyGroupDetails=t})}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.policyId>0&&this.getPolicyDetails()}getPolicyDetails(){this.policyDetailsService.getPolicyDetails(this.policyId).pipe(this.cancelRequest()).subscribe(t=>{if(t.message.messageType==u.u.Success){const o=Je(t.data);this.policyDetailsService.policyGroupDetails$.next(o)}else this.errorList(t?.message?.messages)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P),e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-policy-group-details"]],features:[e.qOj],decls:4,vars:4,consts:[[4,"ngIf"],["class","row d-flex justify-content-center",4,"ngIf"],[3,"getPolicyDetails"],[1,"row","d-flex","justify-content-center"],[1,"col-12","col-md-6"],["severity","error",3,"text"]],template:function(t,o){1&t&&(e.YNc(0,Ci,2,0,"div",0),e.YNc(1,vi,2,0,"div",0),e.YNc(2,Ti,2,0,"div",0),e.YNc(3,Di,4,3,"div",1)),2&t&&(e.Q6J("ngIf",(null==o.policyGroup?null:o.policyGroup.policyGroup_Type_ID)==o.PolicyGroupType.Attendance),e.xp6(1),e.Q6J("ngIf",(null==o.policyGroup?null:o.policyGroup.policyGroup_Type_ID)==o.PolicyGroupType.Payroll),e.xp6(1),e.Q6J("ngIf",(null==o.policyGroup?null:o.policyGroup.policyGroup_Type_ID)==o.PolicyGroupType.SelfService),e.xp6(1),e.Q6J("ngIf",null==o.policyGroup||!o.policyGroup))},dependencies:[c.O5,Eo.q,Ge,ui,Qe,Z.X$]}),i})();const Zi=["stepper"];function Si(i,a){if(1&i&&e._UZ(0,"app-add-new-btn",3),2&i){const t=e.oxw();e.MGl("url","/org-management/",t.moduleId,"/policy-group/add"),e.Q6J("params",t.parentParam)}}let Fe=(()=>{class i extends f.U{constructor(){super(),this.activatedRoute.paramMap.subscribe(t=>{this.policyGroupId=Number(t.get("id"))??0})}ngOnInit(){}stepChanged(){this.stepper.selected.interacted=!1}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-policy-group-core"]],viewQuery:function(t,o){if(1&t&&e.Gf(Zi,5),2&t){let n;e.iGM(n=e.CRH())&&(o.stepper=n.first)}},features:[e.qOj],decls:24,vars:28,consts:[[1,"title-no-margin","title-section","fixed-title"],["addTitle","addPolicyGroup","editTitle","editPolicyGroup",3,"id","parentTitle","parentTitleLink","title","parentLinkParams"],[3,"url","params",4,"ngIf"],[3,"url","params"],[1,"has-fixed-title"],[1,"mt-2"],[3,"linear","selectionChange"],["stepper",""],[1,"mt-5",3,"label"],[1,"row"],[1,"col-12"],[3,"label"],[3,"stepper","parentParam","url","pageParams"]],template:function(t,o){if(1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ynx(4),e.YNc(5,Si,1,2,"app-add-new-btn",2),e._UZ(6,"app-back-btn",3),e.BQk(),e.qZA(),e.TgZ(7,"mat-card-content",4),e._UZ(8,"div",5),e.TgZ(9,"mat-stepper",6,7),e.NdJ("selectionChange",function(){return o.stepChanged()}),e.TgZ(11,"mat-step",8),e.ALo(12,"titlecase"),e.ALo(13,"translate"),e.TgZ(14,"div",9)(15,"div",10),e._UZ(16,"app-add-policy-group"),e.qZA()()(),e.TgZ(17,"mat-step",11),e.ALo(18,"titlecase"),e.ALo(19,"translate"),e.TgZ(20,"div",9)(21,"div",10),e._UZ(22,"app-policy-group-details"),e.qZA()()()()(),e._UZ(23,"steps-footer",12)),2&t){const n=e.MAs(10);e.xp6(1),e.hYB("parentTitle","",e.lcZ(2,16,"orgManagement")," / ",e.lcZ(3,18,"policyGroups"),""),e.MGl("parentTitleLink","/org-management/",o.moduleId,"/policy-group"),e.Q6J("id",o.policyGroupId)("title",o.policyGroupId>0?"edit":"add")("parentLinkParams",o.pageParams),e.xp6(4),e.Q6J("ngIf",o.policyGroupId>0),e.xp6(1),e.MGl("url","/org-management/",o.moduleId,"/policy-group"),e.Q6J("params",o.pageParams),e.xp6(3),e.Q6J("linear",!1),e.xp6(2),e.s9C("label",e.lcZ(12,20,e.lcZ(13,22,"generalInfo"))),e.xp6(6),e.s9C("label",e.lcZ(18,24,e.lcZ(19,26,"policyGroupDetails"))),e.xp6(6),e.MGl("url","/org-management/",o.moduleId,"/policy-group"),e.Q6J("stepper",n)("parentParam",o.parentParam)("pageParams",o.pageParams)}},dependencies:[c.O5,te.a,re.J,I.T,Uo.j,m.dn,m.n5,Ne.C0,Ne.Vq,me.S,xi,c.rS,Z.X$]}),i})();var w=r(3710),_e=r(43949),Re=r(4592),Ii=r(26873),Pi=r(68756),wi=r(59681);let Ve=(()=>{class i extends f.U{constructor(t,o,n){super(),this.orgLocationService=t,this.data=o,this.dialogRef=n,this.submitted=!1,this.hasUpdate=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],Country_ID:[null,[l.kI.required]],Governament_ID:[null,[l.kI.required]],location:[null,[l.kI.required]],longitude:[null,[_e.dN.gt(0)]],latitude:[null,[_e.dN.gt(0)]],radius:[null,[_e.dN.gt(0)]]}),this.data&&this.basicLocationToEdit(this.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.form.valid){const t={ID:this.form.value.id,Location:this.formCtrls.location.value,Country_ID:this.formCtrls.Country_ID.value,Governament_ID:this.formCtrls.Governament_ID.value,longitude:this.formCtrls.longitude.value,latitude:this.formCtrls.latitude.value,radius:this.formCtrls.radius.value};0==t.ID?this.create(t):this.update(t)}}create(t){this.showLoading(),this.orgLocationService.create(t).subscribe(o=>{o?.message?.messageType==u.u.Success?(this.hasUpdate=!0,this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newbasicLocationAdded"),this.onCloseDialog()):this.errorList(o?.message?.messages),this.hideLoading()})}update(t){this.showLoading(),this.orgLocationService.update(t).subscribe(o=>{o.message.messageType==u.u.Success?(this.hasUpdate=!0,this.updateSuccessfullyMsg("basicLocationUpdated","successfulEdit"),this.onCloseDialog()):this.errorList(o?.message?.messages),this.hideLoading()})}basicLocationToEdit(t){this.formCtrls.Governament_ID.setValue(t.comm_Governorate.id),this.formCtrls.Country_ID.setValue(t.comm_Country.id),this.form.patchValue(t)}clearForm(){this.form.reset({id:0}),this.submitted=!1}onCloseDialog(){this.dialogRef.close(this.hasUpdate)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Re.b),e.Y36(x.WI),e.Y36(x.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-location"]],features:[e.qOj],decls:23,vars:24,consts:[["parentTitle","basicLocation","addTitle","add","editTitle","update",3,"id"],["container",""],[1,"row"],[1,"col-12"],[3,"formGroup"],[3,"control","submitted","filter","appendTo"],[3,"control","countryControl","submitted","filter","appendTo"],["label","location",3,"control","submitted"],["label","longitude",3,"control","submitted","type","isDecimalNumber"],["label","latitude","type","number",3,"control","submitted","isDecimalNumber"],["label","radius","type","number",3,"control","submitted","isDecimalNumber"],["align","end"],[3,"click"],["addLabel","add",3,"id","onClick"]],template:function(t,o){if(1&t&&(e.TgZ(0,"mat-card-title"),e._UZ(1,"page-title",0),e.qZA(),e.TgZ(2,"mat-card-content",null,1)(4,"div",2)(5,"div",3)(6,"form",4)(7,"div",2)(8,"div",3),e._UZ(9,"app-country-dropdown",5),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"governorate-dropdown",6),e.qZA(),e.TgZ(12,"div",3),e._UZ(13,"app-input",7),e.qZA(),e.TgZ(14,"div",3),e._UZ(15,"app-input",8),e.qZA(),e.TgZ(16,"div",3),e._UZ(17,"app-input",9),e.qZA(),e.TgZ(18,"div",3),e._UZ(19,"app-input",10),e.qZA()()()()()(),e.TgZ(20,"mat-card-actions",11)(21,"discard-dialog-btn",12),e.NdJ("click",function(){return o.onCloseDialog()}),e.qZA(),e.TgZ(22,"submit-btn",13),e.NdJ("onClick",function(){return o.submit()}),e.qZA()()),2&t){const n=e.MAs(3);e.xp6(1),e.Q6J("id",o.formCtrls.id.value),e.xp6(5),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("control",o.formCtrls.Country_ID)("submitted",o.submitted)("filter",!0)("appendTo",n),e.xp6(2),e.Q6J("control",o.formCtrls.Governament_ID)("countryControl",o.formCtrls.Country_ID)("submitted",o.submitted)("filter",!0)("appendTo",n),e.xp6(2),e.Q6J("control",o.formCtrls.location)("submitted",o.submitted),e.xp6(2),e.Q6J("control",o.formCtrls.longitude)("submitted",o.submitted)("type",o.inputType.number)("isDecimalNumber",!0),e.xp6(2),e.Q6J("control",o.formCtrls.latitude)("submitted",o.submitted)("isDecimalNumber",!0),e.xp6(2),e.Q6J("control",o.formCtrls.radius)("submitted",o.submitted)("isDecimalNumber",!0),e.xp6(3),e.Q6J("id",o.formCtrls.id.value)}},dependencies:[z.a,O.p,I.T,Ii.E,m.dn,m.n5,m.hq,Pi.n,wi.z,l._Y,l.JL,l.sg]}),i})(),Ai=(()=>{class i extends f.U{constructor(t){super(),this.orgLocationService=t,this.mandatoryColomns=["Ser","id","country","location","longitude","latitude","radius","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,o){this.dataSource=new g.by(null),this.isLoaded=!1,this.page.pageIndex=t,o&&(this.page.pageSize=o),this.orgLocationService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(s=>{s.message.messageType==u.u.Success?(s.data.map(y=>{y.country=this.msgTranslate(y.comm_Country?.ar_Name,y.comm_Country?.en_NAme)}),this.dataSource=new g.by(s.data),this.isLoaded=!0,this.page.length=s.meta.totalItemCount,this.page.meta=s.meta):this.errorList(s?.message?.messages)})}onDelete(t){let o=this.msgTranslate(t.location);this.deleteDialog(o).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.orgLocationService.Delete(t.id).subscribe(o=>{o.message.messageType==u.u.Success?(this.deleteSuccessfullyMsg("basicLocationRemoved","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(o?.message?.messages),this.hideLoading()})}openAddEditDialog(t,o){this.dialogsService.addEditDialog(Ve,t,{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(n=>{n&&this.getList(o?this.lastPage:this.currentPage)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Re.b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-basic-location-index"]],features:[e.qOj],decls:4,vars:8,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","basicLocation","parentTitle","orgManagement","TitleHasGlobalFunc","",3,"globalFunctions","action"],[1,"index-card"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","onChangePage","editRow","deleteRow"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0)(1,"page-title",1),e.NdJ("action",function(){return o.openAddEditDialog(null,!0)}),e.qZA()(),e.TgZ(2,"mat-card",2)(3,"app-material-table",3),e.NdJ("onChangePage",function(s){return o.getList(s.pageIndex+1,s.pageSize)})("editRow",function(s){return o.openAddEditDialog(s,!1)})("deleteRow",function(s){return o.onDelete(s)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("globalFunctions",o.globalFunctions),e.xp6(2),e.Q6J("isLoaded",o.isLoaded)("dataSource",o.dataSource)("mandatoryColomns",o.mandatoryColomns)("optionalColomns",o.optionalColomns)("page",o.page)("exportService",o.orgLocationService)("actions",o.rowFunctions))},dependencies:[$.I,I.T,ee.X,m.a8,m.n5]}),i})();var U=r(78512);let ge=(()=>{class i extends ue.K{constructor(){super()}getJobsProfileData(t){return this.post("OrgManagementReport/RptJobProfile/GetJobProfileData",null,{params:t})}getJobDescriptionLst(){return this.get("OrgManagementReport/RptJobDescriptionForm/GetJobDescriptionList")}getJobDescriptionForm(t){return this.get("OrgManagementReport/RptJobDescriptionForm/GetJobProfileDescriptionData",{params:t})}getPolicyGroupData(t){return this.post("OrgManagementReport/RptPolicyGroupDetails/GetPolicyGroupData",t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var he=r(99515);function Oi(i,a){if(1&i&&(e.TgZ(0,"mat-card",7)(1,"mat-card-title",8)(2,"div",4),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"mat-card-content",9,10),e._UZ(7,"app-material-table",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,11,"results")),e.xp6(4),e.Q6J("isLoaded",t.isLoaded)("mandatoryColomns",t.mandatoryColomns)("optionalColomns",t.optionalColomns)("page",t.page)("actions",t.rowFunctions)("allDataTable",t.jobsProfileDataTable)("showFilter",!1)("showSort",!1)("isCenterPaginator",!0)("hidePageSize",!0)}}let Ji=(()=>{class i extends f.U{constructor(t){super(),this.orgManagementReportsService=t,this.submitted=!1,this.isLoaded=!1,this.reportId=0,this.mandatoryColomns=["Ser","code","jobTitle","jobFamily","parentJobTitle","grade","miN_SALARY","middel_Salary","maX_SALARY"],this.optionalColomns=[],this.paramsList=[{name:"Job_IDs",id:U.A.Job_IDs}]}ngOnInit(){this.page.numberOfNavs=10}onModulesChanged(){this.reportId=this.getReportGUIid(this.getViewName)}submit(t){this.params={Job_IDs:t.Job_IDs??""},this.submitted=!0,this.getJobsProfileData()}getJobsProfileData(){this.isLoaded=!1,this.jobsProfileDataTable=null,this.orgManagementReportsService.getJobsProfileData(this.params).pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==u.u.Success?(this.jobsProfileDataTable=function Li(i){return i.map(a=>({code:a.code,jobTitle:(0,d._f)(a.ar_Job,a.en_Job),jobFamily:(0,d._f)(a.ar_Family,a.en_Family),parentJobTitle:(0,d._f)(a.ar_Parent,a.en_Parent),grade:(0,d._f)(a.ar_Grade,a.en_Grade),miN_SALARY:a.miN_SALARY,middel_Salary:a.middel_Salary,maX_SALARY:a.maX_SALARY}))}(t.data),this.page.length=this.jobsProfileDataTable.length,console.log(this.page),this.isLoaded=!0):this.errorList(t?.message?.messages)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ge))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-job-profile-rep"]],features:[e.qOj],decls:11,vars:9,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","jobsProfile",3,"parentTitle"],[1,"d-block","mt-2"],["expanded",""],[1,"page-title"],[3,"reportId","paramsList","onSubmit"],["class","form-card",4,"ngIf"],[1,"form-card"],[1,"d-flex","justify-content-between"],["id","rpt_att_card",1,"container-fluid"],["rpt_att_card",""],["tableId","rpt-table",3,"isLoaded","mandatoryColomns","optionalColomns","page","actions","allDataTable","showFilter","showSort","isCenterPaginator","hidePageSize"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"mat-accordion",2)(4,"mat-expansion-panel",3)(5,"mat-expansion-panel-header")(6,"mat-panel-title",4),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"app-reports-params",5),e.NdJ("onSubmit",function(s){return o.submit(s)}),e.qZA()()(),e.YNc(10,Oi,8,13,"mat-card",6)),2&t&&(e.xp6(1),e.s9C("parentTitle",e.lcZ(2,5,"orgManagementReports")),e.xp6(6),e.hij(" ",e.lcZ(8,7,"filter_options")," "),e.xp6(2),e.Q6J("reportId",o.reportId)("paramsList",o.paramsList),e.xp6(1),e.Q6J("ngIf",o.submitted))},dependencies:[c.O5,$.I,I.T,he.n,m.a8,m.dn,m.n5,T.pp,T.ib,T.yz,T.yK,Z.X$],styles:[".view-data-row-container[_ngcontent-%COMP%]{flex-wrap:nowrap}"]}),i})();var Be=r(98814),ke=r(9615);function Ni(i,a){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(4);e.uIk("rowspan",t.jobTable.kpiCont),e.xp6(1),e.hij(" ",e.lcZ(2,2,"keyPerformanceIndicators")," ")}}function Gi(i,a){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Ni,3,4,"th",11),e.TgZ(2,"td"),e._uU(3),e.qZA()()),2&i){const t=a.index,o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(2),e.hij(" ",o.msgTranslate(o.jobTable.ar_KPIS[t],o.jobTable.en_KPIS[t])," ")}}function Ui(i,a){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(4);e.uIk("rowspan",t.jobTable.toolCont),e.xp6(1),e.hij(" ",e.lcZ(2,2,"tools")," ")}}function Ei(i,a){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Ui,3,4,"th",11),e.TgZ(2,"td"),e._uU(3),e.qZA()()),2&i){const t=a.index,o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(2),e.hij(" ",o.msgTranslate(o.jobTable.ar_Covenants[t],o.jobTable.en_Covenants[t])," ")}}function qi(i,a){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&i){const t=a.$implicit,o=e.oxw(3);e.xp6(2),e.hij(" ",o.msgTranslate(t.ar_Course,t.en_Course)," "),e.xp6(2),e.hij(" ",t.period," "),e.xp6(2),e.hij(" ",o.msgTranslate(t.ar_Priority,t.en_Priority)," "),e.xp6(2),e.hij(" ",1==t.pre_Required?"yes":0==t.pre_Required?"no":""," ")}}const Ye=function(){return[]};function Mi(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"table",13)(2,"thead",14)(3,"tr")(4,"th",15),e._uU(5),e.ALo(6,"titlecase"),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"tbody")(9,"tr")(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()(),e.TgZ(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()(),e.TgZ(21,"tr")(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"td",16),e.qZA(),e.TgZ(26,"tr")(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"td",16),e.qZA(),e.YNc(31,Gi,4,2,"tr",17),e.TgZ(32,"tr")(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"td",16),e.qZA(),e.TgZ(37,"tr")(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"td",16),e.qZA(),e.TgZ(42,"tr")(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"td",16),e.qZA(),e.YNc(47,Ei,4,2,"tr",17),e.TgZ(48,"tr")(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"td",16),e.qZA(),e.TgZ(53,"tr")(54,"th",18),e._uU(55),e.ALo(56,"translate"),e.qZA()(),e.TgZ(57,"tr")(58,"th"),e._uU(59),e.ALo(60,"translate"),e.qZA(),e._UZ(61,"td"),e.qZA(),e.TgZ(62,"tr")(63,"th"),e._uU(64),e.ALo(65,"translate"),e.qZA(),e._UZ(66,"td"),e.qZA(),e.TgZ(67,"tr")(68,"th",15),e._uU(69),e.ALo(70,"translate"),e.qZA()(),e.TgZ(71,"tr")(72,"td",19)(73,"table",20)(74,"tbody")(75,"tr")(76,"th"),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"th"),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"th"),e._uU(83),e.ALo(84,"translate"),e.qZA(),e.TgZ(85,"th"),e._uU(86),e.ALo(87,"translate"),e.qZA()(),e.YNc(88,qi,9,4,"tr",17),e.qZA()()()()()(),e.TgZ(89,"app-prime-paginator",21),e.NdJ("onChangePage",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.getDescriptionFormForJob(n.pageIndex+1))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,31,e.lcZ(7,33,"jobDescriptionForm"))," "),e.xp6(6),e.hij(" ",e.lcZ(12,35,"jobTitle")," "),e.xp6(3),e.hij(" ",t.msgTranslate(t.jobTable.ar_Job,t.jobTable.en_Job)," "),e.xp6(3),e.hij(" ",e.lcZ(18,37,"reportingTo")," "),e.xp6(3),e.hij(" ",t.msgTranslate(t.jobTable.ar_Parent,t.jobTable.en_Parent)," "),e.xp6(3),e.hij(" ",e.lcZ(24,39,"jobObjectives")," "),e.xp6(2),e.Q6J("innerHTML",t.jobTable.joB_PURPOSE,e.oJD),e.xp6(3),e.hij(" ",e.lcZ(29,41,"jobResponsibilities")," "),e.xp6(2),e.Q6J("innerHTML",t.jobTable.responsibilitieS_DUTIES,e.oJD),e.xp6(1),e.Q6J("ngForOf",e.DdM(67,Ye).constructor(t.jobTable.kpiCont)),e.xp6(3),e.hij(" ",e.lcZ(35,43,"skillRequirements")," "),e.xp6(2),e.Q6J("innerHTML",t.jobTable.knowledgE_SKILLS,e.oJD),e.xp6(3),e.hij(" ",e.lcZ(40,45,"academicEducationalRequirements")," "),e.xp6(2),e.Q6J("innerHTML",t.jobTable.education,e.oJD),e.xp6(3),e.hij(" ",e.lcZ(45,47,"experience")," "),e.xp6(2),e.Q6J("innerHTML",t.jobTable.experience,e.oJD),e.xp6(1),e.Q6J("ngForOf",e.DdM(68,Ye).constructor(t.jobTable.toolCont)),e.xp6(3),e.hij(" ",e.lcZ(51,49,"workingConditions")," "),e.xp6(2),e.Q6J("innerHTML",t.jobTable.workinG_CONDITIONS,e.oJD),e.xp6(3),e.hij(" ",e.lcZ(56,51,"theAboveInformationCorrectAsApprovedByPrintedEmpty")," "),e.xp6(4),e.hij(" ",e.lcZ(60,53,"employeeSignature")," "),e.xp6(5),e.hij(" ",e.lcZ(65,55,"supervisorSignature")," "),e.xp6(5),e.hij(" ",e.lcZ(70,57,"trainingPath")," "),e.xp6(8),e.hij(" ",e.lcZ(78,59,"course")," "),e.xp6(3),e.hij(" ",e.lcZ(81,61,"period")," "),e.xp6(3),e.hij(" ",e.lcZ(84,63,"priority")," "),e.xp6(3),e.hij(" ",e.lcZ(87,65,"pre_Required")," "),e.xp6(2),e.Q6J("ngForOf",t.jobTable.courses),e.xp6(1),e.Q6J("page",t.page)("isCenterPaginator",!0)("hidePageSizeOption",!0)}}const ji=function(){return["",""]};function Qi(i,a){1&i&&(e.TgZ(0,"div",22),e._UZ(1,"app-table-skeleton",23),e.qZA()),2&i&&(e.xp6(1),e.Q6J("displayedColumns",e.DdM(1,ji)))}function Fi(i,a){if(1&i&&(e.TgZ(0,"mat-card",7)(1,"mat-card-title",8)(2,"div",4),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"mat-card-content",9,10),e.YNc(7,Mi,90,69,"ng-container",11),e.YNc(8,Qi,2,2,"div",12),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"results")),e.xp6(4),e.Q6J("ngIf",t.isLoaded),e.xp6(1),e.Q6J("ngIf",!t.isLoaded)}}let Ri=(()=>{class i extends f.U{constructor(t){super(),this.orgManagementReportsService=t,this.submitted=!1,this.isLoaded=!1,this.reportId=0,this.paramsList=[{name:"Job_IDs",id:U.A.Job_IDs}]}ngOnInit(){this.page.pageSize=1,this.page.numberOfNavs=10}onModulesChanged(){this.reportId=this.getReportGUIid(this.getViewName)}submit(t){this.params={job_id:t.Job_IDs?Number(t.Job_IDs.split(",")[0]):null},this.params.job_id?(this.jobLst=t.Job_IDs.split(",").map(o=>Number(o)),this.page.length=this.jobLst.length,this.submitted=!0,this.getDescriptionFormForJob(1)):this.getJobLst()}getJobLst(){this.page.length=0,this.jobLst=null,this.orgManagementReportsService.getJobDescriptionLst().pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==u.u.Success?(this.jobLst=t.data.map(o=>o.id),this.page.length=this.jobLst.length,this.submitted=!0,this.jobLst.length>0&&this.getDescriptionFormForJob(1)):this.errorList(t?.message?.messages)})}getDescriptionFormForJob(t){this.isLoaded=!1,this.jobTable=null,this.page.pageIndex=t;let o=this.params;o.job_id=this.jobLst[t-1],this.orgManagementReportsService.getJobDescriptionForm(o).pipe(this.cancelRequest()).subscribe(n=>{n.message.messageType==u.u.Success?(this.jobTable=n.data[0],this.jobTable.kpiCont=this.jobTable.en_KPIS.length,this.jobTable.toolCont=this.jobTable.en_Covenants.length,this.isLoaded=!0):this.errorList(n?.message?.messages)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ge))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-job-description-form-rep"]],features:[e.qOj],decls:11,vars:9,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","jobDescriptionForm",3,"parentTitle"],[1,"d-block","mt-2"],["expanded",""],[1,"page-title"],[3,"reportId","paramsList","onSubmit"],["class","form-card job-description-rep",4,"ngIf"],[1,"form-card","job-description-rep"],[1,"d-flex","justify-content-between"],["id","rpt_att_card",1,"container-fluid"],["rpt_att_card",""],[4,"ngIf"],["class","mtop-25",4,"ngIf"],["id","rpt-table","appScrollableHorizontal","",1,"table","rpt-table","mt-3","overflow-scroll","d-block"],[1,"thead-light"],["colspan","2"],[3,"innerHTML"],[4,"ngFor","ngForOf"],["colspan","2",1,"font-size-16"],["colspan","2",1,"course-table"],[1,"table","rpt-table"],[3,"page","isCenterPaginator","hidePageSizeOption","onChangePage"],[1,"mtop-25"],[3,"displayedColumns"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"mat-accordion",2)(4,"mat-expansion-panel",3)(5,"mat-expansion-panel-header")(6,"mat-panel-title",4),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"app-reports-params",5),e.NdJ("onSubmit",function(s){return o.submit(s)}),e.qZA()()(),e.YNc(10,Fi,9,5,"mat-card",6)),2&t&&(e.xp6(1),e.s9C("parentTitle",e.lcZ(2,5,"orgManagementReports")),e.xp6(6),e.hij(" ",e.lcZ(8,7,"filter_options")," "),e.xp6(2),e.Q6J("reportId",o.reportId)("paramsList",o.paramsList),e.xp6(1),e.Q6J("ngIf",o.submitted))},dependencies:[c.sg,c.O5,I.T,Be.I,ke.m,X.c,he.n,m.a8,m.dn,m.n5,T.pp,T.ib,T.yz,T.yK,c.rS,Z.X$],styles:[".job-description-rep thead th:first-child{font-size:20px}  .job-description-rep tbody th{width:110px;text-align:start!important}  .job-description-rep tbody td{text-wrap:wrap!important;width:100%}  .job-description-rep tbody td p{margin:0}  .job-description-rep tbody td.course-table{padding:0}  .job-description-rep tbody td.course-table .table{margin-bottom:0}  .job-description-rep tbody td.course-table .table td{width:auto}  .job-description-rep tbody td.course-table .table th{text-align:center!important;width:none!important}  .job-description-rep tbody td.course-table .table tbody tr:first-of-type th{border-top:0}  .job-description-rep tbody td.course-table .table tr td:first-child,   .job-description-rep tbody td.course-table .table tr th:first-of-type{border-left:0}  .job-description-rep tbody td.course-table .table tbody tr:last-of-type{border-bottom:0}"]}),i})();function Vi(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.BQk()),2&i){const t=e.oxw(2).$implicit,o=e.oxw(3);e.xp6(1),e.uIk("rowspan",t.rptPolicyEmployees.length),e.xp6(1),e.hij(" ",o.getSerOfAllDataTable(t.id)," "),e.xp6(1),e.uIk("rowspan",t.rptPolicyEmployees.length),e.xp6(1),e.hij(" ",o.msgTranslate(t.ar_PolicyGroup,t.eN_PolicyGroup)," "),e.xp6(1),e.uIk("rowspan",t.rptPolicyEmployees.length),e.xp6(1),e.hij(" ",o.msgTranslate(t.ar_PolicyType,t.eN_PolicyType)," ")}}function Bi(i,a){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Vi,7,6,"ng-container",11),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&i){const t=a.$implicit,o=a.index,n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0==o),e.xp6(2),e.hij(" ",t.code," "),e.xp6(2),e.hij(" ",n.msgTranslate(t.ar_Person,t.en_Person)," "),e.xp6(2),e.hij(" ",n.msgTranslate(t.ar_Job,t.eN_Job)," "),e.xp6(2),e.hij(" ",n.msgTranslate(t.ar_Org,t.en_Org)," ")}}function ki(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Bi,10,5,"tr",16),e.BQk()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngForOf",t.rptPolicyEmployees)}}function Yi(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"table",13)(2,"thead",14)(3,"tr",15)(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,ki,2,1,"ng-container",16),e.qZA()(),e.TgZ(27,"app-prime-paginator",17),e.NdJ("onChangePage",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeDataInPage(n.pageIndex))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Oqu(e.lcZ(6,11,"Ser")),e.xp6(3),e.Oqu(e.lcZ(9,13,"policyGroup")),e.xp6(3),e.Oqu(e.lcZ(12,15,"policyType")),e.xp6(3),e.Oqu(e.lcZ(15,17,"code")),e.xp6(3),e.Oqu(e.lcZ(18,19,"employeeName")),e.xp6(3),e.Oqu(e.lcZ(21,21,"jobTitle")),e.xp6(3),e.Oqu(e.lcZ(24,23,"organization")),e.xp6(3),e.Q6J("ngForOf",t.policyGroupTable),e.xp6(1),e.Q6J("page",t.page)("isCenterPaginator",!0)("hidePageSizeOption",!0)}}const Hi=function(){return["","","","","","",""]};function zi(i,a){1&i&&(e.TgZ(0,"div",18),e._UZ(1,"app-table-skeleton",19),e.qZA()),2&i&&(e.xp6(1),e.Q6J("displayedColumns",e.DdM(1,Hi)))}function $i(i,a){if(1&i&&(e.TgZ(0,"mat-card",7)(1,"mat-card-title",8)(2,"div",4),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"mat-card-content",9,10),e.YNc(7,Yi,28,25,"ng-container",11),e.YNc(8,zi,2,2,"div",12),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"results")),e.xp6(4),e.Q6J("ngIf",t.isLoaded),e.xp6(1),e.Q6J("ngIf",!t.isLoaded)}}let Ki=(()=>{class i extends f.U{constructor(t){super(),this.orgManagementReportsService=t,this.submitted=!1,this.isLoaded=!1,this.reportId=0,this.paramsList=[{name:"Structure_id",id:U.A.Structure_id,isRequired:!0},{name:"StructureType_Id",id:U.A.StructureType_Id},{name:"Org_IDs",id:U.A.Org_IDs},{name:"Person_Instance_ID",id:U.A.Person_Instance_ID},{name:"PolicyGroupTypeIDs",id:U.A.PolicyGroupTypeIDs},{name:"PolicyGroupIds",id:U.A.PolicyGroupIds},{name:"Financial_Company_IDs",id:U.A.Financial_Company_IDs},{name:"WithChilds",id:U.A.WithChilds,isRequired:!0}]}ngOnInit(){}onModulesChanged(){this.reportId=this.getReportGUIid(this.getViewName)}submit(t){this.params={Structure_id:t.Structure_id,StructureType_Id:t.StructureType_Id,Org_Ids:t.Org_IDs,WithChilds:t.WithChilds,Person_Instance_ID:t.Person_Instance_ID,PolicyGroupTypeIDs:t.PolicyGroupTypeIDs,PolicyGroupIds:t.PolicyGroupIds,Financial_Company_IDs:t.Financial_Company_IDs},this.submitted=!0,this.getPolicyGroupData()}getPolicyGroupData(){this.isLoaded=!1,this.policyGroupTable=null,this.orgManagementReportsService.getPolicyGroupData(this.params).pipe(this.cancelRequest()).subscribe(t=>{t.message.messageType==u.u.Success?(this.page.length=t.data.length,this.policyGroupTableAll=t.data,this.policyGroupTable=this.policyGroupTableAll.slice(0,this.page.pageSize),this.isLoaded=!0):this.errorList(t?.message?.messages)})}changeDataInPage(t){this.page.pageIndex=t+1;let o=t*this.page.pageSize;this.policyGroupTable=this.policyGroupTableAll.slice(o,o+this.page.pageSize)}getSerOfAllDataTable(t){return this.policyGroupTableAll?.findIndex(o=>o.id==t)+1}onScroll(t){let o=document.getElementById("fixed-header");if(o)if(o.getBoundingClientRect().top<=0){const s=document.getElementsByClassName("rpt-table")[0].getBoundingClientRect().top;o.style.position="sticky",o.style.top=`${Math.abs(s)}px`}else o.style.position="static",o.style.top="auto"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ge))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-policy-group-details-rep"]],hostBindings:function(t,o){1&t&&e.NdJ("scroll",function(s){return o.onScroll(s)},!1,e.Jf7)},features:[e.qOj],decls:11,vars:9,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","policyGroupDetails",3,"parentTitle"],[1,"d-block","mt-2"],["expanded",""],[1,"page-title"],[3,"reportId","paramsList","onSubmit"],["class","form-card policy-group-rep",4,"ngIf"],[1,"form-card","policy-group-rep"],[1,"d-flex","justify-content-between"],["id","rpt_att_card",1,"container-fluid"],["rpt_att_card",""],[4,"ngIf"],["class","mtop-25",4,"ngIf"],["id","rpt-table","appScrollableHorizontal","",1,"table","rpt-table","mt-3","overflow-scroll","d-block"],[1,"thead-light"],["id","fixed-header"],[4,"ngFor","ngForOf"],[3,"page","isCenterPaginator","hidePageSizeOption","onChangePage"],[1,"mtop-25"],[3,"displayedColumns"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"mat-accordion",2)(4,"mat-expansion-panel",3)(5,"mat-expansion-panel-header")(6,"mat-panel-title",4),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"app-reports-params",5),e.NdJ("onSubmit",function(s){return o.submit(s)}),e.qZA()()(),e.YNc(10,$i,9,5,"mat-card",6)),2&t&&(e.xp6(1),e.s9C("parentTitle",e.lcZ(2,5,"orgManagementReports")),e.xp6(6),e.hij(" ",e.lcZ(8,7,"filter_options")," "),e.xp6(2),e.Q6J("reportId",o.reportId)("paramsList",o.paramsList),e.xp6(1),e.Q6J("ngIf",o.submitted))},dependencies:[c.sg,c.O5,I.T,Be.I,ke.m,X.c,he.n,m.a8,m.dn,m.n5,T.pp,T.ib,T.yz,T.yK,Z.X$],styles:[".policy-group-rep[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-of-type), .policy-group-rep[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-of-type){width:20%}.policy-group-rep[_ngcontent-%COMP%]   #fixed-header[_ngcontent-%COMP%]{z-index:10;background-color:#fff}"]}),i})();var Wi=r(93665),Xi=r(38368),ea=r(33975);function ta(i,a){if(1&i&&(e.TgZ(0,"div",5),e._UZ(1,"app-split-table",6),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("dataSource",t.dataSource)("displayedColumns",t.mandatoryColomns)("hasPaginator",!0)("disableSelectAll",!0)("isCenterPaginator",!0)}}function oa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-add-policy-group",7),e.NdJ("closeAfterUpdate",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.returnToView(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("policyGroup",t.policyGroup)}}let ia=(()=>{class i extends f.U{constructor(t){super(),this.policyGroupService=t,this.isView=!0,this.isLoaded=!1,this.mandatoryColomns=["employee",ea.g.isSelectedColumnName]}ngOnInit(){this.policyGroupService.policyGroup$.pipe(this.cancelRequest()).subscribe(t=>{this.policyGroup=t,t&&(this.selectionCriteria=W.n$.find(o=>o.value==t?.groupingType).label,this.getDetailsList())})}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.policyGroupId>0&&this.getDetailsList()}getDetailsList(){this.showLoading(),this.policyGroupService.GetAllGroupingDetail(this.policyGroupId).subscribe(t=>{t.message.messageType==u.u.Success?(t.data.map(o=>o.employee=(0,d._f)(o.itemNameAR,o.itemNameEN)),this.dataSource=new g.by(t.data),t.data.map(o=>{o.fromDate=d.M6.mapDate(o.fromDate),o.toDate=d.M6.mapDate(o.toDate),o.isSelected=!0,o.isDisabled=!0}),this.isLoaded=!0):this.errorList(t?.message?.messages),this.hideLoading()})}returnToView(t){this.isView=!0,t&&this.getDetailsList()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-policy-grouping-table"]],inputs:{policyGroupId:"policyGroupId"},features:[e.qOj],decls:9,vars:3,consts:[[1,"title-no-margin"],["title","selectionCriteria",1,"d-inline-block"],[1,"babyBlue-color"],["class","mtop-30",4,"ngIf","ngIfElse"],["form",""],[1,"mtop-30"],[3,"isLoaded","dataSource","displayedColumns","hasPaginator","disableSelectAll","isCenterPaginator"],[3,"policyGroup","closeAfterUpdate"]],template:function(t,o){if(1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e._uU(2," : "),e.TgZ(3,"span",2),e._uU(4),e.qZA()(),e.TgZ(5,"mat-card-content"),e.YNc(6,ta,2,6,"div",3),e.YNc(7,oa,1,1,"ng-template",null,4,e.W1O),e.qZA()),2&t){const n=e.MAs(8);e.xp6(4),e.hij(" ",o.selectionCriteria," "),e.xp6(2),e.Q6J("ngIf",o.isView)("ngIfElse",n)}},dependencies:[c.O5,I.T,k.M,m.dn,m.n5,me.S]}),i})();function aa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.isView=!1)}),e._UZ(1,"i",9),e.qZA()}}function na(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.isView=!0)}),e._UZ(1,"i",10),e.qZA()}}function sa(i,a){if(1&i&&(e.TgZ(0,"div",16),e._UZ(1,"app-view-data-row-item",17)(2,"app-view-data-row-item",18)(3,"app-view-data-row-item",19)(4,"app-view-data-row-item",20),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("value",null==t.policyGroup?null:t.policyGroup.ar_Name),e.xp6(1),e.Q6J("value",null==t.policyGroup?null:t.policyGroup.en_Name),e.xp6(1),e.Q6J("value",t.msgTranslate(null==t.policyGroup||null==t.policyGroup.core_PolicyGroup_Type?null:t.policyGroup.core_PolicyGroup_Type.ar_Name,null==t.policyGroup||null==t.policyGroup.core_PolicyGroup_Type?null:t.policyGroup.core_PolicyGroup_Type.en_Name)),e.xp6(1),e.Q6J("value",t.selectionCriteria)}}function ra(i,a){1&i&&e._UZ(0,"app-view-card-row-skeleton")}function la(i,a){if(1&i&&(e.TgZ(0,"div",11),e.YNc(1,sa,5,4,"div",12),e.YNc(2,ra,1,0,"app-view-card-row-skeleton",13),e._UZ(3,"mat-divider",14),e.TgZ(4,"div",14),e._UZ(5,"app-view-policy-grouping-table",15),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoaded),e.xp6(1),e.Q6J("ngIf",!t.isLoaded),e.xp6(3),e.Q6J("policyGroupId",t.policyGroupId)}}function ca(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-add-policy-group",21),e.NdJ("closeAfterUpdate",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.returnToView(n))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("policyGroup",t.policyGroup)}}let pa=(()=>{class i extends f.U{constructor(t){super(),this.policyGroupService=t,this.isView=!0,this.isLoaded=!1}ngOnInit(){}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.policyGroupId>0&&this.getById()}getById(){this.isLoaded=!1,this.showLoading(),this.policyGroupService.getById(this.policyGroupId).subscribe(t=>{t.message.messageType==u.u.Success?(this.policyGroup=t.data[0],this.selectionCriteria=W.n$.find(o=>o.value==this.policyGroup.groupingType).label,this.policyGroupService.policyGroup$.next(t.data[0]),this.isLoaded=!0):this.errorList(t?.message?.messages),this.hideLoading()})}returnToView(t){this.isView=!0,t&&this.getById()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-policy-general"]],inputs:{policyGroupId:"policyGroupId"},features:[e.qOj],decls:12,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"title-no-margin"],["title","generalInfo",1,"d-inline-block"],["mat-button","","class","float-right section-edit-btn pright-6 pleft-6 darkBlue",3,"click",4,"ngIf"],[1,"mt-2"],["class","mtop-30",4,"ngIf","ngIfElse"],["form",""],["mat-button","",1,"float-right","section-edit-btn","pright-6","pleft-6","darkBlue",3,"click"],[1,"fas","fa-pen","font-size-15"],[1,"ft-corner-up-left","font-size-18"],[1,"mtop-30"],["class","view-data-row-container",4,"ngIf"],[4,"ngIf"],[1,"mt-3"],[3,"policyGroupId"],[1,"view-data-row-container"],["label","ar_Name",1,"col-6","col-md-3","mbottom-20","p-0",3,"value"],["label","en_Name",1,"col-6","col-md-3","mbottom-20","p-0",3,"value"],["label","policyGroupType",1,"col-6","col-md-3","mbottom-20","p-0",3,"value"],["label","selectionCriteria",1,"col-6","col-md-3","mbottom-20","p-0",3,"value"],[3,"policyGroup","closeAfterUpdate"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-title",2),e._UZ(4,"page-title",3),e.YNc(5,aa,2,0,"button",4),e.YNc(6,na,2,0,"button",4),e.qZA(),e._UZ(7,"mat-divider",5),e.TgZ(8,"mat-card-content"),e.YNc(9,la,6,3,"div",6),e.YNc(10,ca,1,1,"ng-template",null,7,e.W1O),e.qZA()()()()),2&t){const n=e.MAs(11);e.xp6(2),e.ekj("pb-0",o.isLoaded),e.xp6(3),e.Q6J("ngIf",o.isView),e.xp6(1),e.Q6J("ngIf",!o.isView),e.xp6(3),e.Q6J("ngIf",o.isView)("ngIfElse",n)}},dependencies:[c.O5,I.T,Wi.l,Xi.I,q.lW,m.a8,m.dn,m.n5,M.d,me.S,ia]}),i})();function da(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.changeView(n))}),e._UZ(1,"i",10),e.qZA()}}function ua(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.changeView(n))}),e._UZ(1,"i",11),e.qZA()}}function ma(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-permission-policy-details",12),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.getPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("isView",t.isPermissionView)("policyId",t.policyGroupId)("value",t.permissionSetup_SelectedIds)("dataSource",t.permissionDataSource)}}function _a(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-vacations-policy-details",12),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.getPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("isView",t.isVacationsView)("policyId",t.policyGroupId)("value",t.vacitionsIds)("dataSource",t.vacationDataSource)}}function ga(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-official-holidays-policy-details",12),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.getPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("isView",t.isOfficialView)("policyId",t.policyGroupId)("value",t.officailHoliday_SelectedIds)("dataSource",t.officialHolidaysDataSource)}}function ha(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-plan-policy-details",12),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.getPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("isView",t.isPlansView)("policyId",t.policyGroupId)("value",t.plans_SelectedIds)("dataSource",t.planDataSource)}}function fa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-penalty-policy-details",13),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.getPolicyDetails())}),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("isLoaded",t.isLoaded)("isView",t.isPenalityView)("value",t.penalityReguration_SelectedId)("policyId",t.policyGroupId)}}function ya(i,a){if(1&i&&(e.TgZ(0,"mat-card",2)(1,"mat-card-title",3),e._UZ(2,"page-title",4),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,da,2,0,"button",6),e.YNc(10,ua,2,0,"button",6),e.qZA(),e._UZ(11,"mat-divider",7),e.TgZ(12,"mat-card-content",8),e.YNc(13,ma,2,5,"div",0),e.YNc(14,_a,2,5,"div",0),e.YNc(15,ga,2,5,"div",0),e.YNc(16,ha,2,5,"div",0),e.YNc(17,fa,2,4,"div",0),e.qZA()()),2&i){const t=a.$implicit,o=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,9,"PolicyGroup")," : "),e.xp6(3),e.hij(" ",e.lcZ(8,11,t)," "),e.xp6(2),e.Q6J("ngIf",o.getView(t)),e.xp6(1),e.Q6J("ngIf",!o.getView(t)),e.xp6(3),e.Q6J("ngIf",t==o.collapseEnum.permission),e.xp6(1),e.Q6J("ngIf",t==o.collapseEnum.vacations),e.xp6(1),e.Q6J("ngIf",t==o.collapseEnum.officialHolidays),e.xp6(1),e.Q6J("ngIf",t==o.collapseEnum.plan),e.xp6(1),e.Q6J("ngIf",t==o.collapseEnum.penalty)}}function ba(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ya,18,13,"mat-card",1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.collapseList)}}function Ca(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.isPayrollView=!1)}),e._UZ(1,"i",10),e.qZA()}}function va(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.isPayrollView=!0)}),e._UZ(1,"i",11),e.qZA()}}function Ta(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card")(2,"mat-card-title",3),e._UZ(3,"page-title",14),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,Ca,2,0,"button",6),e.YNc(11,va,2,0,"button",6),e.qZA(),e._UZ(12,"mat-divider",7),e.TgZ(13,"mat-card-content")(14,"app-payroll-details",15),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getPolicyDetails())}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("title",t.policyGroupTypeName),e.xp6(2),e.hij(" ",e.lcZ(6,7,"PolicyGroup")," : "),e.xp6(3),e.hij(" ",e.lcZ(9,9,"payment")," "),e.xp6(2),e.Q6J("ngIf",t.isPayrollView),e.xp6(1),e.Q6J("ngIf",!t.isPayrollView),e.xp6(3),e.Q6J("isView",t.isPayrollView)("hideTitle",!t.isPayrollView)}}function Da(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.isSelfServiceView=!1)}),e._UZ(1,"i",10),e.qZA()}}function xa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.isSelfServiceView=!0)}),e._UZ(1,"i",11),e.qZA()}}function Za(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card")(2,"mat-card-title",3),e._UZ(3,"page-title",14),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,Da,2,0,"button",6),e.YNc(11,xa,2,0,"button",6),e.qZA(),e._UZ(12,"mat-divider",7),e.TgZ(13,"mat-card-content")(14,"app-selfService-details",15),e.NdJ("getPolicyDetails",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getPolicyDetails())}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("title",t.policyGroupTypeName),e.xp6(2),e.hij(" ",e.lcZ(6,7,"PolicyGroup")," : "),e.xp6(3),e.hij(" ",e.lcZ(9,9,"objectTypes")," "),e.xp6(2),e.Q6J("ngIf",t.isSelfServiceView),e.xp6(1),e.Q6J("ngIf",!t.isSelfServiceView),e.xp6(3),e.Q6J("isView",t.isSelfServiceView)("hideTitle",!t.isSelfServiceView)}}let Sa=(()=>{class i extends f.U{constructor(t,o){super(),this.policyDetailsService=t,this.policyGroupService=o,this.PolicyGroupType=W.Sg,this.isPermissionView=!0,this.isVacationsView=!0,this.isOfficialView=!0,this.isPlansView=!0,this.isPenalityView=!0,this.isPayrollView=!0,this.isSelfServiceView=!0,this.collapseEnum=v,this.collapseList=[v.permission,v.officialHolidays,v.plan,v.vacations,v.penalty],this.policyGroupId=o.policyGroup$.getValue()?.id,this.policyGroupDetails=t.policyGroupDetails$.getValue()}ngOnInit(){this.policyGroupService.policyGroup$.pipe(this.cancelRequest()).subscribe(t=>{this.policyGroup=t,this.policyGroupId=t?.id??0,t&&(this.policyGroupTypeName=W.Sg.getValue(t.policyGroup_Type_ID),this.getPolicyDetails())}),this.policyDetailsService.policyGroupDetails$.pipe(this.cancelRequest()).subscribe(t=>{this.policyGroupDetails=t})}onChangeBusinessAndCompanyId(){this.checkNoBusinessOrCompany()&&this.policyGroupId>0&&this.getPolicyDetails()}getPolicyDetails(){this.isLoaded=!1,this.policyDetailsService.getPolicyDetails(this.policyGroupId).pipe(this.cancelRequest()).subscribe(t=>{if(t.message.messageType==u.u.Success){const o=Je(t.data);this.policyDetailsService.policyGroupDetails$.next(o),o&&(this.isLoaded=!0,this.permissionSetup_SelectedIds=o.permissionSetup_SelectedIds,this.permissionDataSource=new g.by(o.policyPermissionSetups),this.vacitionsIds=o.vacitionsIds,this.vacationDataSource=new g.by(o.policyVacations),this.officailHoliday_SelectedIds=o.officailHoliday_SelectedIds,this.officialHolidaysDataSource=new g.by(o.policyOfficialHolidaies),this.plans_SelectedIds=o.plans_SelectedIds,this.planDataSource=new g.by(o.policyPlans),this.penalityReguration_SelectedId=o.penalityReguration_SelectedId),this.isLoaded=!0}else this.errorList(t?.message?.messages)})}getView(t){return t==v.permission?this.isPermissionView:t==v.vacations?this.isVacationsView:t==v.officialHolidays?this.isOfficialView:t==v.plan?this.isPlansView:t==v.penalty?this.isPenalityView:void 0}changeView(t){return t==v.permission?(this.isPermissionView=!this.isPermissionView,this.isPermissionView):t==v.vacations?(this.isVacationsView=!this.isVacationsView,this.isVacationsView):t==v.officialHolidays?(this.isOfficialView=!this.isOfficialView,this.isOfficialView):t==v.plan?(this.isPlansView=!this.isPlansView,this.isPlansView):t==v.penalty?(this.isPenalityView=!this.isPenalityView,this.isPenalityView):void 0}ngOnDestroy(){this.policyDetailsService.policyGroupDetails$.next(null),this.policyGroupService.policyGroup$.next(null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.P),e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-policy-details"]],inputs:{policyGroupId:"policyGroupId"},features:[e.qOj],decls:3,vars:3,consts:[[4,"ngIf"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"title-no-margin"],["title","attendance",1,"d-inline-block"],[1,"babyBlue-color"],["mat-button","","class","float-right section-edit-btn pright-6 pleft-6 darkBlue",3,"click",4,"ngIf"],[1,"mt-2"],[1,"mt-4"],["mat-button","",1,"float-right","section-edit-btn","pright-6","pleft-6","darkBlue",3,"click"],[1,"fas","fa-pen","font-size-15"],[1,"ft-corner-up-left","font-size-18"],[3,"isLoaded","isView","policyId","value","dataSource","getPolicyDetails"],[3,"isLoaded","isView","value","policyId","getPolicyDetails"],[1,"d-inline-block",3,"title"],[3,"isView","hideTitle","getPolicyDetails"]],template:function(t,o){1&t&&(e.YNc(0,ba,2,1,"div",0),e.YNc(1,Ta,15,11,"div",0),e.YNc(2,Za,15,11,"div",0)),2&t&&(e.Q6J("ngIf",(null==o.policyGroup?null:o.policyGroup.policyGroup_Type_ID)==o.PolicyGroupType.Attendance),e.xp6(1),e.Q6J("ngIf",(null==o.policyGroup?null:o.policyGroup.policyGroup_Type_ID)==o.PolicyGroupType.Payroll),e.xp6(1),e.Q6J("ngIf",(null==o.policyGroup?null:o.policyGroup.policyGroup_Type_ID)==o.PolicyGroupType.SelfService))},dependencies:[c.sg,c.O5,I.T,q.lW,m.a8,m.dn,m.n5,M.d,Ge,Qe,Ue,Ee,qe,Me,je,Z.X$]}),i})(),Ia=(()=>{class i extends f.U{constructor(t){super(),this.policyGroupService=t,this.editAll=!1}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.policyGroupId=Number(t.id)??0}),this.policyGroupService.policyGroup$.pipe(this.cancelRequest()).subscribe(t=>{this.policyGroup=t})}editAllSections(){this.editAll=!this.editAll}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-policy-core"]],features:[e.qOj],decls:10,vars:15,consts:[[1,"title-no-margin","title-section","fixed-title",2,"box-shadow","none"],[3,"title","parentTitle","parentTitleLink","parentLinkParams"],[3,"url","params"],[1,"mtop-18"],[3,"policyGroupId"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0),e._UZ(1,"page-title",1),e.ALo(2,"translate"),e.ALo(3,"translate"),e._UZ(4,"app-add-new-btn",2)(5,"app-back-btn",2),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"app-view-policy-general",4),e.qZA(),e.TgZ(8,"div",3),e._UZ(9,"app-view-policy-details",4),e.qZA()),2&t&&(e.xp6(1),e.hYB("parentTitle","",e.lcZ(2,11,"orgManagement")," / ",e.lcZ(3,13,"PolicyGroup"),""),e.MGl("parentTitleLink","/org-management/",o.moduleId,"/policy-group"),e.Q6J("title",o.msgTranslate(null==o.policyGroup?null:o.policyGroup.ar_Name,null==o.policyGroup?null:o.policyGroup.en_Name))("parentLinkParams",o.pageParams),e.xp6(3),e.MGl("url","/org-management/",o.moduleId,"/policy-group/add"),e.Q6J("params",o.parentParam),e.xp6(1),e.MGl("url","/org-management/",o.moduleId,"/policy-group/index"),e.Q6J("params",o.pageParams),e.xp6(2),e.Q6J("policyGroupId",o.policyGroupId),e.xp6(2),e.Q6J("policyGroupId",o.policyGroupId))},dependencies:[te.a,re.J,I.T,m.n5,pa,Sa,Z.X$]}),i})();var Pa=r(6314);const wa=[{name:(0,d._f)("\u0643\u0648\u062f \u0627\u0644\u0648\u0638\u064a\u0641\u0629","Job Code"),id:"code",dataType:V.n.string},{name:(0,d._f)("\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a","Arabic Name"),id:"ar_Name",dataType:V.n.string},{name:(0,d._f)("\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0627\u0646\u062c\u0644\u064a\u0632\u064a","English Name"),id:"en_Name",dataType:V.n.string}];var Aa=r(92972),La=r(84851);let Oa=(()=>{class i extends f.U{constructor(){super(),this.onChange=new e.vpe}ngOnInit(){this.form=this.fb.group({name:[null],code:[null],jobIds:[null],jobFamilyIds:[null]}),this.currentFilter&&this.form.patchValue(this.currentFilter,{emitEvent:!1})}get formCtrls(){return this.form.controls}getConditionString(t){return[t.jobIds?(0,N.In)("id",t.jobIds):"",t.jobFamilyIds?(0,N.In)("job_Family_ID",t.jobFamilyIds):"",t.name?`${(0,N.yi)("ar_Name",t.name)} or ${(0,N.yi)("en_Name",t.name)}`:"",t.code?(0,N.hd)("code",t.code):""].filter(Boolean).join(" and ")}ngOnDestroy(){const t=this.getConditionString(this.form.value);this.onChange.emit({conditionString:t,groups:this.form.value})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["job-simple-search"]],inputs:{currentFilter:"currentFilter"},outputs:{onChange:"onChange"},features:[e.qOj],decls:10,vars:11,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-6","col-lg-3","col-12"],[3,"control","filter","multi"],["label","name",3,"control","disabled"],["label","code",3,"control","disabled"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-job-title-dropdown",3),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"app-job-family-dropdown",3),e.qZA(),e.TgZ(6,"div",2),e._UZ(7,"app-input",4),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"app-input",5),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("control",o.formCtrls.jobIds)("filter",!0)("multi",!0),e.xp6(2),e.Q6J("control",o.formCtrls.jobFamilyIds)("filter",!0)("multi",!0),e.xp6(2),e.Q6J("control",o.formCtrls.name)("disabled",(null==o.formCtrls.jobIds.value?null:o.formCtrls.jobIds.value.length)>0),e.xp6(2),e.Q6J("control",o.formCtrls.code)("disabled",(null==o.formCtrls.jobIds.value?null:o.formCtrls.jobIds.value.length)>0))},dependencies:[z.a,we.W,La.b,l._Y,l.JL,l.sg]}),i})();const Ja=["dialogTemplate"];function Na(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-simple-advanced-search",7),e.NdJ("advancedResults",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.getAdvanced(n))}),e.ynx(1,8),e.TgZ(2,"job-simple-search",9),e.NdJ("onChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.getSimple(n))}),e.qZA(),e.BQk(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("currentFilter",t.advancedGroups)("ope",t.advancedOpe)("AdvancedColumns",t.AdvancedColumns),e.xp6(2),e.Q6J("currentFilter",t.simpleGroups)}}const Ua=[{path:"org-structure",data:{view:b.S.org_structure},children:[{path:"",redirectTo:"index",pathMatch:ae.U.full},{path:"index",component:it,data:{view:b.S.org_structure_index},canActivate:[w.r]},{path:"add",component:Le,data:{view:b.S.add_org_structure},canActivate:[w.r]},{path:"edit/:orgStructureId",component:Le,data:{view:b.S.add_org_structure},canActivate:[w.r]},{path:"details/:orgStructureId",component:Ao,data:{view:b.S.org_structure_details},canActivate:[w.r]},{path:"kpis",component:Oo.i,data:{view:b.S.org_kpis},canActivate:[w.r]}]},{path:"job-profile",data:{view:b.S.job_profile},children:[{path:"",redirectTo:"index",pathMatch:ae.U.full},{path:"index",component:(()=>{class i extends f.U{constructor(t){super(),this.jobTitleService=t,this.mandatoryColomns=["Ser","id","code","en_Name","ar_Name","actions"],this.optionalColomns=["jobFamily"],this.isLoaded=!1,this.dialogRef=null,this.usingSimple=!1,this.usingAdvanced=!1}ngOnInit(){this.AdvancedColumns=wa}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.pageFromUrl>0?this.pageFromUrl:this.firstPage)}getList(t,o){let s;this.dataSource=new g.by(null),this.isLoaded=!1,this.removePageParams(),this.page.pageIndex=t,o&&(this.page.pageSize=o),s=this.usingSimple?this.simpleCondition:this.usingAdvanced?this.advancedCondition:null,this.jobTitleService.getList({PageNumber:t,pageSize:this.page.pageSize},s).pipe(this.cancelRequest()).subscribe(y=>{if(y.message.messageType==u.u.Success){if(0==y.data.length&&t>1)return void this.getList(this.prevPage);this.dataSource=new g.by((0,Pa.gc)(y.data)),this.isLoaded=!0,this.page.length=y.meta.totalItemCount,this.page.meta=y.meta}else this.errorList(y?.message?.messages)})}onDelete(t){let o=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(o).subscribe(n=>{n&&this.delete(t)})}delete(t){this.showLoading(),this.jobTitleService.Delete(t.id).subscribe(o=>{o.message.messageType==u.u.Success?(this.deleteSuccessfullyMsg("jobRemoved"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(o?.message?.messages),this.hideLoading()})}globalFunctionActions(t){t.viewName==b.S.upload_job_profile&&this.openUploadDialog()}openUploadDialog(){this.dialogsService.uploadDownloadDialog({uploadPath:R.Z.upload_job_profile,downloadPath:R.Z.download_job_profile,name:"jobsProfile"},{}).afterClosed().subscribe(o=>{})}onChangeFilterDrop(t){t==F.U.simple?this.openSearchDialog(F.U.simple):t==F.U.advanced?this.openSearchDialog(F.U.advanced):(this.usingSimple=!1,this.usingAdvanced=!1,this.advancedGroups=null,this.simpleGroups=null,this.getList(this.firstPage))}getSimple(t){this.simpleCondition=t.conditionString,this.simpleGroups=t.groups}getAdvanced(t){this.advancedCondition=t.conditionString,this.advancedGroups=t.groups,this.advancedOpe=t.ope}openSearchDialog(t){this.dialogRef&&this.dialogRef.close(),this.dialogRef=this.dialogsService.addEditDialog(this.dialogTemplate,t,{width:"60%"}),this.dialogRef.afterClosed().pipe((0,ye.q)(1)).subscribe(o=>{o?.isSimple?(this.usingSimple=!0,this.getList(this.firstPage,this.page.pageSize)):0==o?.isSimple?(this.usingAdvanced=!0,this.getList(this.firstPage,this.page.pageSize)):(this.usingSimple=!1,this.usingAdvanced=!1,this.resetDropdown=null,this.advancedGroups=null,this.simpleGroups=null,(this.simpleCondition||this.advancedCondition)&&this.getList(this.firstPage))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Aa._))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-jobs-profile-index"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ja,5),2&t){let n;e.iGM(n=e.CRH())&&(o.dialogTemplate=n.first)}},features:[e.qOj],decls:9,vars:16,consts:[[1,"title-no-margin","title-section","fixed-title"],["title","jobsProfile","parentTitle","orgManagement","TitleHasGlobalFunc","",3,"globalFunctions","action"],[1,"index-card"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","exportService","actions","showSearchDropdown","searchDropdownList","selectedValueInSearchDropdown","selectSearchItem","onChangePage","deleteRow"],["dialogTemplate",""],[3,"title"],[3,"serviceId","moduleId"],[3,"currentFilter","ope","AdvancedColumns","advancedResults"],[1,"simple"],[3,"currentFilter","onChange"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card-title",0)(1,"page-title",1),e.NdJ("action",function(s){return o.globalFunctionActions(s)}),e.qZA()(),e.TgZ(2,"mat-card",2)(3,"app-material-table",3),e.NdJ("selectSearchItem",function(s){return o.onChangeFilterDrop(s)})("onChangePage",function(s){return o.getList(s.pageIndex+1,s.pageSize)})("deleteRow",function(s){return o.onDelete(s)}),e.qZA()(),e.YNc(4,Na,3,4,"ng-template",null,4,e.W1O),e.TgZ(6,"side-helping-menu",5),e.ALo(7,"translate"),e._UZ(8,"app-dashboard-display",6),e.qZA()),2&t&&(e.xp6(1),e.Q6J("globalFunctions",o.globalFunctions),e.xp6(2),e.Q6J("isLoaded",o.isLoaded)("dataSource",o.dataSource)("mandatoryColomns",o.mandatoryColomns)("optionalColomns",o.optionalColomns)("page",o.page)("exportService",o.jobTitleService)("actions",o.rowFunctions)("showSearchDropdown",!0)("searchDropdownList",o.simpleAdvancedSearch)("selectedValueInSearchDropdown",o.resetDropdown),e.xp6(3),e.s9C("title",e.lcZ(7,14,"Dashboard")),e.xp6(2),e.Q6J("serviceId",o.getCurrentServiceId())("moduleId",o.moduleId))},dependencies:[$.I,I.T,ne.c,se.b,be.c,ee.X,m.a8,m.n5,Oa,Z.X$]}),i})(),data:{view:b.S.job_profile_index},canActivate:[w.r]},{path:"add",component:Oe.g,data:{view:b.S.add_job_profile},canActivate:[w.r]},{path:"edit/:jobId",component:Oe.g,data:{view:b.S.add_job_profile},canActivate:[w.r]},{path:"assign-job-to-org",component:Lo.A,data:{view:b.S.assign_job_to_org},canActivate:[w.r]}]},{path:"policy-group",data:{view:b.S.policy_group},children:[{path:"",redirectTo:"index",pathMatch:ae.U.full},{path:"index",component:Go,data:{view:b.S.policy_group_index},canActivate:[w.r]},{path:"add",component:Fe,data:{view:b.S.add_policy_group},canActivate:[w.r]},{path:"edit/:id",component:Fe,data:{view:b.S.add_policy_group},canActivate:[w.r]},{path:"view/:id",component:Ia,data:{view:b.S.add_policy_group},canActivate:[w.r]}]},{path:"basic-location",data:{view:b.S.basic_location},children:[{path:"",redirectTo:"index",pathMatch:ae.U.full},{path:"index",component:Ai,data:{view:b.S.basic_location_index},canActivate:[w.r]},{path:"add",component:Ve,data:{view:b.S.add_basic_location},canActivate:[w.r]}]},{path:"reports",data:{view:b.S.org_management_reports},children:[{path:"jobs-profile",component:Ji,data:{view:b.S.jobs_profile_report},canActivate:[w.r]},{path:"job-description-form",component:Ri,data:{view:b.S.job_description_form_report},canActivate:[w.r]},{path:"policy-group-details",component:Ki,data:{view:b.S.policy_group_details_report},canActivate:[w.r]}]}];let Ea=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.Bz.forChild(Ua),h.Bz]}),i})();var qa=r(86128),Ma=r(17634),ja=r(62614);let Qa=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.ez,Ea,qa.m]}),i})();e.B6R(Ma.u,[c.O5,z.a,$.I,O.p,m.dn,m.hq,ja.y,l._Y,l.JL,l.sg],[])},79395:(H,L,r)=>{r.d(L,{P:()=>d});var c=r(18521),h=r(591),g=r(94650);let d=(()=>{class D extends c.K{constructor(){super(),this.policyGroupDetails$=new h.X(null)}getPolicyDetails(C){return this.get("OrgManagement/PolicyGroup/GetPolicyGroupDetails",{params:{PolicyGroupId:C}})}getPolicyDetailsByDate(C,_){return this.get("OrgManagement/PolicyGroup/GetPolicyGroupDetailsByDate",{params:{PolicyGroupId:C,date:_}})}SavePolicyDetailsPermissions(C){return this.post("OrgManagement/PolicyGroup/SavePolicyGroupDetailsPermissions",C)}SavePolicyDetailsVacations(C){return this.post("OrgManagement/PolicyGroup/SavePolicyGroupDetailsVacations",C)}SavePolicyDetailsOfficialHolidays(C){return this.post("OrgManagement/PolicyGroup/SavePolicyGroupDetailsOfficialHolidaies",C)}SavePolicyDetailsPenalty(C){return this.post("OrgManagement/PolicyGroup/SavePolicyGroupDetailsPenalty",C)}SavePolicyDetailsPlans(C){return this.post("OrgManagement/PolicyGroup/SavePolicyGroupDetailsPlans",C)}SavePolicyDetailsPayments(C){return this.post("OrgManagement/PolicyGroup/SavePolicyGroupDetailsPayments",C)}SavePolicyDetailsTemplate(C){return this.post("OrgManagement/PolicyGroup/SavePolicyGroupDetailsRequestesTemplate",C)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},89609:(H,L,r)=>{r.d(L,{_:()=>D});var c=r(26315),h=r(18521),g=r(591),d=r(94650);let D=(()=>{class p extends h.K{constructor(){super(),this.updateWorkScheduleCard$=new g.X(!1),this.expand=`${c.db.Core_Person_Instance_Org}/${c.db.core_Person_Instance_Job_Title},\n    ${c.db.Core_Person_Instance_Org}.${c.db.core_Org},${c.db.Core_Person_Instance_Org}/${c.db.core_Person_Instance_Job_Title}.${c.db.Core_Job_Title},\n    ${c.db.core_Status}, ${c.db.core_Status_Properties}`}create(_){return this.post("Personnel/Employees/Create_EmployeeStatusPosition",_)}update(_){return this.post("Personnel/Employees/Edit_EmployeeStatusPosition",_)}appendJob(_){return this.post("Personnel/Employees/AppendJob",_)}assignOrgAndJob(_){return this.post("Personnel/Employees/AssignOrgAndJob",_)}getStatusPositionCard(_){return this.get("Personnel/Employees/Get_StatusPositionCard",{params:{Person_Instance_ID:_}})}getList(_,A){return this.get("Personnel/Employees/GetList_EmployeeStatusPosition",{params:{...A,$filter:`Person_Instance_ID  eq ${_}`,$expand:this.expand}})}getAll(_){return this.get("Personnel/Employees/GetAll_EmployeeStatusPosition",{params:{$filter:`Person_Instance_ID  eq ${_}`,$expand:this.expand}})}getAllCurrentJobsByEmployeeId(_){return this.get("personnel/Employees/GetAll_Current_Job_Emp",{params:{PerinsID:_}})}DeleteStatus(_){return this.delete("Personnel/Employees/Delete_ALL",{params:{employeeStatusID:_}})}DeleteJob(_,A){return this.delete("Personnel/Employees/Delete_JobOrg",{params:{employeeStatusID:_,employeeJobTitleID:A}})}close(_){return this.post("Personnel/Employees/Close_EmployeeStatusPosition",null,{params:_})}}return p.\u0275fac=function(_){return new(_||p)},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},3710:(H,L,r)=>{r.d(L,{r:()=>D});var c=r(94650),h=r(67579),g=r(24280),d=r(80458);let D=(()=>{class p{constructor(_,A){this.viewsService=_,this.router=A,this.loadingService=(0,c.f3M)(h.b),this.UserModules=this.viewsService.UserModules$.getValue(),this.loading=document.getElementById("page-loading")}canActivate(_,A){let P=_.data?.view;if(this.showLoading(),this.UserModules?.length>0){if(this.viewsService.isViewAllowed(P))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}else this.viewsService.UserModules$.subscribe(S=>{if(S?.length>0){if(this.viewsService.isViewAllowed(P))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}})}showLoading(){this.loading.style.display="block",this.loading.style.opacity="1",this.loading.style.zIndex="998"}hideLoading(){this.loading.style.display="none",this.loading.style.opacity="0",this.loading.style.zIndex="0"}}return p.\u0275fac=function(_){return new(_||p)(c.LFG(g.Z),c.LFG(d.F0))},p.\u0275prov=c.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},29341:(H,L,r)=>{r.d(L,{Z:()=>c});let c=(()=>{class h{}return h.upload_job_profile="OrgManagement/UploadJobTitle/Upload",h.download_job_profile="OrgManagement/UploadJobTitle/Download",h.upload_org_structure="OrgManagement/UploadOrgStructure/Upload",h.download_org_structure="OrgManagement/UploadOrgStructure/Download",h.upload_kpi="OrgManagement/UploadOrgKpi/Upload",h.download_kpi="OrgManagement/UploadOrgKpi/Download",h.upload_mission="TimeAttendance/UploadMissionTrans/Upload",h.download_mission="TimeAttendance/UploadMissionTrans/Download",h.upload_register_fingerprint="TimeAttendance/UploadRegisterFinger/Upload",h.download_register_fingerprint="TimeAttendance/UploadRegisterFinger/Download",h.upload_Overtime_transaction="TimeAttendance/UploadOvertime/Upload",h.download_Overtime_transaction="TimeAttendance/UploadOvertime/Download",h.upload_penalty_transaction="TimeAttendance/UploadPenalityTrans/Upload",h.download_penalty_transaction="TimeAttendance/UploadPenalityTrans/Download",h.upload_permission_transaction="TimeAttendance/UploadPermission/Upload",h.download_permission_transaction="TimeAttendance/UploadPermission/Download",h.upload_vacation_transaction="TimeAttendance/UploadVacation/Upload",h.download_vacation_transaction="TimeAttendance/UploadVacation/Download",h.upload_plan_adjustment_transaction="TimeAttendance/UploadExceptionPlan/Upload",h.download_plan_adjustment_transaction="TimeAttendance/UploadExceptionPlan/Download",h.upload_employees="personnel/UploadEmployee/Upload",h.download_employees="personnel/UploadEmployee/Download",h})()},58350:(H,L,r)=>{r.d(L,{$:()=>h});var c=r(94650);let h=(()=>{class g{constructor(){}static groupBy(D,p,C="key",_="List"){const A=D.reduce((P,S)=>(P[S[p]]?P[S[p]].push(S):P[S[p]]=[S],P),{});return Object.keys(A).map(P=>({[C]:P,[_]:A[P]}))}groupByPartOfProperty(D,p,C,_="key",A="List"){const P=D.reduce((S,Q)=>{let u=Q[p].trim().slice(0,C).toUpperCase();return S[u]?S[u].push(Q):S[u]=[Q],S},{});return Object.keys(P).map(S=>({[_]:S,[A]:P[S]}))}}return g.\u0275fac=function(D){return new(D||g)},g.\u0275prov=c.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},12574:(H,L,r)=>{r.d(L,{$:()=>f});var c=r(24006),h=r(65938),g=r(15602),d=r(95751),D=r(78937),p=r(94650),C=r(77304),_=r(25273),A=r(857),P=r(57566),S=r(46896),Q=r(26873),u=r(73546);let f=(()=>{class b extends d.U{constructor(l,e,E){super(),this.organizationsService=l,this.data=e,this.dialogRef=E,this.submitted=!1,this.removeFiles=!1,this.hasUpdate=!1}ngOnInit(){this.form=this.fb.group({id:[0,{nonNullable:!0}],ar_name:[null,[c.kI.required,D.w.whiteSpace]],en_name:[null,[c.kI.required,D.w.whiteSpace]],code:[null,[c.kI.required,D.w.whiteSpace]],logo:[null]}),this.data.value?(this.formCtrls.ar_name.setValue(this.data.value),this.formCtrls.en_name.setValue(this.data.value)):this.data.data&&this.organizationToEdit(this.data.data)}get formCtrls(){return this.form.controls}submit(){if(this.submitted=!0,this.removeFiles=!1,this.form.valid){const l={ID:this.form.value.id,Ar_Name:this.form.value.ar_name,En_Name:this.form.value.en_name,code:this.form.value.code,logo:this.form.value.logo};0==l.ID?this.create(l):this.update(l)}}create(l){this.showLoading(),this.organizationsService.create(l).subscribe(e=>{e?.message?.messageType==g.u.Success?(this.hasUpdate=!0,this.addSuccessfullyMsg("canEditOrRemoveFromIndex","newOrganizationAdded"),this.onCloseDialog(e.data.id)):this.errorList(e?.message?.messages),this.hideLoading()})}update(l){this.showLoading(),this.organizationsService.update(l).subscribe(e=>{e.message.messageType==g.u.Success?(this.hasUpdate=!0,this.updateSuccessfullyMsg("organizationUpdated","successfulEdit"),this.onCloseDialog()):this.errorList(e?.message?.messages),this.hideLoading()})}organizationToEdit(l){(this.formCtrls.id.value>0||this.formCtrls.id.value!=l.id)&&this.formCtrls.id.reset(),setTimeout(()=>{this.form.patchValue(l),this.formCtrls.ar_name.setValue(l.ar_Name),this.formCtrls.en_name.setValue(l.en_Name)},50)}clearForm(){this.form.reset({id:0}),this.submitted=!1,this.removeFiles=!0}onCloseDialog(l){this.dialogRef.close({hasUpdate:this.hasUpdate,newId:l})}}return b.\u0275fac=function(l){return new(l||b)(p.Y36(C.z),p.Y36(h.WI),p.Y36(h.so))},b.\u0275cmp=p.Xpm({type:b,selectors:[["app-add-organization"]],features:[p.qOj],decls:18,vars:15,consts:[["parentTitle","organization","addTitle","add","editTitle","update",3,"id"],[1,"row"],[1,"col-12"],[3,"formGroup"],["label","en_Name",3,"control","submitted"],["label","ar_Name",3,"control","submitted"],["label","code",3,"control","submitted"],["label","logo","accept","image/*",3,"control","multiple","isHexImg","removeFiles","isEdit","displayVertical"],["align","end"],[3,"click"],["addLabel","add",3,"id","onClick"]],template:function(l,e){1&l&&(p.TgZ(0,"mat-card-title"),p._UZ(1,"page-title",0),p.qZA(),p.TgZ(2,"mat-card-content")(3,"div",1)(4,"div",2)(5,"form",3)(6,"div",1)(7,"div",2),p._UZ(8,"app-input",4),p.qZA(),p.TgZ(9,"div",2),p._UZ(10,"app-input",5),p.qZA(),p.TgZ(11,"div",2),p._UZ(12,"app-input",6),p.qZA(),p.TgZ(13,"div",2),p._UZ(14,"primeng-file-upload",7),p.qZA()()()()()(),p.TgZ(15,"mat-card-actions",8)(16,"discard-dialog-btn",9),p.NdJ("click",function(){return e.onCloseDialog()}),p.qZA(),p.TgZ(17,"submit-btn",10),p.NdJ("onClick",function(){return e.submit()}),p.qZA()()),2&l&&(p.xp6(1),p.Q6J("id",e.formCtrls.id.value),p.xp6(4),p.Q6J("formGroup",e.form),p.xp6(3),p.Q6J("control",e.formCtrls.en_name)("submitted",e.submitted),p.xp6(2),p.Q6J("control",e.formCtrls.ar_name)("submitted",e.submitted),p.xp6(2),p.Q6J("control",e.formCtrls.code)("submitted",e.submitted),p.xp6(2),p.Q6J("control",e.formCtrls.logo)("multiple",!1)("isHexImg",!0)("removeFiles",e.removeFiles)("isEdit",e.formCtrls.id.value>0)("displayVertical",!0),p.xp6(3),p.Q6J("id",e.formCtrls.id.value))},dependencies:[_.a,A.J,P.p,S.T,Q.E,u.dn,u.n5,u.hq,c._Y,c.JL,c.sg]}),b})()}}]);