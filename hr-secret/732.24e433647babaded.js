"use strict";(self.webpackChunkhr=self.webpackChunkhr||[]).push([[732],{3710:(B,h,s)=>{s.d(h,{r:()=>g});var p=s(94650),u=s(67579),c=s(24280),m=s(80458);let g=(()=>{class l{constructor(r,i){this.viewsService=r,this.router=i,this.loadingService=(0,p.f3M)(u.b),this.UserModules=this.viewsService.UserModules$.getValue(),this.loading=document.getElementById("page-loading")}canActivate(r,i){let v=r.data?.view;if(this.showLoading(),this.UserModules?.length>0){if(this.viewsService.isViewAllowed(v))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}else this.viewsService.UserModules$.subscribe(y=>{if(y?.length>0){if(this.viewsService.isViewAllowed(v))return this.hideLoading(),!0;this.router.navigateByUrl("/auth/access-denied"),this.hideLoading()}})}showLoading(){this.loading.style.display="block",this.loading.style.opacity="1",this.loading.style.zIndex="998"}hideLoading(){this.loading.style.display="none",this.loading.style.opacity="0",this.loading.style.zIndex="0"}}return l.\u0275fac=function(r){return new(r||l)(p.LFG(c.Z),p.LFG(m.F0))},l.\u0275prov=p.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},46732:(B,h,s)=>{s.r(h),s.d(h,{BonusSetupModule:()=>D});var p=s(36895),u=s(80458),c=s(74513),m=s(3710),g=s(30671),l=s(15602),f=s(95751),r=s(74389),i=s(94650),v=s(70461),y=s(93410),b=s(46896),T=s(29721),C=s(73546);let L=(()=>{class n extends f.U{constructor(t){super(),this.benefitService=t,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","benefitType","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,e){this.isLoaded=!1,this.page.pageIndex=t,e&&(this.page.pageSize=e),this.benefitService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(a=>{a.message.messageType==l.u.Success?(a.data.map(S=>{S.benefitType=this.msgTranslate(S.bon_Benefit_Type?.ar_Name,S.bon_Benefit_Type?.en_Name)}),this.dataSource=new g.by(a.data),this.isLoaded=!0,this.page.length=a.meta.totalItemCount,this.page.meta=a.meta):this.errorList(a?.message?.messages)})}onDelete(t){let e=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(e).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.benefitService.Delete(t.id).subscribe(e=>{e.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("deleteBenifit","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(e?.message?.messages),this.hideLoading()})}openAddBenifitDialog(t){this.dialogsService.addEditDialog(r.u,{data:t},{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(e=>{e&&(e.isUpdate?this.getList(this.currentPage):e.isUpdate||this.getList(this.firstPage))})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(v.T))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-benifit-index"]],features:[i.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","benefit","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","exportService","onChangePage","editRow","deleteRow"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),i.NdJ("action",function(){return e.openAddBenifitDialog(null)}),i.qZA()(),i.TgZ(5,"app-material-table",4),i.NdJ("onChangePage",function(a){return e.getList(a.pageIndex+1,a.pageSize)})("editRow",function(a){return e.openAddBenifitDialog(a)})("deleteRow",function(a){return e.onDelete(a)}),i.qZA()()()()),2&t&&(i.xp6(4),i.Q6J("globalFunctions",e.globalFunctions),i.xp6(1),i.Q6J("isLoaded",e.isLoaded)("dataSource",e.dataSource)("mandatoryColomns",e.mandatoryColomns)("optionalColomns",e.optionalColomns)("page",e.page)("actions",e.rowFunctions)("exportService",e.benefitService))},dependencies:[y.I,b.T,T.X,C.a8,C.n5]}),n})();var I=s(47603),w=s(16328);const _=[{path:"bonus-benefit-type",component:(()=>{class n extends f.U{constructor(t){super(),this.benefitTypeService=t,this.mandatoryColomns=["Ser","id","ar_Name","en_Name","isRange","actions"],this.isLoaded=!1,this.optionalColomns=[]}ngOnInit(){}onChangeBusinessAndCompanyId(){this.dataSource?.data?.length>0&&(this.dataSource=new g.by(null)),this.checkNoBusinessOrCompany()&&this.getList(this.firstPage)}getList(t,e){this.isLoaded=!1,this.page.pageIndex=t,e&&(this.page.pageSize=e),this.benefitTypeService.getList({PageNumber:t,pageSize:this.page.pageSize}).pipe(this.cancelRequest()).subscribe(a=>{a.message.messageType==l.u.Success?(this.dataSource=new g.by(a.data),this.isLoaded=!0,this.page.length=a.meta.totalItemCount,this.page.meta=a.meta):this.errorList(a?.message?.messages)})}onDelete(t){let e=this.msgTranslate(t.ar_Name,t.en_Name);this.deleteDialog(e).subscribe(o=>{o&&this.delete(t)})}delete(t){this.showLoading(),this.benefitTypeService.Delete(t.id).subscribe(e=>{e.message.messageType==l.u.Success?(this.deleteSuccessfullyMsg("deleteBenifitType","successfulDelete"),this.getList(1==this.dataSource.data.length&&this.currentPage>1?this.prevPage:this.currentPage,this.page.pageSize)):this.errorList(e?.message?.messages),this.hideLoading()})}openAddBenifitTypeDialog(t){this.dialogsService.addEditDialog(I.H,{data:t},{width:"25vw",minWidth:"400px",maxWidth:"500px",maxHeight:"98vh",disableClose:!0,panelClass:"setup-dialog"}).afterClosed().subscribe(e=>{e?.isUpdate&&this.getList(this.firstPage)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(w.M))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-benefit-type-index"]],features:[i.qOj],decls:6,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"index-card"],["title","benefitType","TitleHasGlobalFunc","",3,"globalFunctions","action"],[3,"isLoaded","dataSource","mandatoryColomns","optionalColomns","page","actions","exportService","onChangePage","editRow","deleteRow"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-title")(4,"page-title",3),i.NdJ("action",function(){return e.openAddBenifitTypeDialog(null)}),i.qZA()(),i.TgZ(5,"app-material-table",4),i.NdJ("onChangePage",function(a){return e.getList(a.pageIndex+1,a.pageSize)})("editRow",function(a){return e.openAddBenifitTypeDialog(a)})("deleteRow",function(a){return e.onDelete(a)}),i.qZA()()()()),2&t&&(i.xp6(4),i.Q6J("globalFunctions",e.globalFunctions),i.xp6(1),i.Q6J("isLoaded",e.isLoaded)("dataSource",e.dataSource)("mandatoryColomns",e.mandatoryColomns)("optionalColomns",e.optionalColomns)("page",e.page)("actions",e.rowFunctions)("exportService",e.benefitTypeService))},dependencies:[y.I,b.T,T.X,C.a8,C.n5]}),n})(),data:{view:c.S.bonus_benefit_type},canActivate:[m.r]},{path:"bonus-benefit",component:L,data:{view:c.S.bonus_benefit},canActivate:[m.r]}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[u.Bz.forChild(_),u.Bz]}),n})();var A=s(86128);let D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[p.ez,P,A.m]}),n})()}}]);